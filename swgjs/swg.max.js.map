{"version":3,"sources":["node_modules/browser-pack/_prelude.js","build/css/components/dialog.css.js","build/css/ui/ui.css.js","node_modules/web-activities/activity-ports.js","src/api/basic-subscriptions.js","src/api/client-event-manager-api.js","src/api/deferred-account-creation.js","src/api/entitlements.js","src/api/logger-api.js","src/api/metering.js","src/api/offer.js","src/api/propensity-api.js","src/api/subscribe-response.js","src/api/subscriptions.js","src/api/user-data.js","src/components/activities.js","src/components/dialog-manager.js","src/components/dialog.js","src/components/friendly-iframe.js","src/components/graypane.js","src/components/view.js","src/i18n/strings.js","src/i18n/swg-strings.js","src/main.js","src/model/attribution-params.js","src/model/auto-prompt-config.js","src/model/client-config.js","src/model/doc.js","src/model/page-config-resolver.js","src/model/page-config.js","src/proto/api_messages.js","src/runtime/analytics-service.js","src/runtime/button-api.js","src/runtime/callbacks.js","src/runtime/client-config-manager.js","src/runtime/client-event-manager.js","src/runtime/contributions-flow.js","src/runtime/deferred-account-flow.js","src/runtime/deps.js","src/runtime/entitlements-manager.js","src/runtime/event-type-mapping.js","src/runtime/experiment-flags.js","src/runtime/experiments.js","src/runtime/fetcher.js","src/runtime/google-analytics-event-listener.js","src/runtime/jserror.js","src/runtime/link-accounts-flow.js","src/runtime/logger.js","src/runtime/login-notification-api.js","src/runtime/login-prompt-api.js","src/runtime/meter-toast-api.js","src/runtime/offers-api.js","src/runtime/offers-flow.js","src/runtime/pay-client.js","src/runtime/pay-flow.js","src/runtime/propensity-server.js","src/runtime/propensity.js","src/runtime/runtime.js","src/runtime/services.js","src/runtime/smart-button-api.js","src/runtime/storage.js","src/runtime/wait-for-subscription-lookup-api.js","src/ui/activity-iframe-view.js","src/ui/loading-view.js","src/ui/toast.js","src/utils/activity-utils.js","src/utils/animation.js","src/utils/bytes.js","src/utils/constants.js","src/utils/date-utils.js","src/utils/document-ready.js","src/utils/dom.js","src/utils/error-logger.js","src/utils/errors.js","src/utils/gaa.js","src/utils/i18n.js","src/utils/json.js","src/utils/jwt.js","src/utils/log.js","src/utils/object.js","src/utils/preconnect.js","src/utils/random.js","src/utils/string.js","src/utils/style.js","src/utils/types.js","src/utils/url.js","src/utils/xhr.js","third_party/gpay/src/constants.js","third_party/gpay/src/element_injector.js","third_party/gpay/src/graypane.js","third_party/gpay/src/pay_frame_helper.js","third_party/gpay/src/payjs_async.js","third_party/gpay/src/payments_client_delegate_interface.js","third_party/gpay/src/payments_request_delegate.js","third_party/gpay/src/payments_web_activity_delegate.js","third_party/gpay/src/post_message_service.js","third_party/gpay/src/upi_handler.js","third_party/gpay/src/utils.js","third_party/gpay/src/validator.js","third_party/gpay/third_party/random_uuid/Random.uuid.js"],"names":[],"mappings":"AAAA;;;;;;;ACAO,MAAM,GAAG,GAAG,uyCAAuyC;AAAC;;;;;;;;;ACApzC,MAAM,GAAG,GAAG,qgDAAqgD;AAAC;;;ACAzhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9wDA;AACA;AAjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACO,MAAM,kBAAkB,CAAC;EAC9B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,IAAI,CAAC,MAAM,EAAE,CAAC;;EAEd;AACF;AACA;AACA;AACA;EACE,yBAAyB,CAAC,QAAQ,EAAE,CAAC;;EAErC;AACF;AACA;AACA;AACA;EACE,oBAAoB,CAAC,QAAQ,EAAE,CAAC;;EAEhC;AACF;AACA;AACA;AACA;EACE,iBAAiB,CAAC,QAAQ,EAAE,CAAC;;EAE7B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,sBAAsB,CAAC,OAAO,EAAE,CAAC;;EAEjC;AACF;AACA;AACA;AACA;EACE,YAAY,GAAG,CAAC;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOO,MAAM,cAAc,GAAG;EAC5B,IAAI,EAAE,MAAM;EACZ,YAAY,EAAE,cAAc;EAC5B,kBAAkB,EAAE,oBAAoB;EACxC,YAAY,EAAE,cAAc;EAC5B,kBAAkB,EAAE;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAgBO,IAAI,aAAa;;AAExB;AACA;AACA;AACA;AACA;AAJA;AAKO,IAAI,YAAY;;AAEvB;AAAA;AACO,MAAM,WAAW,GAAG;EACzB,KAAK,EAAE,OAAO;EACd,IAAI,EAAE;AACR,CAAC;AAAC;;;;;;;;;ACzHF;AAhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOA;AACO,MAAM,YAAY,GAAG;EAC1B;EACA,aAAa,EAAE,CAAC;EAChB;EACA,YAAY,EAAE;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAgBO,IAAI,WAAW;;AAEtB;AACA;AACA;AACA;AAFA;AAGO,MAAM,qBAAqB,CAAC;EACjC;AACF;AACA;AACA;AACA;EACE,qBAAqB,CAAC,QAAQ,EAAE,CAAC;;EAEjC;AACF;AACA;AACA;AACA;AACA;AACA;EACE,qBAAqB,CAAC,QAAQ,EAAE,CAAC;;EAEjC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;EACE,QAAQ,CAAC,KAAK,EAA2B;IAAA,IAAzB,WAAW,uEAAG,SAAS;EAAG;AAC5C;AACA;;AAEA;AA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ACA;AACA;EACE,OAAO,iBAAiB,CAAC,IAAI,EAAE,SAAS,EAAE;IACxC,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAChC,6BAA+B,IAAI,GACnC,CAAC,IAAI,CAAC;IACV,OAAO,QAAQ,CAAC,GAAG,CAAE,IAAI,IAAK,WAAW,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;EAC3E;;EAEA;AACF;AACA;AACA;EACE,MAAM,GAAG;IACP,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE;MAC5B,OAAO,IAAI;IACb;IACA,MAAM,GAAG,GAAG;IACV,IAAA,+BAAyB,EAAC,IAAI,CAAC,iBAAiB,EAAE,WAAW,CAAC,IAAI,IACnE;IACD,IAAI,CAAC,GAAG,EAAE;MACR,IAAA,SAAI,EAAC,oDAAoD,CAAC;IAC5D;IACA,OAAO,GAAG;EACZ;AACF;AAAC;;;;;;;;;AC5bD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO,MAAM,iBAAiB,GAAG;EAC/B;EACA,OAAO,EAAE,SAAS;EAClB;EACA,cAAc,EAAE,gBAAgB;EAChC;EACA,UAAU,EAAE,YAAY;EACxB;EACA,eAAe,EAAE;AACnB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOO,MAAM,KAAK,GAAG;EACnB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,kBAAkB,EAAE,SAAS;EAC7B;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,aAAa,EAAE,UAAU;EACzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,iBAAiB,EAAE,cAAc;EACjC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,iCAAiC,EAAE,4BAA4B;EAC/D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,qBAAqB,EAAE,gBAAgB;EACvC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,2BAA2B,EAAE,oBAAoB;EACjD;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,wBAAwB,EAAE,kBAAkB;EAC5C;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,YAAY,EAAE;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAwBO,IAAI,cAAc;;AAEzB;AACA;AACA;AACA;AAFA;AAGO,MAAM,SAAS,CAAC;EACrB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,SAAS,CAAC,SAAS,EAAE,CAAC;;EAEtB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE,qBAAqB,CAAC,KAAK,EAAE,YAAY,EAAE,CAAC;AAC9C;AACA;AAAA;;;;;;;;;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACO,MAAM,gBAAgB,GAAG;EAC9B;EACA,kBAAkB,EAAE,CAAC;EACrB;AACF;AACA;AACA;EACE,iBAAiB,EAAE;AACrB,CAAC;AAAC;;;;;;;;;ACzBF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACO,MAAM,KAAK,CAAC;EACjB;AACF;AACA;AACA;AACA;AACA;EACE,WAAW,CAAC,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,KAAK,EAAE;IAC5C;IACA,IAAI,CAAC,KAAK,GAAG,KAAK;IAClB;IACA,IAAI,CAAC,KAAK,GAAG,KAAK;IAClB;IACA,IAAI,CAAC,WAAW,GAAG,WAAW;IAC9B;IACA,IAAI,CAAC,KAAK,GAAG,KAAK;EACpB;AACF;AAAC;;;;;;;;;ACpBD;AAA0C;AAAA;AAf1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACO,MAAM,cAAc,GAAG;EAC5B;EACA,OAAO,EAAE,SAAS;EAClB;EACA,OAAO,EAAE;AACX,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUO,IAAI,KAAK;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAaO,IAAI,WAAW;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAWO,IAAI,IAAI;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AASO,IAAI,MAAM;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAWO,IAAI,eAAe;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;AA2BO,IAAI,eAAe;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOO,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK;AAAC;AAC9B,MAAM,iBAAiB,GAAG,SAAS,CAAC,iBAAiB;;AAE5D;AACA;AACA;AACA;AACA;AAHA;AAIO,MAAM,aAAa,SAAS,SAAS,CAA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EAAE;;EAExE;EACA,sCAAsC,EACpC,wCAAwC;EAAE;;EAE5C;EACA,iCAAiC,EAAE,mCAAmC;EAAE;EACxE,sCAAsC,EACpC,wCAAwC,CAAE;AAC9C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAaO,IAAI,oBAAoB;;AAE/B;AAAA;AACO,MAAM,iBAAiB,GAAG;EAC/B,WAAW,EAAE,YAAY;EACzB,qBAAqB,EAAE,qBAAqB;EAC5C,gBAAgB,EAAE,gBAAgB;EAClC,yBAAyB,EAAE,yBAAyB;EACpD,SAAS,EAAE,WAAW;EACtB,UAAU,EAAE,YAAY;EACxB,kCAAkC,EAAE,iCAAiC;EACrE,YAAY,EAAE,aAAa;EAC3B,iBAAiB,EAAE,iBAAiB;EACpC,uBAAuB,EAAE,uBAAuB;EAChD,gBAAgB,EAAE;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAuBO,IAAI,MAAM;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AASO,IAAI,gCAAgC;;AAE3C;AACA;AACA;AACA;AACA;AACA;AALA;AAMO,IAAI,+BAA+B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAmBO,IAAI,qCAAqC;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AASO,IAAI,gCAAgC;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAoBO,IAAI,qCAAqC;;AAEhD;AACA;AACA;AAFA;AAGO,MAAM,aAAa,GAAG;EAC3B,OAAO,EAAE,CAAC;EACV,WAAW,EAAE;AACf,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAM,cAAc,GAAG;EAC5B,IAAI,EAAE,MAAM;EACZ,QAAQ,EAAE;AACZ,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAM,uBAAuB,GAAG;EACrC;EACA;EACA;EACA,6BAA6B,EAAE;AACjC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOO,MAAM,WAAW,GAAG;EACzB,YAAY,EAAE,cAAc;EAC5B,eAAe,EAAE,iBAAiB;EAClC,YAAY,EAAE;AAChB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,SAAS,aAAa,GAAG;EAC9B,OAAO;IACL,cAAc,EAAE,cAAc,CAAC,IAAI;IACnC,aAAa,EAAE,aAAa,CAAC,OAAO;IACpC,kBAAkB,EAAE,KAAK;IACzB,gBAAgB,EAAE;EACpB,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAI,aAAa;;AAExB;AACA;AACA;AACA;AACA;AAJA;AAKO,IAAI,YAAY;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAUO,IAAI,uBAAuB;;AAElC;AACA;AACA;AACA;AACA;AAJA;AAKO,IAAI,+BAA+B;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAYO,IAAI,aAAa;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAYO,IAAI,kBAAkB;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAkBO,IAAI,mBAAmB;AAAC;;;;;;;;;ACjoB/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACO,MAAM,QAAQ,CAAC;EACpB;AACF;AACA;AACA;EACE,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IACzB;IACA,IAAI,CA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C,SAAS,EAAE;MACnD,OAAO,GAAG,wDAAwD,CAAC,KAAK,CAAC;IAC3E,CAAC,MAAM,IAAI,gBAAgB,IAAI,gCAAiB,CAAC,UAAU,EAAE;MAC3D,OAAO,GAAG,wDAAwD,CAAC,KAAK,CAAC;IAC3E;EACF;EACA,OAAO,OAAO,IAAI,oCAAoC,CAAC,KAAK,CAAC;AAC/D;;;;;;;;;AChRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO,MAAM,eAAe,GAAG;EAC7B;AACF;AACA;AACA;EACE,oBAAoB,EAAE,sBAAsB;EAE5C;AACF;AACA;AACA;EACE,aAAa,EAAE,eAAe;EAE9B;AACF;AACA;EACE,UAAU,EAAE,YAAY;EAExB;AACF;AACA;EACE,QAAQ,EAAE,UAAU;EAEpB;AACF;AACA;EACE,MAAM,EAAE,QAAQ;EAEhB;AACF;AACA;AACA;EACE,cAAc,EAAE,gBAAgB;EAEhC;AACF;AACA;EACE,4BAA4B,EAAE,8BAA8B;EAE5D;AACF;AACA;EACE,mBAAmB,EAAE,qBAAqB;EAE1C;AACF;AACA;AACA;EACE,oBAAoB,EAAE,sBAAsB;EAE5C;AACF;AACA;EACE,yBAAyB,EAAE,2BAA2B;EAEtD;AACF;AACA;EACE,wBAAwB,EAAE,oCAAoC;EAE9D;AACF;AACA;EACE,0BAA0B,EAAE;AAC9B,CAAC;AAAC;;;;;;;;;;;;ACnEF;AACA;AAjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,SAAS,GAAG;EAChB,UAAU,EAAE,GAAG;EACf,OAAO,EAAE;AACX,CAAC;;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C,GAC3C,mCAAmC;;AAErC;AAAA;AACO,MAAM,oBAAoB,GAAG,uBAAuB;;AAE3D;AAAA;AACO,MAAM,iBAAiB,GAAG,oBAAoB;;AAErD;AAAA;AACO,MAAM,gBAAgB,GAAG,mBAAmB;;AAEnD;AAAA;AACA,MAAM,cAAc,GAAG,EAAE;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,YAAY,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,iBAAkB,sBAAqB,gBAAiB;AAC1I;AACA;AACA,mDAAmD,gBAAiB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,2BAA4B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM,+BAA+B,GAAI;AACzC;AACA,YAAY,wBAAyB;AACrC;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,MAAM,wBAAwB,GAAI;AAClC;AACA,YAAY,gCAAiC;AAC7C;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAM,SAAS,GAAI;AACnB;AACA;AACA;AACA,CAAC;;AAED;AACA,MAAM,4BAA4B,GAAI;AACtC,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA;AACA,KAAK,6BAA8B;AACnC;AACA;AACA;AACA,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA;AACA,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA;AACA,KAAK,2BAA4B;AACjC,KAAK,6BAA8B;AACnC,KAAK,wBAAyB;AAC9B;AACA;AACA,IAAI;AACJ,MAAM,4BAA4B,GAAI;AACtC;AACA;AACA;AACA,KAAK,4BAA6B;AAClC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAI,UAAU;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAqBO,IAAI,gBAAgB;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAqBO,IAAI,aAAa;;AAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"subscriptions.max.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export const CSS = \".swg-dialog,.swg-toast{background-color:#fff!important;box-sizing:border-box}.swg-toast{border:none!important;bottom:0!important;max-height:46px!important;position:fixed!important;z-index:2147483647!important}@media (min-width:871px) and (min-height:641px){.swg-dialog.swg-wide-dialog{left:-435px!important;width:870px!important}}@media (max-height:640px),(max-width:640px){.swg-dialog,.swg-toast{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;left:-240px!important;margin-left:50vw!important;width:480px!important}}@media (min-width:641px) and (min-height:641px){.swg-dialog{background-color:transparent!important;border:none!important;left:-315px!important;margin-left:50vw!important;width:630px!important}.swg-toast{border-radius:4px!important;bottom:8px!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important;left:8px!important}}@media (max-width:480px){.swg-dialog,.swg-toast{left:0!important;margin-left:0!important;right:0!important;width:100%!important}}html>body.swg-disable-scroll{height:100vh!important;overflow:hidden!important}html>body.swg-disable-scroll *{overflow:hidden!important}\\n/*# sourceURL=/./src/components/dialog.css*/\\n\";","export const CSS = \"body{margin:0;padding:0}swg-container,swg-loading,swg-loading-animate,swg-loading-image{display:block}swg-loading-container{-ms-flex-align:center!important;-ms-flex-pack:center!important;align-items:center!important;bottom:0!important;display:-ms-flexbox!important;display:flex!important;height:100%!important;justify-content:center!important;margin-top:5px!important;min-height:148px!important;width:100%!important;z-index:2147483647!important}@media (min-height:630px),(min-width:630px){swg-loading-container{background-color:#fff!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;margin-left:auto!important;margin-right:auto!important;width:560px!important}swg-loading-container.centered-on-desktop{border-radius:8px!important;height:120px!important;min-height:120px!important}}swg-loading{animation:mspin-rotate 1568.63ms linear infinite;height:36px;overflow:hidden;width:36px;z-index:2147483647!important}swg-loading-animate{animation:mspin-revrot 5332ms steps(4) infinite}swg-loading-image{animation:swg-loading-film 5332ms steps(324) infinite;background-image:url($assets$/loader.svg);background-size:100%;height:36px;width:11664px}@keyframes swg-loading-film{0%{transform:translateX(0)}to{transform:translateX(-11664px)}}@keyframes mspin-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes mspin-revrot{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}\\n/*# sourceURL=/./src/ui/ui.css*/\\n\";","/**\n * @license\n * Copyright 2017 The Web Activities Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n /** Version: 1.24 */\n'use strict';\n\n/*eslint no-unused-vars: 0*/\n\n\n/**\n * @enum {string}\n */\nconst ActivityMode = {\n  IFRAME: 'iframe',\n  POPUP: 'popup',\n  REDIRECT: 'redirect',\n};\n\n\n/**\n * The result code used for `ActivityResult`.\n * @enum {string}\n */\nconst ActivityResultCode = {\n  OK: 'ok',\n  CANCELED: 'canceled',\n  FAILED: 'failed',\n};\n\n\n/**\n * The result of an activity. The activity implementation returns this object\n * for a successful result, a cancelation or a failure.\n * @struct\n */\nclass ActivityResult {\n  /**\n   * @param {!ActivityResultCode} code\n   * @param {*} data\n   * @param {!ActivityMode} mode\n   * @param {string} origin\n   * @param {boolean} originVerified\n   * @param {boolean} secureChannel\n   */\n  constructor(code, data, mode, origin, originVerified, secureChannel) {\n    /** @const {!ActivityResultCode} */\n    this.code = code;\n    /** @const {*} */\n    this.data = code == ActivityResultCode.OK ? data : null;\n    /** @const {!ActivityMode} */\n    this.mode = mode;\n    /** @const {string} */\n    this.origin = origin;\n    /** @const {boolean} */\n    this.originVerified = originVerified;\n    /** @const {boolean} */\n    this.secureChannel = secureChannel;\n    /** @const {boolean} */\n    this.ok = code == ActivityResultCode.OK;\n    /** @const {?Error} */\n    this.error = code == ActivityResultCode.FAILED ?\n        new Error(String(data) || '') :\n        null;\n  }\n}\n\n\n/**\n * The activity request that different types of hosts can be started with.\n * @typedef {{\n *   requestId: string,\n *   returnUrl: string,\n *   args: ?Object,\n *   origin: (string|undefined),\n *   originVerified: (boolean|undefined),\n * }}\n */\nlet ActivityRequest;\n\n\n/**\n * The activity \"open\" options used for popups and redirects.\n *\n * - returnUrl: override the return URL. By default, the current URL will be\n *   used.\n * - skipRequestInUrl: removes the activity request from the URL, in case\n *   redirect is used. By default, the activity request is appended to the\n *   activity URL. This option can be used if the activity request is passed\n *   to the activity by some alternative means.\n * - disableRedirectFallback: disallows popup fallback to redirect. By default\n *   the redirect fallback is allowed. This option has to be used very carefully\n *   because there are many user agents that may fail to open a popup and it\n *   won't be always possible for the opener window to even be aware of such\n *   failures.\n *\n * @typedef {{\n *   returnUrl: (string|undefined),\n *   skipRequestInUrl: (boolean|undefined),\n *   disableRedirectFallback: (boolean|undefined),\n *   width: (number|undefined),\n *   height: (number|undefined),\n * }}\n */\nlet ActivityOpenOptions;\n\n\n/**\n * Activity client-side binding. The port provides limited ways to communicate\n * with the activity and receive signals and results from it. Not every type\n * of activity exposes a port.\n *\n * @interface\n */\nclass ActivityPort {\n\n  /**\n   * Returns the mode of the activity: iframe, popup or redirect.\n   * @return {!ActivityMode}\n   */\n  getMode() {}\n\n  /**\n   * Accepts the result when ready. The client should verify the activity's\n   * mode, origin, verification and secure channel flags before deciding\n   * whether or not to trust the result.\n   *\n   * Returns the promise that yields when the activity has been completed and\n   * either a result, a cancelation or a failure has been returned.\n   *\n   * @return {!Promise<!ActivityResult>}\n   */\n  acceptResult() {}\n}\n\n\n/**\n * Activity client-side binding for messaging.\n *\n * Whether the host can or cannot receive a message depends on the type of\n * host and its state. Ensure that the code has an alternative path if\n * messaging is not available.\n *\n * @interface\n */\nclass ActivityMessagingPort {\n\n  /**\n   * Returns the target window where host is loaded. May be unavailable.\n   * @return {?Window}\n   */\n  getTargetWin() {}\n\n  /**\n   * Sends a message to the host.\n   * @param {!Object} payload\n   */\n  message(payload) {}\n\n  /**\n   * Registers a callback to receive messages from the host.\n   * @param {function(!Object)} callback\n   */\n  onMessage(callback) {}\n\n  /**\n   * Creates a new communication channel or returns an existing one.\n   * @param {string=} opt_name\n   * @return {!Promise<!MessagePort>}\n   */\n  messageChannel(opt_name) {}\n}\n\n\n\n/** DOMException.ABORT_ERR name */\nconst ABORT_ERR_NAME = 'AbortError';\n\n/** DOMException.ABORT_ERR = 20 */\nconst ABORT_ERR_CODE = 20;\n\n/** @type {?HTMLAnchorElement} */\nlet aResolver;\n\n\n/**\n * @param {string} urlString\n * @return {!HTMLAnchorElement}\n */\nfunction parseUrl(urlString) {\n  if (!aResolver) {\n    aResolver = /** @type {!HTMLAnchorElement} */ (document.createElement('a'));\n  }\n  aResolver.href = urlString;\n  return /** @type {!HTMLAnchorElement} */ (aResolver);\n}\n\n\n/**\n * @param {!Location|!URL|!HTMLAnchorElement} loc\n * @return {string}\n */\nfunction getOrigin(loc) {\n  if (loc.origin) {\n    return loc.origin;\n  }\n  // Make sure that the origin is normalized. Specifically on IE, host sometimes\n  // includes the default port, which is not per standard.\n  const protocol = loc.protocol;\n  let host = loc.host;\n  if (protocol == 'https:' && host.indexOf(':443') == host.length - 4) {\n    host = host.replace(':443', '');\n  } else if (protocol == 'http:' && host.indexOf(':80') == host.length - 3) {\n    host = host.replace(':80', '');\n  }\n  return protocol + '//' + host;\n}\n\n\n/**\n * @param {string} urlString\n * @return {string}\n */\nfunction getOriginFromUrl(urlString) {\n  return getOrigin(parseUrl(urlString));\n}\n\n\n/**\n * @param {string} urlString\n * @return {string}\n */\nfunction removeFragment(urlString) {\n  const index = urlString.indexOf('#');\n  if (index == -1) {\n    return urlString;\n  }\n  return urlString.substring(0, index);\n}\n\n\n/**\n * Parses and builds Object of URL query string.\n * @param {string} query The URL query string.\n * @return {!Object<string, string>}\n */\nfunction parseQueryString(query) {\n  if (!query) {\n    return {};\n  }\n  return (/^[?#]/.test(query) ? query.slice(1) : query)\n      .split('&')\n      .reduce((params, param) => {\n        const item = param.split('=');\n        const key = decodeURIComponent(item[0] || '');\n        const value = decodeURIComponent(item[1] || '');\n        if (key) {\n          params[key] = value;\n        }\n        return params;\n      }, {});\n}\n\n\n/**\n * @param {string} queryString  A query string in the form of \"a=b&c=d\". Could\n *   be optionally prefixed with \"?\" or \"#\".\n * @param {string} param The param to get from the query string.\n * @return {?string}\n */\nfunction getQueryParam(queryString, param) {\n  return parseQueryString(queryString)[param];\n}\n\n\n/**\n * Add a query-like parameter to the fragment string.\n * @param {string} url\n * @param {string} param\n * @param {string} value\n * @return {string}\n */\nfunction addFragmentParam(url, param, value) {\n  return url +\n      (url.indexOf('#') == -1 ? '#' : '&') +\n      encodeURIComponent(param) + '=' + encodeURIComponent(value);\n}\n\n\n/**\n * @param {string} queryString  A query string in the form of \"a=b&c=d\". Could\n *   be optionally prefixed with \"?\" or \"#\".\n * @param {string} param The param to remove from the query string.\n * @return {?string}\n */\nfunction removeQueryParam(queryString, param) {\n  if (!queryString) {\n    return queryString;\n  }\n  const search = encodeURIComponent(param) + '=';\n  let index = -1;\n  do {\n    index = queryString.indexOf(search, index);\n    if (index != -1) {\n      const prev = index > 0 ? queryString.substring(index - 1, index) : '';\n      if (prev == '' || prev == '?' || prev == '#' || prev == '&') {\n        let end = queryString.indexOf('&', index + 1);\n        if (end == -1) {\n          end = queryString.length;\n        }\n        queryString =\n            queryString.substring(0, index) +\n            queryString.substring(end + 1);\n      } else {\n        index++;\n      }\n    }\n  } while (index != -1 && index < queryString.length);\n  return queryString;\n}\n\n\n/**\n * @param {!ActivityRequest} request\n * @return {string}\n */\nfunction serializeRequest(request) {\n  const map = {\n    'requestId': request.requestId,\n    'returnUrl': request.returnUrl,\n    'args': request.args,\n  };\n  if (request.origin !== undefined) {\n    map['origin'] = request.origin;\n  }\n  if (request.originVerified !== undefined) {\n    map['originVerified'] = request.originVerified;\n  }\n  return JSON.stringify(map);\n}\n\n\n/**\n * @param {*} error\n * @return {boolean}\n */\nfunction isAbortError(error) {\n  if (!error || typeof error != 'object') {\n    return false;\n  }\n  return (error['name'] === ABORT_ERR_NAME);\n}\n\n\n/**\n * Creates or emulates a DOMException of AbortError type.\n * See https://heycam.github.io/webidl/#aborterror.\n * @param {!Window} win\n * @param {string=} opt_message\n * @return {!DOMException}\n */\nfunction createAbortError(win, opt_message) {\n  const message = 'AbortError' + (opt_message ? ': ' + opt_message : '');\n  let error = null;\n  if (typeof win['DOMException'] == 'function') {\n    // TODO(dvoytenko): remove typecast once externs are fixed.\n    const constr = /** @type {function(new:DOMException, string, string)} */ (\n        win['DOMException']);\n    try {\n      error = new constr(message, ABORT_ERR_NAME);\n    } catch (e) {\n      // Ignore. In particular, `new DOMException()` fails in Edge.\n    }\n  }\n  if (!error) {\n    // TODO(dvoytenko): remove typecast once externs are fixed.\n    const constr = /** @type {function(new:DOMException, string)} */ (\n        Error);\n    error = new constr(message);\n    error.name = ABORT_ERR_NAME;\n    error.code = ABORT_ERR_CODE;\n  }\n  return error;\n}\n\n\n/**\n * Resolves the activity result as a promise:\n *  - `OK` result is yielded as the promise's payload;\n *  - `CANCEL` result is rejected with the `AbortError`;\n *  - `FAILED` result is rejected with the embedded error.\n *\n * @param {!Window} win\n * @param {!ActivityResult} result\n * @param {function((!ActivityResult|!Promise))} resolver\n */\nfunction resolveResult(win, result, resolver) {\n  if (result.ok) {\n    resolver(result);\n  } else {\n    const error = result.error || createAbortError(win);\n    error.activityResult = result;\n    resolver(Promise.reject(error));\n  }\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isIeBrowser(win) {\n  // MSIE and Trident are typical user agents for IE browsers.\n  const nav = win.navigator;\n  return /Trident|MSIE|IEMobile/i.test(nav && nav.userAgent);\n}\n\n\n/**\n * @param {!Window} win\n * @return {boolean}\n */\nfunction isEdgeBrowser(win) {\n  const nav = win.navigator;\n  return /Edge/i.test(nav && nav.userAgent);\n}\n\n\n/**\n * @param {!Error} e\n */\nfunction throwAsync(e) {\n  setTimeout(() => {throw e;});\n}\n\n\n/**\n * Polyfill of the `Node.isConnected` API. See\n * https://developer.mozilla.org/en-US/docs/Web/API/Node/isConnected.\n * @param {!Node} node\n * @return {boolean}\n */\nfunction isNodeConnected(node) {\n  // Ensure that node is attached if specified. This check uses a new and\n  // fast `isConnected` API and thus only checked on platforms that have it.\n  // See https://www.chromestatus.com/feature/5676110549352448.\n  if ('isConnected' in node) {\n    return node['isConnected'];\n  }\n  // Polyfill.\n  const root = node.ownerDocument && node.ownerDocument.documentElement;\n  return (root && root.contains(node)) || false;\n}\n\n\n\nconst SENTINEL = '__ACTIVITIES__';\n\n\n/**\n * The messenger helper for activity's port and host.\n */\nclass Messenger {\n\n  /**\n   * @param {!Window} win\n   * @param {!Window|function():?Window} targetOrCallback\n   * @param {?string} targetOrigin\n   * @param {boolean} requireTarget\n   */\n  constructor(win, targetOrCallback, targetOrigin, requireTarget) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Window|function():?Window} */\n    this.targetOrCallback_ = targetOrCallback;\n\n    /**\n     * May start as unknown (`null`) until received in the first message.\n     * @private {?string}\n     */\n    this.targetOrigin_ = targetOrigin;\n\n    /** @private @const {boolean} */\n    this.requireTarget_ = requireTarget;\n\n    /** @private {?Window} */\n    this.target_ = null;\n\n    /** @private {boolean} */\n    this.acceptsChannel_ = false;\n\n    /** @private {?MessagePort} */\n    this.port_ = null;\n\n    /** @private {?function(string, ?Object)} */\n    this.onCommand_ = null;\n\n    /** @private {?function(!Object)} */\n    this.onCustomMessage_ = null;\n\n    /**\n     * @private {?Object<string, !ChannelHolder>}\n     */\n    this.channels_ = null;\n\n    /** @private @const */\n    this.boundHandleEvent_ = this.handleEvent_.bind(this);\n  }\n\n  /**\n   * Connect the port to the host or vice versa.\n   * @param {function(string, ?Object)} onCommand\n   */\n  connect(onCommand) {\n    if (this.onCommand_) {\n      throw new Error('already connected');\n    }\n    this.onCommand_ = onCommand;\n    this.win_.addEventListener('message', this.boundHandleEvent_);\n  }\n\n  /**\n   * Disconnect messenger.\n   */\n  disconnect() {\n    if (this.onCommand_) {\n      this.onCommand_ = null;\n      if (this.port_) {\n        closePort(this.port_);\n        this.port_ = null;\n      }\n      this.win_.removeEventListener('message', this.boundHandleEvent_);\n      if (this.channels_) {\n        for (const k in this.channels_) {\n          const channelObj = this.channels_[k];\n          if (channelObj.port1) {\n            closePort(channelObj.port1);\n          }\n          if (channelObj.port2) {\n            closePort(channelObj.port2);\n          }\n        }\n        this.channels_ = null;\n      }\n    }\n  }\n\n  /**\n   * Returns whether the messenger has been connected already.\n   * @return {boolean}\n   */\n  isConnected() {\n    return this.targetOrigin_ != null;\n  }\n\n  /**\n   * Returns the messaging target. Only available when connection has been\n   * establihsed.\n   * @return {!Window}\n   */\n  getTarget() {\n    const target = this.getOptionalTarget_();\n    if (!target) {\n      throw new Error('not connected');\n    }\n    return target;\n  }\n\n  /**\n   * @return {?Window}\n   * @private\n   */\n  getOptionalTarget_() {\n    if (this.onCommand_ && !this.target_) {\n      if (typeof this.targetOrCallback_ == 'function') {\n        this.target_ = this.targetOrCallback_();\n      } else {\n        this.target_ = /** @type {!Window} */ (this.targetOrCallback_);\n      }\n    }\n    return this.target_;\n  }\n\n  /**\n   * Returns the messaging origin. Only available when connection has been\n   * establihsed.\n   * @return {string}\n   */\n  getTargetOrigin() {\n    if (this.targetOrigin_ == null) {\n      throw new Error('not connected');\n    }\n    return this.targetOrigin_;\n  }\n\n  /**\n   * The host sends this message to the client to indicate that it's ready to\n   * start communicating. The client is expected to respond back with the\n   * \"start\" command. See `sendStartCommand` method.\n   */\n  sendConnectCommand() {\n    // TODO(dvoytenko): MessageChannel is critically necessary for IE/Edge,\n    // since window messaging doesn't always work. It's also preferred as an API\n    // for other browsers: it's newer, cleaner and arguably more secure.\n    // Unfortunately, browsers currently do not propagate user gestures via\n    // MessageChannel, only via window messaging. This should be re-enabled\n    // once browsers fix user gesture propagation.\n    // See:\n    // Safari: https://bugs.webkit.org/show_bug.cgi?id=186593\n    // Chrome: https://bugs.chromium.org/p/chromium/issues/detail?id=851493\n    // Firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=1469422\n    const acceptsChannel = isIeBrowser(this.win_) || isEdgeBrowser(this.win_);\n    this.sendCommand('connect', {'acceptsChannel': acceptsChannel});\n  }\n\n  /**\n   * The client sends this message to the host upon receiving the \"connect\"\n   * message to start the main communication channel. As a payload, the message\n   * will contain the provided start arguments.\n   * @param {?Object} args\n   */\n  sendStartCommand(args) {\n    let channel = null;\n    if (this.acceptsChannel_ && typeof this.win_.MessageChannel == 'function') {\n      channel = new this.win_.MessageChannel();\n    }\n    if (channel) {\n      this.sendCommand('start', args, [channel.port2]);\n      // It's critical to switch to port messaging only after \"start\" has been\n      // sent. Otherwise, it won't be delivered.\n      this.switchToChannel_(channel.port1);\n    } else {\n      this.sendCommand('start', args);\n    }\n  }\n\n  /**\n   * Sends the specified command from the port to the host or vice versa.\n   * @param {string} cmd\n   * @param {?Object=} opt_payload\n   * @param {?Array=} opt_transfer\n   */\n  sendCommand(cmd, opt_payload, opt_transfer) {\n    const data = {\n      'sentinel': SENTINEL,\n      'cmd': cmd,\n      'payload': opt_payload || null,\n    };\n    if (this.port_) {\n      this.port_.postMessage(data, opt_transfer || undefined);\n    } else {\n      const target = this.getTarget();\n      // Only \"connect\" command is allowed to use `targetOrigin == '*'`\n      const targetOrigin =\n          cmd == 'connect' ?\n          (this.targetOrigin_ != null ? this.targetOrigin_ : '*') :\n          this.getTargetOrigin();\n      target.postMessage(data, targetOrigin, opt_transfer || undefined);\n    }\n  }\n\n  /**\n   * Sends a message to the client.\n   * @param {!Object} payload\n   */\n  customMessage(payload) {\n    this.sendCommand('msg', payload);\n  }\n\n  /**\n   * Registers a callback to receive messages from the client.\n   * @param {function(!Object)} callback\n   */\n  onCustomMessage(callback) {\n    this.onCustomMessage_ = callback;\n  }\n\n  /**\n   * @param {string=} opt_name\n   * @return {!Promise<!MessagePort>}\n   */\n  startChannel(opt_name) {\n    const name = opt_name || '';\n    const channelObj = this.getChannelObj_(name);\n    if (!channelObj.port1) {\n      const channel = new this.win_.MessageChannel();\n      channelObj.port1 = channel.port1;\n      channelObj.port2 = channel.port2;\n      channelObj.resolver(channelObj.port1);\n    }\n    if (channelObj.port2) {\n      // Not yet sent.\n      this.sendCommand('cnset', {'name': name}, [channelObj.port2]);\n      channelObj.port2 = null;\n    }\n    return channelObj.promise;\n  }\n\n  /**\n   * @param {string=} opt_name\n   * @return {!Promise<!MessagePort>}\n   */\n  askChannel(opt_name) {\n    const name = opt_name || '';\n    const channelObj = this.getChannelObj_(name);\n    if (!channelObj.port1) {\n      this.sendCommand('cnget', {'name': name});\n    }\n    return channelObj.promise;\n  }\n\n  /**\n   * @param {string} name\n   * @param {!MessagePort} port\n   * @private\n   */\n  receiveChannel_(name, port) {\n    const channelObj = this.getChannelObj_(name);\n    channelObj.port1 = port;\n    channelObj.resolver(port);\n  }\n\n  /**\n   * @param {string} name\n   * @return {!ChannelHolder}\n   */\n  getChannelObj_(name) {\n    if (!this.channels_) {\n      this.channels_ = {};\n    }\n    let channelObj = this.channels_[name];\n    if (!channelObj) {\n      let resolver;\n      const promise = new Promise(resolve => {\n        resolver = resolve;\n      });\n      channelObj = {\n        port1: null,\n        port2: null,\n        resolver,\n        promise,\n      };\n      this.channels_[name] = channelObj;\n    }\n    return channelObj;\n  }\n\n  /**\n   * @param {!MessagePort} port\n   * @private\n   */\n  switchToChannel_(port) {\n    if (this.port_) {\n      closePort(this.port_);\n    }\n    this.port_ = port;\n    this.port_.onmessage = event => {\n      const data = event.data;\n      const cmd = data && data['cmd'];\n      const payload = data && data['payload'] || null;\n      if (cmd) {\n        this.handleCommand_(cmd, payload, event);\n      }\n    };\n    // Even though all messaging will switch to ports, the window-based message\n    // listener will be preserved just in case the host is refreshed and needs\n    // another connection.\n  }\n\n  /**\n   * @param {!MessageEvent} event\n   * @private\n   */\n  handleEvent_(event) {\n    if (this.requireTarget_ && this.getOptionalTarget_() != event.source) {\n      // When target is required, confirm it against the event.source. This\n      // is normally only needed for ports where a single window can include\n      // multiple iframes to match the event to a specific iframe. Otherwise,\n      // the origin checks below are sufficient.\n      return;\n    }\n    const data = event.data;\n    if (!data || data['sentinel'] != SENTINEL) {\n      return;\n    }\n    const cmd = data['cmd'];\n    if (this.port_ && cmd != 'connect' && cmd != 'start') {\n      // Messaging channel has already taken over. However, the \"connect\" and\n      // \"start\" commands are allowed to proceed in case re-connection is\n      // requested.\n      return;\n    }\n    const origin = /** @type {string} */ (event.origin);\n    const payload = data['payload'] || null;\n    if (this.targetOrigin_ == null && cmd == 'start') {\n      this.targetOrigin_ = origin;\n    }\n    if (this.targetOrigin_ == null && event.source) {\n      if (this.getOptionalTarget_() == event.source) {\n        this.targetOrigin_ = origin;\n      }\n    }\n    // Notice that event.source may differ from the target because of\n    // friendly-iframe intermediaries.\n    if (origin != this.targetOrigin_) {\n      return;\n    }\n    this.handleCommand_(cmd, payload, event);\n  }\n\n  /**\n   * @param {string} cmd\n   * @param {?Object} payload\n   * @param {!MessageEvent} event\n   * @private\n   */\n  handleCommand_(cmd, payload, event) {\n    if (cmd == 'connect') {\n      if (this.port_) {\n        // In case the port has already been open - close it to reopen it\n        // again later.\n        closePort(this.port_);\n        this.port_ = null;\n      }\n      this.acceptsChannel_ = payload && payload['acceptsChannel'] || false;\n      this.onCommand_(cmd, payload);\n    } else if (cmd == 'start') {\n      const port = event.ports && event.ports[0];\n      if (port) {\n        this.switchToChannel_(port);\n      }\n      this.onCommand_(cmd, payload);\n    } else if (cmd == 'msg') {\n      if (this.onCustomMessage_ != null && payload != null) {\n        this.onCustomMessage_(payload);\n      }\n    } else if (cmd == 'cnget') {\n      const name = payload['name'];\n      this.startChannel(name);\n    } else if (cmd == 'cnset') {\n      const name = payload['name'];\n      const port = event.ports[0];\n      this.receiveChannel_(name, /** @type {!MessagePort} */ (port));\n    } else {\n      this.onCommand_(cmd, payload);\n    }\n  }\n}\n\n\n/**\n * @param {!MessagePort} port\n */\nfunction closePort(port) {\n  try {\n    port.close();\n  } catch (e) {\n    // Ignore.\n  }\n}\n\n\n\n\n/**\n * The `ActivityPort` implementation for the iframe case. Unlike other types\n * of activities, iframe-based activities are always connected and can react\n * to size requests.\n *\n * @implements {ActivityPort}\n * @implements {ActivityMessagingPort}\n */\nclass ActivityIframePort {\n\n  /**\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} url\n   * @param {?Object=} opt_args\n   */\n  constructor(iframe, url, opt_args) {\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = iframe;\n    /** @private @const {string} */\n    this.url_ = url;\n    /** @private @const {?Object} */\n    this.args_ = opt_args || null;\n\n    /** @private @const {!Window} */\n    this.win_ = /** @type {!Window} */ (this.iframe_.ownerDocument.defaultView);\n\n    /** @private @const {string} */\n    this.targetOrigin_ = getOriginFromUrl(url);\n\n    /** @private {boolean} */\n    this.connected_ = false;\n\n    /** @private {?function()} */\n    this.connectedResolver_ = null;\n\n    /** @private @const {!Promise} */\n    this.connectedPromise_ = new Promise(resolve => {\n      this.connectedResolver_ = resolve;\n    });\n\n    /** @private {?function()} */\n    this.readyResolver_ = null;\n\n    /** @private @const {!Promise} */\n    this.readyPromise_ = new Promise(resolve => {\n      this.readyResolver_ = resolve;\n    });\n\n    /** @private {?function((!ActivityResult|!Promise))} */\n    this.resultResolver_ = null;\n\n    /** @private @const {!Promise<!ActivityResult>} */\n    this.resultPromise_ = new Promise(resolve => {\n      this.resultResolver_ = resolve;\n    });\n\n    /** @private {?function(number)} */\n    this.onResizeRequest_ = null;\n\n    /** @private {?number} */\n    this.requestedHeight_ = null;\n\n    /** @private @const {!Messenger} */\n    this.messenger_ = new Messenger(\n        this.win_,\n        () => this.iframe_.contentWindow,\n        this.targetOrigin_,\n        /* requireTarget */ true);\n  }\n\n  /** @override */\n  getMode() {\n    return ActivityMode.IFRAME;\n  }\n\n  /**\n   * Waits until the activity port is connected to the host.\n   * @return {!Promise}\n   */\n  connect() {\n    if (!isNodeConnected(this.iframe_)) {\n      throw new Error('iframe must be in DOM');\n    }\n    this.messenger_.connect(this.handleCommand_.bind(this));\n    this.iframe_.src = this.url_;\n    return this.connectedPromise_;\n  }\n\n  /**\n   * Disconnect the activity binding and cleanup listeners.\n   */\n  disconnect() {\n    this.connected_ = false;\n    this.messenger_.disconnect();\n  }\n\n  /** @override */\n  acceptResult() {\n    return this.resultPromise_;\n  }\n\n  /** @override */\n  getTargetWin() {\n    return this.iframe_.contentWindow || null;\n  }\n\n  /** @override */\n  message(payload) {\n    this.messenger_.customMessage(payload);\n  }\n\n  /** @override */\n  onMessage(callback) {\n    this.messenger_.onCustomMessage(callback);\n  }\n\n  /** @override */\n  messageChannel(opt_name) {\n    return this.messenger_.askChannel(opt_name);\n  }\n\n  /**\n   * Returns a promise that yields when the iframe is ready to be interacted\n   * with.\n   * @return {!Promise}\n   */\n  whenReady() {\n    return this.readyPromise_;\n  }\n\n  /**\n   * Register a callback to handle resize requests. Once successfully resized,\n   * ensure to call `resized()` method.\n   * @param {function(number)} callback\n   */\n  onResizeRequest(callback) {\n    this.onResizeRequest_ = callback;\n    Promise.resolve().then(() => {\n      if (this.requestedHeight_ != null) {\n        callback(this.requestedHeight_);\n      }\n    });\n  }\n\n  /**\n   * Signals back to the activity implementation that the client has updated\n   * the activity's size.\n   */\n  resized() {\n    if (!this.connected_) {\n      return;\n    }\n    const height = this.iframe_.offsetHeight;\n    this.messenger_.sendCommand('resized', {'height': height});\n  }\n\n  /**\n   * @param {string} cmd\n   * @param {?Object} payload\n   * @private\n   */\n  handleCommand_(cmd, payload) {\n    if (cmd == 'connect') {\n      // First ever message. Indicates that the receiver is listening.\n      this.connected_ = true;\n      this.messenger_.sendStartCommand(this.args_);\n      this.connectedResolver_();\n    } else if (cmd == 'result') {\n      // The last message. Indicates that the result has been received.\n      if (this.resultResolver_) {\n        const code = /** @type {!ActivityResultCode} */ (payload['code']);\n        const data =\n            code == ActivityResultCode.FAILED ?\n            new Error(payload['data'] || '') :\n            payload['data'];\n        const result = new ActivityResult(\n            code,\n            data,\n            ActivityMode.IFRAME,\n            this.messenger_.getTargetOrigin(),\n            /* originVerified */ true,\n            /* secureChannel */ true);\n        resolveResult(this.win_, result, this.resultResolver_);\n        this.resultResolver_ = null;\n        this.messenger_.sendCommand('close');\n        this.disconnect();\n      }\n    } else if (cmd == 'ready') {\n      if (this.readyResolver_) {\n        this.readyResolver_();\n        this.readyResolver_ = null;\n      }\n    } else if (cmd == 'resize') {\n      this.requestedHeight_ = /** @type {number} */ (payload['height']);\n      if (this.onResizeRequest_) {\n        this.onResizeRequest_(this.requestedHeight_);\n      }\n    }\n  }\n}\n\n\n\n\n/**\n * The `ActivityPort` implementation for the standalone window activity\n * client executed as a popup.\n *\n * @implements {ActivityPort}\n * @implements {ActivityMessagingPort}\n */\nclass ActivityWindowPort {\n\n  /**\n   * @param {!Window} win\n   * @param {string} requestId\n   * @param {string} url\n   * @param {string} target\n   * @param {?Object=} opt_args\n   * @param {?ActivityOpenOptions=} opt_options\n   */\n  constructor(win, requestId, url, target, opt_args, opt_options) {\n    const isValidTarget =\n        target &&\n        (target == '_blank' || target == '_top' || target[0] != '_');\n    if (!isValidTarget) {\n      throw new Error('The only allowed targets are \"_blank\", \"_top\"' +\n          ' and name targets');\n    }\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n    /** @private @const {string} */\n    this.requestId_ = requestId;\n    /** @private @const {string} */\n    this.url_ = url;\n    /** @private @const {string} */\n    this.openTarget_ = target;\n    /** @private @const {?Object} */\n    this.args_ = opt_args || null;\n    /** @private @const {!ActivityOpenOptions} */\n    this.options_ = opt_options || {};\n\n    /** @private {?function()} */\n    this.connectedResolver_ = null;\n\n    /** @private @const {!Promise} */\n    this.connectedPromise_ = new Promise(resolve => {\n      this.connectedResolver_ = resolve;\n    });\n\n    /** @private {?function((!ActivityResult|!Promise))} */\n    this.resultResolver_ = null;\n\n    /** @private @const {!Promise<!ActivityResult>} */\n    this.resultPromise_ = new Promise(resolve => {\n      this.resultResolver_ = resolve;\n    });\n\n    /** @private {?Window} */\n    this.targetWin_ = null;\n\n    /** @private {?number} */\n    this.heartbeatInterval_ = null;\n\n    /** @private {?Messenger} */\n    this.messenger_ = null;\n  }\n\n  /** @override */\n  getMode() {\n    return this.openTarget_ == '_top' ?\n        ActivityMode.REDIRECT :\n        ActivityMode.POPUP;\n  }\n\n  /**\n   * Opens the activity in a window, either as a popup or via redirect.\n   *\n   * Returns the promise that will yield when the window returns or closed.\n   * Notice, that this promise may never complete if \"redirect\" mode was used.\n   *\n   * @return {!Promise}\n   */\n  open() {\n    return this.openInternal_();\n  }\n\n  /**\n   * Waits until the activity port is connected to the host.\n   * @return {!Promise}\n   */\n  whenConnected() {\n    return this.connectedPromise_;\n  }\n\n  /**\n   * Disconnect the activity binding and cleanup listeners.\n   */\n  disconnect() {\n    if (this.heartbeatInterval_) {\n      this.win_.clearInterval(this.heartbeatInterval_);\n      this.heartbeatInterval_ = null;\n    }\n    if (this.messenger_) {\n      this.messenger_.disconnect();\n      this.messenger_ = null;\n    }\n    if (this.targetWin_) {\n      // Try to close the popup window. The host will also try to do the same.\n      try {\n        this.targetWin_.close();\n      } catch (e) {\n        // Ignore.\n      }\n      this.targetWin_ = null;\n    }\n    this.resultResolver_ = null;\n  }\n\n  /** @override */\n  getTargetWin() {\n    return this.targetWin_;\n  }\n\n  /** @override */\n  acceptResult() {\n    return this.resultPromise_;\n  }\n\n  /**\n   * Sends a message to the host.\n   * Whether the host can or cannot receive a message depends on the type of\n   * host and its state. Ensure that the code has an alternative path if\n   * messaging is not available.\n   * @override\n   */\n  message(payload) {\n    this.messenger_.customMessage(payload);\n  }\n\n  /**\n   * Registers a callback to receive messages from the host.\n   * Whether the host can or cannot receive a message depends on the type of\n   * host and its state. Ensure that the code has an alternative path if\n   * messaging is not available.\n   * @override\n   */\n  onMessage(callback) {\n    this.messenger_.onCustomMessage(callback);\n  }\n\n  /**\n   * Creates a new communication channel or returns an existing one.\n   * Whether the host can or cannot receive a message depends on the type of\n   * host and its state. Ensure that the code has an alternative path if\n   * messaging is not available.\n   * @override\n   */\n  messageChannel(opt_name) {\n    return this.messenger_.askChannel(opt_name);\n  }\n\n  /**\n   * This method wraps around window's open method. It first tries to execute\n   * `open` call with the provided target and if it fails, it retries the call\n   * with the `_top` target. This is necessary given that in some embedding\n   * scenarios, such as iOS' WKWebView, navigation to `_blank` and other targets\n   * is blocked by default.\n   * @return {!Promise}\n   * @private\n   */\n  openInternal_() {\n    const featuresStr = this.buildFeatures_();\n\n    // Protectively, the URL will contain the request payload, unless explicitly\n    // directed not to via `skipRequestInUrl` option.\n    let url = this.url_;\n    if (!this.options_.skipRequestInUrl) {\n      const returnUrl =\n          this.options_.returnUrl ||\n          removeFragment(this.win_.location.href);\n      const requestString = serializeRequest({\n        requestId: this.requestId_,\n        returnUrl,\n        args: this.args_,\n      });\n      url = addFragmentParam(url, '__WA__', requestString);\n    }\n\n    // Open the window.\n    let targetWin;\n    let openTarget = this.openTarget_;\n    // IE does not support CORS popups - the popup has to fallback to redirect\n    // mode.\n    if (openTarget != '_top') {\n      if (isIeBrowser(this.win_)) {\n        openTarget = '_top';\n      }\n    }\n    // Try first with the specified target. If we're inside the WKWebView or\n    // a similar environments, this method is expected to fail by default for\n    // all targets except `_top`.\n    try {\n      targetWin = this.win_.open(url, openTarget, featuresStr);\n    } catch (e) {\n      // Ignore.\n    }\n    // Then try with `_top` target.\n    if (!targetWin &&\n        openTarget != '_top' &&\n        !this.options_.disableRedirectFallback) {\n      openTarget = '_top';\n      try {\n        targetWin = this.win_.open(url, openTarget);\n      } catch (e) {\n        // Ignore.\n      }\n    }\n\n    // Setup the target window.\n    if (targetWin) {\n      this.targetWin_ = targetWin;\n      if (openTarget != '_top') {\n        this.setupPopup_();\n      }\n    } else {\n      this.disconnectWithError_(new Error('failed to open window'));\n    }\n\n    // Return result promise, even though it may never complete.\n    return this.resultPromise_.catch(() => {\n      // Ignore. Call to the `acceptResult()` should fail if needed.\n    });\n  }\n\n  /**\n   * @return {string}\n   * @private\n   */\n  buildFeatures_() {\n    // The max width and heights are calculated as following:\n    // MaxSize = AvailSize - ControlsSize\n    // ControlsSize = OuterSize - InnerSize\n    const screen = this.win_.screen;\n    const availWidth = screen.availWidth || screen.width;\n    const availHeight = screen.availHeight || screen.height;\n    const isTop = this.isTopWindow_();\n    const isEdge = isEdgeBrowser(this.win_);\n    // Limit controls to 100px width and height. Notice that it's only\n    // possible to calculate controls size in the top window, not in iframes.\n    // Notice that the Edge behavior is somewhat unique. If we can't find the\n    // right width/height, it will launch in the full-screen. Other browsers\n    // deal with such cases more gracefully.\n    const controlsWidth =\n        isTop && this.win_.outerWidth > this.win_.innerWidth ?\n        Math.min(100, this.win_.outerWidth - this.win_.innerWidth) :\n        (isEdge ? 100 : 0);\n    const controlsHeight =\n        isTop && this.win_.outerHeight > this.win_.innerHeight ?\n        Math.min(100, this.win_.outerHeight - this.win_.innerHeight) :\n        (isEdge ? 100 : 0);\n    // With all the adjustments, at least 50% of the available width/height\n    // should be made available to a popup.\n    const maxWidth = Math.max(availWidth - controlsWidth, availWidth * 0.5);\n    const maxHeight = Math.max(availHeight - controlsHeight, availHeight * 0.5);\n    let w = Math.floor(Math.min(600, maxWidth * 0.9));\n    let h = Math.floor(Math.min(600, maxHeight * 0.9));\n    if (this.options_.width) {\n      w = Math.min(this.options_.width, maxWidth);\n    }\n    if (this.options_.height) {\n      h = Math.min(this.options_.height, maxHeight);\n    }\n    const x = Math.floor((screen.width - w) / 2);\n    const y = Math.floor((screen.height - h) / 2);\n    const features = {\n      'height': h,\n      'width': w,\n      'resizable': 'yes',\n      'scrollbars': 'yes',\n    };\n    // Do not set left/top in Edge: it fails.\n    if (!isEdge) {\n      features['left'] = x;\n      features['top'] = y;\n    }\n    let featuresStr = '';\n    for (const f in features) {\n      if (featuresStr) {\n        featuresStr += ',';\n      }\n      featuresStr += `${f}=${features[f]}`;\n    }\n    return featuresStr;\n  }\n\n  /**\n   * This method only exists to make iframe/top emulation possible in tests.\n   * Otherwise `window.top` cannot be overridden.\n   * @return {boolean}\n   * @private\n   */\n  isTopWindow_() {\n    return this.win_ == this.win_.top;\n  }\n\n  /** @private */\n  setupPopup_() {\n    // Keep alive to catch the window closing, which would indicate\n    // \"cancel\" signal.\n    this.heartbeatInterval_ = this.win_.setInterval(() => {\n      this.check_(/* delayCancel */ true);\n    }, 500);\n\n    // Start up messaging. The messaging is explicitly allowed to proceed\n    // without origin check b/c all arguments have already been passed in\n    // the URL and special handling is enforced when result is delivered.\n    this.messenger_ = new Messenger(\n        this.win_,\n        /** @type {!Window} */ (this.targetWin_),\n        /* targetOrigin */ null,\n        /* requireTarget */ true);\n    this.messenger_.connect(this.handleCommand_.bind(this));\n  }\n\n  /**\n   * @param {boolean=} opt_delayCancel\n   * @private\n   */\n  check_(opt_delayCancel) {\n    if (!this.targetWin_ || this.targetWin_.closed) {\n      if (this.heartbeatInterval_) {\n        this.win_.clearInterval(this.heartbeatInterval_);\n        this.heartbeatInterval_ = null;\n      }\n      // Give a chance for the result to arrive, but otherwise consider the\n      // responce to be empty.\n      this.win_.setTimeout(() => {\n        try {\n          this.result_(ActivityResultCode.CANCELED, /* data */ null);\n        } catch (e) {\n          this.disconnectWithError_(e);\n        }\n      }, opt_delayCancel ? 3000 : 0);\n    }\n  }\n\n  /**\n   * @param {!Error} reason\n   * @private\n   */\n  disconnectWithError_(reason) {\n    if (this.resultResolver_) {\n      this.resultResolver_(Promise.reject(reason));\n    }\n    this.disconnect();\n  }\n\n  /**\n   * @param {!ActivityResultCode} code\n   * @param {*} data\n   * @private\n   */\n  result_(code, data) {\n    if (this.resultResolver_) {\n      const isConnected = this.messenger_.isConnected();\n      const result = new ActivityResult(\n          code,\n          data,\n          ActivityMode.POPUP,\n          isConnected ?\n              this.messenger_.getTargetOrigin() :\n              getOriginFromUrl(this.url_),\n          /* originVerified */ isConnected,\n          /* secureChannel */ isConnected);\n      resolveResult(this.win_, result, this.resultResolver_);\n      this.resultResolver_ = null;\n    }\n    if (this.messenger_) {\n      this.messenger_.sendCommand('close');\n    }\n    this.disconnect();\n  }\n\n  /**\n   * @param {string} cmd\n   * @param {?Object} payload\n   * @private\n   */\n  handleCommand_(cmd, payload) {\n    if (cmd == 'connect') {\n      // First ever message. Indicates that the receiver is listening.\n      this.messenger_.sendStartCommand(this.args_);\n      this.connectedResolver_();\n    } else if (cmd == 'result') {\n      // The last message. Indicates that the result has been received.\n      const code = /** @type {!ActivityResultCode} */ (payload['code']);\n      const data =\n          code == ActivityResultCode.FAILED ?\n          new Error(payload['data'] || '') :\n          payload['data'];\n      this.result_(code, data);\n    } else if (cmd == 'check') {\n      this.win_.setTimeout(() => this.check_(), 200);\n    }\n  }\n}\n\n\n/**\n * @param {!Window} win\n * @param {string} fragment\n * @param {string} requestId\n * @return {?ActivityPort}\n */\nfunction discoverRedirectPort(win, fragment, requestId) {\n  // Try to find the result in the fragment.\n  const paramName = '__WA_RES__';\n  const fragmentParam = getQueryParam(fragment, paramName);\n  if (!fragmentParam) {\n    return null;\n  }\n  const response = /** @type {?Object} */ (JSON.parse(fragmentParam));\n  if (!response || response['requestId'] != requestId) {\n    return null;\n  }\n\n  // Remove the found param from the fragment.\n  const cleanFragment = removeQueryParam(win.location.hash, paramName) || '';\n  if (cleanFragment != win.location.hash) {\n    if (win.history && win.history.replaceState) {\n      try {\n        win.history.replaceState(win.history.state, '', cleanFragment);\n      } catch (e) {\n        // Ignore.\n      }\n    }\n  }\n\n  const code = response['code'];\n  const data = response['data'];\n  const origin = response['origin'];\n  const referrerOrigin = win.document.referrer &&\n      getOriginFromUrl(win.document.referrer);\n  const originVerified = origin == referrerOrigin;\n  return new ActivityWindowRedirectPort(\n      win,\n      code,\n      data,\n      origin,\n      originVerified);\n}\n\n\n/**\n * The `ActivityPort` implementation for the standalone window activity\n * client executed as a popup.\n *\n * @implements {ActivityPort}\n */\nclass ActivityWindowRedirectPort {\n\n  /**\n   * @param {!Window} win\n   * @param {!ActivityResultCode} code\n   * @param {*} data\n   * @param {string} targetOrigin\n   * @param {boolean} targetOriginVerified\n   */\n  constructor(win, code, data, targetOrigin, targetOriginVerified) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n    /** @private @const {!ActivityResultCode} */\n    this.code_ = code;\n    /** @private @const {*} */\n    this.data_ = data;\n    /** @private {string} */\n    this.targetOrigin_ = targetOrigin;\n    /** @private {boolean} */\n    this.targetOriginVerified_ = targetOriginVerified;\n  }\n\n  /** @override */\n  getMode() {\n    return ActivityMode.REDIRECT;\n  }\n\n  /** @override */\n  acceptResult() {\n    const result = new ActivityResult(\n        this.code_,\n        this.data_,\n        ActivityMode.REDIRECT,\n        this.targetOrigin_,\n        this.targetOriginVerified_,\n        /* secureChannel */ false);\n    return new Promise(resolve => {\n      resolveResult(this.win_, result, resolve);\n    });\n  }\n}\n\n\n\n\n/**\n * The page-level activities manager ports. This class is intended to be used\n * as a singleton. It can start activities of all modes: iframe, popup, and\n * redirect.\n */\nclass ActivityPorts {\n\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @const {string} */\n    this.version = '1.24';\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {string} */\n    this.fragment_ = win.location.hash;\n\n    /**\n     * @private @const {!Object<string, !Array<function(!ActivityPort)>>}\n     */\n    this.requestHandlers_ = {};\n\n    /**\n     * The result buffer is indexed by `requestId`.\n     * @private @const {!Object<string, !ActivityPort>}\n     */\n    this.resultBuffer_ = {};\n\n    /** @private {?function(!Error)} */\n    this.redirectErrorResolver_ = null;\n\n    /** @private {!Promise<!Error>} */\n    this.redirectErrorPromise_ = new Promise(resolve => {\n      this.redirectErrorResolver_ = resolve;\n    });\n  }\n\n  /**\n   * Start an activity within the specified iframe.\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} url\n   * @param {?Object=} opt_args\n   * @return {!Promise<!ActivityIframePort>}\n   */\n  openIframe(iframe, url, opt_args) {\n    const port = new ActivityIframePort(iframe, url, opt_args);\n    return port.connect().then(() => port);\n  }\n\n  /**\n   * Start an activity in a separate window. The result will be delivered\n   * to the `onResult` callback.\n   *\n   * The activity can be opened in two modes: \"popup\" and \"redirect\". This\n   * depends on the `target` value, but also on the browser/environment.\n   *\n   * The allowed `target` values are `_blank`, `_top` and name targets. The\n   * `_self`, `_parent` and similar targets are not allowed.\n   *\n   * The `_top` target indicates that the activity should be opened as a\n   * \"redirect\", while other targets indicate that the activity should be\n   * opened as a popup. The activity client will try to honor the requested\n   * target. However, it's not always possible. Some environments do not\n   * allow popups and they either force redirect or fail the window open\n   * request. In this case, the activity will try to fallback to the \"redirect\"\n   * mode.\n   *\n   * @param {string} requestId\n   * @param {string} url\n   * @param {string} target\n   * @param {?Object=} opt_args\n   * @param {?ActivityOpenOptions=} opt_options\n   * @return {{targetWin: ?Window}}\n   */\n  open(requestId, url, target, opt_args, opt_options) {\n    const port = this.openWin_(requestId, url, target, opt_args, opt_options);\n    return {targetWin: port.getTargetWin()};\n  }\n\n  /**\n   * Start an activity in a separate window and tries to setup messaging with\n   * this window.\n   *\n   * See `open()` method for more details, including `onResult` callback.\n   *\n   * @param {string} requestId\n   * @param {string} url\n   * @param {string} target\n   * @param {?Object=} opt_args\n   * @param {?ActivityOpenOptions=} opt_options\n   * @return {!Promise<!ActivityMessagingPort>}\n   */\n  openWithMessaging(requestId, url, target, opt_args, opt_options) {\n    const port = this.openWin_(requestId, url, target, opt_args, opt_options);\n    return port.whenConnected().then(() => port);\n  }\n\n  /**\n   * Registers the callback for the result of the activity opened with the\n   * specified `requestId` (see the `open()` method). The callback is a\n   * function that takes a single `ActivityPort` argument. The client\n   * can use this object to verify the port using it's origin, verified and\n   * secure channel flags. Then the client can call\n   * `ActivityPort.acceptResult()` method to accept the result.\n   *\n   * The activity result is handled via a separate callback because of a\n   * possible redirect. So use of direct callbacks and/or promises is not\n   * possible in that case.\n   *\n   * A typical implementation would look like:\n   * ```\n   * ports.onResult('request1', function(port) {\n   *   port.acceptResult().then(function(result) {\n   *     // Only verified origins are allowed.\n   *     if (result.origin == expectedOrigin &&\n   *         result.originVerified &&\n   *         result.secureChannel) {\n   *       handleResultForRequest1(result);\n   *     }\n   *   });\n   * })\n   *\n   * ports.open('request1', request1Url, '_blank');\n   * ```\n   *\n   * @param {string} requestId\n   * @param {function(!ActivityPort)} callback\n   */\n  onResult(requestId, callback) {\n    let handlers = this.requestHandlers_[requestId];\n    if (!handlers) {\n      handlers = [];\n      this.requestHandlers_[requestId] = handlers;\n    }\n    handlers.push(callback);\n\n    // Consume available result.\n    const availableResult = this.discoverResult_(requestId);\n    if (availableResult) {\n      this.consumeResult_(availableResult, callback);\n    }\n  }\n\n  /**\n   * @param {function(!Error)} handler\n   */\n  onRedirectError(handler) {\n    this.redirectErrorPromise_.then(handler);\n  }\n\n  /**\n   * @param {string} requestId\n   * @param {string} url\n   * @param {string} target\n   * @param {?Object=} opt_args\n   * @param {?ActivityOpenOptions=} opt_options\n   * @return {!ActivityWindowPort}\n   */\n  openWin_(requestId, url, target, opt_args, opt_options) {\n    const port = new ActivityWindowPort(\n        this.win_, requestId, url, target, opt_args, opt_options);\n    port.open().then(() => {\n      // Await result if possible. Notice that when falling back to \"redirect\",\n      // the result will never arrive through this port.\n      this.consumeResultAll_(requestId, port);\n    });\n    return port;\n  }\n\n  /**\n   * @param {string} requestId\n   * @return {?ActivityPort}\n   * @private\n   */\n  discoverResult_(requestId) {\n    let port = this.resultBuffer_[requestId];\n    if (!port && this.fragment_) {\n      try {\n        port = discoverRedirectPort(\n            this.win_, this.fragment_, requestId);\n      } catch (e) {\n        throwAsync(e);\n        this.redirectErrorResolver_(e);\n      }\n      if (port) {\n        this.resultBuffer_[requestId] = port;\n      }\n    }\n    return port;\n  }\n\n  /**\n   * @param {!ActivityPort} port\n   * @param {function(!ActivityPort)} callback\n   * @private\n   */\n  consumeResult_(port, callback) {\n    Promise.resolve().then(() => {\n      callback(port);\n    });\n  }\n\n  /**\n   * @param {string} requestId\n   * @param {!ActivityPort} port\n   * @private\n   */\n  consumeResultAll_(requestId, port) {\n    // Find and execute handlers.\n    const handlers = this.requestHandlers_[requestId];\n    if (handlers) {\n      handlers.forEach(handler => {\n        this.consumeResult_(port, handler);\n      });\n    }\n    // Buffer the result for callbacks that may arrive in the future.\n    this.resultBuffer_[requestId] = port;\n  }\n}\n\n\n\nmodule.exports = {\n  ActivityPorts,\n  ActivityIframePort,\n  ActivityMessagingPort,\n  ActivityMode,\n  ActivityOpenOptions,\n  ActivityPort,\n  ActivityRequest,\n  ActivityResult,\n  ActivityResultCode,\n  ActivityWindowPort,\n  createAbortError,\n  isAbortError,\n};\n","/**\n * Copyright 2020 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Entitlements as EntitlementsDef} from './entitlements';\nimport {SubscribeResponse as SubscribeResponseDef} from './subscribe-response';\n\n/* eslint-disable no-unused-vars */\n/**\n * Interface for users of the basic tier of Subscribe with Google.\n * @interface\n */\nexport class BasicSubscriptions {\n  /**\n   * Initializes the basic subscriptions runtime. This includes setting of the\n   * specified param values in the JSON-LD markup of the page, sets up any SwG\n   * buttons with attribute 'swg-standard-button', and inserts a SwG prompt for\n   * contributions/subscriptions. If the fields specified in the params are\n   * already specified in the JSON-LD markup on the page, the existing values\n   * will be preserved, and the values within init will be ignored.\n   * @param {{\n   *   type: (string|!Array<string>),\n   *   isAccessibleForFree: boolean,\n   *   isPartOfType: (string|!Array<string>),\n   *   isPartOfProductId: string,\n   *   autoPromptType: (AutoPromptType|undefined),\n   *   clientOptions: (ClientOptions|undefined),\n   *   alwaysShow: (boolean|undefined),\n   *   disableDefaultMeteringHandler: (boolean|undefined),\n   *   publisherProvidedId: (string|undefined),\n   * }=} params\n   */\n  init(params) {}\n\n  /**\n   * Set the entitlement check callback.\n   * @param {function(!Promise<!EntitlementsDef>)} callback\n   * @return {?}\n   */\n  setOnEntitlementsResponse(callback) {}\n\n  /**\n   * Set the payment complete callback.\n   * @param {function(!Promise<!SubscribeResponseDef>)} callback\n   * @return {?}\n   */\n  setOnPaymentResponse(callback) {}\n\n  /**\n   * Open CheckEntitlementsView to let users log in Google and check their entitlements.\n   * @param {function(!LoginRequest)} callback\n   * @return {?}\n   */\n  setOnLoginRequest(callback) {}\n\n  /**\n   * Creates and displays a SwG subscription or contribution prompt, where the\n   * prompt type is determined by the parameters passed in to init. If the auto\n   * prompt is determined to have been already set up, the setup portion of the\n   * function will be skipped, and the prompt will be displayed. The\n   * autoPromptType specifies which type of prompt should be displayed (see\n   * AutoPromptType below). The alwaysShow parameter is an option to force show\n   * the prompt, regardless of any display rules. This parameter is intended for\n   * preview purposes.\n   * @param {{\n   *   autoPromptType: (!AutoPromptType|undefined),\n   *   alwaysShow: (boolean|undefined),\n   * }} options\n   * @returns {!Promise}\n   */\n  setupAndShowAutoPrompt(options) {}\n\n  /**\n   * Dismisses any SwG UI currently displayed. Intended to be used for preview\n   * purposes.\n   * @return {?}\n   */\n  dismissSwgUI() {}\n}\n/* eslint-enable no-unused-vars */\n\n/**\n * The types of autoprompt that can be specified to be shown. CONTRIBUTION and\n * SUBSCRIPTION will trigger the small, button-like prompt, and\n * CONTRIBUTION_LARGE and SUBSCRIPTION_LARGE will trigger the larger purchase\n * UI.\n * @enum {string}\n */\nexport const AutoPromptType = {\n  NONE: 'none',\n  CONTRIBUTION: 'contribution',\n  CONTRIBUTION_LARGE: 'contribution_large',\n  SUBSCRIPTION: 'subscription',\n  SUBSCRIPTION_LARGE: 'subscription_large',\n};\n\n/**\n * Options for configuring all client UI.\n * Properties:\n * - disableButton: whether to enable button.\n * - forceLangInIframes: whether to force the specified lang in iframes.\n * - lang: Sets the button and prompt language. Default is \"en\".\n * - theme: \"light\" or \"dark\". Default is \"light\".\n *\n * @typedef {{\n *   disableButton: (boolean|undefined),\n *   lang: (string|undefined),\n *   forceLangInIframes: (boolean|undefined),\n *   theme: (ClientTheme|undefined),\n *   allowScroll: (boolean|undefined),\n * }}\n */\nexport let ClientOptions;\n\n/**\n * @typedef {{\n *   linkRequested: boolean,\n * }}\n */\nexport let LoginRequest;\n\n/** @enum {string} */\nexport const ClientTheme = {\n  LIGHT: 'light',\n  DARK: 'dark',\n};\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnalyticsEvent as AnalyticsEventDef,\n  EventOriginator as EventOriginatorDef,\n} from '../proto/api_messages';\n\n/** @enum {number}  */\nexport const FilterResult = {\n  /** The event is allowed to proceed to the listeners. */\n  PROCESS_EVENT: 0,\n  /** The event is canceled and the listeners are not informed about it. */\n  CANCEL_EVENT: 1,\n};\n\n/**\n * Defines a client event in SwG\n * Properties:\n * - eventType: Required. The AnalyticsEvent type that occurred.\n * - eventOriginator: Required.  The codebase that initiated the event.\n * - isFromUserAction: Optional.  True if the user took an action to generate\n *   the event.\n * - additionalParameters: Optional.  A JSON object to store generic data.\n *\n *  @typedef {{\n *    eventType: ?AnalyticsEventDef,\n *    eventOriginator: !EventOriginatorDef,\n *    isFromUserAction: ?boolean,\n *    additionalParameters: ?Object,\n * }}\n */\nexport let ClientEvent;\n\n/* eslint-disable no-unused-vars */\n/**\n * @interface\n */\nexport class ClientEventManagerApi {\n  /**\n   * Call this function to log an event. The registered listeners will be\n   * invoked unless the event is filtered.\n   * @param {!function(!ClientEvent, (!ClientEventParams|undefined)=)} listener\n   */\n  registerEventListener(listener) {}\n\n  /**\n   * Register a filterer for events if you need to potentially prevent the\n   * listeners from hearing about it.  A filterer should return\n   * FilterResult.CANCEL_EVENT to prevent listeners from hearing about the\n   * event.\n   * @param {!function(!ClientEvent):FilterResult} filterer\n   */\n  registerEventFilterer(filterer) {}\n\n  /**\n   * Call this function to log an event.  It will immediately throw an error if\n   * the event is invalid.  It will then asynchronously call the filterers and\n   * stop the event if a filterer cancels it.  After that, it will call each\n   * listener asynchronously.\n   * @param {!ClientEvent} event\n   * @param {(!ClientEventParams|undefined)=} eventParams\n   */\n  logEvent(event, eventParams = undefined) {}\n}\n/* eslint-enable no-unused-vars */\n\n/**\n * Event Properties to handle for a specific event. For example, GA Event\n * properties to skip SwG logging but still be handled via callback.\n * @typedef {{\n *   googleAnalyticsParameters: ({\n *     event_category: string,\n *     survey_question: string,\n *     survey_answer_category: string,\n *     event_label: string,\n *   }|undefined)\n * }}\n */\nexport let ClientEventParams;\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Entitlements as EntitlementsDef} from './entitlements';\nimport {PurchaseData as PurchaseDataDef} from './subscribe-response';\nimport {UserData as UserDataDef} from './user-data';\n\n/**\n * Properties:\n * - entitlements - the current entitlements.\n * - consent - whether to ask the user for account creation consent.\n *   Default is `true`.\n *\n * @typedef {{\n *   entitlements: (?EntitlementsDef|undefined),\n *   consent: (boolean|undefined),\n * }}\n */\nexport let DeferredAccountCreationRequest;\n\n/**\n */\nexport class DeferredAccountCreationResponse {\n  /**\n   * @param {!EntitlementsDef} entitlements\n   * @param {!UserDataDef} userData\n   * @param {!Array<!PurchaseDataDef>} purchaseDataList\n   * @param {function():!Promise} completeHandler\n   */\n  constructor(entitlements, userData, purchaseDataList, completeHandler) {\n    /** @const {!EntitlementsDef} */\n    this.entitlements = entitlements;\n    /** @const {!UserDataDef} */\n    this.userData = userData;\n    /** @const {!Array<!PurchaseDataDef>} */\n    this.purchaseDataList = purchaseDataList;\n    // TODO(dvoytenko): deprecate.\n    /** @const {!PurchaseDataDef} */\n    this.purchaseData = purchaseDataList[0];\n    /** @private @const {function():!Promise} */\n    this.completeHandler_ = completeHandler;\n  }\n\n  /**\n   * @return {!DeferredAccountCreationResponse}\n   */\n  clone() {\n    return new DeferredAccountCreationResponse(\n      this.entitlements,\n      this.userData,\n      this.purchaseDataList,\n      this.completeHandler_\n    );\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'entitlements': this.entitlements.json(),\n      'userData': this.userData.json(),\n      'purchaseDataList': this.purchaseDataList.map((pd) => pd.json()),\n      // TODO(dvoytenko): deprecate.\n      'purchaseData': this.purchaseData.json(),\n    };\n  }\n\n  /**\n   * Allows the receiving site to complete/acknowledge that it registered\n   * the subscription info. The typical action would be to create an\n   * account (or match an existing one) and associated the subscription with\n   * that account.\n   *\n   * SwG will display progress indicator until this method is called and\n   * upon receiving this call will show the confirmation to the user.\n   * The promise returned by this method will yield once the user closes\n   * the confirmation.\n   *\n   * @return {!Promise}\n   */\n  complete() {\n    return this.completeHandler_();\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Timestamp} from '../proto/api_messages';\nimport {debugLog} from '../utils/log';\nimport {findInArray} from '../utils/object';\nimport {getPropertyFromJsonString} from '../utils/json';\nimport {warn} from '../utils/log';\n\n/** Source for Google-provided non-metering entitlements. */\nexport const GOOGLE_SOURCE = 'google';\n\n/** Source for Google-provided metering entitlements. */\nexport const GOOGLE_METERING_SOURCE = 'google:metering';\n\n/** Source for privileged entitlements. */\nexport const PRIVILEGED_SOURCE = 'privileged';\n\n/** Subscription token for dev mode entitlements. */\nexport const DEV_MODE_TOKEN = 'GOOGLE_DEV_MODE_TOKEN';\n\n/** Order ID returned for dev mode entitlements. */\nexport const DEV_MODE_ORDER = 'GOOGLE_DEV_MODE_ORDER';\n\n/**\n * The holder of the entitlements for a service.\n */\nexport class Entitlements {\n  /**\n   * @param {string} service\n   * @param {string} raw\n   * @param {!Array<!Entitlement>} entitlements\n   * @param {?string} currentProduct\n   * @param {function(!Entitlements)} ackHandler\n   * @param {function(!Entitlements, ?Function=)} consumeHandler\n   * @param {?boolean|undefined} isReadyToPay\n   * @param {?string|undefined} decryptedDocumentKey\n   */\n  constructor(\n    service,\n    raw,\n    entitlements,\n    currentProduct,\n    ackHandler,\n    consumeHandler,\n    isReadyToPay,\n    decryptedDocumentKey\n  ) {\n    /** @const {string} */\n    this.service = service;\n    /** @const {string} */\n    this.raw = raw;\n    /** @const {!Array<!Entitlement>} */\n    this.entitlements = entitlements;\n    /** @const {boolean} */\n    this.isReadyToPay = isReadyToPay || false;\n    /** @const {?string} */\n    this.decryptedDocumentKey = decryptedDocumentKey || null;\n\n    /** @private @const {?string} */\n    this.product_ = currentProduct;\n    /** @private @const {function(!Entitlements)} */\n    this.ackHandler_ = ackHandler;\n    /** @private @const {function(!Entitlements, ?Function=)} */\n    this.consumeHandler_ = consumeHandler;\n  }\n\n  /**\n   * @return {!Entitlements}\n   */\n  clone() {\n    return new Entitlements(\n      this.service,\n      this.raw,\n      this.entitlements.map((ent) => ent.clone()),\n      this.product_,\n      this.ackHandler_,\n      this.consumeHandler_,\n      this.isReadyToPay,\n      this.decryptedDocumentKey\n    );\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'service': this.service,\n      'entitlements': this.entitlements.map((item) => item.json()),\n      'isReadyToPay': this.isReadyToPay,\n    };\n  }\n\n  /**\n   * Returns true if the current article is unlocked by a cacheable entitlement.\n   * Metering entitlements aren't cacheable, because each metering entitlement\n   * is meant to be used for one article. Subscription entitlements that are\n   * not returned by dev mode are cacheable, because subscription entitlements\n   * are meant to be used across multiple articles on a publication.\n   * @return {boolean}\n   */\n  enablesThisWithCacheableEntitlements() {\n    const entitlement = this.getEntitlementForThis();\n    return (\n      !!entitlement &&\n      !this.enablesThisWithGoogleMetering() &&\n      !this.enablesThisWithGoogleDevMode()\n    );\n  }\n\n  /**\n   * Returns true if the current article is unlocked by a\n   * Google metering entitlement. These entitlements may come\n   * from Google News Intiative's licensing program to support news.\n   * https://www.blog.google/outreach-initiatives/google-news-initiative/licensing-program-support-news-industry-/\n   * They may also come from Google's Subscribe With Google Metering\n   * functionality.\n   * @return {boolean}\n   */\n  enablesThisWithGoogleMetering() {\n    const entitlement = this.getEntitlementForThis();\n    return !!entitlement && entitlement.source === GOOGLE_METERING_SOURCE;\n  }\n\n  /**\n   * Returns true if the current article is unlocked by a Google dev mode\n   * entitlement.\n   * @return {boolean}\n   */\n  enablesThisWithGoogleDevMode() {\n    const entitlement = this.getEntitlementForThis();\n    if (!entitlement) {\n      return false;\n    }\n    const isFirstPartyToken =\n      entitlement.source === GOOGLE_SOURCE &&\n      entitlement.subscriptionToken.indexOf(DEV_MODE_ORDER) !== -1;\n    const isThirdPartyToken = entitlement.subscriptionToken === DEV_MODE_TOKEN;\n    return isFirstPartyToken || isThirdPartyToken;\n  }\n\n  /**\n   * @param {string=} source\n   * @return {boolean}\n   */\n  enablesThis(source) {\n    return this.enables(this.product_, source);\n  }\n\n  /**\n   * @param {string=} source\n   * @return {boolean}\n   */\n  enablesAny(source) {\n    for (let i = 0; i < this.entitlements.length; i++) {\n      if (\n        this.entitlements[i].products.length > 0 &&\n        (!source || source == this.entitlements[i].source)\n      ) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Whether these entitlements enable the specified product, optionally also\n   * restricting the source.\n   * @param {?string} product\n   * @param {string=} source\n   * @return {boolean}\n   */\n  enables(product, source) {\n    if (!product) {\n      return false;\n    }\n    return !!this.getEntitlementFor(product, source);\n  }\n\n  /**\n   * Returns the first matching entitlement for the current product,\n   * optionally also matching the specified source.\n   * @param {string=} source\n   * @return {?Entitlement}\n   */\n  getEntitlementForThis(source) {\n    return this.getEntitlementFor(this.product_, source);\n  }\n\n  /**\n   * Returns the first matching entitlement for the specified product,\n   * optionally also matching the specified source.\n   *\n   * Returns non-metering entitlements if possible, to avoid consuming\n   * metered reads unnecessarily.\n   *\n   * @param {?string} product\n   * @param {string=} source\n   * @return {?Entitlement}\n   */\n  getEntitlementFor(product, source) {\n    if (!product) {\n      // Require a product ID.\n      warn(\n        'SwG needs this article to define a product ID (e.g. example.com:premium). Articles can define a product ID using JSON+LD. SwG can check entitlements after this article defines a product ID.'\n      );\n      return null;\n    }\n\n    // Prefer subscription entitlements over metering entitlements.\n    // Metering entitlements are a limited resource. When a metering entitlement\n    // unlocks an article, that depletes the user's remaining \"free reads\".\n    // Subscription entitlements are *not* depleted when they unlock articles.\n    // They are essentially unlimited if the subscription remains valid.\n    // For this reason, subscription entitlements are preferred.\n    const entitlementsThatUnlockArticle = this.entitlements.filter(\n      (entitlement) =>\n        entitlement.enables(product) &&\n        (!source || source === entitlement.source)\n    );\n\n    const subscriptionEntitlement = findInArray(\n      entitlementsThatUnlockArticle,\n      (entitlement) => entitlement.source !== GOOGLE_METERING_SOURCE\n    );\n\n    const meteringEntitlement = findInArray(\n      entitlementsThatUnlockArticle,\n      (entitlement) => entitlement.source === GOOGLE_METERING_SOURCE\n    );\n\n    return subscriptionEntitlement || meteringEntitlement || null;\n  }\n\n  /**\n   * Returns the first matching entitlement for the specified source w/o\n   * matching any specific products.\n   * @param {string} source\n   * @return {?Entitlement}\n   */\n  getEntitlementForSource(source) {\n    if (this.entitlements.length > 0) {\n      for (let i = 0; i < this.entitlements.length; i++) {\n        if (\n          this.entitlements[i].subscriptionToken &&\n          source == this.entitlements[i].source\n        ) {\n          return this.entitlements[i];\n        }\n      }\n    }\n    return null;\n  }\n\n  /**\n   * A 3p site should call this method to acknowledge that it \"saw\" and\n   * \"understood\" entitlements.\n   */\n  ack() {\n    this.ackHandler_(this);\n  }\n\n  /**\n   * A 3p site should call this method to consume a Google metering entitlement.\n   * When a metering entitlement is consumed, SwG shows the user a metering dialog.\n   * When the user closes the dialog, SwG depletes one of the user's remaining\n   * \"free reads\".\n   * @param {?Function=} onCloseDialog Called after the user closes the dialog.\n   */\n  consume(onCloseDialog) {\n    this.consumeHandler_(this, onCloseDialog);\n  }\n}\n\n/**\n * The single entitlement object.\n */\nexport class Entitlement {\n  /**\n   * @param {string} source\n   * @param {!Array<string>} products\n   * @param {string} subscriptionToken\n   * @param {JsonObject|null|undefined} subscriptionTokenContents\n   * @param {!Timestamp|null} subscriptionTimestamp\n   */\n  constructor(\n    source,\n    products,\n    subscriptionToken,\n    subscriptionTokenContents,\n    subscriptionTimestamp\n  ) {\n    /** @const {string} */\n    this.source = source;\n    /** @const {!Array<string>} */\n    this.products = products;\n    /** @const {string} */\n    this.subscriptionToken = subscriptionToken;\n    /** @const {JsonObject|null|undefined} */\n    this.subscriptionTokenContents = subscriptionTokenContents;\n    /** @const {!Timestamp|null} */\n    this.subscriptionTimestamp = subscriptionTimestamp;\n  }\n\n  /**\n   * @return {!Entitlement}\n   */\n  clone() {\n    return new Entitlement(\n      this.source,\n      this.products.slice(0),\n      this.subscriptionToken,\n      this.subscriptionTokenContents,\n      this.subscriptionTimestamp\n    );\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'source': this.source,\n      'products': this.products,\n      'subscriptionToken': this.subscriptionToken,\n    };\n  }\n\n  /**\n   * @param {?string} product\n   * @return {boolean}\n   */\n  enables(product) {\n    if (!product) {\n      return false;\n    }\n    const eq = product.indexOf(':');\n    // Handle wildcards\n    if (eq != -1) {\n      // Wildcard product (publication:*) unlocks on any entitlement matching publication\n      const publication = product.substring(0, eq + 1);\n      if (\n        publication + '*' == product &&\n        this.products.filter(\n          (candidate) => candidate.substring(0, eq + 1) == publication\n        ).length >= 1\n      ) {\n        debugLog('enabled with wildcard productId');\n        return true;\n      }\n      // Wildcard entitlement allows any product matching this publication\n      if (this.products.includes(publication + '*')) {\n        debugLog('enabled with wildcard entitlement');\n        return true;\n      }\n    }\n    return this.products.includes(product);\n  }\n\n  /**\n   * @param {?Object} json\n   * @param {!../utils/jwt.JwtHelper} jwtHelper\n   * @return {!Entitlement}\n   */\n  static parseFromJson(json, jwtHelper) {\n    if (!json) {\n      json = {};\n    }\n    const source = json['source'] || '';\n    const products = json['products'] || [];\n    const subscriptionToken = json['subscriptionToken'];\n    let subscriptionTokenContents;\n    try {\n      subscriptionTokenContents = subscriptionToken\n        ? jwtHelper.decode(subscriptionToken)\n        : null;\n    } catch (e) {\n      subscriptionTokenContents = null;\n    }\n\n    const timestampJson = json['subscriptionTimestamp'];\n    let subscriptionTimestamp;\n    try {\n      subscriptionTimestamp = new Timestamp(\n        [timestampJson.seconds_, timestampJson.nanos_],\n        false\n      );\n    } catch (e) {\n      subscriptionTimestamp = null;\n    }\n    return new Entitlement(\n      source,\n      products,\n      subscriptionToken,\n      subscriptionTokenContents,\n      subscriptionTimestamp\n    );\n  }\n\n  /**\n   * The JSON is expected in one of the forms:\n   * - Single entitlement: `{products: [], ...}`.\n   * - A list of entitlements: `[{products: [], ...}, {...}]`.\n   * @param {!Object|!Array<!Object>} json\n   * @param {!../utils/jwt.JwtHelper} jwtHelper\n   * @return {!Array<!Entitlement>}\n   */\n  static parseListFromJson(json, jwtHelper) {\n    const jsonList = Array.isArray(json)\n      ? /** @type {!Array<Object>} */ (json)\n      : [json];\n    return jsonList.map((json) => Entitlement.parseFromJson(json, jwtHelper));\n  }\n\n  /**\n   * Returns the SKU associated with this entitlement.\n   * @return {?string}\n   */\n  getSku() {\n    if (this.source !== 'google') {\n      return null;\n    }\n    const sku = /** @type {?string} */ (\n      getPropertyFromJsonString(this.subscriptionToken, 'productId') || null\n    );\n    if (!sku) {\n      warn('Unable to retrieve SKU from SwG subscription token');\n    }\n    return sku;\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @enum {string}\n */\nexport const SubscriptionState = {\n  // user's subscription state not known.\n  UNKNOWN: 'unknown',\n  // user is not a subscriber.\n  NON_SUBSCRIBER: 'non_subscriber',\n  // user is a subscriber.\n  SUBSCRIBER: 'subscriber',\n  // user's subscription has expired.\n  PAST_SUBSCRIBER: 'past_subscriber',\n};\n\n/**\n * Subscription related events. Listed below are enum strings that\n * represent events related to Subscription flow. Event parameters\n * that provide more context about the event are sent as a JSON\n * block of depth 1 in the sendEvent() API call.\n * @enum {string}\n */\nexport const Event = {\n  /**\n   * IMPRESSION_PAYWALL event.\n   * User hits a paywall.\n   * Every impression should be qualified as active or passive.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true or false to indicate this.\n   * If the user has run out of metering, and that’s why was shown\n   * a paywall, that would be a passive impression of the paywall.\n   * For example:\n   * const propensityEvent = {\n   *  name: 'paywall',\n   *  active: false,\n   * }\n   */\n  IMPRESSION_PAYWALL: 'paywall',\n  /**\n   * IMPRESSION_AD event.\n   * User has been shown a subscription ad.\n   * Every impression should be qualified as active or passive.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true or false to indicate this.\n   * The JSON block can provide the name of the subscription ad\n   * creative or campaign. Ad impressions are usually passive.\n   * const propensityEvent = {\n   *   name: 'ad_shown',\n   *   active: false,\n   *   data: {'ad_name': 'fall_ad'}\n   * }\n   */\n  IMPRESSION_AD: 'ad_shown',\n  /**\n   * IMPRESSION_OFFERS event.\n   * User has been shown a list of available offers for subscription.\n   * Every impression should be qualified as active or passive.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true or false to indicate this.\n   * The JSON block can provide a list of products displayed,\n   * and the source to indicate why the user was shown the offer.\n   * Note: source is not the same as referrer.\n   * In the cases below, the user took action before seeing the offers,\n   * and therefore considered active impression.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'offers_shown',\n   *   active: true,\n   *   data: {'offers': ['basic-monthly', 'premium-weekly'],\n   *           'source': 'ad-click'}\n   * }\n   * For example:\n   * const propensityEvent = {\n   *   name: 'offers_shown',\n   *   active: true,\n   *   data: {'offers': ['basic-monthly', 'premium-weekly'],\n   *           'source': ‘navigate-to-offers-page’}\n   * }\n   * If the user was shown the offers as a result of paywall metering\n   * expiration, it is considered a passive impression.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'offers_shown',\n   *   active: false,\n   *   data: {'offers': ['basic-monthly', 'premium-weekly'],\n   *           'source': ‘paywall-metering-expired’}\n   * }\n   */\n  IMPRESSION_OFFERS: 'offers_shown',\n  /**\n   * ACTION_SUBSCRIPTIONS_LANDING_PAGE event.\n   * User has taken the action to arrive at a landing page of the\n   * subscription workflow. The landing page should satisfy one of\n   * the following conditions and hence be a part of the funnel to\n   * get the user to subscribe:\n   * - have a button to navigate the user to an offers page, (in\n   *   this case, the next event will be IMPRESSION_OFFERS, with\n   *   parameter 'source' as subscriptions-landing-page and\n   *   'is_active' set to true),\n   * - show offers the user can select, (in this case, the next\n   *   event will be IMPRESSION_OFFERS, with a parameter 'source'\n   *   as navigate-to-offers-page and 'is_active' set to true),\n   * - provide a way to start the payment flow for a specific offer.\n   *   (in this case, the next event will be ACTION_OFFER_SELECTED\n   *   or ACTION_PAYMENT_FLOW_STARTED depending on if that button\n   *   took the user to a checkout page on the publishers site or\n   *   directly started the payment flow).\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true since this is a user action.\n   * The JSON block with this event can provide additional information\n   * such as the source, indicating what caused the user to navigate\n   * to this page.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'subscriptions_landing_page',\n   *   active: true,\n   *   data: {'source': 'marketing_via_email'}\n   * }\n   */\n  ACTION_SUBSCRIPTIONS_LANDING_PAGE: 'subscriptions_landing_page',\n  /**\n   * ACTION_OFFER_SELECTED event.\n   * User has selected an offer.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true since this is a user action.\n   * The JSON block can provide the product selected.\n   * For example: {\n   *   name: 'offer_selected',\n   *   active: true,\n   *   data: {product': 'basic-monthly'}\n   * }\n   * When offer selection starts the payment flow directly,\n   * use the next event ACTION_PAYMENT_FLOW_STARTED instead.\n   */\n  ACTION_OFFER_SELECTED: 'offer_selected',\n  /**\n   * ACTION_PAYMENT_FLOW_STARTED event.\n   * User has started payment flow.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true since this is a user action.\n   * The JSON block can provide the product selected.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'payment_flow_started',\n   *   active: true,\n   *   data: {product': 'basic-monthly'}\n   * }\n   */\n  ACTION_PAYMENT_FLOW_STARTED: 'payment_flow_start',\n  /**\n   * ACTION_PAYMENT_COMPLETED.\n   * User has made the payment for a subscription.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true since this is a user action.\n   * The JSON block can provide the product user paid for.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'payment_complete',\n   *   active: true,\n   *   data: {product': 'basic-monthly'}\n   * }\n   */\n  ACTION_PAYMENT_COMPLETED: 'payment_complete',\n  /**\n   * EVENT_CUSTOM: custom publisher event.\n   * The field 'active' of PropensityEvent, which carries this\n   * event, must be set to true or false depending on if the event\n   * was generated as a result of a user action.\n   * The JSON block can provide the event name for the custom event.\n   * For example:\n   * const propensityEvent = {\n   *   name: 'custom',\n   *   active: true,\n   *   data: {\n   *     'event_name': 'social_share',\n   *     'platform_used': 'whatsapp'\n   *   }\n   *  }\n   */\n  EVENT_CUSTOM: 'custom',\n};\n\n/**\n * Propensity Event\n * Properties:\n * - name: Required. Name should be valid string in the Event\n *         enum within src/api/logger-api.js.\n * - active: Required. A boolean that indicates whether the\n *         user took some action to participate in the flow\n *         that generated this event. For impression event,\n *         this is set to true if is_active field would be\n *         set to true, as described in documentation for\n *         enum Event. Otherwise, set this field to false.\n *         For action events, this field must always be set\n *         to true. The caller must always set this field.\n * - data: Optional. JSON block of depth '1' provides event\n *         parameters. The guideline to create this JSON block\n *         that describes the event is provided against each\n *         enum listed in the Event enum above.\n *\n *  @typedef {{\n *    name: string,\n *    active: boolean,\n *    data: ?JsonObject,\n * }}\n */\nexport let PublisherEvent;\n\n/* eslint-disable no-unused-vars */\n/**\n * @interface\n */\nexport class LoggerApi {\n  /**\n   * Send a buy-flow event that occurred on the publisher's site to Google.  The\n   * ultimate destination is controlled by configuration settings.  Publisher\n   * configuration available:\n   *   enablePropensity - Sends data to the Propensity to Subscribe ads server.\n   *   enableSwgAnalytics - Sends data to Google's analytics server for buy-flow\n   *     comparison purposes.\n   * @param {!PublisherEvent} userEvent\n   */\n  sendEvent(userEvent) {}\n\n  /**\n   * Send user subscription state upon initial discovery.\n   * A user may have active subscriptions to some products\n   * and expired subscriptions to others. Make one API call\n   * per subscription state and provide a corresponding\n   * list of products with a json object of depth 1.\n   * For example:\n   *     {'product': ['product1', 'product2']}\n   * Each call to this API should have the first argument\n   * as a valid string from the enum SubscriptionState.\n   * @param {SubscriptionState} state\n   * @param {?JsonObject} jsonProducts\n   */\n  sendSubscriptionState(state, jsonProducts) {}\n}\n/* eslint-enable no-unused-vars */\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @enum {number}  */\nexport const MeterClientTypes = {\n  /** Meter client type for content licensed by Google. */\n  LICENSED_BY_GOOGLE: 1,\n  /**\n   * Meter client type for content that a publication is allowing to be\n   * metered by Google.\n   */\n  METERED_BY_GOOGLE: 2,\n};\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n */\nexport class Offer {\n  /**\n   * @param {string} skuId\n   * @param {string} title\n   * @param {string} description\n   * @param {string} price\n   */\n  constructor(skuId, title, description, price) {\n    /** @const {string} */\n    this.skuId = skuId;\n    /** @const {string} */\n    this.title = title;\n    /** @const {string} */\n    this.description = description;\n    /** @const {string} */\n    this.price = price;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as LoggerApi from './logger-api';\n\n/**\n * @enum {string}\n */\nexport const PropensityType = {\n  // Propensity score for a user to subscribe to a publication.\n  GENERAL: 'general',\n  // Propensity score when blocked access to content by paywall.\n  PAYWALL: 'paywall',\n};\n\n/**\n * The Propensity Score\n * - value: Required. A number that indicates the propensity to subscribe.\n * - bucketed: Required. Indicates if the score is a raw score [1-100] or bucketed[1-20].\n *\n * @typedef {{\n *   value: number,\n *   bucketed: boolean,\n * }}\n */\nexport let Score;\n\n/**\n * Propensity Score Detail\n * Properties:\n * - product: Required. Indicates the publication_id:product_id for which the score is provided.\n * - score: Optional. When score is available, this field contains the propensity score for this product.\n * - error: Optional. When no score is avaialble, a string provides the error message.\n *\n * @typedef {{\n *   product: string,\n *   score: ?Score,\n *   error: ?string,\n * }}\n */\nexport let ScoreDetail;\n\n/**\n * The Body field of the Propensity Score.\n * Properties:\n * - scores: Optional, an array of scores. When header indicates so, atleast one score is available.\n * - error: Optional, string describing why, if no scores were provided by the server.\n *\n *  @typedef {{\n *    scores: ?Array<ScoreDetail>,\n *    error: ?string,\n * }}\n */\nexport let Body;\n\n/**\n * The Header of the Propensity Score.\n * Properties:\n * - ok: Required. true, if propensity score is available, false otherwise.\n *\n *  @typedef {{\n *    ok: boolean,\n * }}\n */\nexport let Header;\n\n/**\n * The Propensity Score.\n * Properties:\n * - header: Required. Provides the header of the Score response.\n * - body: Required. Provides the body of the Score response.\n *\n *  @typedef {{\n *    header: Header,\n *    body: Body,\n * }}\n */\nexport let PropensityScore;\n\n/**\n * Propensity Event\n *   Please note that the primary defition of this object has changed to\n *   PublisherEvent and is defined in logger-api.js.  These two object\n *   definitions are identical.\n * Properties:\n * - name: Required. Name should be valid string in the Event\n *         enum within src/api/logger-api.js.\n * - active: Required. A boolean that indicates whether the\n *         user took some action to participate in the flow\n *         that generated this event. For impression event,\n *         this is set to true if is_active field would be\n *         set to true, as described in documentation for\n *         enum Event. Otherwise, set this field to false.\n *         For action events, this field must always be set\n *         to true. The caller must always set this field.\n * - data: Optional. JSON block of depth '1' provides event\n *         parameters. The guideline to create this JSON block\n *         that describes the event is provided against each\n *         enum listed in the Event enum above.\n *\n *  @typedef {{\n *    name: string,\n *    active: boolean,\n *    data: ?JsonObject,\n * }}\n */\nexport let PropensityEvent;\n\n/*\n * Please note that the definitions of Event and SubscriptionState have moved\n * to logger-api.js.  This is now the preferred interface to use for logging\n * publisher events and setting the user's current subscription state.\n * Propensity will continue to function as an event logger until we are certain\n * no publishers are actively using it to log events.\n */\nexport const Event = LoggerApi.Event;\nexport const SubscriptionState = LoggerApi.SubscriptionState;\n\n/* eslint-disable no-unused-vars */\n/**\n * @extends {LoggerApi.LoggerApi}\n * @interface\n */\nexport class PropensityApi extends LoggerApi.LoggerApi {\n  /**\n   * Get the propensity of a user to subscribe based on the type.\n   * The argument should be a valid string from PropensityType.\n   * If no type is provided, GENERAL score is returned.\n   * @param {PropensityType=} type\n   * @return {?Promise<!PropensityScore>}\n   */\n  getPropensity(type) {}\n}\n/* eslint-enable no-unused-vars */\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Entitlements as EntitlementsDef} from './entitlements';\nimport {UserData as UserDataDef} from './user-data';\n\n/**\n */\nexport class SubscribeResponse {\n  /**\n   * @param {string} raw\n   * @param {!PurchaseData} purchaseData\n   * @param {?UserDataDef} userData\n   * @param {?EntitlementsDef} entitlements\n   * @param {!string} productType\n   * @param {function():!Promise} completeHandler\n   * @param {?string=} oldSku\n   * @param {?string=} swgUserToken\n   * @param {?number=} paymentRecurrence\n   * @param {?Object=} requestMetadata\n   */\n  constructor(\n    raw,\n    purchaseData,\n    userData,\n    entitlements,\n    productType,\n    completeHandler,\n    oldSku = null,\n    swgUserToken = null,\n    paymentRecurrence = null,\n    requestMetadata = null\n  ) {\n    /** @const {string} */\n    this.raw = raw;\n    /** @const {!PurchaseData} */\n    this.purchaseData = purchaseData;\n    /** @const {?UserDataDef} */\n    this.userData = userData;\n    /** @const {?EntitlementsDef} */\n    this.entitlements = entitlements;\n    /** @const {string} */\n    this.productType = productType;\n    /** @private @const {function():!Promise} */\n    this.completeHandler_ = completeHandler;\n    /** @const {?string} */\n    this.oldSku = oldSku;\n    /** @const {?string} */\n    this.swgUserToken = swgUserToken;\n    /** @const {?number} */\n    this.paymentRecurrence = paymentRecurrence;\n    /** @const {?Object} */\n    this.requestMetadata = requestMetadata;\n  }\n\n  /**\n   * @return {!SubscribeResponse}\n   */\n  clone() {\n    return new SubscribeResponse(\n      this.raw,\n      this.purchaseData,\n      this.userData,\n      this.entitlements,\n      this.productType,\n      this.completeHandler_,\n      this.oldSku,\n      this.swgUserToken\n    );\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'purchaseData': this.purchaseData.json(),\n      'userData': this.userData ? this.userData.json() : null,\n      'entitlements': this.entitlements ? this.entitlements.json() : null,\n      'oldSku': this.oldSku,\n      'productType': this.productType,\n      'swgUserToken': this.swgUserToken,\n    };\n  }\n\n  /**\n   * Allows the receiving site to complete/acknowledge that it registered\n   * the subscription purchase. The typical action would be to create an\n   * account (or match an existing one) and associated the purchase with\n   * that account.\n   *\n   * SwG will display progress indicator until this method is called and\n   * upon receiving this call will show the confirmation to the user.\n   * The promise returned by this method will yield once the user closes\n   * the confirmation.\n   *\n   * @return {!Promise}\n   */\n  complete() {\n    return this.completeHandler_();\n  }\n}\n\n/**\n */\nexport class PurchaseData {\n  /**\n   * @param {string} raw\n   * @param {string} signature\n   */\n  constructor(raw, signature) {\n    /** @const {string} */\n    this.raw = raw;\n    /** @const {string} */\n    this.data = raw;\n    /** @const {string} */\n    this.signature = signature;\n  }\n\n  /**\n   * @return {!PurchaseData}\n   */\n  clone() {\n    return new PurchaseData(this.raw, this.signature);\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'data': this.raw,\n      'signature': this.signature,\n    };\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ClientEventManagerApi as ClientEventManagerApiDef} from './client-event-manager-api';\nimport {\n  DeferredAccountCreationRequest,\n  DeferredAccountCreationResponse,\n} from './deferred-account-creation';\nimport {Entitlements as EntitlementsDef} from './entitlements';\nimport {LoggerApi as LoggerApiDef} from './logger-api';\nimport {Offer as OfferDef} from './offer';\nimport {PropensityApi as PropensityApiDef} from './propensity-api';\nimport {SubscribeResponse as SubscribeResponseDef} from './subscribe-response';\n\n/* eslint-disable no-unused-vars */\n/**\n * @interface\n */\nexport class Subscriptions {\n  /**\n   * Optionally initializes the subscriptions runtime with publication or\n   * product ID. If not called, the runtime will look for the initialization\n   * parameters in the page's markup.\n   * @param {string} productOrPublicationId\n   */\n  init(productOrPublicationId) {}\n\n  /**\n   * Optionally configures the runtime with non-default properties. See\n   * `Config` definition for details.\n   * @param {!Config} config\n   * @return {?}\n   */\n  configure(config) {}\n\n  /**\n   * Starts the entitlement flow.\n   * @return {?}\n   */\n  start() {}\n\n  /**\n   * Resets the entitlements that can be fetched again.\n   * @return {?}\n   */\n  reset() {}\n\n  /**\n   * Resets the entitlements and clears all of the caches.\n   * @return {?}\n   */\n  clear() {}\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!EntitlementsDef>}\n   */\n  getEntitlements(params) {}\n\n  /**\n   * Set the subscribe callback.\n   * @param {function(!Promise<!EntitlementsDef>)} callback\n   * @return {?}\n   */\n  setOnEntitlementsResponse(callback) {}\n\n  /**\n   * Returns a set of offers.\n   * @param {{\n   *   productId: (string|undefined),\n   * }=} options\n   * @return {!Promise<!Array<!OfferDef>>}\n   */\n  getOffers(options) {}\n\n  /**\n   * Starts the Offers flow.\n   * @param {!OffersRequest=} options\n   * @return {?}\n   */\n  showOffers(options) {}\n\n  /**\n   * Starts the Offers flow for a subscription update.\n   * @param {!OffersRequest=} options\n   * @return {?}\n   */\n  showUpdateOffers(options) {}\n\n  /**\n   * Show subscription option.\n   * @param {!OffersRequest=} options\n   * @return {?}\n   */\n  showSubscribeOption(options) {}\n\n  /**\n   * Show abbreviated offers.\n   * @param {!OffersRequest=} options\n   * @return {?}\n   */\n  showAbbrvOffer(options) {}\n\n  /**\n   * Show contribution options for the users to select from.\n   * The options are grouped together by periods (Weekly, Monthly, etc.).\n   * User can select the amount to contribute to from available options\n   * to the publisher. These options are based on the SKUs defined in the Play\n   * console for a given publication.\n   * Each SKU has Amount, Period, SKUId and other attributes.\n   * @param {!OffersRequest=} options\n   * @return {?}\n   */\n  showContributionOptions(options) {}\n\n  /**\n   * Set the callback for the native subscribe request. Setting this callback\n   * triggers the \"native\" option in the offers flow.\n   * @param {function()} callback\n   * @return {?}\n   */\n  setOnNativeSubscribeRequest(callback) {}\n\n  /**\n   * Set the subscribe complete callback.\n   * @param {function(!Promise<!SubscribeResponseDef>)} callback\n   * @return {?}\n   */\n  setOnSubscribeResponse(callback) {}\n\n  /**\n   * Starts subscription purchase flow.\n   * @param {string} sku\n   * @return {?}\n   */\n  subscribe(sku) {}\n\n  /**\n   * Starts subscription purchase flow.\n   * @param {SubscriptionRequest} subscriptionRequest\n   * @return {?}\n   */\n  updateSubscription(subscriptionRequest) {}\n\n  /**\n   * Set the contribution complete callback.\n   * @param {function(!Promise<!SubscribeResponseDef>)} callback\n   * @return {?}\n   */\n  setOnContributionResponse(callback) {}\n\n  /**\n   * Set the payment complete callback.\n   * @param {function(!Promise<!SubscribeResponseDef>)} callback\n   * @return {?}\n   */\n  setOnPaymentResponse(callback) {}\n\n  /**\n   * Starts contributions purchase flow.\n   * @param {string|SubscriptionRequest} skuOrSubscriptionRequest\n   * @return {?}\n   */\n  contribute(skuOrSubscriptionRequest) {}\n\n  /**\n   * Starts the deferred account creation flow.\n   * See `DeferredAccountCreationRequest` for more details.\n   * @param {?DeferredAccountCreationRequest=} options\n   * @return {!Promise<!DeferredAccountCreationResponse>}\n   */\n  completeDeferredAccountCreation(options) {}\n\n  /**\n   * @param {function(!LoginRequest)} callback\n   * @return {?}\n   */\n  setOnLoginRequest(callback) {}\n\n  /**\n   * @param {!LoginRequest} request\n   * @return {?}\n   */\n  triggerLoginRequest(request) {}\n\n  /**\n   * Starts the login prompt flow.\n   * @return {!Promise}\n   */\n  showLoginPrompt() {}\n\n  /**\n   * Starts the login notification flow.\n   * @return {!Promise}\n   */\n  showLoginNotification() {}\n\n  /**\n   * @param {function()} callback\n   * @return {?}\n   */\n  setOnLinkComplete(callback) {}\n\n  /**\n   * @param {!Promise} accountPromise Publisher's promise to lookup account.\n   * @return {!Promise}\n   */\n  waitForSubscriptionLookup(accountPromise) {}\n\n  /**\n   * Starts the Account linking flow.\n   * TODO(dparikh): decide if it's only exposed for testing or PROD purposes.\n   * @param {{ampReaderId: (string|undefined)}=} params\n   * @return {?}\n   */\n  linkAccount(params) {}\n\n  /**\n   * Notifies the client that a flow has been started. The name of the flow\n   * is passed as the callback argument. The flow name corresponds to the\n   * method name in this interface, such as \"showOffers\", or \"subscribe\".\n   * See `SubscriptionFlows` for the full list.\n   *\n   * Also see `setOnFlowCanceled` method.\n   *\n   * @param {function({flow: string, data: !Object})} callback\n   * @return {?}\n   */\n  setOnFlowStarted(callback) {}\n\n  /**\n   * Notifies the client that a flow has been canceled. The name of the flow\n   * is passed as the callback argument. The flow name corresponds to the\n   * method name in this interface, such as \"showOffers\", or \"subscribe\".\n   * See `SubscriptionFlows` for the full list.\n   *\n   * Notice that some of the flows, such as \"subscribe\", could additionally\n   * have their own \"cancel\" events.\n   *\n   * Also see `setOnFlowStarted` method.\n   *\n   * @param {function({flow: string, data: !Object})} callback\n   * @return {?}\n   */\n  setOnFlowCanceled(callback) {}\n\n  /**\n   * Starts the save subscriptions flow.\n   * @param {!SaveSubscriptionRequestCallback} requestCallback\n   * @return {!Promise} a promise indicating flow is started\n   */\n  saveSubscription(requestCallback) {}\n\n  /**\n   * Creates an element with the SwG button style and the provided callback.\n   * The default theme is \"light\".\n   *\n   * @param {!ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  createButton(optionsOrCallback, callback) {}\n\n  /**\n   * Attaches the SwG button style and the provided callback to an existing\n   * DOM element. The default theme is \"light\".\n   *\n   * @param {!Element} button\n   * @param {!ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {?}\n   */\n  attachButton(button, optionsOrCallback, callback) {}\n\n  /**\n   * Attaches smartButton element and the provided callback.\n   * The default theme is \"light\".\n   *\n   * @param {!Element} button\n   * @param {!SmartButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {?}\n   */\n  attachSmartButton(button, optionsOrCallback, callback) {}\n\n  /**\n   * Retrieves the propensity module that provides APIs to\n   * get propensity scores based on user state and events\n   * @return {!Promise<PropensityApiDef>}\n   */\n  getPropensityModule() {}\n\n  /** @return {!Promise<LoggerApiDef>} */\n  getLogger() {}\n\n  /** @return {!Promise<ClientEventManagerApiDef>} */\n  getEventManager() {}\n\n  /**\n   * Publishers participating in Showcase should call this with their own entitlements\n   * and entitlement related UI events.  SwG will automatically do this for Google\n   * sourced subscriptions and meters.\n   * @param {!PublisherEntitlement} entitlement\n   * @return {?}\n   */\n  setShowcaseEntitlement(entitlement) {}\n\n  /**\n   * Publishers, who both (1) participate in Showcase and (2) use server-side paywalls,\n   * should call this method to consume Showcase entitlements.\n   * @param {string} showcaseEntitlementJwt\n   * @param {?Function=} onCloseDialog Called after the user closes the dialog.\n   * @return {?}\n   */\n  consumeShowcaseEntitlementJwt(showcaseEntitlementJwt, onCloseDialog) {}\n\n  /**\n   * Intelligently returns the most interesting action to the\n   * reader based on different different user status. For\n   * instance, a new user may get free metering by simply\n   * clicking 'follow-publisher' action, and a frequently\n   * visiting user may be shown a 'creating an account' action.\n   * TODO(moonbong): Implement this function.\n   * @return {?}\n   */\n  showBestAudienceAction() {}\n\n  /**\n   * Sets the publisherProvidedId.\n   * @param {string} publisherProvidedId\n   * @return {?}\n   */\n  setPublisherProvidedId(publisherProvidedId) {}\n}\n/* eslint-enable no-unused-vars */\n\n/** @enum {string} */\nexport const ShowcaseEvent = {\n  // Events indicating content could potentially be unlocked\n  EVENT_SHOWCASE_METER_OFFERED: 'EVENT_SHOWCASE_METER_OFFERED', // This event is only required if the user can choose not to use a publisher meter\n\n  // Events indicating content was unlocked\n  EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION:\n    'EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION', // Publisher managed subscriptions only\n  EVENT_SHOWCASE_UNLOCKED_BY_METER: 'EVENT_SHOWCASE_UNLOCKED_BY_METER', // Publisher managed meters only\n  EVENT_SHOWCASE_UNLOCKED_FREE_PAGE: 'EVENT_SHOWCASE_UNLOCKED_FREE_PAGE', // When the article is free for any reason (lead article, etc)\n\n  // Events indicating the user must take action to view content\n  EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL:\n    'EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL', // When the user must register (or log in) to view the article\n\n  // Events indicating the user must subscribe to view content\n  EVENT_SHOWCASE_INELIGIBLE_PAYWALL: 'EVENT_SHOWCASE_INELIGIBLE_PAYWALL', // When the user is not eligible for showcase entitlements\n  EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL:\n    'EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL', // When the user has no remaining showcase entitlements\n};\n\n/**\n * PublisherEntitlement\n *   In order to participate in News Showcase, publishers must report information about their entitlements.\n * Properties:\n * - isUserRegistered: Is the user registered currently?\n * - entitlement: Publisher entitlement event type.\n * - subscriptionTimestamp: Timestamp(in millisecond) when the user converted to a subscriber. Null if the user is not a subscriber.\n *  @typedef {{\n *    isUserRegistered:  !boolean,\n *    entitlement: !ShowcaseEvent,\n *    subscriptionTimestamp: (!number|null),\n * }}\n */\nexport let PublisherEntitlement;\n\n/** @enum {string} */\nexport const SubscriptionFlows = {\n  SHOW_OFFERS: 'showOffers',\n  SHOW_SUBSCRIBE_OPTION: 'showSubscribeOption',\n  SHOW_ABBRV_OFFER: 'showAbbrvOffer',\n  SHOW_CONTRIBUTION_OPTIONS: 'showContributionOptions',\n  SUBSCRIBE: 'subscribe',\n  CONTRIBUTE: 'contribute',\n  COMPLETE_DEFERRED_ACCOUNT_CREATION: 'completeDeferredAccountCreation',\n  LINK_ACCOUNT: 'linkAccount',\n  SHOW_LOGIN_PROMPT: 'showLoginPrompt',\n  SHOW_LOGIN_NOTIFICATION: 'showLoginNotification',\n  SHOW_METER_TOAST: 'showMeterToast',\n};\n\n/**\n * Configuration properties:\n * - windowOpenMode - either \"auto\" or \"redirect\". The \"redirect\" value will\n *   force redirect flow for any window.open operation, including payments.\n *   The \"auto\" value either uses a redirect or a popup flow depending on\n *   what's possible on a specific environment. Defaults to \"auto\".\n * - enableSwgAnalytics - if set to true then events logged by the publisher's\n *   client will be sent to Google's SwG analytics service.  This information is\n *   used to compare the effectiveness of Google's buy-flow events to those\n *   generated by the publisher's client code.  This includes events sent to\n *   both PropensityApi and LoggerApi.\n * - enablePropensity - If true events from the logger api are sent to the\n *   propensity server.  Note events from the legacy propensity endpoint are\n *   always sent.\n * @typedef {{\n *   experiments: (!Array<string>|undefined),\n *   windowOpenMode: (!WindowOpenMode|undefined),\n *   analyticsMode: (!AnalyticsMode|undefined),\n *   enableSwgAnalytics: (boolean|undefined),\n *   enablePropensity: (boolean|undefined),\n *   publisherProvidedId: (string|undefined),\n * }}\n */\nexport let Config;\n\n/**\n * Params for GetEntitlements requests to SwG Client.\n * swg-js constructs objects of this type, but publisher JS won't.\n * swg-js converts these params to a Base64 JSON string\n * before sending them to SwG Client.\n * @typedef {{\n *   metering: (!GetEntitlementsMeteringParamsInternal|undefined),\n * }}\n */\nexport let GetEntitlementsParamsInternalDef;\n\n/**\n * Encryption params for GetEntitlements requests.\n * @typedef {{\n *   encryptedDocumentKey: string,\n * }}\n */\nexport let GetEntitlementsEncryptionParams;\n\n/**\n * Metering params for GetEntitlements requests to SwG Client.\n * swg-js constructs objects of this type, but publisher JS won't.\n * @typedef {{\n *   clientTypes: (undefined|!Array<number>),\n *   owner: (undefined|string),\n *   state: (undefined|{\n *     id: string,\n *     attributes: !Array<{\n *       name: string,\n *       timestamp: number,\n *     }>,\n *   }),\n *   token: (undefined|string),\n *   resource: {\n *     hashedCanonicalUrl: string,\n *   },\n * }}\n */\nexport let GetEntitlementsMeteringParamsInternal;\n\n/**\n * Params for `getEntitlements` calls from publisher JS.\n * swg-js converts objects of this type to GetEntitlementsParamsInternal.\n * @typedef {{\n *   encryption: (!GetEntitlementsEncryptionParams|undefined),\n *   metering: (!GetEntitlementsMeteringParamsExternal|undefined),\n *   publisherProvidedId: (string|undefined),\n * }}\n */\nexport let GetEntitlementsParamsExternalDef;\n\n/**\n * Params for `getEntitlements` calls from publisher JS.\n * swg-js converts objects of this type to GetEntitlementsMeteringParamsInternal.\n * @typedef {{\n *   clientTypes: !Array<number>,\n *   owner: string,\n *   state: {\n *     id: string,\n *     standardAttributes: !Object<string, {\n *       timestamp: number,\n *     }>,\n *     customAttributes: !Object<string, {\n *       timestamp: number,\n *     }>,\n *   },\n *   resource: {\n *     hashedCanonicalUrl: string,\n *   },\n * }}\n */\nexport let GetEntitlementsMeteringParamsExternal;\n\n/**\n * @enum {number}\n */\nexport const AnalyticsMode = {\n  DEFAULT: 0,\n  IMPRESSIONS: 1,\n};\n\n/**\n * @enum {string}\n */\nexport const WindowOpenMode = {\n  AUTO: 'auto',\n  REDIRECT: 'redirect',\n};\n\n/**\n * @enum {string}\n */\nexport const ReplaceSkuProrationMode = {\n  // The replacement takes effect immediately, and the remaining time will\n  // be prorated and credited to the user. This is the current default\n  // behavior.\n  IMMEDIATE_WITH_TIME_PRORATION: 'IMMEDIATE_WITH_TIME_PRORATION',\n};\n\n/**\n * The Offers/Contributions UI is rendered differently based on the\n * ProductType. The ProductType parameter is passed to the Payments flow, and\n * then passed back to the Payments confirmation page to render messages/text\n * based on the ProductType.\n * @enum {string}\n */\nexport const ProductType = {\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  UI_CONTRIBUTION: 'UI_CONTRIBUTION',\n  VIRTUAL_GIFT: 'VIRTUAL_GIFT',\n};\n\n/**\n * @return {!Config}\n */\nexport function defaultConfig() {\n  return {\n    windowOpenMode: WindowOpenMode.AUTO,\n    analyticsMode: AnalyticsMode.DEFAULT,\n    enableSwgAnalytics: false,\n    enablePropensity: false,\n  };\n}\n\n/**\n * Properties:\n * - skus - a list of SKUs to return from the defined or default list. The\n *   order is preserved. Required if oldSku is specified (to indicate which\n *   SKUs the user can upgrade or downgrade to).\n * - list - a predefined list of SKUs. Use of this property is uncommon.\n *   Possible values are \"default\" and \"amp\". Default is \"default\".\n * - isClosable - a boolean value to determine whether the view is closable.\n * - oldSku - Optional. The SKU to replace. For example, if a user wants to\n *   upgrade or downgrade their current subscription.\n *\n * @typedef {{\n *   skus: (!Array<string>|undefined),\n *   list: (string|undefined),\n *   isClosable: (boolean|undefined),\n *   oldSku: (string|undefined),\n * }}\n */\nexport let OffersRequest;\n\n/**\n * @typedef {{\n *   linkRequested: boolean,\n * }}\n */\nexport let LoginRequest;\n\n/**\n * Properties:\n * - one and only one of \"token\" or \"authCode\"\n * AuthCode reference: https://developers.google.com/actions/identity/oauth2-code-flow\n * Token reference: https://developers.google.com/actions/identity/oauth2-implicit-flow\n * @typedef {{\n *   token: (string|undefined),\n *   authCode: (string|undefined),\n * }}\n */\nexport let SaveSubscriptionRequest;\n\n/**\n * Callback for retrieving subscription request\n *\n * @typedef {function():(!Promise<SaveSubscriptionRequest> | !SaveSubscriptionRequest)} SaveSubscriptionRequestCallback\n */\nexport let SaveSubscriptionRequestCallback;\n\n/**\n * Properties:\n * - lang: Sets the button SVG and title. Default is \"en\".\n * - theme: \"light\" or \"dark\". Default is \"light\".\n * - disable: whether to grey out the button.\n *\n * @typedef {{\n *   theme: (string|undefined),\n *   lang: (string|undefined),\n *   disable: (boolean|undefined),\n * }}\n */\nexport let ButtonOptions;\n\n/**\n * Properties:\n * - lang: Sets the button SVG and title. Default is \"en\".\n * - theme: \"light\" or \"dark\". Default is \"light\".\n * - messageTextColor: Overrides theme color for message text. (ex: \"#09f\")\n *\n * @typedef {{\n *   theme: (string|undefined),\n *   lang: (string|undefined),\n *   messageTextColor: (string|undefined),\n * }}\n */\nexport let SmartButtonOptions;\n\n/**\n * Properties:\n * - sku: Required. Sku to add to the user's subscriptions.\n * - oldSku: Optional. This is if you want to replace one sku with another. For\n *  example, if a user wants to upgrade or downgrade their current subscription.\n * - prorationMode: Optional. When replacing a subscription you can decide on a\n *  specific proration mode to charge the user.\n *  The default is IMMEDIATE_WITH_TIME_PRORATION.\n * - oneTime: Optional. When a user chooses a contribution, they have the option\n *  to make it non-recurring.\n *\n *  @typedef {{\n *    skuId: string,\n *    oldSku: (string|undefined),\n *    replaceSkuProrationMode: (ReplaceSkuProrationMode|undefined),\n *    oneTime: (boolean|undefined),\n * }}\n */\nexport let SubscriptionRequest;\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n */\nexport class UserData {\n  /**\n   * @param {string} idToken\n   * @param {!Object} data\n   */\n  constructor(idToken, data) {\n    /** @const {string} */\n    this.idToken = idToken;\n    /** @const {!Object} */\n    this.data = data;\n\n    /** @const {string} */\n    this.id = data['sub'];\n    /** @const {string} */\n    this.email = data['email'];\n    /** @const {boolean} */\n    this.emailVerified = data['email_verified'];\n    /** @const {string} */\n    this.name = data['name'];\n    /** @const {string} */\n    this.givenName = data['given_name'];\n    /** @const {string} */\n    this.familyName = data['family_name'];\n    /** @const {string} */\n    this.pictureUrl = data['picture'];\n  }\n\n  /**\n   * @return {!UserData}\n   */\n  clone() {\n    return new UserData(this.idToken, this.data);\n  }\n\n  /**\n   * @return {!Object}\n   */\n  json() {\n    return {\n      'id': this.id,\n      'email': this.email,\n      'emailVerified': this.emailVerified,\n      'name': this.name,\n      'givenName': this.givenName,\n      'familyName': this.familyName,\n      'pictureUrl': this.pictureUrl,\n    };\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  AnalyticsRequest,\n  EventOriginator,\n  deserialize,\n  getLabel,\n} from '../proto/api_messages';\n\nimport {Constants} from '../utils/constants';\nimport {addQueryParam} from '../utils/url';\n\nconst {\n  ActivityIframePort: WebActivityIframePort,\n  ActivityPorts: WebActivityPorts,\n} = require('web-activities/activity-ports');\n\n/**\n * @interface\n */\nexport class ActivityPortDef {\n  /**\n   * @return {!Promise<!web-activities/activity-ports.ActivityResult>}\n   */\n  acceptResult() {}\n}\n/**\n * @interface\n */\nexport class ActivityPort extends ActivityPortDef {\n  /**\n   * Returns the mode of the activity: iframe, popup or redirect.\n   * @return {!web-activities/activity-ports.ActivityMode}\n   */\n  getMode() {}\n\n  /**\n   * Accepts the result when ready. The client should verify the activity's\n   * mode, origin, verification and secure channel flags before deciding\n   * whether or not to trust the result.\n   *\n   * Returns the promise that yields when the activity has been completed and\n   * either a result, a cancelation or a failure has been returned.\n   *\n   * @return {!Promise<!web-activities/activity-ports.ActivityResult>}\n   * @override\n   */\n  acceptResult() {}\n\n  /**\n   * Returns a promise that yields when the iframe is ready to be interacted\n   * with.\n   * @return {!Promise}\n   */\n  whenReady() {}\n\n  /**\n   * Waits until the activity port is connected to the host.\n   * @return {!Promise}\n   */\n  connect() {}\n\n  /**\n   * Disconnect the activity binding and cleanup listeners.\n   */\n  disconnect() {}\n\n  /**\n   * Register a callback to handle resize requests. Once successfully resized,\n   * ensure to call `resized()` method.\n   * @param {function(number)} unusedCallback\n   */\n  onResizeRequest(unusedCallback) {}\n\n  /**\n   * @param {!../proto/api_messages.Message} unusedRequest\n   */\n  execute(unusedRequest) {}\n\n  /**\n   * @param {!function(new: T)} unusedMessage\n   * @param {function(Object)} unusedCallback\n   * @template T\n   */\n  on(unusedMessage, unusedCallback) {}\n\n  /**\n   * Signals back to the activity implementation that the client has updated\n   * the activity's size.\n   */\n  resized() {}\n}\n/**\n * @implements {ActivityPortDef}\n */\nclass ActivityPortDeprecated {\n  /**\n   * @param {!web-activities/activity-ports.ActivityPort} port\n   */\n  constructor(port) {\n    /** @private @const {!web-activities/activity-ports.ActivityPort} */\n    this.port_ = port;\n  }\n\n  /**\n   * @return {!Promise<!web-activities/activity-ports.ActivityResult>}\n   */\n  acceptResult() {\n    return this.port_.acceptResult();\n  }\n}\n\n/**\n * @implements {ActivityPortDef}\n */\nexport class ActivityIframePort {\n  /**\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} url\n   * @param {!../runtime/deps.DepsDef} deps\n   * @param {?Object=} args\n   */\n  constructor(iframe, url, deps, args) {\n    /** @private @const {!web-activities/activity-ports.ActivityIframePort} */\n    this.iframePort_ = new WebActivityIframePort(iframe, url, args);\n    /** @private @const {!Object<string, function(!../proto/api_messages.Message)>} */\n    this.callbackMap_ = {};\n\n    /** @private @const {../runtime/deps.DepsDef} */\n    this.deps_ = deps;\n  }\n\n  /**\n   * Returns a promise that yields when the iframe is ready to be interacted\n   * with.\n   * @return {!Promise}\n   */\n  whenReady() {\n    return this.iframePort_.whenReady();\n  }\n\n  /**\n   * Waits until the activity port is connected to the host.\n   * @return {!Promise}\n   */\n  connect() {\n    return this.iframePort_.connect().then(() => {\n      // Attach a callback to receive messages after connection complete\n      this.iframePort_.onMessage((data) => {\n        const response = data && data['RESPONSE'];\n        if (!response) {\n          return;\n        }\n        const cb = this.callbackMap_[response[0]];\n        if (cb) {\n          cb(deserialize(response));\n        }\n      });\n\n      if (this.deps_ && this.deps_.eventManager()) {\n        this.on(AnalyticsRequest, (request) => {\n          const analyticsRequest = /** @type {AnalyticsRequest} */ (request);\n          this.deps_.eventManager().logEvent({\n            eventType: analyticsRequest.getEvent(),\n            eventOriginator: EventOriginator.SWG_SERVER,\n            isFromUserAction: analyticsRequest.getMeta().getIsFromUserAction(),\n            additionalParameters: analyticsRequest.getParams(),\n          });\n        });\n      }\n    });\n  }\n\n  /**\n   * Disconnect the activity binding and cleanup listeners.\n   */\n  disconnect() {\n    this.iframePort_.disconnect();\n  }\n\n  /**\n   * Returns the mode of the activity: iframe, popup or redirect.\n   * @return {!web-activities/activity-ports.ActivityMode}\n   */\n  getMode() {\n    return this.iframePort_.getMode();\n  }\n\n  /**\n   * Accepts the result when ready. The client should verify the activity's\n   * mode, origin, verification and secure channel flags before deciding\n   * whether or not to trust the result.\n   *\n   * Returns the promise that yields when the activity has been completed and\n   * either a result, a cancelation or a failure has been returned.\n   *\n   * @return {!Promise<!web-activities/activity-ports.ActivityResult>}\n   * @override\n   */\n  acceptResult() {\n    return this.iframePort_.acceptResult();\n  }\n\n  /**\n   * Register a callback to handle resize requests. Once successfully resized,\n   * ensure to call `resized()` method.\n   * @param {function(number)} callback\n   */\n  onResizeRequest(callback) {\n    return this.iframePort_.onResizeRequest(callback);\n  }\n\n  /**\n   * @param {!../proto/api_messages.Message} request\n   */\n  execute(request) {\n    this.iframePort_.message({'REQUEST': request.toArray()});\n  }\n\n  /**\n   * @param {!function(new: T)} message\n   * @param {function(?)} callback\n   * @template T\n   */\n  on(message, callback) {\n    let label = null;\n    try {\n      label = getLabel(message);\n    } catch (ex) {\n      // Thrown if message is not a proto object and has no label\n      label = null;\n    }\n    if (!label) {\n      throw new Error('Invalid data type');\n    } else if (this.callbackMap_[label]) {\n      throw new Error('Invalid type or duplicate callback for ', label);\n    }\n    this.callbackMap_[label] = callback;\n  }\n\n  /**\n   * Signals back to the activity implementation that the client has updated\n   * the activity's size.\n   */\n  resized() {\n    this.iframePort_.resized();\n  }\n}\n\nexport class ActivityPorts {\n  /**\n   * @param {!../runtime/deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!../runtime/deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!web-activities/activity-ports.ActivityPorts} */\n    this.activityPorts_ = new WebActivityPorts(deps.win());\n  }\n\n  /**\n   * Adds client version, publication, product and logging context information.\n   * @param {?Object=} args\n   * @return {!Object}\n   */\n  addDefaultArguments(args) {\n    const deps = this.deps_;\n    const pageConfig = deps.pageConfig();\n    const context = deps.analytics().getContext();\n    return Object.assign(\n      {\n        'analyticsContext': context.toArray(),\n        'publicationId': pageConfig.getPublicationId(),\n        'productId': pageConfig.getProductId(),\n        '_client': 'SwG $internalRuntimeVersion$',\n        'supportsEventManager': true,\n      },\n      args || {}\n    );\n  }\n\n  /*\n   * Start an activity within the specified iframe.\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} url\n   * @param {?Object=} args\n   * @return {!Promise<!ActivityIframePort>}\n   */\n  openActivityIframePort_(iframe, url, args) {\n    const activityPort = new ActivityIframePort(iframe, url, this.deps_, args);\n    return activityPort.connect().then(() => activityPort);\n  }\n\n  /**\n   * Start an activity within the specified iframe.\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} url\n   * @param {?Object=} args\n   * @param {boolean=} addDefaultArguments\n   * @return {!Promise<!ActivityIframePort>}\n   */\n  openIframe(iframe, url, args, addDefaultArguments = false) {\n    if (addDefaultArguments) {\n      args = this.addDefaultArguments(args);\n    }\n    return this.deps_\n      .storage()\n      .get(Constants.USER_TOKEN, /* useLocalStorage= */ true)\n      .then((swgUserToken) => {\n        const queryParams = new URL(url).searchParams;\n        if (swgUserToken && !queryParams.has('sut')) {\n          url = addQueryParam(url, 'sut', swgUserToken);\n        }\n\n        const pubId = this.deps_.pageConfig().getPublicationId();\n        if (pubId && !queryParams.has('publicationId')) {\n          url = addQueryParam(url, 'publicationId', pubId);\n        }\n\n        return this.openActivityIframePort_(iframe, url, args);\n      });\n  }\n\n  /**\n   * Start an activity in a separate window. The result will be delivered\n   * to the `onResult` callback.\n   *\n   * The activity can be opened in two modes: \"popup\" and \"redirect\". This\n   * depends on the `target` value, but also on the browser/environment.\n   *\n   * The allowed `target` values are `_blank`, `_top` and name targets. The\n   * `_self`, `_parent` and similar targets are not allowed.\n   *\n   * The `_top` target indicates that the activity should be opened as a\n   * \"redirect\", while other targets indicate that the activity should be\n   * opened as a popup. The activity client will try to honor the requested\n   * target. However, it's not always possible. Some environments do not\n   * allow popups and they either force redirect or fail the window open\n   * request. In this case, the activity will try to fallback to the \"redirect\"\n   * mode.\n   *\n   * @param {string} requestId\n   * @param {string} url\n   * @param {string} target\n   * @param {?Object=} args\n   * @param {?web-activities/activity-ports.ActivityOpenOptions=} options\n   * @param {boolean=} addDefaultArguments\n   * @return {{targetWin: ?Window}}\n   */\n  open(requestId, url, target, args, options, addDefaultArguments = false) {\n    if (addDefaultArguments) {\n      args = this.addDefaultArguments(args);\n    }\n    return this.activityPorts_.open(requestId, url, target, args, options);\n  }\n\n  /**\n   * Registers the callback for the result of the activity opened with the\n   * specified `requestId` (see the `open()` method). The callback is a\n   * function that takes a single `ActivityPort` argument. The client\n   * can use this object to verify the port using it's origin, verified and\n   * secure channel flags. Then the client can call\n   * `ActivityPort.acceptResult()` method to accept the result.\n   *\n   * The activity result is handled via a separate callback because of a\n   * possible redirect. So use of direct callbacks and/or promises is not\n   * possible in that case.\n   *\n   * A typical implementation would look like:\n   * ```\n   * ports.onResult('request1', function(port) {\n   *   port.acceptResult().then(function(result) {\n   *     // Only verified origins are allowed.\n   *     if (result.origin == expectedOrigin &&\n   *         result.originVerified &&\n   *         result.secureChannel) {\n   *       handleResultForRequest1(result);\n   *     }\n   *   });\n   * })\n   *\n   * ports.open('request1', request1Url, '_blank');\n   * ```\n   *\n   * @param {string} requestId\n   * @param {function(!ActivityPortDef)} callback\n   */\n  onResult(requestId, callback) {\n    this.activityPorts_.onResult(requestId, (port) => {\n      callback(new ActivityPortDeprecated(port));\n    });\n  }\n\n  /**\n   * @param {function(!Error)} handler\n   */\n  onRedirectError(handler) {\n    this.activityPorts_.onRedirectError(handler);\n  }\n\n  /**\n   * @return {!web-activities/activity-ports.ActivityPorts}\n   */\n  getOriginalWebActivityPorts() {\n    return this.activityPorts_;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Dialog} from './dialog';\nimport {Graypane} from './graypane';\nimport {isCancelError} from '../utils/errors';\n\nconst POPUP_Z_INDEX = 2147483647;\n\n/**\n * The class for the top level dialog.\n * @final\n */\nexport class DialogManager {\n  /**\n   * @param {!../model/doc.Doc} doc\n   */\n  constructor(doc) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = doc;\n\n    /** @private {?Dialog} */\n    this.dialog_ = null;\n\n    /** @private {?Promise<!Dialog>} */\n    this.openPromise_ = null;\n\n    /** @private @const {!Graypane} */\n    this.popupGraypane_ = new Graypane(doc, POPUP_Z_INDEX);\n\n    /** @private {?Window} */\n    this.popupWin_ = null;\n\n    this.popupGraypane_.getElement().addEventListener('click', () => {\n      if (this.popupWin_) {\n        try {\n          this.popupWin_.focus();\n        } catch (e) {\n          // Ignore error.\n        }\n      }\n    });\n  }\n\n  /**\n   * @param {boolean=} hidden\n   * @param {!./dialog.DialogConfig=} dialogConfig Configuration options for the\n   *     dialog.\n   * @return {!Promise<!Dialog>}\n   */\n  openDialog(hidden = false, dialogConfig = {}) {\n    if (!this.openPromise_) {\n      this.dialog_ = new Dialog(\n        this.doc_,\n        /* importantStyles */ {},\n        /* styles */ {},\n        dialogConfig\n      );\n      this.openPromise_ = this.dialog_.open(hidden);\n    }\n    return this.openPromise_;\n  }\n\n  /**\n   * @param {!./view.View} view\n   * @param {boolean=} hidden\n   * @param {!./dialog.DialogConfig=} dialogConfig Configuration options for the\n   *    dialog.\n   * @return {!Promise}\n   */\n  openView(view, hidden = false, dialogConfig = {}) {\n    this.handleCancellations(view);\n    return this.openDialog(hidden, dialogConfig).then((dialog) => {\n      return dialog.openView(view);\n    });\n  }\n\n  /**\n   * Handles cancellations (ex: user clicks close button on dialog).\n   * @param {!./view.View} view\n   * @return {!Promise}\n   */\n  handleCancellations(view) {\n    return view.whenComplete().catch((reason) => {\n      if (isCancelError(reason)) {\n        this.completeView(view);\n      }\n      throw reason;\n    });\n  }\n\n  /**\n   * @param {?./view.View} view\n   */\n  completeView(view) {\n    // Give a small amount of time for another view to take over the dialog.\n    setTimeout(() => {\n      if (this.dialog_ && this.dialog_.getCurrentView() == view) {\n        this.close_();\n      }\n    }, 100);\n  }\n\n  /**\n   */\n  completeAll() {\n    if (this.dialog_) {\n      this.close_();\n    }\n    if (this.popupGraypane_.isAttached()) {\n      this.popupGraypane_.destroy();\n    }\n  }\n\n  /**\n   * @returns {?Dialog}\n   */\n  getDialog() {\n    return this.dialog_;\n  }\n\n  /** @private */\n  close_() {\n    this.dialog_.close();\n    this.dialog_ = null;\n    this.openPromise_ = null;\n  }\n\n  /**\n   * @param {?Window|undefined} targetWin\n   */\n  popupOpened(targetWin) {\n    this.popupWin_ = targetWin || null;\n    if (!this.popupGraypane_.isAttached()) {\n      this.popupGraypane_.attach();\n    }\n    this.popupGraypane_.show();\n  }\n\n  /**\n   */\n  popupClosed() {\n    this.popupWin_ = null;\n    try {\n      this.popupGraypane_.hide();\n    } catch (e) {\n      // Ignore.\n    }\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {CSS as DIALOG_CSS} from '../../build/css/ui/ui.css';\nimport {FriendlyIframe} from './friendly-iframe';\nimport {Graypane} from './graypane';\nimport {LoadingView} from '../ui/loading-view';\nimport {\n  createElement,\n  injectStyleSheet,\n  removeChildren,\n  removeElement,\n} from '../utils/dom';\nimport {resolveDoc} from '../model/doc';\nimport {setImportantStyles, setStyles} from '../utils/style';\nimport {transition} from '../utils/animation';\n\nconst Z_INDEX = 2147483647;\n\n/**\n * Default iframe important styles.\n * Note: The iframe responsiveness media query style is injected in the\n * publisher's page since style attribute can not include media query.\n * @const {!Object<string, string|number>}\n */\nconst rootElementImportantStyles = {\n  'min-height': '50px',\n  'border': 'none',\n  'display': 'block',\n  'position': 'fixed',\n  'z-index': Z_INDEX,\n  'box-sizing': 'border-box',\n};\n\n/**\n * Reset view styles.\n * @const {!Object<string, string|number>}\n */\nconst resetViewStyles = {\n  'position': 'absolute',\n  'top': '0',\n  'left': '0',\n  'right': '0',\n  'bottom': '0',\n  'opacity': 0,\n  /* These lines are a work around to this issue in iOS:     */\n  /* https://bugs.webkit.org/show_bug.cgi?id=155198          */\n  'height': 0,\n  'max-height': '100%',\n  'max-width': '100%',\n  'min-height': '100%',\n  'min-width': '100%',\n  'width': 0,\n};\n\n/**\n * Display configration options for dialogs.\n *\n * Properties:\n * - desktopConfig: Options for dialogs on desktop screens.\n * - maxAllowedHeightRatio: The max allowed height of the view as a ratio of the\n *       viewport height.\n * - iframeCssClassOverride: The CSS class to use for the iframe, overriding\n *       default classes such as swg-dialog.\n * - shouldDisableBodyScrolling: Whether to disable scrolling on the content page\n *       when the dialog is visible.\n *\n * @typedef {{\n *   desktopConfig: (DesktopDialogConfig|undefined),\n *   maxAllowedHeightRatio: (number|undefined),\n *   iframeCssClassOverride: (string|undefined),\n *   shouldDisableBodyScrolling: (boolean|undefined),\n * }}\n */\nexport let DialogConfig;\n\n/**\n * Display configuration options for dialogs on desktop screens.\n *\n * Properties:\n * - isCenterPositioned: Whether the dialog should be positioned at the center\n *       of the viewport rather than at the bottom on desktop screens.\n * - supportsWideScreen: Whether the dialog supports a 808px width on viewports\n *       that are >= 870px wide.\n *\n * @typedef {{\n *   isCenterPositioned: (boolean|undefined),\n *   supportsWideScreen: (boolean|undefined),\n * }}\n */\nexport let DesktopDialogConfig;\n\n/**\n * The class for the top level dialog.\n * @final\n */\nexport class Dialog {\n  /**\n   * Create a dialog for the provided doc.\n   * @param {!../model/doc.Doc} doc\n   * @param {!Object<string, string|number>=} importantStyles\n   * @param {!Object<string, string|number>=} styles\n   * @param {!DialogConfig=} dialogConfig Configuration options for the dialog.\n   */\n  constructor(doc, importantStyles = {}, styles = {}, dialogConfig = {}) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = doc;\n\n    const desktopDialogConfig = dialogConfig.desktopConfig || {};\n    const supportsWideScreen = !!desktopDialogConfig.supportsWideScreen;\n\n    const defaultIframeCssClass = `swg-dialog ${\n      supportsWideScreen ? 'swg-wide-dialog' : ''\n    }`;\n    const iframeCssClass =\n      dialogConfig.iframeCssClassOverride || defaultIframeCssClass;\n\n    /** @private @const {!FriendlyIframe} */\n    this.iframe_ = new FriendlyIframe(doc.getWin().document, {\n      'class': iframeCssClass,\n    });\n\n    /** @private @const {!Graypane} */\n    this.graypane_ = new Graypane(doc, Z_INDEX - 1);\n\n    const modifiedImportantStyles = Object.assign(\n      {},\n      rootElementImportantStyles,\n      importantStyles\n    );\n    setImportantStyles(this.iframe_.getElement(), modifiedImportantStyles);\n\n    setStyles(this.iframe_.getElement(), styles);\n\n    /** @private {LoadingView} */\n    this.loadingView_ = null;\n\n    /** @private {?Element} */\n    this.container_ = null; // Depends on constructed document inside iframe.\n\n    /** @private {?./view.View} */\n    this.view_ = null;\n\n    /** @private {?Promise} */\n    this.animating_ = null;\n\n    /**\n     * Helps identify stale animations.\n     * @private {number}\n     */\n    this.animationNumber_ = 0;\n\n    /** @private {boolean} */\n    this.hidden_ = false;\n\n    /** @private {?./view.View} */\n    this.previousProgressView_ = null;\n\n    /** @const @private {number} */\n    this.maxAllowedHeightRatio_ =\n      dialogConfig.maxAllowedHeightRatio !== undefined\n        ? dialogConfig.maxAllowedHeightRatio\n        : 0.9;\n\n    /** @const @private {boolean} */\n    this.positionCenterOnDesktop_ = !!desktopDialogConfig.isCenterPositioned;\n\n    /** @const @private {boolean} */\n    this.shouldDisableBodyScrolling_ =\n      !!dialogConfig.shouldDisableBodyScrolling;\n\n    /** @const @private {!MediaQueryList} */\n    this.desktopMediaQuery_ = this.doc_\n      .getWin()\n      .matchMedia('(min-width: 641px)');\n\n    /**\n     * Reference to the listener that acts on changes to desktopMediaQuery.\n     * @private {?function()}\n     */\n    this.desktopMediaQueryListener_ = null;\n  }\n\n  /**\n   * Opens the dialog and builds the iframe container.\n   * @param {boolean=} hidden\n   * @return {!Promise<!Dialog>}\n   */\n  open(hidden = false) {\n    const iframe = this.iframe_;\n    if (iframe.isConnected()) {\n      throw new Error('already opened');\n    }\n\n    // Attach.\n    this.doc_.getBody().appendChild(iframe.getElement()); // Fires onload.\n\n    this.graypane_.attach();\n\n    if (hidden) {\n      setImportantStyles(iframe.getElement(), {\n        'visibility': 'hidden',\n        'opacity': 0,\n      });\n      this.hidden_ = hidden;\n    } else {\n      this.show_();\n    }\n\n    return iframe.whenReady().then(() => {\n      this.buildIframe_();\n      return this;\n    });\n  }\n\n  /**\n   * Opens the iframe embedded in the given container element.\n   * @param {!Element} containerEl\n   */\n  openInContainer(containerEl) {\n    const iframe = this.iframe_;\n    if (iframe.isConnected()) {\n      throw new Error('already opened');\n    }\n\n    containerEl.appendChild(iframe.getElement());\n\n    return iframe.whenReady().then(() => {\n      this.buildIframe_();\n      return this;\n    });\n  }\n\n  /**\n   * Build the iframe with the styling after iframe is loaded.\n   * @private\n   */\n  buildIframe_() {\n    const iframe = this.iframe_;\n    const iframeBody = iframe.getBody();\n    const iframeDoc = /** @type {!HTMLDocument} */ (this.iframe_.getDocument());\n\n    // Inject Google fonts in <HEAD> section of the iframe.\n    injectStyleSheet(resolveDoc(iframeDoc), DIALOG_CSS);\n\n    // Add Loading indicator.\n    const loadingViewClasses = [];\n    if (this.isPositionCenterOnDesktop()) {\n      loadingViewClasses.push('centered-on-desktop');\n    }\n    this.loadingView_ = new LoadingView(iframeDoc, {\n      additionalClasses: loadingViewClasses,\n    });\n    iframeBody.appendChild(this.loadingView_.getElement());\n\n    // Container for all dynamic content, including 3P iframe.\n    this.container_ = createElement(iframeDoc, 'swg-container', {});\n    iframeBody.appendChild(this.container_);\n    this.setPosition_();\n\n    // Add listener to adjust position when crossing a media query breakpoint.\n    if (this.positionCenterOnDesktop_) {\n      this.desktopMediaQueryListener_ = () => {\n        this.setPosition_();\n      };\n      this.desktopMediaQuery_.addListener(this.desktopMediaQueryListener_);\n    }\n  }\n\n  /**\n   * Closes the dialog.\n   * @param {boolean=} animated\n   * @return {!Promise}\n   */\n  close(animated = true) {\n    let animating;\n    if (animated) {\n      const transitionStyles = this.shouldPositionCenter_()\n        ? {'opacity': 0}\n        : {'transform': 'translateY(100%)'};\n\n      animating = this.animate_(() => {\n        this.graypane_.hide(/* animate */ true);\n        return transition(this.getElement(), transitionStyles, 300, 'ease-out');\n      });\n    } else {\n      animating = Promise.resolve();\n    }\n\n    this.doc_.getBody().classList.remove('swg-disable-scroll');\n\n    return animating.then(() => {\n      const iframeEl = this.iframe_.getElement();\n      iframeEl.parentNode.removeChild(iframeEl);\n\n      this.removePaddingToHtml_();\n      this.graypane_.destroy();\n      if (this.desktopMediaQueryListener_) {\n        this.desktopMediaQuery_.removeListener(this.desktopMediaQueryListener_);\n      }\n    });\n  }\n\n  /**\n   * Gets the container within the dialog.\n   * @return {!Element}\n   */\n  getContainer() {\n    if (!this.container_) {\n      throw new Error('not opened yet');\n    }\n    return this.container_;\n  }\n\n  /**\n   * Gets the attached iframe instance.\n   * @return {!FriendlyIframe}\n   */\n  getIframe() {\n    return this.iframe_;\n  }\n\n  /**\n   * Gets the Iframe element.\n   * @return {!HTMLIFrameElement}\n   */\n  getElement() {\n    return this.iframe_.getElement();\n  }\n\n  /**\n   * Gets the LoadingView for this dialog.\n   * @return {LoadingView}\n   */\n  getLoadingView() {\n    return this.loadingView_;\n  }\n\n  /**\n   * Returns the max allowed height of the view as a ratio of viewport height.\n   * @return {number}\n   */\n  getMaxAllowedHeightRatio() {\n    return this.maxAllowedHeightRatio_;\n  }\n\n  /**\n   * Returns whether the dialog is center-positioned on desktop screens.\n   * @return {boolean}\n   */\n  isPositionCenterOnDesktop() {\n    return this.positionCenterOnDesktop_;\n  }\n\n  /**\n   * Transitions to the next view.\n   * @private\n   */\n  entryTransitionToNextView_() {\n    if (this.view_ && this.view_.hasLoadingIndicator()) {\n      // Temporarily cache the old view.\n      this.previousProgressView_ = this.view_;\n    } else {\n      // Since loading indicator will be shown, remove contents of old view.\n      removeChildren(this.getContainer());\n      // When loading indicator was not displayed in the previous view,\n      // loading indicator must be displayed while transitioning to new view.\n      this.loadingView_.show();\n    }\n  }\n\n  /**\n   * Transition out of an old view.\n   * @private\n   */\n  exitTransitionFromOldView_() {\n    // If previous view is still around, remove it.\n    if (this.previousProgressView_) {\n      removeElement(this.previousProgressView_.getElement());\n      this.previousProgressView_ = null;\n    } else {\n      this.loadingView_.hide();\n    }\n  }\n\n  /** @return {?./view.View} */\n  getCurrentView() {\n    return this.view_;\n  }\n\n  /**\n   * Opens the given view and removes existing view from the DOM if any.\n   * @param {!./view.View} view\n   * @return {!Promise}\n   */\n  openView(view) {\n    setImportantStyles(view.getElement(), resetViewStyles);\n    this.entryTransitionToNextView_();\n\n    this.view_ = view;\n    this.getContainer().appendChild(view.getElement());\n\n    if (this.shouldDisableBodyScrolling_) {\n      this.doc_.getBody().classList.add('swg-disable-scroll');\n    }\n\n    // If the current view should fade the parent document.\n    if (view.shouldFadeBody() && !this.hidden_) {\n      this.graypane_.show(/* animate */ true);\n    }\n\n    return view.init(this).then(() => {\n      setImportantStyles(view.getElement(), {\n        'opacity': 1,\n      });\n      if (this.hidden_) {\n        if (view.shouldFadeBody()) {\n          this.graypane_.show(/* animated */ true);\n        }\n        this.show_();\n      }\n      this.exitTransitionFromOldView_();\n    });\n  }\n\n  /**\n   * Show the iframe.\n   * @private\n   */\n  show_() {\n    this.animate_(() => {\n      setImportantStyles(this.getElement(), {\n        'transform': 'translateY(100%)',\n        'opactiy': 1,\n        'visibility': 'visible',\n      });\n      return transition(\n        this.getElement(),\n        {\n          'transform': this.getDefaultTranslateY_(),\n          'opacity': 1,\n          'visibility': 'visible',\n        },\n        300,\n        'ease-out'\n      ).then(() => {\n        // Focus the dialog contents, per WAI-ARIA best practices.\n        this.getElement().focus();\n      });\n    });\n    this.hidden_ = false;\n  }\n\n  /**\n   * Resizes the dialog container.\n   * @param {!./view.View} view\n   * @param {number} height\n   * @param {boolean=} animated\n   * @return {?Promise}\n   */\n  resizeView(view, height, animated = true) {\n    if (this.view_ != view) {\n      return null;\n    }\n    const newHeight = this.getMaxAllowedHeight_(height);\n\n    // Uniquely identify this animation.\n    // This lets callbacks abandon stale animations.\n    const animationNumber = ++this.animationNumber_;\n    const isStale = () => {\n      return animationNumber !== this.animationNumber_;\n    };\n\n    let animating;\n    if (animated) {\n      const oldHeight = this.getElement().offsetHeight;\n      if (newHeight >= oldHeight) {\n        // Expand.\n        animating = this.animate_(() => {\n          if (isStale()) {\n            return Promise.resolve();\n          }\n\n          const immediateStyles = {\n            'height': `${newHeight}px`,\n          };\n          if (!this.shouldPositionCenter_()) {\n            immediateStyles['transform'] = `translateY(${\n              newHeight - oldHeight\n            }px)`;\n          }\n          setImportantStyles(this.getElement(), immediateStyles);\n\n          return transition(\n            this.getElement(),\n            {\n              'transform': this.getDefaultTranslateY_(),\n            },\n            300,\n            'ease-out'\n          );\n        });\n      } else {\n        // Collapse.\n        animating = this.animate_(() => {\n          const transitionPromise = isStale()\n            ? Promise.resolve()\n            : transition(\n                this.getElement(),\n                {\n                  'transform': this.shouldPositionCenter_()\n                    ? this.getDefaultTranslateY_()\n                    : `translateY(${oldHeight - newHeight}px)`,\n                },\n                300,\n                'ease-out'\n              );\n          return transitionPromise.then(() => {\n            if (isStale()) {\n              return;\n            }\n\n            setImportantStyles(this.getElement(), {\n              'height': `${newHeight}px`,\n              'transform': this.getDefaultTranslateY_(),\n            });\n          });\n        });\n      }\n    } else {\n      setImportantStyles(this.getElement(), {\n        'height': `${newHeight}px`,\n      });\n      animating = Promise.resolve();\n    }\n    return animating.then(() => {\n      if (isStale()) {\n        return;\n      }\n\n      this.updatePaddingToHtml_(height);\n      view.resized();\n    });\n  }\n\n  /**\n   * @param {function():!Promise} callback\n   * @return {!Promise}\n   * @private\n   */\n  animate_(callback) {\n    const wait = this.animating_ || Promise.resolve();\n    return (this.animating_ = wait\n      .then(\n        () => {\n          return callback();\n        },\n        () => {\n          // Ignore errors to make sure animations don't get stuck.\n        }\n      )\n      .then(() => {\n        this.animating_ = null;\n      }));\n  }\n\n  /**\n   * Returns maximum allowed height for current viewport.\n   * @param {number} height\n   * @return {number}\n   * @private\n   */\n  getMaxAllowedHeight_(height) {\n    return Math.min(\n      height,\n      this.doc_.getWin()./*OK*/ innerHeight * this.maxAllowedHeightRatio_\n    );\n  }\n\n  /**\n   * Update padding-bottom on the containing page to not hide any content\n   * behind the popup, if rendered at the bottom. For centered dialogs, there\n   * should be no added padding.\n   * @param {number} newHeight\n   * @private\n   */\n  updatePaddingToHtml_(newHeight) {\n    if (this.shouldPositionCenter_()) {\n      // For centered dialogs, there should be no bottom padding.\n      this.removePaddingToHtml_();\n      return;\n    }\n    const bottomPadding = newHeight + 20; // Add some extra padding.\n    const htmlElement = this.doc_.getRootElement();\n    setImportantStyles(htmlElement, {\n      'padding-bottom': `${bottomPadding}px`,\n    });\n  }\n\n  /**\n   * Removes previouly added bottom padding from the document.\n   * @private\n   */\n  removePaddingToHtml_() {\n    this.doc_.getRootElement().style.removeProperty('padding-bottom');\n  }\n\n  /**\n   * Sets the position of the dialog. Currently only supports 'BOTTOM', with\n   * an option of switching to 'CENTER' on desktop screens.\n   */\n  setPosition_() {\n    setImportantStyles(this.getElement(), this.getPositionStyle_());\n  }\n\n  /**\n   * Returns whether or not the dialog should have position 'CENTER'.\n   * @return {boolean}\n   * @private\n   */\n  shouldPositionCenter_() {\n    return this.positionCenterOnDesktop_ && this.desktopMediaQuery_.matches;\n  }\n\n  /**\n   * Returns the styles required to postion the dialog.\n   * @return {!Object<string, string|number>}\n   * @private\n   */\n  getPositionStyle_() {\n    if (this.shouldPositionCenter_()) {\n      return {\n        'top': '50%',\n        'bottom': 0,\n        'transform': this.getDefaultTranslateY_(),\n      };\n    }\n    return {\n      'top': 'auto',\n      'bottom': 0,\n      'transform': this.getDefaultTranslateY_(),\n    };\n  }\n\n  /**\n   * Returns default translateY style for the dialog.\n   * @return {string}\n   * @private\n   */\n  getDefaultTranslateY_() {\n    if (this.shouldPositionCenter_()) {\n      return 'translateY(-50%)';\n    }\n    return 'translateY(0px)';\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createElement, isConnected} from '../utils/dom';\nimport {resetAllStyles} from '../utils/style';\n\n/** @const {!Object<string|number>} */\nconst friendlyIframeAttributes = {\n  'frameborder': 0,\n  'scrolling': 'no',\n  'src': 'about:blank',\n};\n\n/**\n * The class for building friendly iframe.\n */\nexport class FriendlyIframe {\n  /**\n   * @param {!Document} doc\n   * @param {!Object<string, string|number>=} attrs\n   */\n  constructor(doc, attrs = {}) {\n    const mergedAttrs = Object.assign({}, friendlyIframeAttributes, attrs);\n\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = /** @type {!HTMLIFrameElement} */ (\n      createElement(doc, 'iframe', mergedAttrs)\n    );\n\n    // Ensure that the new iframe does not inherit any CSS styles.\n    resetAllStyles(this.iframe_);\n\n    /** @private @const {!Promise} */\n    this.ready_ = new Promise((resolve) => {\n      this.iframe_.onload = resolve;\n    });\n  }\n\n  /**\n   * When promise is resolved.\n   * @return {!Promise}\n   */\n  whenReady() {\n    return this.ready_;\n  }\n\n  /**\n   * Gets the iframe element.\n   * @return {!HTMLIFrameElement}\n   */\n  getElement() {\n    return this.iframe_;\n  }\n\n  /**\n   * Gets the document object of the iframe element.\n   * @return {!Document}\n   */\n  getDocument() {\n    const doc =\n      this.getElement().contentDocument ||\n      (this.getElement().contentWindow &&\n        this.getElement().contentWindow.document);\n\n    if (!doc) {\n      throw new Error('not loaded');\n    }\n    return doc;\n  }\n\n  /**\n   * Gets the body of the iframe.\n   * @return {!Element}\n   */\n  getBody() {\n    return /** @type {!Element} */ (this.getDocument().body);\n  }\n\n  /**\n   * Whether the iframe is connected.\n   * @return {boolean}\n   */\n  isConnected() {\n    return isConnected(this.getElement());\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {setImportantStyles} from '../utils/style';\nimport {transition} from '../utils/animation';\n\nexport class Graypane {\n  /**\n   * @param {!../model/doc.Doc} doc\n   * @param {number} zIndex\n   */\n  constructor(doc, zIndex) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = doc;\n\n    /** @private @const {!Element} */\n    this.fadeBackground_ = this.doc_\n      .getWin()\n      .document.createElement('swg-popup-background');\n    setImportantStyles(this.fadeBackground_, {\n      'z-index': zIndex,\n      'display': 'none',\n      'pointer-events': 'none',\n      'position': 'fixed',\n      'top': 0,\n      'right': 0,\n      'bottom': 0,\n      'left': 0,\n      'background-color': 'rgba(32, 33, 36, .6)',\n    });\n  }\n\n  /**\n   * @return {!Element}\n   */\n  getElement() {\n    return this.fadeBackground_;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isAttached() {\n    return !!this.fadeBackground_.parentNode;\n  }\n\n  /**\n   * Attaches the graypane to the document.\n   */\n  attach() {\n    this.doc_.getBody().appendChild(this.fadeBackground_);\n  }\n\n  /**\n   * Detaches the graypane to the document.\n   */\n  destroy() {\n    this.doc_.getBody().removeChild(this.fadeBackground_);\n  }\n\n  /**\n   * Shows the graypane.\n   * @param {boolean=} animated\n   * @return {!Promise|undefined}\n   */\n  show(animated = true) {\n    setImportantStyles(this.fadeBackground_, {\n      'display': 'block',\n      'opacity': animated ? 0 : 1,\n    });\n    if (animated) {\n      return transition(\n        this.fadeBackground_,\n        {\n          'opacity': 1,\n        },\n        300,\n        'ease-out'\n      );\n    }\n  }\n\n  /**\n   * Hides the graypane.\n   * @param {boolean=} animated\n   * @return {!Promise|undefined}\n   */\n  hide(animated = true) {\n    if (animated) {\n      return transition(\n        this.fadeBackground_,\n        {\n          'opacity': 0,\n        },\n        300,\n        'ease-out'\n      ).then(() => {\n        setImportantStyles(this.fadeBackground_, {'display': 'none'});\n      });\n    }\n    setImportantStyles(this.fadeBackground_, {'display': 'none'});\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * abstract View Class. Used to render the content within the Dialog. The\n * extended class has actual content.\n * @abstract\n */\nexport class View {\n  /**\n   * Empty constructor.\n   */\n  constructor() {}\n\n  /**\n   * Gets the iframe element.\n   * @return {!Element}\n   * @abstract\n   */\n  getElement() {}\n\n  /**\n   * @param {!./dialog.Dialog} unusedDialog\n   * @return {!Promise}\n   * @abstract\n   */\n  init(unusedDialog) {}\n\n  /**\n   * Resizes the content.\n   */\n  resized() {\n    // Do nothing by default. Override if needed.\n  }\n\n  /**\n   * Accept the result.\n   * @return {!Promise}\n   * @abstract\n   */\n  whenComplete() {}\n\n  /**\n   * @return {boolean}\n   * @abstract\n   */\n  shouldFadeBody() {}\n\n  /**\n   * @return {boolean}\n   * @abstract\n   */\n  hasLoadingIndicator() {}\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// NOTE: Please don't edit this file directly!\n//   This document describes how to change i18n strings in swg-js: https://docs.google.com/document/d/1FMEKJ_TmjHhqON0krE4xhDbTEj0I0DnvzxMzB2cWUWA/edit?resourcekey=0-TQ7hPOzAD4hX8x9PfweGSg#heading=h.q9gi7t4h1tyj\n\nexport const I18N_STRINGS = {\n  'SHOWCASE_REGWALL_TITLE': {\n    'bg': 'Получавайте повече с Google',\n    'bn': 'Google-এ আরও অনেক কিছুর সুবিধা পান',\n    'cs': 'Získejte s&nbsp;Googlem víc',\n    'da': 'Få adgang til mere med Google',\n    'de': 'Immer gut informiert mit Google',\n    'el': 'Αποκτήστε περισσότερα με την Google',\n    'en': 'Get more with Google',\n    'es': 'Disfruta de más artículos con Google',\n    'es-419': 'Disfruta más artículos con Google',\n    'es-ar': 'Disfruta más artículos con Google',\n    'fr': 'Plus de contenus avec Google',\n    'fr-ca': 'Aller plus loin avec Google',\n    'hi': 'Google की मदद से ज़्यादा मुफ़्त लेख पाएं',\n    'it': 'Con Google puoi avere di più',\n    'ja': 'Google からのプレゼント',\n    'kn': 'Google ನಿಂದ ಹೆಚ್ಚಿನ ಪ್ರಯೋಜನ ಪಡೆಯಿರಿ',\n    'lt': 'Gaukite daugiau su „Google“',\n    'lv': 'Iegūstiet vairāk ar Google',\n    'ml': 'Google ഉപയോഗിച്ച് കൂടുതൽ പ്രയോജനങ്ങൾ നേടൂ',\n    'mr': 'Google वापरून बरेच काही मिळवा',\n    'nl': 'Krijg meer met Google',\n    'pl': 'Z&nbsp;Google dostajesz więcej',\n    'pt-br': 'Veja mais com o Google',\n    'pt-pt': 'Obtenha mais com a Google',\n    'ro': 'Mai multe beneficii cu Google',\n    'sk': 'Získajte viac s&nbsp;Googlom',\n    'sl': 'Izkoristite več z Googlom',\n    'sv': 'Få mer med Google',\n    'ta': 'Google மூலம் மேலும் பல கட்டுரைகளைப் படியுங்கள்',\n    'te': 'Googleతో మరిన్ని ప్రయోజనాలను పొందండి',\n  },\n  'SHOWCASE_REGWALL_DESCRIPTION': {\n    'bg': '<strong></strong>За съдържанието обикновено се изисква плащане, но Google ви дава достъп без парично заплащане до тази и други статии, когато се регистрирате за <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> с профила си в Google.',\n    'bn': '<strong></strong>এই কন্টেন্ট অ্যাক্সেস করার জন্য সাধারণত পেমেন্ট করতে হয় কিন্তু Google আপনাকে এই নিবন্ধ ফ্রিতে অ্যাক্সেস করতে এবং সেইসাথে অনেক কিছু পেতে সাহায্য করছে। এই সুবিধা পাওয়ার জন্য Google অ্যাকাউন্ট ব্যবহার করে আপনাকে <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>-এ রেজিস্টার করতে হবে।',\n    'cs': '<strong></strong>Tento obsah je obvykle zpoplatněn, ale pokud se do publikace <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> zaregistrujete pomocí účtu Google, získáte od Googlu přístup zdarma.',\n    'da': '<strong></strong>Du skal normalt betale for at få adgang til dette indhold, men hvis du tilmelder dig <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> med din Google-konto, giver Google dig gratis adgang til artiklen og andet indhold.',\n    'de': '<strong></strong>Dieser Inhalt ist normalerweise kostenpflichtig. Google gewährt dir jedoch kostenlos Zugriff auf diesen Artikel und andere Inhalte, wenn du dich mit deinem Google-Konto bei <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> registrierst.',\n    'el': '<strong></strong>Συνήθως απαιτείται πληρωμή για αυτό το περιεχόμενο, αλλά η Google σας προσφέρει πρόσβαση χωρίς χρέωση σε αυτό το άρθρο και σε πολλά ακόμη, εάν εγγραφείτε στην έκδοση <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> με χρήση του Λογαριασμού σας Google.',\n    'en': '<strong></strong>This content usually requires payment, but Google is giving you free access to this article and more when you register with <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> using your Google Account.',\n    'es': '<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> con tu cuenta de Google.',\n    'es-419':\n      '<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> con tu Cuenta&nbsp;de&nbsp;Google.',\n    'es-ar':\n      '<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> con tu Cuenta&nbsp;de&nbsp;Google.',\n    'fr': '<strong></strong>Ce contenu est généralement payant, mais vous pouvez lire cet article et d\\'autres contenus gratuitement grâce à Google en vous inscrivant sur <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> avec votre compte Google.',\n    'fr-ca':\n      '<strong></strong>Ce contenu est généralement payant, mais Google vous offre un accès gratuit à cet article et à d\\'autres si vous vous inscrivez à <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> à l\\'aide de votre compte Google.',\n    'hi': '<strong></strong>आम तौर पर, इस कॉन्टेंट को पढ़ने के लिए पैसे चुकाने पड़ते हैं. हालांकि, Google की मदद से, इस लेख और अन्य कॉन्टेंट को मुफ़्त में ऐक्सेस किया जा सकता है. इसके लिए, आपको Google खाते का इस्तेमाल करके, <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> में रजिस्टर करना होगा.',\n    'it': '<strong></strong>Generalmente questi contenuti sono a pagamento, ma Google ti offre accesso gratuito a questo e ad altri articoli se ti registri a <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> usando il tuo Account Google.',\n    'ja': '<strong></strong>通常、この記事をお読みいただくにはお支払いが必要ですが、お使いの Google アカウントで <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> に登録すると、この記事を無料でお読みいただけます。',\n    'kn': '<strong></strong>ಸಾಮಾನ್ಯವಾಗಿ ಈ ವಿಷಯಕ್ಕಾಗಿ ಹಣ ಪಾವತಿಸಬೇಕಾಗುತ್ತದೆ, ಆದರೆ ನೀವು <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> ಗೆ ನಿಮ್ಮ Google ಖಾತೆಯ ಮೂಲಕ ನೋಂದಾಯಿಸಿಕೊಂಡಾಗ Google ಈ ಲೇಖನ ಮತ್ತು ಇನ್ನಷ್ಟು ವಿಷಯಗಳಿಗೆ ನಿಮಗೆ ಉಚಿತವಾದ ಪ್ರವೇಶವನ್ನು ನೀಡುತ್ತದೆ.',\n    'lt': '<strong></strong>Šis turinys paprastai yra mokamas, tačiau „Google“ suteikia jums prieigą prie šio straipsnio ir kt. be papildomo mokesčio, kai užsiregistruojate „<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>“ naudodami savo „Google“ paskyrą.',\n    'lv': '<strong></strong>Parasti šis ir maksas saturs, taču Google piešķirs jums bezmaksas piekļuvi šim un citiem rakstiem, ja reģistrēsieties izdevumam <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> ar savu Google kontu.',\n    'ml': '<strong></strong>സാധാരണ ഈ ഉള്ളടക്കത്തിന് പണം നൽകേണ്ടതുണ്ട്, എന്നാൽ Google അക്കൗണ്ട് ഉപയോഗിച്ച് <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> എന്നതിൽ രജിസ്‌റ്റർ ചെയ്യുമ്പോൾ, ഈ ലേഖനത്തിലേക്കും മറ്റും Google നിങ്ങൾക്ക് സൗജന്യ ആക്‌സസ് നൽകുന്നു.',\n    'mr': '<strong></strong>या आशयासाठी सामान्यतः पेमेंट आवश्यक असते पण तुम्ही तुमचे Google खाते वापरून <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> मध्ये नोंदणी करता तेव्हा, Google तुम्हाला या लेखाचा आणि आणखी बऱ्याच आशयाचा विनामूल्य ॲक्सेस देते.',\n    'nl': '<strong></strong>Voor deze content moet je eigenlijk betalen. Maar Google geeft je kosteloos toegang tot dit artikel en andere content als je je registreert bij <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> via je Google-account.',\n    'pl': '<strong></strong>Te treści zazwyczaj wymagają opłaty, ale dzięki Google możesz bezpłatnie przeczytać ten artykuł i&nbsp;korzystać z&nbsp;innych materiałów po zarejestrowaniu się w&nbsp;publikacji <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> za pomocą konta Google.',\n    'pt-br':\n      '<strong></strong>Normalmente, é preciso pagar por este conteúdo. Porém, basta você se registrar na publicação <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> usando sua Conta do Google para ter acesso a esta matéria e muito mais sem custos financeiros.',\n    'pt-pt':\n      '<strong></strong>Geralmente, este conteúdo requer um pagamento, mas a Google concede-lhe acesso gratuito a este artigo e muito mais ao registar-se na publicação <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> com a sua Conta Google.',\n    'ro': '<strong></strong>Acest conținut este de obicei cu plată, dar Google vă oferă acces fără costuri la acest articol și la altele când vă înregistrați la <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> folosind Contul Google.',\n    'sk': '<strong></strong>Tento obsah je obvykle platený, ale ak sa do publikácie <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> zaregistrujete účtom Google, získate od Googlu bezplatný prístup k&nbsp;tomuto článku a&nbsp;ďalšie výhody.',\n    'sl': '<strong></strong>Za to vsebino je običajno zahtevano plačilo, vendar vam Google omogoča dostop do tega članka in drugega brez stroškov, če se z računom Google registrirate pri publikaciji <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>.',\n    'sv': '<strong></strong>Det krävs vanligtvis betalning för det här innehållet, men Google ger dig gratis åtkomst till artikeln och annat innehåll när du registrerar dig hos <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> med ditt Google-konto.',\n    'ta': '<strong></strong>வழக்கமாக இந்த உள்ளடக்கத்தை வாசிக்க கட்டணம் செலுத்த வேண்டியிருக்கும். ஆனால் <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> இல் உங்கள் Google கணக்கைப் பயன்படுத்திப் பதிவுசெய்யும்போது இந்தக் கட்டுரைக்கும் மேலும் பலவற்றுக்கும் Google இலவச அணுகலை வழங்குகிறது.',\n    'te': '<strong></strong>ఈ కంటెంట్‌కు మీరు సాధారణంగా పేమెంట్ చేయాల్సి ఉంటుంది, కానీ మీరు Google ఖాతాను ఉపయోగించి <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>తో రిజిస్టర్ చేసుకున్నప్పుడు, ఈ వార్తా కథనానికి ఇంకా మరెన్నో వాటికి Google, ఉచిత యాక్సెస్‌ను ఇస్తుంది.',\n  },\n  'SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON': {\n    'bg': 'Вече сте се регистрирали? Вход',\n    'bn': 'আগে থেকেই রেজিস্টার করেছেন? সাইন-ইন করুন',\n    'cs': 'Jste už zaregistrováni? Přihlásit se',\n    'da': 'Er du allerede tilmeldt? Log ind',\n    'de': 'Bereits registriert? Anmelden',\n    'el': 'Έχετε εγγραφεί ήδη; Σύνδεση',\n    'en': 'Already registered? Sign in',\n    'es': '¿Ya te has registrado? Iniciar sesión',\n    'es-419': '¿Ya te registraste? Accede',\n    'es-ar': '¿Ya tienes una cuenta?',\n    'fr': 'Déjà inscrit&nbsp;? Connectez-vous',\n    'fr-ca': 'Déjà inscrit? Se connecter',\n    'hi': 'पहले से रजिस्टर किया हुआ है? साइन इन करें',\n    'it': 'Hai già effettuato la registrazione? Accedi',\n    'ja': '登録済みの方: ログイン',\n    'kn': 'ಈಗಾಗಲೇ ನೋಂದಾಯಿಸಲಾಗಿದೆಯೇ? ಸೈನ್ ಇನ್',\n    'lt': 'Jau užsiregistravote? Prisijungti',\n    'lv': 'Vai esat jau reģistrējies? Pierakstīties',\n    'ml': 'മുമ്പേ രജിസ്റ്റർ ചെയ്തിട്ടുണ്ടോ? സൈൻ ഇൻ ചെയ്യുക',\n    'mr': 'आधीपासून नोंदणी केली आहे का? साइन इन करा',\n    'nl': 'Al geregistreerd? Inloggen',\n    'pl': 'Jesteś już zarejestrowanym użytkownikiem? Zaloguj się',\n    'pt-br': 'Já se inscreveu? Fazer login',\n    'pt-pt': 'Já fez o seu registo? Inicie sessão',\n    'ro': 'V-ați înregistrat deja? Conectați-vă',\n    'sk': 'Už máte zaregistrovaný účet? Prihlásiť sa',\n    'sl': 'Ste že registrirani? Prijavite se.',\n    'sv': 'Har du redan registrerat dig? Logga in',\n    'ta': 'ஏற்கெனவே பதிவுசெய்துள்ளீர்களா? உள்நுழைக',\n    'te': 'ఇప్పటికే రిజిస్టర్ చేయబడి ఉందా? సైన్ ఇన్ చేయండి',\n  },\n  'SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON': {\n    'bg': 'Вход с Google',\n    'bn': 'Google দিয়ে সাইন-ইন করুন',\n    'cs': 'Přihlásit se přes Google',\n    'da': 'Log ind med Google',\n    'de': 'Über Google anmelden',\n    'el': 'Σύνδεση μέσω Google',\n    'en': 'Sign in with Google',\n    'es': 'Iniciar sesión con Google',\n    'es-419': 'Acceder con Google',\n    'es-ar': 'Acceder con Google',\n    'fr': 'Se connecter avec Google',\n    'fr-ca': 'Se connecter avec Google',\n    'hi': 'Google से साइन इन करें',\n    'it': 'Accedi con Google',\n    'ja': 'Google でログイン',\n    'kn': 'Google ಖಾತೆ ಬಳಸಿಕೊಂಡು ಸೈನ್ ಇನ್ ಮಾಡಿ',\n    'lt': 'Prisijunkite su „Google“',\n    'lv': 'Pierakstīties, izmantojot Google',\n    'ml': 'Google ഉപയോഗിച്ച് സൈൻ ഇൻ ചെയ്യുക',\n    'mr': 'Google वापरून साइन इन करा',\n    'nl': 'Inloggen met Google',\n    'pl': 'Zaloguj się przez Google',\n    'pt-br': 'Fazer login com o Google',\n    'pt-pt': 'Iniciar sessão com o Google',\n    'ro': 'Conectați-vă cu Google',\n    'sk': 'Prihlásiť sa účtom Google',\n    'sl': 'Prijavite se z Googlom',\n    'sv': 'Logga in med Google',\n    'ta': 'Google மூலம் உள்நுழைக',\n    'te': 'Googleతో సైన్ ఇన్ చేయండి',\n  },\n  'SHOWCASE_REGWALL_CASL': {\n    'bg': 'Прегледайте <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>Общите условия за канадското законодателство за борба със спама<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> на <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'bn': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>-এর <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL শর্ত<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> পর্যালোচনা করুন',\n    'cs': 'Prostudujte si <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>podmínky CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> publikace <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'da': 'Gennemgå <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL-vilkårene<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> (Canadian Anti-Spam Legislation, canadisk lovgivning vedrørende antispam) for <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'de': '<ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL-Bedingungen<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> von <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> ansehen',\n    'el': 'Ελέγξτε αν τηρούνται στη δημοσίευση <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> οι <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>Όροι CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>',\n    'en': 'Review <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>\\'s <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL terms<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>',\n    'es': 'Consulta los <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>términos de la CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> de <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'es-419':\n      'Consulta las <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>condiciones de CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> de <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'fr': 'Consultez les <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>Conditions d\\'utilisation LCAP (Loi canadienne anti-pourriel)<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> de <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'fr-ca':\n      'Consulter les <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>conditions d\\'utilisation relatives à la Loi canadienne antipourriel (LCAP)<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> de la publication <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'hi': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> की <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>सीएएसएल (कैनेडियन एंटी-स्पैम लेजिस्लेशन) से जुड़ी शर्तों<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> के बारे में पढ़ें',\n    'it': 'Rileggi i <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>termini della legge CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> di <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'ja': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> の <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL 規約<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>を見る',\n    'kn': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> ನ <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL ನಿಯಮಗಳು<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> ಅನ್ನು ಪರಿಶೀಲಿಸಿ',\n    'lt': 'Peržiūrėkite „<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>“ <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL sąlygas<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>',\n    'lv': 'Pārskatīt <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL noteikumus<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>',\n    'ml': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> എന്നതിന്റെ <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL നിബന്ധനകൾ<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> അവലോകനം ചെയ്യുക',\n    'mr': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> च्या <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL अटी<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> यांचे पुनरावलोकन करा',\n    'nl': 'Bekijk de <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL-voorwaarden<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> van <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'pl': 'Zapoznaj się z&nbsp;<ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>warunkami CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> publikacji <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'pt-br':\n      'Confira os <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>termos da CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> da publicação <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'pt-pt':\n      'Analise os <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>termos da CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> da publicação <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'ro': 'Examinați <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>Termenii CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> ai <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'sk': 'Prečítajte si <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>podmienky CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> publikácie <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'sl': 'Preglejte <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>pogoje CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> za publikacijo <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'sv': 'Läs <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>villkoren i lagstiftningen CASL<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> för <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>',\n    'ta': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> இன் <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL விதிமுறைகளைப்<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph> பாருங்கள்',\n    'te': '<ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph>‌కు సంబంధించిన <ph name=\"LINK_START\"><ex>&lt;a&gt;</ex></ph>CASL నియమాల<ph name=\"LINK_END\"><ex>&lt;/a&gt;</ex></ph>ను రివ్యూ చేయండి',\n  },\n};\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Why is there a strings.js and a swg-strings.js, you ask? strings.js is a\n// generated file, currently used for gaa builds. This file is used for swg and\n// swg-basic builds, and is currently manually updated.\n// TODO(stellachui): Figure out if they should be merged without a large impact\n//   on binary size.\n\nexport const SWG_I18N_STRINGS = {\n  'SUBSCRIPTION_TITLE_LANG_MAP': {\n    'en': 'Subscribe with Google',\n    'ar': 'Google اشترك مع',\n    'de': 'Abonnieren mit Google',\n    'en-au': 'Subscribe with Google',\n    'en-ca': 'Subscribe with Google',\n    'en-gb': 'Subscribe with Google',\n    'en-us': 'Subscribe with Google',\n    'es': 'Suscríbete con Google',\n    'es-419': 'Suscríbete con Google',\n    'es-latam': 'Suscríbete con Google',\n    'es-latn': 'Suscríbete con Google',\n    'fr': \"S'abonner avec Google\",\n    'fr-ca': \"S'abonner avec Google\",\n    'hi': 'Google के ज़रिये सदस्यता',\n    'id': 'Berlangganan dengan Google',\n    'it': 'Abbonati con Google',\n    'ja': 'Google で購読',\n    'ko': 'Google 을 통한구독',\n    'ms': 'Langgan dengan Google',\n    'nl': 'Abonneren via Google',\n    'no': 'Abonner med Google',\n    'pl': 'Subskrybuj z Google',\n    'pt': 'Subscrever com o Google',\n    'pt-br': 'Assine com o Google',\n    'ru': 'Подпиcка через Google',\n    'sv': 'Prenumerera med Google',\n    'th': 'สมัครฟาน Google',\n    'tr': 'Google ile Abone Ol',\n    'uk': 'Підписатися через Google',\n    'zh-cn': '通过 Google 订阅',\n    'zh-hk': '透過 Google 訂閱',\n    'zh-tw': '透過 Google 訂閱',\n  },\n  'CONTRIBUTION_TITLE_LANG_MAP': {\n    'en': 'Contribute with Google',\n    'ar': 'المساهمة باستخدام Google',\n    'de': 'Mit Google beitragen',\n    'en-au': 'Contribute with Google',\n    'en-ca': 'Contribute with Google',\n    'en-gb': 'Contribute with Google',\n    'en-us': 'Contribute with Google',\n    'es': '\tContribuye con Google',\n    'es-419': 'Contribuir con Google',\n    'es-latam': 'Contribuir con Google',\n    'es-latn': 'Contribuye con Google',\n    'fr': 'Contribuer avec Google',\n    'fr-ca': 'Contribuer avec Google',\n    'hi': 'Google खाते की मदद से योगदान करें',\n    'id': 'Berkontribusi dengan Google',\n    'it': 'Contribuisci con Google',\n    'ja': 'Google で寄付',\n    'ko': 'Google을 통해 참여하기',\n    'ms': 'Sumbangkan dengan Google',\n    'nl': 'Bijdragen met Google',\n    'no': 'Bidra med Google',\n    'pl': 'Wesprzyj publikację przez Google',\n    'pt': 'Contribuir utilizando o Google',\n    'pt-br': 'Contribua usando o Google',\n    'ru': 'Внести средства через Google',\n    'sv': 'Bidra med Google',\n    'th': 'มีส่วนร่วมผ่าน Google',\n    'tr': 'Google ile Katkıda Bulun',\n    'uk': 'Зробити внесок через Google',\n    'zh-cn': '通过 Google 捐赠',\n    'zh-hk': '透過 Google 提供內容',\n    'zh-tw': '透過 Google 捐款',\n  },\n  'REGWALL_ALREADY_REGISTERED_LANG_MAP': {\n    'en': 'You have registered before.',\n    'ar': 'لقد سبق أن تسجّلت.',\n    'de': 'Du bist bereits registriert.',\n    'en-au': 'You have registered before.',\n    'en-ca': 'You have registered before.',\n    'en-gb': 'You have registered before.',\n    'en-us': 'You have registered before.',\n    'es': 'Ya te habías registrado anteriormente.',\n    'es-419': 'Ya te registraste antes.',\n    'fr': 'Vous vous êtes déjà inscrit.',\n    'fr-ca': 'Vous vous êtes inscrit auparavant.',\n    'hi': 'आपने पहले ही इसके लिए रजिस्टर कर लिया है.',\n    'id': 'Anda telah mendaftar sebelumnya.',\n    'it': 'Registrazione già effettuata in precedenza.',\n    'ja': 'すでに登録済みです。',\n    'ko': '이전에 등록한 사용자입니다.',\n    'ms': 'Anda telah mendaftar sebelum ini.',\n    'nl': 'Je hebt je al eerder geregistreerd.',\n    'no': 'Du er allerede registrert.',\n    'pl': 'Masz już wcześniejszą rejestrację.',\n    'pt': 'Já se registou anteriormente.',\n    'pt-br': 'Você já tem um cadastro.',\n    'ru': 'Вы уже зарегистрированы.',\n    'sv': 'Du har redan registrerat dig.',\n    'th': 'คุณเคยลงทะเบียนแล้ว',\n    'tr': 'Daha önce kaydolmuştunuz.',\n    'uk': 'Ви вже зареєструвалися раніше.',\n    'zh-cn': '您之前已注册。',\n    'zh-hk': '您之前已註冊。',\n    'zh-tw': '你已註冊這個出版品。',\n  },\n  'NEWSLETTER_ALREADY_SIGNED_UP_LANG_MAP': {\n    'en': 'You have signed up before.',\n    'ar': 'سبق أن اشتركت في النشرة الإخبارية.',\n    'de': 'Du hast dich bereits angemeldet.',\n    'en-au': 'You have signed up before.',\n    'en-ca': 'You have signed up before.',\n    'en-gb': 'You have signed up before.',\n    'en-us': 'You have signed up before.',\n    'es': 'Ya te has registrado anteriormente.',\n    'es-419': 'Ya te registraste antes.',\n    'fr': 'Vous vous êtes déjà inscrit.',\n    'fr-ca': 'Vous vous êtes inscrit auparavant.',\n    'hi': 'न्यूज़लेटर के लिए पहले ही साइन अप किया जा चुका है.',\n    'id': 'Anda telah mendaftar sebelumnya.',\n    'it': \"Hai già effettuato l'iscrizione.\",\n    'ja': 'すでに登録されています。',\n    'ko': '이전에 가입한 사용자입니다.',\n    'ms': 'Anda sudah mendaftar sebelum ini.',\n    'nl': 'Je hebt je al eerder aangemeld.',\n    'no': 'Du er allerede registrert.',\n    'pl': 'Już wcześniej się zarejestrowałeś(-aś).',\n    'pt': 'Já se inscreveu anteriormente.',\n    'pt-br': 'Você se inscreveu anteriormente.',\n    'ru': 'Вы уже зарегистрированы.',\n    'sv': 'Du har redan registrerat dig.',\n    'th': 'คุณสมัครรับข้อมูลมาก่อนแล้ว',\n    'tr': 'Daha önce kaydolmuştunuz.',\n    'uk': 'Ви вже зареєструвалися.',\n    'zh-cn': '您之前已注册。',\n    'zh-hk': '您之前已訂閱。',\n    'zh-tw': '你已經訂閱了。',\n  },\n  'REGWALL_REGISTER_FAILED_LANG_MAP': {\n    'en': 'Registration failed. Try registering again.',\n    'ar': 'تعذَّرت عملية التسجيل. يُرجى إعادة المحاولة.',\n    'de': 'Registrierung fehlgeschlagen. Versuche es noch einmal.',\n    'en-au': 'Registration failed. Try registering again.',\n    'en-ca': 'Registration failed. Try registering again.',\n    'en-gb': 'Registration failed. Try registering again.',\n    'en-us': 'Registration failed. Try registering again.',\n    'es': 'No se ha podido completar el registro. Prueba a registrarte de nuevo.',\n    'es-419': 'No se pudo completar el registro. Vuelve a intentarlo.',\n    'fr': \"Échec de l'enregistrement. Réessayez.\",\n    'fr-ca': \"Échec de l'inscription. Essayez de vous inscrire à nouveau.\",\n    'hi': 'रजिस्ट्रेशन नहीं हो सका. फिर से रजिस्टर करने की कोशिश करें.',\n    'id': 'Pendaftaran gagal. Coba daftar lagi.',\n    'it': 'Registrazione non riuscita. Prova a registrarti di nuovo.',\n    'ja': '登録できませんでした。もう一度お試しください。',\n    'ko': '등록에 실패했습니다. 다시 등록해 보세요.',\n    'ms': 'Pendaftaran gagal. Cuba mendaftar lagi.',\n    'nl': 'Registratie mislukt. Probeer opnieuw te registreren.',\n    'no': 'Registreringen mislyktes. Prøv å registrere deg på nytt.',\n    'pl': 'Rejestracja się nie udała. Spróbuj jeszcze raz się zarejestrować.',\n    'pt': 'Falha no registo. Tente registar-se novamente.',\n    'pt-br': 'Não foi possível fazer o registro. Tente novamente.',\n    'ru': 'Ошибка регистрации. Повторите попытку.',\n    'sv': 'Registreringen misslyckades. Försök att registrera dig igen.',\n    'th': 'ลงทะเบียนไม่สำเร็จ ลองลงทะเบียนอีกครั้ง',\n    'tr': 'Kayıt işlemi başarısız oldu. Tekrar kaydolmayı deneyin.',\n    'uk': 'Помилка реєстрації. Повторіть спробу.',\n    'zh-cn': '注册失败。请尝试重新注册。',\n    'zh-hk': '註冊失敗。請嘗試重新註冊。',\n    'zh-tw': '註冊失敗，請再試一次。',\n  },\n  'NEWSLETTER_SIGN_UP_FAILED_LANG_MAP': {\n    'en': 'Signup failed. Try signing up again.',\n    'ar': 'تعذَّرت عملية الاشتراك. يُرجى إعادة المحاولة.',\n    'de': 'Anmeldung fehlgeschlagen. Versuche es noch einmal.',\n    'en-au': 'Sign-up failed. Try signing up again.',\n    'en-ca': 'Sign-up failed. Try signing up again.',\n    'en-gb': 'Sign-up failed. Try signing up again.',\n    'en-us': 'Sign-up failed. Try signing up again.',\n    'es': 'No se ha podido completar la suscripción. Prueba a suscribirte de nuevo.',\n    'es-419': 'Se produjo un error de registro. Vuelve a intentarlo.',\n    'fr': \"Échec de l'inscription. Réessayez.\",\n    'fr-ca': \"Échec de l'inscription. Essayez de vous inscrire à nouveau.\",\n    'hi': 'साइन अप नहीं किया जा सका. फिर से साइन अप करने की कोशिश करें.',\n    'id': 'Pendaftaran gagal. Coba daftar lagi.',\n    'it': 'Iscrizione non riuscita. Prova a iscriverti di nuovo.',\n    'ja': '登録できませんでした。もう一度お試しください。',\n    'ko': '가입에 실패했습니다. 다시 가입해 보세요.',\n    'ms': 'Daftar gagal. Cuba daftar lagi.',\n    'nl': 'Aanmelding mislukt. Probeer opnieuw aan te melden.',\n    'no': 'Registreringen mislyktes. Prøv å registrere deg på nytt.',\n    'pl': 'Rejestracja się nie udała. Spróbuj jeszcze raz się zarejestrować.',\n    'pt': 'Falha na inscrição. Tente inscrever-se novamente.',\n    'pt-br': 'Não foi possível se inscrever. Tente novamente.',\n    'ru': 'Не удалось зарегистрироваться. Повторите попытку.',\n    'sv': 'Registreringen misslyckades. Försök att registrera dig igen.',\n    'th': 'ลงชื่อสมัครใช้ไม่สำเร็จ ลองลงชื่อสมัครใช้อีกครั้ง',\n    'tr': 'Kaydolma işlemi başarısız oldu. Tekrar kaydolmayı deneyin.',\n    'uk': 'Помилка реєстрації. Повторіть спробу.',\n    'zh-cn': '注册失败。请尝试重新注册。',\n    'zh-hk': '申請失敗。請嘗試重新申請。',\n    'zh-tw': '訂閱失敗，請再試一次。',\n  },\n  'REGWALL_ACCOUNT_CREATED_LANG_MAP': {\n    'en': 'Created an account with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'ar': 'تم إنشاء حساب باستخدام <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>.',\n    'de': 'Konto bei <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> wurde erstellt',\n    'en-au':\n      'Created an account with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'en-ca':\n      'Created an account with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'en-gb':\n      'Created an account with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'en-us':\n      'Created an account with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'es': 'Has creado una cuenta con <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'es-419':\n      'Se creó una cuenta con <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'fr': 'A créé un compte avec <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'fr-ca':\n      'Un compte a été créé avec l\\'adresse <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'hi': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> का इस्तेमाल करके, एक खाता बनाया गया',\n    'id': 'Membuat akun dengan <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'it': 'È stato creato un account con l\\'indirizzo <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'ja': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> でアカウントを作成しました',\n    'ko': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>(으)로 계정을 만들었습니다.',\n    'ms': 'Membuat akaun dengan <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'nl': 'Account gemaakt met <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'no': 'Du har opprettet en konto med <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'pl': 'Utworzono konto za pomocą adresu <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'pt': 'Criou uma conta com <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'pt-br':\n      'Conta criada com o e-mail <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'ru': 'Вы зарегистрировали аккаунт на адрес <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>.',\n    'sv': 'Du skapade ett konto med <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'th': 'สร้างบัญชีด้วย <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'tr': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> ile bir hesap oluşturun',\n    'uk': 'Обліковий запис створено за допомогою електронної адреси <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'zh-cn': '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 创建帐号',\n    'zh-hk': '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 建立帳戶',\n    'zh-tw': '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 建立帳戶',\n  },\n  'NEWSLETTER_SIGNED_UP_LANG_MAP': {\n    'en': 'Signed up with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> for the newsletter',\n    'ar': 'تم الاشتراك في النشرة الإخبارية باستخدام <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>.',\n    'de': 'Du hast dich für den Newsletter von <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> angemeldet',\n    'en-au':\n      'Signed up with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> for the newsletter',\n    'en-ca':\n      'Signed up with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> for the newsletter',\n    'en-gb':\n      'Signed up with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> for the newsletter',\n    'en-us':\n      'Signed up with <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> for the newsletter',\n    'es': 'Te has suscrito a la newsletter con <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'es-419':\n      'Te registraste con <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> para recibir el boletín informativo',\n    'fr': 'S\\'est abonné à la newsletter avec <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'fr-ca':\n      'Vous êtes inscrit au bulletin d\\'information avec l\\'adresse <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'hi': 'न्यूज़लेटर पाने के लिए, <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> से साइन अप किया गया',\n    'id': 'Mendaftar dengan <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> untuk mendapatkan newsletter',\n    'it': 'Iscrizione alla newsletter con l\\'indirizzo <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> effettuata',\n    'ja': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> でニュースレターを登録しました',\n    'ko': '<ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>(으)로 뉴스레터에 가입했습니다.',\n    'ms': 'Mendaftar dengan <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> untuk surat berita',\n    'nl': 'Aangemeld met <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> voor de nieuwsbrief',\n    'no': 'Du har registrert deg for nyhetsbrevet med <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'pl': 'Zapisano się na newsletter za pomocą adresu <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'pt': 'Inscreveu-se com <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> no boletim informativo',\n    'pt-br':\n      'Inscrição na newsletter feita com o e-mail <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'ru': 'Вы подписались на новостную рассылку, используя аккаунт <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>.',\n    'sv': 'Du registrerade dig för nyhetsbrevet med <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'th': 'ลงชื่อเข้าใช้ด้วย <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> สำหรับจดหมายข่าว',\n    'tr': 'Bülten için <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> ile kaydoldunuz',\n    'uk': 'Ви підписалися на інформаційні листи на електронну адресу <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph>',\n    'zh-cn': '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 订阅简报',\n    'zh-hk': '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 註冊通訊',\n    'zh-tw':\n      '已使用 <ph name=\"EMAIL\"><ex>user@gmail.com</ex>%s</ph> 訂閱電子報',\n  },\n  'NO_MEMBERSHIP_FOUND_LANG_MAP': {\n    'en': 'No membership found',\n    'ar': 'لم يتم العثور على أي اشتراك.',\n    'de': 'Keine Mitgliedschaftsdaten gefunden',\n    'en-au': 'No membership found',\n    'en-ca': 'No membership found',\n    'en-gb': 'No membership found',\n    'en-us': 'No membership found',\n    'es': 'No se han encontrado suscripciones',\n    'es-419': 'No se encontró ninguna membresía',\n    'fr': 'Aucun abonnement trouvé',\n    'fr-ca': 'Aucun abonnement trouvé',\n    'hi': 'पैसे चुकाकर ली जाने वाली कोई सदस्यता नहीं मिली',\n    'id': 'Langganan tidak ditemukan',\n    'it': 'Nessun abbonamento trovato',\n    'ja': 'メンバーシップが見つかりません',\n    'ko': '멤버십 정보를 찾을 수 없습니다.',\n    'ms': 'Tiada keahlian ditemukan',\n    'nl': 'Geen lidmaatschap gevonden',\n    'no': 'Fant ingen abonnementer',\n    'pl': 'Nie znaleziono subskrypcji',\n    'pt': 'Nenhuma subscrição encontrada',\n    'pt-br': 'Nenhuma assinatura foi encontrada',\n    'ru': 'Подписка не найдена.',\n    'se': 'Inget medlemskap hittades',\n    'th': 'ไม่พบการเป็นสมาชิก',\n    'tr': 'Üyelik bulunamadı',\n    'uk': 'Немає підписок',\n    'zh-cn': '未找到会员资料',\n    'zh-hk': '找不到會籍',\n    'zh-tw': '找不到會員資料',\n  },\n};\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * The entry point for runtime (swg.js).\n */\n\nimport {installRuntime} from './runtime/runtime';\nimport {log} from './utils/log';\n\nlog('Subscriptions Runtime: $internalRuntimeVersion$');\n\ninstallRuntime(self);\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Container for attribution details for the publisher / creator.\n */\nexport class AttributionParams {\n  /**\n   * @param {string} displayName\n   * @param {string} avatarUrl\n   */\n  constructor(displayName, avatarUrl) {\n    /** @const {string} */\n    this.displayName = displayName;\n\n    /** @const {string} */\n    this.avatarUrl = avatarUrl;\n  }\n}\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   displayDelaySeconds: (number|undefined),\n *   dismissalBackOffSeconds: (number|undefined),\n *   maxDismissalsPerWeek: (number|undefined),\n *   maxDismissalsResultingHideSeconds: (number|undefined),\n *   impressionBackOffSeconds: (number|undefined),\n *   maxImpressions: (number|undefined),\n *   maxImpressionsResultingHideSeconds: (number|undefined),\n * }}\n */\nexport let AutoPromptConfigParams;\n\n/**\n * Container for the auto prompt configuation details.\n */\nexport class AutoPromptConfig {\n  /**\n   * @param {!AutoPromptConfigParams=} params\n   */\n  constructor({\n    displayDelaySeconds,\n    dismissalBackOffSeconds,\n    maxDismissalsPerWeek,\n    maxDismissalsResultingHideSeconds,\n    impressionBackOffSeconds,\n    maxImpressions,\n    maxImpressionsResultingHideSeconds,\n  } = {}) {\n    /** @const {!ClientDisplayTrigger} */\n    this.clientDisplayTrigger = new ClientDisplayTrigger(displayDelaySeconds);\n\n    /** @const {!ExplicitDismissalConfig} */\n    this.explicitDismissalConfig = new ExplicitDismissalConfig(\n      dismissalBackOffSeconds,\n      maxDismissalsPerWeek,\n      maxDismissalsResultingHideSeconds\n    );\n\n    /** @const {!ImpressionConfig} */\n    this.impressionConfig = new ImpressionConfig(\n      impressionBackOffSeconds,\n      maxImpressions,\n      maxImpressionsResultingHideSeconds\n    );\n  }\n}\n\n/**\n * Client side conditions to trigger the display of the auto prompt.\n */\nexport class ClientDisplayTrigger {\n  /**\n   * @param {number|undefined} displayDelaySeconds\n   */\n  constructor(displayDelaySeconds) {\n    /** @const {number|undefined} */\n    this.displayDelaySeconds = displayDelaySeconds;\n  }\n}\n\n/**\n * Configuration of explicit dismissal behavior and its effects.\n */\nexport class ExplicitDismissalConfig {\n  /**\n   * @param {number|undefined} backOffSeconds\n   * @param {number|undefined} maxDismissalsPerWeek\n   * @param {number|undefined} maxDismissalsResultingHideSeconds\n   */\n  constructor(\n    backOffSeconds,\n    maxDismissalsPerWeek,\n    maxDismissalsResultingHideSeconds\n  ) {\n    /** @const {number|undefined} */\n    this.backOffSeconds = backOffSeconds;\n\n    /** @const {number|undefined} */\n    this.maxDismissalsPerWeek = maxDismissalsPerWeek;\n\n    /** @const {number|undefined} */\n    this.maxDismissalsResultingHideSeconds = maxDismissalsResultingHideSeconds;\n  }\n}\n\n/**\n * Configuration of impression behavior and its effects.\n */\nexport class ImpressionConfig {\n  /**\n   * @param {number|undefined} backOffSeconds\n   * @param {number|undefined} maxImpressions\n   * @param {number|undefined} maxImpressionsResultingHideSeconds\n   */\n  constructor(\n    backOffSeconds,\n    maxImpressions,\n    maxImpressionsResultingHideSeconds\n  ) {\n    /** @const {number|undefined} */\n    this.backOffSeconds = backOffSeconds;\n\n    /** @const {number|undefined} */\n    this.maxImpressions = maxImpressions;\n\n    /** @const {number|undefined} */\n    this.maxImpressionsResultingHideSeconds =\n      maxImpressionsResultingHideSeconds;\n  }\n}\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Client configuration options.\n *\n * @typedef {{\n *   attributionParams: (./attribution-params.AttributionParams|undefined),\n *   autoPromptConfig: (./auto-prompt-config.AutoPromptConfig|undefined),\n *   paySwgVersion: (string|undefined),\n *   uiPredicates: (UiPredicates|undefined),\n *   usePrefixedHostPath: (boolean|undefined),\n *   useUpdatedOfferFlows: (boolean|undefined),\n *   skipAccountCreationScreen: (boolean|undefined),\n * }}\n */\nexport let ClientConfigOptions;\n\n/**\n * Container for the details relating to how the client should be configured.\n */\nexport class ClientConfig {\n  /**\n   * @param {ClientConfigOptions} options\n   */\n  constructor({\n    attributionParams,\n    autoPromptConfig,\n    paySwgVersion,\n    uiPredicates,\n    usePrefixedHostPath,\n    useUpdatedOfferFlows,\n    skipAccountCreationScreen,\n  } = {}) {\n    /** @const {./auto-prompt-config.AutoPromptConfig|undefined} */\n    this.autoPromptConfig = autoPromptConfig;\n\n    /** @const {string|undefined} */\n    this.paySwgVersion = paySwgVersion;\n\n    /** @const {boolean} */\n    this.usePrefixedHostPath = usePrefixedHostPath || false;\n\n    /** @const {boolean} */\n    this.useUpdatedOfferFlows = useUpdatedOfferFlows || false;\n\n    /** @const {boolean} */\n    this.skipAccountCreationScreen = skipAccountCreationScreen || false;\n\n    /** @const {UiPredicates|undefined} */\n    this.uiPredicates = uiPredicates;\n\n    /** @const {./attribution-params.AttributionParams|undefined} */\n    this.attributionParams = attributionParams;\n  }\n}\n\n/**\n * Predicates to control UI elements.\n */\nexport class UiPredicates {\n  /**\n   * @param {boolean|undefined} canDisplayAutoPrompt\n   * @param {boolean|undefined} canDisplayButton\n   * @param {boolean|undefined} purchaseUnavailableRegion\n   */\n  constructor(\n    canDisplayAutoPrompt,\n    canDisplayButton,\n    purchaseUnavailableRegion\n  ) {\n    /** @const {boolean|undefined} */\n    this.canDisplayAutoPrompt = canDisplayAutoPrompt;\n\n    /** @const {boolean|undefined} */\n    this.canDisplayButton = canDisplayButton;\n\n    /** @const {boolean|undefined} */\n    this.purchaseUnavailableRegion = purchaseUnavailableRegion;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {isDocumentReady, whenDocumentReady} from '../utils/document-ready';\n\n/**\n * @interface\n */\nexport class Doc {\n  /**\n   * @return {!Window}\n   */\n  getWin() {}\n\n  /**\n   * The `Document` node or analog.\n   * @return {!Node}\n   */\n  getRootNode() {}\n\n  /**\n   * The `Document.documentElement` element or analog.\n   * @return {!Element}\n   */\n  getRootElement() {}\n\n  /**\n   * The `Document.head` element or analog. Returns `null` if not available\n   * yet.\n   * @return {!Element}\n   */\n  getHead() {}\n\n  /**\n   * The `Document.body` element or analog. Returns `null` if not available\n   * yet.\n   * @return {?Element}\n   */\n  getBody() {}\n\n  /**\n   * Whether the document has been fully constructed.\n   * @return {boolean}\n   */\n  isReady() {}\n\n  /**\n   * Resolved when document has been fully constructed.\n   * @return {!Promise}\n   */\n  whenReady() {}\n\n  /**\n   * Adds the element to the fixed layer.\n   * @param {!Element} unusedElement\n   * @return {!Promise}\n   *\n   * This is a no-op for except in AMP on iOS < 13.0.\n   */\n  addToFixedLayer(unusedElement) {}\n}\n\n/** @implements {Doc} */\nexport class GlobalDoc {\n  /**\n   * @param {!Window|!Document} winOrDoc\n   */\n  constructor(winOrDoc) {\n    const isWin = !!winOrDoc.document;\n    /** @private @const {!Window} */\n    this.win_ = /** @type {!Window} */ (\n      isWin\n        ? /** @type {!Window} */ (winOrDoc)\n        : /** @type {!Document} */ (winOrDoc).defaultView\n    );\n    /** @private @const {!Document} */\n    this.doc_ = isWin\n      ? /** @type {!Window} */ (winOrDoc).document\n      : /** @type {!Document} */ (winOrDoc);\n  }\n\n  /** @override */\n  getWin() {\n    return this.win_;\n  }\n\n  /** @override */\n  getRootNode() {\n    return this.doc_;\n  }\n\n  /** @override */\n  getRootElement() {\n    return this.doc_.documentElement;\n  }\n\n  /** @override */\n  getHead() {\n    // `document.head` always has a chance to be parsed, at least partially.\n    return /** @type {!Element} */ (this.doc_.head);\n  }\n\n  /** @override */\n  getBody() {\n    return this.doc_.body;\n  }\n\n  /** @override */\n  isReady() {\n    return isDocumentReady(this.doc_);\n  }\n\n  /** @override */\n  whenReady() {\n    return whenDocumentReady(this.doc_);\n  }\n\n  /** @override */\n  addToFixedLayer(unusedElement) {\n    return Promise.resolve();\n  }\n}\n\n/**\n * @param {!Document|!Window|!Doc} input\n * @return {!Doc}\n */\nexport function resolveDoc(input) {\n  // Is it a `Document`\n  if (/** @type {!Document} */ (input).nodeType === /* DOCUMENT */ 9) {\n    return new GlobalDoc(/** @type {!Document} */ (input));\n  }\n  // Is it a `Window`?\n  if (/** @type {!Window} */ (input).document) {\n    return new GlobalDoc(/** @type {!Window} */ (input));\n  }\n  return /** @type {!Doc} */ (input);\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Doc as DocInterface, resolveDoc} from './doc';\nimport {PageConfig} from './page-config';\nimport {debugLog} from '../utils/log';\nimport {hasNextNodeInDocumentOrder} from '../utils/dom';\nimport {tryParseJson} from '../utils/json';\nimport {user} from '../utils/error-logger';\n\nconst ALREADY_SEEN = '__SWG-SEEN__';\nconst CONTROL_FLAG = 'subscriptions-control';\n\nconst ALLOWED_TYPES = [\n  'CreativeWork',\n  'Article',\n  'NewsArticle',\n  'Blog',\n  'Comment',\n  'Course',\n  'HowTo',\n  'Message',\n  'Review',\n  'WebPage',\n];\n\n// RegExp for quickly scanning LD+JSON for allowed types\nconst RE_ALLOWED_TYPES = new RegExp(ALLOWED_TYPES.join('|'));\n\n/**\n */\nexport class PageConfigResolver {\n  /**\n   * @param {!Window|!Document|!DocInterface} winOrDoc\n   */\n  constructor(winOrDoc) {\n    /** @private @const {!DocInterface} */\n    this.doc_ = resolveDoc(winOrDoc);\n\n    /** @private {?function((!PageConfig|!Promise))} */\n    this.configResolver_ = null;\n\n    /** @private @const {!Promise<!PageConfig>} */\n    this.configPromise_ = new Promise((resolve) => {\n      this.configResolver_ = resolve;\n    });\n\n    /** @private @const {!MetaParser} */\n    this.metaParser_ = new MetaParser(this.doc_);\n    /** @private @const {!JsonLdParser} */\n    this.ldParser_ = new JsonLdParser(this.doc_);\n    /** @private @const {!MicrodataParser} */\n    this.microdataParser_ = new MicrodataParser(this.doc_);\n  }\n\n  /**\n   * @return {!Promise<!PageConfig>}\n   */\n  resolveConfig() {\n    // Try resolve the config at different times.\n    Promise.resolve().then(this.check.bind(this));\n    this.doc_.whenReady().then(this.check.bind(this));\n    return this.configPromise_;\n  }\n\n  /**\n   * @return {?PageConfig}\n   */\n  check() {\n    // Already resolved.\n    if (!this.configResolver_) {\n      return null;\n    }\n    const config =\n      this.metaParser_.check() ||\n      this.ldParser_.check() ||\n      this.microdataParser_.check();\n    if (config) {\n      // Product ID has been found: initialize the rest of the config.\n      this.configResolver_(config);\n      this.configResolver_ = null;\n    } else if (this.doc_.isReady()) {\n      this.configResolver_(\n        Promise.reject(\n          user().createError('No config could be discovered in the page')\n        )\n      );\n      this.configResolver_ = null;\n    }\n    debugLog(config);\n    return config;\n  }\n}\n\nclass TypeChecker {\n  constructor() {}\n\n  /**\n   * Check value from json\n   * @param {?Array|string} value\n   * @param {Array<string>} expectedTypes\n   * @return {boolean}\n   */\n  checkValue(value, expectedTypes) {\n    if (!value) {\n      return false;\n    }\n    return this.checkArray(this.toArray_(value), expectedTypes);\n  }\n\n  /**\n   * Checks space delimited list of types\n   * @param {?string} itemtype\n   * @param {Array<string>} expectedTypes\n   * @return {boolean}\n   */\n  checkString(itemtype, expectedTypes) {\n    if (!itemtype) {\n      return false;\n    }\n    return this.checkArray(itemtype.split(/\\s+/), expectedTypes);\n  }\n\n  /**\n   * @param {!Array<?string>} typeArray\n   * @param {Array<string>} expectedTypes\n   * @return {boolean}\n   */\n  checkArray(typeArray, expectedTypes) {\n    for (const schemaTypeUrl of typeArray) {\n      const schemaType = schemaTypeUrl.replace(/^http:\\/\\/schema.org\\//i, '');\n      if (expectedTypes.includes(schemaType)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /*\n   * @param {?Array|string} value\n   * @return {Array}\n   * @private\n   */\n  toArray_(value) {\n    return Array.isArray(value) ? value : [value];\n  }\n}\n\nclass MetaParser {\n  /**\n   * @param {!DocInterface} doc\n   */\n  constructor(doc) {\n    /** @private @const {!DocInterface} */\n    this.doc_ = doc;\n  }\n\n  /**\n   * @return {?PageConfig}\n   */\n  check() {\n    if (!this.doc_.getBody()) {\n      // Wait until the whole `<head>` is parsed.\n      return null;\n    }\n\n    // Try to find product id.\n    const productId = getMetaTag(\n      this.doc_.getRootNode(),\n      'subscriptions-product-id'\n    );\n    if (!productId) {\n      return null;\n    }\n\n    // Is locked?\n    const accessibleForFree = getMetaTag(\n      this.doc_.getRootNode(),\n      'subscriptions-accessible-for-free'\n    );\n    const locked = !!(\n      accessibleForFree && accessibleForFree.toLowerCase() === 'false'\n    );\n\n    return new PageConfig(productId, locked);\n  }\n}\n\nclass JsonLdParser {\n  /**\n   * @param {!DocInterface} doc\n   */\n  constructor(doc) {\n    /** @private @const {!DocInterface} */\n    this.doc_ = doc;\n    /** @private @const @function */\n    this.checkType_ = new TypeChecker();\n  }\n\n  /**\n   * @return {?PageConfig}\n   */\n  check() {\n    if (!this.doc_.getBody()) {\n      // Wait until the whole `<head>` is parsed.\n      return null;\n    }\n\n    const domReady = this.doc_.isReady();\n\n    // type: 'application/ld+json'\n    const elements = this.doc_\n      .getRootNode()\n      .querySelectorAll('script[type=\"application/ld+json\"]');\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (\n        element[ALREADY_SEEN] ||\n        !element.textContent ||\n        (!domReady && !hasNextNodeInDocumentOrder(element))\n      ) {\n        continue;\n      }\n      element[ALREADY_SEEN] = true;\n      if (!RE_ALLOWED_TYPES.test(element.textContent)) {\n        continue;\n      }\n      const possibleConfig = this.tryExtractConfig_(element);\n      if (possibleConfig) {\n        return possibleConfig;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * @param {!Element} element\n   * @return {?PageConfig}\n   */\n  tryExtractConfig_(element) {\n    let possibleConfigs = tryParseJson(element.textContent);\n    if (!possibleConfigs) {\n      return null;\n    }\n\n    // Support arrays of JSON objects.\n    if (!Array.isArray(possibleConfigs)) {\n      possibleConfigs = [possibleConfigs];\n    }\n\n    let configs = /** @type {!Array<!JsonObject>} */ (possibleConfigs);\n    for (let i = 0; i < configs.length; i++) {\n      const config = configs[i];\n\n      if (config['@graph'] && Array.isArray(config['@graph'])) {\n        configs = configs.concat(config['@graph']);\n      }\n\n      // Must be an ALLOWED_TYPE\n      if (!this.checkType_.checkValue(config['@type'], ALLOWED_TYPES)) {\n        continue;\n      }\n\n      // Must have a isPartOf[@type=Product].\n      let productId = null;\n      const partOfArray = this.valueArray_(config, 'isPartOf');\n      if (partOfArray) {\n        for (let j = 0; j < partOfArray.length; j++) {\n          productId = this.discoverProductId_(partOfArray[j]);\n          if (productId) {\n            break;\n          }\n        }\n      }\n      if (!productId) {\n        continue;\n      }\n\n      // Found product id, just check for the access flag.\n      const isAccessibleForFree = this.bool_(\n        this.singleValue_(config, 'isAccessibleForFree'),\n        /* default */ true\n      );\n\n      return new PageConfig(productId, !isAccessibleForFree);\n    }\n\n    return null;\n  }\n\n  /**\n   * @param {*} value\n   * @param {boolean} defaultValue\n   * @return {boolean}\n   */\n  bool_(value, defaultValue) {\n    if (typeof value === 'boolean') {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      const lowercase = value.toLowerCase();\n      if (lowercase === 'false') {\n        return false;\n      }\n      if (lowercase === 'true') {\n        return true;\n      }\n    }\n\n    return defaultValue;\n  }\n\n  /**\n   * @param {!Object} json\n   * @return {?string}\n   */\n  discoverProductId_(json) {\n    // Must have type `Product`.\n    if (!this.checkType_.checkValue(json['@type'], ['Product'])) {\n      return null;\n    }\n    return /** @type {?string} */ (this.singleValue_(json, 'productID'));\n  }\n\n  /**\n   * @param {!Object} json\n   * @param {string} name\n   * @return {?Array}\n   */\n  valueArray_(json, name) {\n    const value = json[name];\n    if (value == null || value === '') {\n      return null;\n    }\n    return Array.isArray(value) ? value : [value];\n  }\n\n  /**\n   * @param {!Object} json\n   * @param {string} name\n   * @return {*}\n   */\n  singleValue_(json, name) {\n    const valueArray = this.valueArray_(json, name);\n    const value = valueArray && valueArray[0];\n    return value == null || value === '' ? null : value;\n  }\n}\n\nclass MicrodataParser {\n  /**\n   * @param {!DocInterface} doc\n   */\n  constructor(doc) {\n    /** @private @const {!DocInterface} */\n    this.doc_ = doc;\n    /** @private {?boolean} */\n    this.access_ = null;\n    /** @private {?string} */\n    this.productId_ = null;\n    /** @private @const @function */\n    this.checkType_ = new TypeChecker();\n  }\n\n  /**\n   * Returns false if access is restricted, otherwise true\n   * @param {!Element} root An element that is an item of type in ALLOWED_TYPES list\n   * @return {?boolean} locked access\n   * @private\n   */\n  discoverAccess_(root) {\n    const ALREADY_SEEN = 'alreadySeenForAccessInfo';\n    const nodeList = root.querySelectorAll(\"[itemprop='isAccessibleForFree']\");\n    for (let i = 0; nodeList[i]; i++) {\n      const element = nodeList[i];\n      const content = element.getAttribute('content') || element.textContent;\n      if (!content) {\n        continue;\n      }\n      if (this.isValidElement_(element, root, ALREADY_SEEN)) {\n        let accessForFree = null;\n        if (content.toLowerCase() == 'true') {\n          accessForFree = true;\n        } else if (content.toLowerCase() == 'false') {\n          accessForFree = false;\n        }\n        return accessForFree;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Verifies if an element is valid based on the following\n   * - child of an item of one the the ALLOWED_TYPES\n   * - not a child of an item of any other type\n   * - not seen before, marked using the alreadySeen tag\n   * @param {?Element} current the element to be verified\n   * @param {!Element} root the parent to track up to\n   * @param {!string} alreadySeen used to tag already visited nodes\n   * @return {!boolean} valid node\n   * @private\n   */\n  isValidElement_(current, root, alreadySeen) {\n    for (\n      let node = current;\n      node && !node[alreadySeen];\n      node = node.parentNode\n    ) {\n      node[alreadySeen] = true;\n      // document nodes don't have hasAttribute\n      if (node.hasAttribute && node.hasAttribute('itemscope')) {\n        /**{?string} */\n        const type = node.getAttribute('itemtype');\n        return this.checkType_.checkString(type, ALLOWED_TYPES);\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Obtains the product ID that meets the requirements\n   * - child of an item of one of ALLOWED_TYPES\n   * - Not a child of an item of type 'Section'\n   * - child of an item of type 'productID'\n   * @param {!Element} root An element that is an item of an ALLOWED_TYPES\n   * @return {?string} product ID, if found\n   * @private\n   */\n  discoverProductId_(root) {\n    const ALREADY_SEEN = 'alreadySeenForProductInfo';\n    const nodeList = root.querySelectorAll('[itemprop=\"productID\"]');\n    for (let i = 0; nodeList[i]; i++) {\n      const element = nodeList[i];\n      const content = element.getAttribute('content') || element.textContent;\n      const item = element.closest('[itemtype][itemscope]');\n      const type = item.getAttribute('itemtype');\n      if (type.indexOf('http://schema.org/Product') <= -1) {\n        continue;\n      }\n      if (this.isValidElement_(item.parentElement, root, ALREADY_SEEN)) {\n        return content;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Returns PageConfig if available\n   * @return {?PageConfig} PageConfig found so far\n   */\n  getPageConfig_() {\n    let locked = null;\n    if (this.access_ != null) {\n      locked = !this.access_;\n    } else if (this.doc_.isReady()) {\n      // Default to unlocked\n      locked = false;\n    }\n    if (this.productId_ != null && locked != null) {\n      return new PageConfig(this.productId_, locked);\n    }\n    return null;\n  }\n\n  /**\n   * Extracts page config from Microdata in the DOM\n   * @return {?PageConfig} PageConfig found\n   */\n  tryExtractConfig_() {\n    let config = this.getPageConfig_();\n    if (config) {\n      return config;\n    }\n\n    // Grab all the nodes with an itemtype and filter for our allowed types\n    const nodeList = Array.prototype.slice\n      .call(this.doc_.getRootNode().querySelectorAll('[itemscope][itemtype]'))\n      .filter((node) =>\n        this.checkType_.checkString(\n          node.getAttribute('itemtype'),\n          ALLOWED_TYPES\n        )\n      );\n\n    for (let i = 0; nodeList[i] && config == null; i++) {\n      const element = nodeList[i];\n      if (this.access_ == null) {\n        this.access_ = this.discoverAccess_(element);\n      }\n      if (!this.productId_) {\n        this.productId_ = this.discoverProductId_(element);\n      }\n      config = this.getPageConfig_();\n    }\n    return config;\n  }\n\n  /**\n   * @return {?PageConfig}\n   */\n  check() {\n    if (!this.doc_.getBody()) {\n      // Wait until the whole `<head>` is parsed.\n      return null;\n    }\n    return this.tryExtractConfig_();\n  }\n}\n\n/**\n * @param {!Node} rootNode\n * @return {?string}\n */\nexport function getControlFlag(rootNode) {\n  // Look for the flag in `meta`.\n  const flag = getMetaTag(rootNode, CONTROL_FLAG);\n  if (flag) {\n    return flag;\n  }\n  // Look for the flag in `script`.\n  const el = rootNode.querySelector(`script[${CONTROL_FLAG}]`);\n  if (el) {\n    return el.getAttribute(CONTROL_FLAG);\n  }\n  return null;\n}\n\n/**\n * Returns the value from content attribute of a meta tag with given name.\n *\n * If multiple tags are found, the first value is returned.\n *\n * @param {!Node} rootNode\n * @param {string} name The tag name to look for.\n * @return {?string} attribute value or empty string.\n * @private\n */\nfunction getMetaTag(rootNode, name) {\n  const el = rootNode.querySelector(`meta[name=\"${name}\"]`);\n  if (el) {\n    return el.getAttribute('content');\n  }\n  return null;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n */\nexport class PageConfig {\n  /**\n   * @param {string} productOrPublicationId\n   * @param {boolean} locked\n   */\n  constructor(productOrPublicationId, locked) {\n    let publicationId, productId, label;\n    const div = productOrPublicationId.indexOf(':');\n    if (div != -1) {\n      // The argument is a product id.\n      productId = productOrPublicationId;\n      publicationId = productId.substring(0, div);\n      label = productId.substring(div + 1);\n    } else {\n      // The argument is a publication id.\n      publicationId = productOrPublicationId;\n      productId = null;\n      label = null;\n    }\n\n    /** @private @const {string} */\n    this.publicationId_ = publicationId;\n    /** @private @const {?string} */\n    this.productId_ = productId;\n    /** @private @const {?string} */\n    this.label_ = label;\n    /** @private @const {boolean} */\n    this.locked_ = locked;\n  }\n\n  /**\n   * @return {string}\n   */\n  getPublicationId() {\n    return this.publicationId_;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getProductId() {\n    return this.productId_;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getLabel() {\n    return this.label_;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isLocked() {\n    return this.locked_;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Protos for SwG client/iframe messaging\n * Auto generated, do not edit\n */\n\n/**\n * @interface\n */\nclass Message {\n  /**\n   * @return {string}\n   */\n  label() {}\n\n  /**\n   * @param {boolean=} unusedIncludeLabel\n   * @return {!Array<*>}\n   */\n  toArray(unusedIncludeLabel = true) {}\n}\n/** @enum {number} */\nconst ActionType = {\n  ACTION_TYPE_UNKNOWN: 0,\n  ACTION_TYPE_RELOAD_PAGE: 1,\n  ACTION_TYPE_UPDATE_COUNTER: 2,\n};\n/** @enum {number} */\nconst AnalyticsEvent = {\n  UNKNOWN: 0,\n  IMPRESSION_PAYWALL: 1,\n  IMPRESSION_AD: 2,\n  IMPRESSION_OFFERS: 3,\n  IMPRESSION_SUBSCRIBE_BUTTON: 4,\n  IMPRESSION_SMARTBOX: 5,\n  IMPRESSION_SWG_BUTTON: 6,\n  IMPRESSION_CLICK_TO_SHOW_OFFERS: 7,\n  IMPRESSION_CLICK_TO_SHOW_OFFERS_OR_ALREADY_SUBSCRIBED: 8,\n  IMPRESSION_SUBSCRIPTION_COMPLETE: 9,\n  IMPRESSION_ACCOUNT_CHANGED: 10,\n  IMPRESSION_PAGE_LOAD: 11,\n  IMPRESSION_LINK: 12,\n  IMPRESSION_SAVE_SUBSCR_TO_GOOGLE: 13,\n  IMPRESSION_GOOGLE_UPDATED: 14,\n  IMPRESSION_SHOW_OFFERS_SMARTBOX: 15,\n  IMPRESSION_SHOW_OFFERS_SWG_BUTTON: 16,\n  IMPRESSION_SELECT_OFFER_SMARTBOX: 17,\n  IMPRESSION_SELECT_OFFER_SWG_BUTTON: 18,\n  IMPRESSION_SHOW_CONTRIBUTIONS_SWG_BUTTON: 19,\n  IMPRESSION_SELECT_CONTRIBUTION_SWG_BUTTON: 20,\n  IMPRESSION_METER_TOAST: 21,\n  IMPRESSION_REGWALL: 22,\n  IMPRESSION_SHOWCASE_REGWALL: 23,\n  IMPRESSION_SWG_SUBSCRIPTION_MINI_PROMPT: 24,\n  IMPRESSION_SWG_CONTRIBUTION_MINI_PROMPT: 25,\n  IMPRESSION_CONTRIBUTION_OFFERS: 26,\n  IMPRESSION_TWG_COUNTER: 27,\n  IMPRESSION_TWG_SITE_SUPPORTER_WALL: 28,\n  IMPRESSION_TWG_PUBLICATION: 29,\n  IMPRESSION_TWG_STATIC_BUTTON: 30,\n  IMPRESSION_TWG_DYNAMIC_BUTTON: 31,\n  IMPRESSION_TWG_STICKER_SELECTION_SCREEN: 32,\n  IMPRESSION_TWG_PUBLICATION_NOT_SET_UP: 33,\n  IMPRESSION_REGWALL_OPT_IN: 34,\n  IMPRESSION_NEWSLETTER_OPT_IN: 35,\n  IMPRESSION_SUBSCRIPTION_OFFERS_ERROR: 36,\n  IMPRESSION_CONTRIBUTION_OFFERS_ERROR: 37,\n  IMPRESSION_TWG_SHORTENED_STICKER_FLOW: 38,\n  IMPRESSION_SUBSCRIPTION_LINKING_LOADING: 39,\n  IMPRESSION_SUBSCRIPTION_LINKING_COMPLETE: 40,\n  IMPRESSION_SUBSCRIPTION_LINKING_ERROR: 41,\n  IMPRESSION_SURVEY: 42,\n  ACTION_SUBSCRIBE: 1000,\n  ACTION_PAYMENT_COMPLETE: 1001,\n  ACTION_ACCOUNT_CREATED: 1002,\n  ACTION_ACCOUNT_ACKNOWLEDGED: 1003,\n  ACTION_SUBSCRIPTIONS_LANDING_PAGE: 1004,\n  ACTION_PAYMENT_FLOW_STARTED: 1005,\n  ACTION_OFFER_SELECTED: 1006,\n  ACTION_SWG_BUTTON_CLICK: 1007,\n  ACTION_VIEW_OFFERS: 1008,\n  ACTION_ALREADY_SUBSCRIBED: 1009,\n  ACTION_NEW_DEFERRED_ACCOUNT: 1010,\n  ACTION_LINK_CONTINUE: 1011,\n  ACTION_LINK_CANCEL: 1012,\n  ACTION_GOOGLE_UPDATED_CLOSE: 1013,\n  ACTION_USER_CANCELED_PAYFLOW: 1014,\n  ACTION_SAVE_SUBSCR_TO_GOOGLE_CONTINUE: 1015,\n  ACTION_SAVE_SUBSCR_TO_GOOGLE_CANCEL: 1016,\n  ACTION_SWG_BUTTON_SHOW_OFFERS_CLICK: 1017,\n  ACTION_SWG_BUTTON_SELECT_OFFER_CLICK: 1018,\n  ACTION_SWG_BUTTON_SHOW_CONTRIBUTIONS_CLICK: 1019,\n  ACTION_SWG_BUTTON_SELECT_CONTRIBUTION_CLICK: 1020,\n  ACTION_USER_CONSENT_DEFERRED_ACCOUNT: 1021,\n  ACTION_USER_DENY_DEFERRED_ACCOUNT: 1022,\n  ACTION_DEFERRED_ACCOUNT_REDIRECT: 1023,\n  ACTION_GET_ENTITLEMENTS: 1024,\n  ACTION_METER_TOAST_SUBSCRIBE_CLICK: 1025,\n  ACTION_METER_TOAST_EXPANDED: 1026,\n  ACTION_METER_TOAST_CLOSED_BY_ARTICLE_INTERACTION: 1027,\n  ACTION_METER_TOAST_CLOSED_BY_SWIPE_DOWN: 1028,\n  ACTION_METER_TOAST_CLOSED_BY_X_CLICKED: 1029,\n  ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLICK: 1030,\n  ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLICK: 1031,\n  ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLOSE: 1032,\n  ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLOSE: 1033,\n  ACTION_CONTRIBUTION_OFFER_SELECTED: 1034,\n  ACTION_SHOWCASE_REGWALL_GSI_CLICK: 1035,\n  ACTION_SHOWCASE_REGWALL_EXISTING_ACCOUNT_CLICK: 1036,\n  ACTION_SUBSCRIPTION_OFFERS_CLOSED: 1037,\n  ACTION_CONTRIBUTION_OFFERS_CLOSED: 1038,\n  ACTION_TWG_STATIC_CTA_CLICK: 1039,\n  ACTION_TWG_DYNAMIC_CTA_CLICK: 1040,\n  ACTION_TWG_SITE_LEVEL_SUPPORTER_WALL_CTA_CLICK: 1041,\n  ACTION_TWG_DIALOG_SUPPORTER_WALL_CTA_CLICK: 1042,\n  ACTION_TWG_COUNTER_CLICK: 1043,\n  ACTION_TWG_SITE_SUPPORTER_WALL_ALL_THANKS_CLICK: 1044,\n  ACTION_TWG_PAID_STICKER_SELECTED_SCREEN_CLOSE_CLICK: 1045,\n  ACTION_TWG_PAID_STICKER_SELECTION_CLICK: 1046,\n  ACTION_TWG_FREE_STICKER_SELECTION_CLICK: 1047,\n  ACTION_TWG_MINI_SUPPORTER_WALL_CLICK: 1048,\n  ACTION_TWG_CREATOR_BENEFIT_CLICK: 1049,\n  ACTION_TWG_FREE_TRANSACTION_START_NEXT_BUTTON_CLICK: 1050,\n  ACTION_TWG_PAID_TRANSACTION_START_NEXT_BUTTON_CLICK: 1051,\n  ACTION_TWG_STICKER_SELECTION_SCREEN_CLOSE_CLICK: 1052,\n  ACTION_TWG_ARTICLE_LEVEL_SUPPORTER_WALL_CTA_CLICK: 1053,\n  ACTION_REGWALL_OPT_IN_BUTTON_CLICK: 1054,\n  ACTION_REGWALL_ALREADY_OPTED_IN_CLICK: 1055,\n  ACTION_NEWSLETTER_OPT_IN_BUTTON_CLICK: 1056,\n  ACTION_NEWSLETTER_ALREADY_OPTED_IN_CLICK: 1057,\n  ACTION_REGWALL_OPT_IN_CLOSE: 1058,\n  ACTION_NEWSLETTER_OPT_IN_CLOSE: 1059,\n  ACTION_SHOWCASE_REGWALL_SWIG_CLICK: 1060,\n  ACTION_TWG_CHROME_APP_MENU_ENTRY_POINT_CLICK: 1061,\n  ACTION_TWG_DISCOVER_FEED_MENU_ENTRY_POINT_CLICK: 1062,\n  ACTION_SHOWCASE_REGWALL_3P_BUTTON_CLICK: 1063,\n  ACTION_SUBSCRIPTION_OFFERS_RETRY: 1064,\n  ACTION_CONTRIBUTION_OFFERS_RETRY: 1065,\n  ACTION_TWG_SHORTENED_STICKER_FLOW_STICKER_SELECTION_CLICK: 1066,\n  ACTION_INITIATE_UPDATED_SUBSCRIPTION_LINKING: 1067,\n  ACTION_SURVEY_SUBMIT_CLICK: 1068,\n  ACTION_SURVEY_CLOSED: 1069,\n  ACTION_SURVEY_DATA_TRANSFER: 1070,\n  EVENT_PAYMENT_FAILED: 2000,\n  EVENT_REGWALL_OPT_IN_FAILED: 2001,\n  EVENT_NEWSLETTER_OPT_IN_FAILED: 2002,\n  EVENT_REGWALL_ALREADY_OPT_IN: 2003,\n  EVENT_NEWSLETTER_ALREADY_OPT_IN: 2004,\n  EVENT_SUBSCRIPTION_LINKING_FAILED: 2005,\n  EVENT_SURVEY_ALREADY_SUBMITTED: 2006,\n  EVENT_SURVEY_SUBMIT_FAILED: 2007,\n  EVENT_CUSTOM: 3000,\n  EVENT_CONFIRM_TX_ID: 3001,\n  EVENT_CHANGED_TX_ID: 3002,\n  EVENT_GPAY_NO_TX_ID: 3003,\n  EVENT_GPAY_CANNOT_CONFIRM_TX_ID: 3004,\n  EVENT_GOOGLE_UPDATED: 3005,\n  EVENT_NEW_TX_ID: 3006,\n  EVENT_UNLOCKED_BY_SUBSCRIPTION: 3007,\n  EVENT_UNLOCKED_BY_METER: 3008,\n  EVENT_NO_ENTITLEMENTS: 3009,\n  EVENT_HAS_METERING_ENTITLEMENTS: 3010,\n  EVENT_OFFERED_METER: 3011,\n  EVENT_UNLOCKED_FREE_PAGE: 3012,\n  EVENT_INELIGIBLE_PAYWALL: 3013,\n  EVENT_UNLOCKED_FOR_CRAWLER: 3014,\n  EVENT_TWG_COUNTER_VIEW: 3015,\n  EVENT_TWG_SITE_SUPPORTER_WALL_VIEW: 3016,\n  EVENT_TWG_STATIC_BUTTON_VIEW: 3017,\n  EVENT_TWG_DYNAMIC_BUTTON_VIEW: 3018,\n  EVENT_TWG_PRE_TRANSACTION_PRIVACY_SETTING_PRIVATE: 3019,\n  EVENT_TWG_POST_TRANSACTION_SETTING_PRIVATE: 3020,\n  EVENT_TWG_PRE_TRANSACTION_PRIVACY_SETTING_PUBLIC: 3021,\n  EVENT_TWG_POST_TRANSACTION_SETTING_PUBLIC: 3022,\n  EVENT_REGWALL_OPTED_IN: 3023,\n  EVENT_NEWSLETTER_OPTED_IN: 3024,\n  EVENT_SHOWCASE_METERING_INIT: 3025,\n  EVENT_DISABLE_MINIPROMPT_DESKTOP: 3026,\n  EVENT_SUBSCRIPTION_LINKING_SUCCESS: 3027,\n  EVENT_SURVEY_SUBMITTED: 3028,\n  EVENT_SUBSCRIPTION_STATE: 4000,\n};\n/** @enum {number} */\nconst EntitlementResult = {\n  UNKNOWN_ENTITLEMENT_RESULT: 0,\n  UNLOCKED_SUBSCRIBER: 1001,\n  UNLOCKED_FREE: 1002,\n  UNLOCKED_METER: 1003,\n  LOCKED_REGWALL: 2001,\n  LOCKED_PAYWALL: 2002,\n  INELIGIBLE_PAYWALL: 2003,\n};\n/** @enum {number} */\nconst EntitlementSource = {\n  UNKNOWN_ENTITLEMENT_SOURCE: 0,\n  GOOGLE_SUBSCRIBER_ENTITLEMENT: 1001,\n  GOOGLE_SHOWCASE_METERING_SERVICE: 2001,\n  SUBSCRIBE_WITH_GOOGLE_METERING_SERVICE: 2002,\n  PUBLISHER_ENTITLEMENT: 3001,\n};\n/** @enum {number} */\nconst EventOriginator = {\n  UNKNOWN_CLIENT: 0,\n  SWG_CLIENT: 1,\n  AMP_CLIENT: 2,\n  PROPENSITY_CLIENT: 3,\n  SWG_SERVER: 4,\n  PUBLISHER_CLIENT: 5,\n  SHOWCASE_CLIENT: 6,\n};\n/** @enum {number} */\nconst ReaderSurfaceType = {\n  READER_SURFACE_TYPE_UNSPECIFIED: 0,\n  READER_SURFACE_WORDPRESS: 1,\n  READER_SURFACE_CHROME: 2,\n  READER_SURFACE_TENOR: 3,\n};\n\n/**\n * @implements {Message}\n */\nclass AccountCreationRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.complete_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getComplete() {\n    return this.complete_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setComplete(value) {\n    this.complete_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.complete_, // field 1 - complete\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AccountCreationRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass ActionRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?ActionType} */\n    this.action_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?ActionType}\n   */\n  getAction() {\n    return this.action_;\n  }\n\n  /**\n   * @param {!ActionType} value\n   */\n  setAction(value) {\n    this.action_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.action_, // field 1 - action\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'ActionRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass AlreadySubscribedResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.subscriberOrMember_ = data[base] == null ? null : data[base];\n\n    /** @private {?boolean} */\n    this.linkRequested_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getSubscriberOrMember() {\n    return this.subscriberOrMember_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setSubscriberOrMember(value) {\n    this.subscriberOrMember_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getLinkRequested() {\n    return this.linkRequested_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setLinkRequested(value) {\n    this.linkRequested_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.subscriberOrMember_, // field 1 - subscriber_or_member\n        this.linkRequested_, // field 2 - link_requested\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AlreadySubscribedResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass AnalyticsContext {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.embedderOrigin_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.transactionId_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?string} */\n    this.referringOrigin_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {?string} */\n    this.utmSource_ = data[3 + base] == null ? null : data[3 + base];\n\n    /** @private {?string} */\n    this.utmCampaign_ = data[4 + base] == null ? null : data[4 + base];\n\n    /** @private {?string} */\n    this.utmMedium_ = data[5 + base] == null ? null : data[5 + base];\n\n    /** @private {?string} */\n    this.sku_ = data[6 + base] == null ? null : data[6 + base];\n\n    /** @private {?boolean} */\n    this.readyToPay_ = data[7 + base] == null ? null : data[7 + base];\n\n    /** @private {!Array<string>} */\n    this.label_ = data[8 + base] || [];\n\n    /** @private {?string} */\n    this.clientVersion_ = data[9 + base] == null ? null : data[9 + base];\n\n    /** @private {?string} */\n    this.url_ = data[10 + base] == null ? null : data[10 + base];\n\n    /** @private {?Timestamp} */\n    this.clientTimestamp_ =\n      data[11 + base] == null || data[11 + base] == undefined\n        ? null\n        : new Timestamp(data[11 + base], includesLabel);\n\n    /** @private {?ReaderSurfaceType} */\n    this.readerSurfaceType_ = data[12 + base] == null ? null : data[12 + base];\n\n    /** @private {?string} */\n    this.integrationVersion_ = data[13 + base] == null ? null : data[13 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getEmbedderOrigin() {\n    return this.embedderOrigin_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setEmbedderOrigin(value) {\n    this.embedderOrigin_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getTransactionId() {\n    return this.transactionId_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setTransactionId(value) {\n    this.transactionId_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getReferringOrigin() {\n    return this.referringOrigin_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setReferringOrigin(value) {\n    this.referringOrigin_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUtmSource() {\n    return this.utmSource_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUtmSource(value) {\n    this.utmSource_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUtmCampaign() {\n    return this.utmCampaign_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUtmCampaign(value) {\n    this.utmCampaign_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUtmMedium() {\n    return this.utmMedium_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUtmMedium(value) {\n    this.utmMedium_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSku() {\n    return this.sku_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSku(value) {\n    this.sku_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getReadyToPay() {\n    return this.readyToPay_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setReadyToPay(value) {\n    this.readyToPay_ = value;\n  }\n\n  /**\n   * @return {!Array<string>}\n   */\n  getLabelList() {\n    return this.label_;\n  }\n\n  /**\n   * @param {!Array<string>} value\n   */\n  setLabelList(value) {\n    this.label_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getClientVersion() {\n    return this.clientVersion_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setClientVersion(value) {\n    this.clientVersion_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUrl() {\n    return this.url_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUrl(value) {\n    this.url_ = value;\n  }\n\n  /**\n   * @return {?Timestamp}\n   */\n  getClientTimestamp() {\n    return this.clientTimestamp_;\n  }\n\n  /**\n   * @param {!Timestamp} value\n   */\n  setClientTimestamp(value) {\n    this.clientTimestamp_ = value;\n  }\n\n  /**\n   * @return {?ReaderSurfaceType}\n   */\n  getReaderSurfaceType() {\n    return this.readerSurfaceType_;\n  }\n\n  /**\n   * @param {!ReaderSurfaceType} value\n   */\n  setReaderSurfaceType(value) {\n    this.readerSurfaceType_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getIntegrationVersion() {\n    return this.integrationVersion_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setIntegrationVersion(value) {\n    this.integrationVersion_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.embedderOrigin_, // field 1 - embedder_origin\n        this.transactionId_, // field 2 - transaction_id\n        this.referringOrigin_, // field 3 - referring_origin\n        this.utmSource_, // field 4 - utm_source\n        this.utmCampaign_, // field 5 - utm_campaign\n        this.utmMedium_, // field 6 - utm_medium\n        this.sku_, // field 7 - sku\n        this.readyToPay_, // field 8 - ready_to_pay\n        this.label_, // field 9 - label\n        this.clientVersion_, // field 10 - client_version\n        this.url_, // field 11 - url\n        this.clientTimestamp_ ? this.clientTimestamp_.toArray(includeLabel) : [], // field 12 - client_timestamp\n        this.readerSurfaceType_, // field 13 - reader_surface_type\n        this.integrationVersion_, // field 14 - integration_version\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AnalyticsContext';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass AnalyticsEventMeta {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?EventOriginator} */\n    this.eventOriginator_ = data[base] == null ? null : data[base];\n\n    /** @private {?boolean} */\n    this.isFromUserAction_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?EventOriginator}\n   */\n  getEventOriginator() {\n    return this.eventOriginator_;\n  }\n\n  /**\n   * @param {!EventOriginator} value\n   */\n  setEventOriginator(value) {\n    this.eventOriginator_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getIsFromUserAction() {\n    return this.isFromUserAction_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setIsFromUserAction(value) {\n    this.isFromUserAction_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.eventOriginator_, // field 1 - event_originator\n        this.isFromUserAction_, // field 2 - is_from_user_action\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AnalyticsEventMeta';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass AnalyticsRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?AnalyticsContext} */\n    this.context_ =\n      data[base] == null || data[base] == undefined\n        ? null\n        : new AnalyticsContext(data[base], includesLabel);\n\n    /** @private {?AnalyticsEvent} */\n    this.event_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?AnalyticsEventMeta} */\n    this.meta_ =\n      data[2 + base] == null || data[2 + base] == undefined\n        ? null\n        : new AnalyticsEventMeta(data[2 + base], includesLabel);\n\n    /** @private {?EventParams} */\n    this.params_ =\n      data[3 + base] == null || data[3 + base] == undefined\n        ? null\n        : new EventParams(data[3 + base], includesLabel);\n  }\n\n  /**\n   * @return {?AnalyticsContext}\n   */\n  getContext() {\n    return this.context_;\n  }\n\n  /**\n   * @param {!AnalyticsContext} value\n   */\n  setContext(value) {\n    this.context_ = value;\n  }\n\n  /**\n   * @return {?AnalyticsEvent}\n   */\n  getEvent() {\n    return this.event_;\n  }\n\n  /**\n   * @param {!AnalyticsEvent} value\n   */\n  setEvent(value) {\n    this.event_ = value;\n  }\n\n  /**\n   * @return {?AnalyticsEventMeta}\n   */\n  getMeta() {\n    return this.meta_;\n  }\n\n  /**\n   * @param {!AnalyticsEventMeta} value\n   */\n  setMeta(value) {\n    this.meta_ = value;\n  }\n\n  /**\n   * @return {?EventParams}\n   */\n  getParams() {\n    return this.params_;\n  }\n\n  /**\n   * @param {!EventParams} value\n   */\n  setParams(value) {\n    this.params_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.context_ ? this.context_.toArray(includeLabel) : [], // field 1 - context\n        this.event_, // field 2 - event\n        this.meta_ ? this.meta_.toArray(includeLabel) : [], // field 3 - meta\n        this.params_ ? this.params_.toArray(includeLabel) : [], // field 4 - params\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AnalyticsRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass AudienceActivityClientLogsRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?AnalyticsEvent} */\n    this.event_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?AnalyticsEvent}\n   */\n  getEvent() {\n    return this.event_;\n  }\n\n  /**\n   * @param {!AnalyticsEvent} value\n   */\n  setEvent(value) {\n    this.event_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.event_, // field 1 - event\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'AudienceActivityClientLogsRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass CompleteAudienceActionResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.swgUserToken_ = data[base] == null ? null : data[base];\n\n    /** @private {?boolean} */\n    this.actionCompleted_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?string} */\n    this.userEmail_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {?boolean} */\n    this.alreadyCompleted_ = data[3 + base] == null ? null : data[3 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSwgUserToken() {\n    return this.swgUserToken_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSwgUserToken(value) {\n    this.swgUserToken_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getActionCompleted() {\n    return this.actionCompleted_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setActionCompleted(value) {\n    this.actionCompleted_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUserEmail() {\n    return this.userEmail_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUserEmail(value) {\n    this.userEmail_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getAlreadyCompleted() {\n    return this.alreadyCompleted_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setAlreadyCompleted(value) {\n    this.alreadyCompleted_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.swgUserToken_, // field 1 - swg_user_token\n        this.actionCompleted_, // field 2 - action_completed\n        this.userEmail_, // field 3 - user_email\n        this.alreadyCompleted_, // field 4 - already_completed\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'CompleteAudienceActionResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass EntitlementJwt {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.jwt_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.source_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getJwt() {\n    return this.jwt_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setJwt(value) {\n    this.jwt_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSource() {\n    return this.source_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSource(value) {\n    this.source_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.jwt_, // field 1 - jwt\n        this.source_, // field 2 - source\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'EntitlementJwt';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass EntitlementsRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?EntitlementJwt} */\n    this.usedEntitlement_ =\n      data[base] == null || data[base] == undefined\n        ? null\n        : new EntitlementJwt(data[base], includesLabel);\n\n    /** @private {?Timestamp} */\n    this.clientEventTime_ =\n      data[1 + base] == null || data[1 + base] == undefined\n        ? null\n        : new Timestamp(data[1 + base], includesLabel);\n\n    /** @private {?EntitlementSource} */\n    this.entitlementSource_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {?EntitlementResult} */\n    this.entitlementResult_ = data[3 + base] == null ? null : data[3 + base];\n\n    /** @private {?string} */\n    this.token_ = data[4 + base] == null ? null : data[4 + base];\n\n    /** @private {?boolean} */\n    this.isUserRegistered_ = data[5 + base] == null ? null : data[5 + base];\n\n    /** @private {?Timestamp} */\n    this.subscriptionTimestamp_ =\n      data[6 + base] == null || data[6 + base] == undefined\n        ? null\n        : new Timestamp(data[6 + base], includesLabel);\n  }\n\n  /**\n   * @return {?EntitlementJwt}\n   */\n  getUsedEntitlement() {\n    return this.usedEntitlement_;\n  }\n\n  /**\n   * @param {!EntitlementJwt} value\n   */\n  setUsedEntitlement(value) {\n    this.usedEntitlement_ = value;\n  }\n\n  /**\n   * @return {?Timestamp}\n   */\n  getClientEventTime() {\n    return this.clientEventTime_;\n  }\n\n  /**\n   * @param {!Timestamp} value\n   */\n  setClientEventTime(value) {\n    this.clientEventTime_ = value;\n  }\n\n  /**\n   * @return {?EntitlementSource}\n   */\n  getEntitlementSource() {\n    return this.entitlementSource_;\n  }\n\n  /**\n   * @param {!EntitlementSource} value\n   */\n  setEntitlementSource(value) {\n    this.entitlementSource_ = value;\n  }\n\n  /**\n   * @return {?EntitlementResult}\n   */\n  getEntitlementResult() {\n    return this.entitlementResult_;\n  }\n\n  /**\n   * @param {!EntitlementResult} value\n   */\n  setEntitlementResult(value) {\n    this.entitlementResult_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getToken() {\n    return this.token_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setToken(value) {\n    this.token_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getIsUserRegistered() {\n    return this.isUserRegistered_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setIsUserRegistered(value) {\n    this.isUserRegistered_ = value;\n  }\n\n  /**\n   * @return {?Timestamp}\n   */\n  getSubscriptionTimestamp() {\n    return this.subscriptionTimestamp_;\n  }\n\n  /**\n   * @param {!Timestamp} value\n   */\n  setSubscriptionTimestamp(value) {\n    this.subscriptionTimestamp_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.usedEntitlement_ ? this.usedEntitlement_.toArray(includeLabel) : [], // field 1 - used_entitlement\n        this.clientEventTime_ ? this.clientEventTime_.toArray(includeLabel) : [], // field 2 - client_event_time\n        this.entitlementSource_, // field 3 - entitlement_source\n        this.entitlementResult_, // field 4 - entitlement_result\n        this.token_, // field 5 - token\n        this.isUserRegistered_, // field 6 - is_user_registered\n        this.subscriptionTimestamp_ ? this.subscriptionTimestamp_.toArray(includeLabel) : [], // field 7 - subscription_timestamp\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'EntitlementsRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass EntitlementsResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.jwt_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.swgUserToken_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getJwt() {\n    return this.jwt_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setJwt(value) {\n    this.jwt_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSwgUserToken() {\n    return this.swgUserToken_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSwgUserToken(value) {\n    this.swgUserToken_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.jwt_, // field 1 - jwt\n        this.swgUserToken_, // field 2 - swg_user_token\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'EntitlementsResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass EventParams {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.smartboxMessage_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.gpayTransactionId_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?boolean} */\n    this.hadLogged_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {?string} */\n    this.sku_ = data[3 + base] == null ? null : data[3 + base];\n\n    /** @private {?string} */\n    this.oldTransactionId_ = data[4 + base] == null ? null : data[4 + base];\n\n    /** @private {?boolean} */\n    this.isUserRegistered_ = data[5 + base] == null ? null : data[5 + base];\n\n    /** @private {?string} */\n    this.subscriptionFlow_ = data[6 + base] == null ? null : data[6 + base];\n\n    /** @private {?Timestamp} */\n    this.subscriptionTimestamp_ =\n      data[7 + base] == null || data[7 + base] == undefined\n        ? null\n        : new Timestamp(data[7 + base], includesLabel);\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSmartboxMessage() {\n    return this.smartboxMessage_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSmartboxMessage(value) {\n    this.smartboxMessage_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getGpayTransactionId() {\n    return this.gpayTransactionId_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setGpayTransactionId(value) {\n    this.gpayTransactionId_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getHadLogged() {\n    return this.hadLogged_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setHadLogged(value) {\n    this.hadLogged_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSku() {\n    return this.sku_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSku(value) {\n    this.sku_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getOldTransactionId() {\n    return this.oldTransactionId_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setOldTransactionId(value) {\n    this.oldTransactionId_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getIsUserRegistered() {\n    return this.isUserRegistered_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setIsUserRegistered(value) {\n    this.isUserRegistered_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSubscriptionFlow() {\n    return this.subscriptionFlow_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSubscriptionFlow(value) {\n    this.subscriptionFlow_ = value;\n  }\n\n  /**\n   * @return {?Timestamp}\n   */\n  getSubscriptionTimestamp() {\n    return this.subscriptionTimestamp_;\n  }\n\n  /**\n   * @param {!Timestamp} value\n   */\n  setSubscriptionTimestamp(value) {\n    this.subscriptionTimestamp_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.smartboxMessage_, // field 1 - smartbox_message\n        this.gpayTransactionId_, // field 2 - gpay_transaction_id\n        this.hadLogged_, // field 3 - had_logged\n        this.sku_, // field 4 - sku\n        this.oldTransactionId_, // field 5 - old_transaction_id\n        this.isUserRegistered_, // field 6 - is_user_registered\n        this.subscriptionFlow_, // field 7 - subscription_flow\n        this.subscriptionTimestamp_ ? this.subscriptionTimestamp_.toArray(includeLabel) : [], // field 8 - subscription_timestamp\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'EventParams';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass FinishedLoggingResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.complete_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.error_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getComplete() {\n    return this.complete_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setComplete(value) {\n    this.complete_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getError() {\n    return this.error_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setError(value) {\n    this.error_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.complete_, // field 1 - complete\n        this.error_, // field 2 - error\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'FinishedLoggingResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass LinkSaveTokenRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.authCode_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.token_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getAuthCode() {\n    return this.authCode_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setAuthCode(value) {\n    this.authCode_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getToken() {\n    return this.token_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setToken(value) {\n    this.token_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.authCode_, // field 1 - auth_code\n        this.token_, // field 2 - token\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'LinkSaveTokenRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass LinkingInfoResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.requested_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getRequested() {\n    return this.requested_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setRequested(value) {\n    this.requested_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.requested_, // field 1 - requested\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'LinkingInfoResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass OpenDialogRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.urlPath_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getUrlPath() {\n    return this.urlPath_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setUrlPath(value) {\n    this.urlPath_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.urlPath_, // field 1 - url_path\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'OpenDialogRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SkuSelectedResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.sku_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.oldSku_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?boolean} */\n    this.oneTime_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {?string} */\n    this.playOffer_ = data[3 + base] == null ? null : data[3 + base];\n\n    /** @private {?string} */\n    this.oldPlayOffer_ = data[4 + base] == null ? null : data[4 + base];\n\n    /** @private {?string} */\n    this.customMessage_ = data[5 + base] == null ? null : data[5 + base];\n\n    /** @private {?boolean} */\n    this.anonymous_ = data[6 + base] == null ? null : data[6 + base];\n\n    /** @private {?boolean} */\n    this.sharingPolicyEnabled_ = data[7 + base] == null ? null : data[7 + base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSku() {\n    return this.sku_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setSku(value) {\n    this.sku_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getOldSku() {\n    return this.oldSku_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setOldSku(value) {\n    this.oldSku_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getOneTime() {\n    return this.oneTime_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setOneTime(value) {\n    this.oneTime_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getPlayOffer() {\n    return this.playOffer_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setPlayOffer(value) {\n    this.playOffer_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getOldPlayOffer() {\n    return this.oldPlayOffer_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setOldPlayOffer(value) {\n    this.oldPlayOffer_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getCustomMessage() {\n    return this.customMessage_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setCustomMessage(value) {\n    this.customMessage_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getAnonymous() {\n    return this.anonymous_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setAnonymous(value) {\n    this.anonymous_ = value;\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getSharingPolicyEnabled() {\n    return this.sharingPolicyEnabled_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setSharingPolicyEnabled(value) {\n    this.sharingPolicyEnabled_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.sku_, // field 1 - sku\n        this.oldSku_, // field 2 - old_sku\n        this.oneTime_, // field 3 - one_time\n        this.playOffer_, // field 4 - play_offer\n        this.oldPlayOffer_, // field 5 - old_play_offer\n        this.customMessage_, // field 6 - custom_message\n        this.anonymous_, // field 7 - anonymous\n        this.sharingPolicyEnabled_, // field 8 - sharing_policy_enabled\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SkuSelectedResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SmartBoxMessage {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.isClicked_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getIsClicked() {\n    return this.isClicked_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setIsClicked(value) {\n    this.isClicked_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.isClicked_, // field 1 - is_clicked\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SmartBoxMessage';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SubscribeResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.subscribe_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getSubscribe() {\n    return this.subscribe_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setSubscribe(value) {\n    this.subscribe_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.subscribe_, // field 1 - subscribe\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SubscribeResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SubscriptionLinkingCompleteResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.publisherProvidedId_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getPublisherProvidedId() {\n    return this.publisherProvidedId_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setPublisherProvidedId(value) {\n    this.publisherProvidedId_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.publisherProvidedId_, // field 1 - publisher_provided_id\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SubscriptionLinkingCompleteResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SubscriptionLinkingResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?string} */\n    this.publisherProvidedId_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?string}\n   */\n  getPublisherProvidedId() {\n    return this.publisherProvidedId_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setPublisherProvidedId(value) {\n    this.publisherProvidedId_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.publisherProvidedId_, // field 1 - publisher_provided_id\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SubscriptionLinkingResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SurveyAnswer {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?number} */\n    this.answerId_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.answerText_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?string} */\n    this.answerCategory_ = data[2 + base] == null ? null : data[2 + base];\n  }\n\n  /**\n   * @return {?number}\n   */\n  getAnswerId() {\n    return this.answerId_;\n  }\n\n  /**\n   * @param {number} value\n   */\n  setAnswerId(value) {\n    this.answerId_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getAnswerText() {\n    return this.answerText_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setAnswerText(value) {\n    this.answerText_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getAnswerCategory() {\n    return this.answerCategory_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setAnswerCategory(value) {\n    this.answerCategory_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.answerId_, // field 1 - answer_id\n        this.answerText_, // field 2 - answer_text\n        this.answerCategory_, // field 3 - answer_category\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SurveyAnswer';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SurveyDataTransferRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {!Array<!SurveyQuestion>} */\n    this.surveyQuestions_ = (data[base] || []).map(item => new SurveyQuestion(item, includesLabel));\n  }\n\n  /**\n   * @return {!Array<!SurveyQuestion>}\n   */\n  getSurveyQuestionsList() {\n    return this.surveyQuestions_;\n  }\n\n  /**\n   * @param {!Array<!SurveyQuestion>} value\n   */\n  setSurveyQuestionsList(value) {\n    this.surveyQuestions_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.surveyQuestions_ ? this.surveyQuestions_.map(item => item.toArray(includeLabel)) : [], // field 1 - survey_questions\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SurveyDataTransferRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SurveyDataTransferResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.success_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getSuccess() {\n    return this.success_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setSuccess(value) {\n    this.success_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.success_, // field 1 - success\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SurveyDataTransferResponse';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass SurveyQuestion {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?number} */\n    this.questionId_ = data[base] == null ? null : data[base];\n\n    /** @private {?string} */\n    this.questionText_ = data[1 + base] == null ? null : data[1 + base];\n\n    /** @private {?string} */\n    this.questionCategory_ = data[2 + base] == null ? null : data[2 + base];\n\n    /** @private {!Array<!SurveyAnswer>} */\n    this.surveyAnswers_ = (data[3 + base] || []).map(item => new SurveyAnswer(item, includesLabel));\n  }\n\n  /**\n   * @return {?number}\n   */\n  getQuestionId() {\n    return this.questionId_;\n  }\n\n  /**\n   * @param {number} value\n   */\n  setQuestionId(value) {\n    this.questionId_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getQuestionText() {\n    return this.questionText_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setQuestionText(value) {\n    this.questionText_ = value;\n  }\n\n  /**\n   * @return {?string}\n   */\n  getQuestionCategory() {\n    return this.questionCategory_;\n  }\n\n  /**\n   * @param {string} value\n   */\n  setQuestionCategory(value) {\n    this.questionCategory_ = value;\n  }\n\n  /**\n   * @return {!Array<!SurveyAnswer>}\n   */\n  getSurveyAnswersList() {\n    return this.surveyAnswers_;\n  }\n\n  /**\n   * @param {!Array<!SurveyAnswer>} value\n   */\n  setSurveyAnswersList(value) {\n    this.surveyAnswers_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.questionId_, // field 1 - question_id\n        this.questionText_, // field 2 - question_text\n        this.questionCategory_, // field 3 - question_category\n        this.surveyAnswers_ ? this.surveyAnswers_.map(item => item.toArray(includeLabel)) : [], // field 4 - survey_answers\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'SurveyQuestion';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass Timestamp {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?number} */\n    this.seconds_ = data[base] == null ? null : data[base];\n\n    /** @private {?number} */\n    this.nanos_ = data[1 + base] == null ? null : data[1 + base];\n  }\n\n  /**\n   * @return {?number}\n   */\n  getSeconds() {\n    return this.seconds_;\n  }\n\n  /**\n   * @param {number} value\n   */\n  setSeconds(value) {\n    this.seconds_ = value;\n  }\n\n  /**\n   * @return {?number}\n   */\n  getNanos() {\n    return this.nanos_;\n  }\n\n  /**\n   * @param {number} value\n   */\n  setNanos(value) {\n    this.nanos_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.seconds_, // field 1 - seconds\n        this.nanos_, // field 2 - nanos\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'Timestamp';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass ToastCloseRequest {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.close_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getClose() {\n    return this.close_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setClose(value) {\n    this.close_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.close_, // field 1 - close\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'ToastCloseRequest';\n  }\n}\n\n/**\n * @implements {Message}\n */\nclass ViewSubscriptionsResponse {\n  /**\n   * @param {!Array<*>=} data\n   * @param {boolean=} includesLabel\n   */\n  constructor(data = [], includesLabel = true) {\n    const base = includesLabel ? 1 : 0;\n\n    /** @private {?boolean} */\n    this.native_ = data[base] == null ? null : data[base];\n  }\n\n  /**\n   * @return {?boolean}\n   */\n  getNative() {\n    return this.native_;\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setNative(value) {\n    this.native_ = value;\n  }\n\n  /**\n   * @param {boolean=} includeLabel\n   * @return {!Array<?>}\n   * @override\n   */\n  toArray(includeLabel = true) {\n    const arr = [\n        this.native_, // field 1 - native\n    ];\n    if (includeLabel) {\n      arr.unshift(this.label());\n    }\n    return arr;\n  }\n\n  /**\n   * @return {string}\n   * @override\n   */\n  label() {\n    return 'ViewSubscriptionsResponse';\n  }\n}\n\nconst PROTO_MAP = {\n  'AccountCreationRequest': AccountCreationRequest,\n  'ActionRequest': ActionRequest,\n  'AlreadySubscribedResponse': AlreadySubscribedResponse,\n  'AnalyticsContext': AnalyticsContext,\n  'AnalyticsEventMeta': AnalyticsEventMeta,\n  'AnalyticsRequest': AnalyticsRequest,\n  'AudienceActivityClientLogsRequest': AudienceActivityClientLogsRequest,\n  'CompleteAudienceActionResponse': CompleteAudienceActionResponse,\n  'EntitlementJwt': EntitlementJwt,\n  'EntitlementsRequest': EntitlementsRequest,\n  'EntitlementsResponse': EntitlementsResponse,\n  'EventParams': EventParams,\n  'FinishedLoggingResponse': FinishedLoggingResponse,\n  'LinkSaveTokenRequest': LinkSaveTokenRequest,\n  'LinkingInfoResponse': LinkingInfoResponse,\n  'OpenDialogRequest': OpenDialogRequest,\n  'SkuSelectedResponse': SkuSelectedResponse,\n  'SmartBoxMessage': SmartBoxMessage,\n  'SubscribeResponse': SubscribeResponse,\n  'SubscriptionLinkingCompleteResponse': SubscriptionLinkingCompleteResponse,\n  'SubscriptionLinkingResponse': SubscriptionLinkingResponse,\n  'SurveyAnswer': SurveyAnswer,\n  'SurveyDataTransferRequest': SurveyDataTransferRequest,\n  'SurveyDataTransferResponse': SurveyDataTransferResponse,\n  'SurveyQuestion': SurveyQuestion,\n  'Timestamp': Timestamp,\n  'ToastCloseRequest': ToastCloseRequest,\n  'ViewSubscriptionsResponse': ViewSubscriptionsResponse,\n};\n\n/**\n * Utility to deserialize a buffer\n * @param {!Array<*>} data\n * @return {!Message}\n */\nfunction deserialize(data) {\n  /** {?string} */\n  const key = data ? data[0] : null;\n  if (key) {\n    const ctor = PROTO_MAP[key];\n    if (ctor) {\n      return new ctor(data);\n    }\n  }\n  throw new Error('Deserialization failed for ' + data);\n}\n\n/**\n * @param {function(new: T)} messageType\n * @return {string}\n * @template T\n */\nfunction getLabel(messageType) {\n  const message = /** @type {!Message} */ (new messageType());\n  return message.label();\n}\n\nexport {\n  AccountCreationRequest,\n  ActionRequest,\n  ActionType,\n  AlreadySubscribedResponse,\n  AnalyticsContext,\n  AnalyticsEvent,\n  AnalyticsEventMeta,\n  AnalyticsRequest,\n  AudienceActivityClientLogsRequest,\n  CompleteAudienceActionResponse,\n  EntitlementJwt,\n  EntitlementResult,\n  EntitlementSource,\n  EntitlementsRequest,\n  EntitlementsResponse,\n  EventOriginator,\n  EventParams,\n  FinishedLoggingResponse,\n  LinkSaveTokenRequest,\n  LinkingInfoResponse,\n  Message,\n  OpenDialogRequest,\n  ReaderSurfaceType,\n  SkuSelectedResponse,\n  SmartBoxMessage,\n  SubscribeResponse,\n  SubscriptionLinkingCompleteResponse,\n  SubscriptionLinkingResponse,\n  SurveyAnswer,\n  SurveyDataTransferRequest,\n  SurveyDataTransferResponse,\n  SurveyQuestion,\n  Timestamp,\n  ToastCloseRequest,\n  ViewSubscriptionsResponse,\n  deserialize,\n  getLabel,\n};\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnalyticsContext,\n  AnalyticsEvent,\n  AnalyticsEventMeta,\n  AnalyticsRequest,\n  EventOriginator,\n  EventParams,\n  FinishedLoggingResponse,\n} from '../proto/api_messages';\nimport {ClientEventManager} from './client-event-manager';\nimport {ExperimentFlags} from './experiment-flags';\nimport {createElement} from '../utils/dom';\nimport {feUrl} from './services';\nimport {getCanonicalUrl} from '../utils/url';\nimport {getOnExperiments, isExperimentOn} from './experiments';\nimport {getSwgTransactionId, getUuid} from '../utils/string';\nimport {log} from '../utils/log';\nimport {parseQueryString, parseUrl} from '../utils/url';\nimport {serviceUrl} from './services';\nimport {setImportantStyles} from '../utils/style';\nimport {toTimestamp} from '../utils/date-utils';\n\n/** @const {!Object<string, string>} */\nconst iframeStyles = {\n  opacity: '0',\n  position: 'absolute',\n  top: '-10px',\n  left: '-10px',\n  height: '1px',\n  width: '1px',\n};\n\n// The initial iframe load takes ~500 ms.  We will wait at least that long\n// before a page redirect.  Subsequent logs are much faster.  We will wait at\n// most 100 ms.\nconst MAX_FIRST_WAIT = 500;\nconst MAX_WAIT = 200;\n// If we logged and rapidly redirected, we will add a short delay in case\n// a message hasn't been transmitted yet.\nconst TIMEOUT_ERROR = 'AnalyticsService timed out waiting for a response';\n\n/**\n *\n * @param {!string} error\n */\nfunction createErrorResponse(error) {\n  const response = new FinishedLoggingResponse();\n  response.setComplete(false);\n  response.setError(error);\n  return response;\n}\n\nexport class AnalyticsService {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!./fetcher.Fetcher} fetcher\n   */\n  constructor(deps, fetcher) {\n    /** @private @const {!./fetcher.Fetcher} */\n    this.fetcher_ = fetcher;\n\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = deps.doc();\n\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = /** @type {!HTMLIFrameElement} */ (\n      createElement(this.doc_.getWin().document, 'iframe', {})\n    );\n    setImportantStyles(this.iframe_, iframeStyles);\n    this.doc_.getBody().appendChild(this.getElement());\n\n    /** @private @type {!boolean} */\n    this.everFinishedLog_ = false;\n\n    /**\n     * @private @const {!AnalyticsContext}\n     */\n    this.context_ = new AnalyticsContext();\n    this.setStaticContext_();\n\n    /** @private {?Promise<!web-activities/activity-ports.ActivityIframePort>} */\n    this.serviceReady_ = null;\n\n    /** @private {?Promise} */\n    this.lastAction_ = null;\n\n    /** @private @const {!ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n    this.eventManager_.registerEventListener(\n      this.handleClientEvent_.bind(this)\n    );\n\n    // This code creates a 'promise to log' that we can use to ensure all\n    // logging is finished prior to redirecting the page.\n    /** @private {!number} */\n    this.unfinishedLogs_ = 0;\n\n    /** @private {?function(boolean)} */\n    this.loggingResolver_ = null;\n\n    /** @private {?Promise} */\n    this.promiseToLog_ = null;\n\n    // If logging doesn't work don't force the user to wait\n    /** @private {!boolean} */\n    this.loggingBroken_ = false;\n\n    // If logging exceeds the timeouts (see const comments above) don't make\n    // the user wait too long.\n    /** @private {?number} */\n    this.timeout_ = null;\n\n    // A callback for setting the client timestamp before sending requests.\n    /** @private {function():!../proto/api_messages.Timestamp} */\n    this.getTimestamp_ = () => {\n      return toTimestamp(Date.now());\n    };\n\n    // While false, we will buffer logs instead of sending them to the analytics service.\n    /** @private {boolean} */\n    this.readyForLogging_ = false;\n\n    // Stores log events while we wait to be ready for logging.\n    /** @private {Array<!../api/client-event-manager-api.ClientEvent>}*/\n    this.logs_ = [];\n  }\n\n  /**\n   * Sets ready for logging to true and logs all the client events that were previously buffered.\n   */\n  setReadyForLogging() {\n    this.readyForLogging_ = true;\n    this.logs_.forEach((event) => {\n      this.handleClientEvent_(event);\n    });\n  }\n\n  /**\n   * @param {string} transactionId\n   */\n  setTransactionId(transactionId) {\n    const oldTransactionId = this.context_.getTransactionId();\n    this.context_.setTransactionId(transactionId);\n    if (oldTransactionId != null && oldTransactionId != transactionId) {\n      const eventType = AnalyticsEvent.EVENT_NEW_TX_ID;\n      const eventParams = new EventParams();\n      eventParams.setOldTransactionId(oldTransactionId);\n      this.eventManager_.logSwgEvent(\n        eventType,\n        /* isFromUserAction= */ true,\n        eventParams\n      );\n    }\n  }\n\n  /**\n   * @return {string}\n   */\n  getTransactionId() {\n    return /** @type {string} */ (this.context_.getTransactionId());\n  }\n\n  /**\n   * @return {?string}\n   */\n  getSku() {\n    return this.context_.getSku();\n  }\n\n  /**\n   * @param {string} sku\n   */\n  setSku(sku) {\n    this.context_.setSku(sku);\n  }\n\n  /**\n   * @param {string} url\n   */\n  setUrl(url) {\n    this.context_.setUrl(url);\n  }\n\n  /**\n   * @param {!Array<string>} labels\n   */\n  addLabels(labels) {\n    if (labels && labels.length > 0) {\n      const newLabels = [].concat(this.context_.getLabelList());\n      for (const label of labels) {\n        if (newLabels.indexOf(label) == -1) {\n          newLabels.push(label);\n        }\n      }\n      this.context_.setLabelList(newLabels);\n    }\n  }\n\n  /**\n   * @return {!HTMLIFrameElement}\n   */\n  getElement() {\n    return this.iframe_;\n  }\n\n  /**\n   * @return {string}\n   * @private\n   */\n  getQueryString_() {\n    return this.doc_.getWin().location.search;\n  }\n\n  /**\n   * @return {string}\n   * @private\n   */\n  getReferrer_() {\n    return this.doc_.getWin().document.referrer;\n  }\n\n  /**\n   * @private\n   */\n  setStaticContext_() {\n    const context = this.context_;\n    // These values should all be available during page load.\n    if (\n      isExperimentOn(\n        this.doc_.getWin(),\n        ExperimentFlags.UPDATE_GOOGLE_TRANSACTION_ID\n      )\n    ) {\n      context.setTransactionId(getSwgTransactionId());\n    } else {\n      context.setTransactionId(getUuid());\n    }\n    context.setReferringOrigin(parseUrl(this.getReferrer_()).origin);\n    context.setClientVersion('SwG $internalRuntimeVersion$');\n    context.setUrl(getCanonicalUrl(this.doc_));\n\n    const utmParams = parseQueryString(this.getQueryString_());\n    const campaign = utmParams['utm_campaign'];\n    const medium = utmParams['utm_medium'];\n    const source = utmParams['utm_source'];\n    if (campaign) {\n      context.setUtmCampaign(campaign);\n    }\n    if (medium) {\n      context.setUtmMedium(medium);\n    }\n    if (source) {\n      context.setUtmSource(source);\n    }\n  }\n\n  /**\n   * @return {!Promise<!../components/activities.ActivityIframePort>}\n   */\n  start() {\n    if (!this.serviceReady_) {\n      // Please note that currently openIframe reads the current analytics\n      // context and that it may not contain experiments activated late during\n      // the publishers code lifecycle.\n      this.addLabels(getOnExperiments(this.doc_.getWin()));\n      this.serviceReady_ = this.activityPorts_\n        .openIframe(this.iframe_, feUrl('/serviceiframe'), null, true)\n        .then(\n          (port) => {\n            // Register a listener for the logging to code indicate it is\n            // finished logging.\n            port.on(FinishedLoggingResponse, this.afterLogging_.bind(this));\n            return port.whenReady().then(() => {\n              // The publisher should be done setting experiments but runtime\n              // will forward them here if they aren't.\n              this.addLabels(getOnExperiments(this.doc_.getWin()));\n              return port;\n            });\n          },\n          (message) => {\n            // If the port doesn't open register that logging is broken so\n            // nothing is just waiting.\n            this.loggingBroken_ = true;\n            this.afterLogging_(\n              createErrorResponse('Could not connect [' + message + ']')\n            );\n          }\n        );\n    }\n    return this.serviceReady_;\n  }\n\n  /**\n   * @param {boolean} isReadyToPay\n   */\n  setReadyToPay(isReadyToPay) {\n    this.context_.setReadyToPay(isReadyToPay);\n  }\n\n  /**\n   */\n  close() {\n    this.doc_.getBody().removeChild(this.getElement());\n  }\n\n  /**\n   * @return {!AnalyticsContext}\n   */\n  getContext() {\n    return this.context_;\n  }\n\n  /**\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   * @return {!AnalyticsRequest}\n   */\n  createLogRequest_(event) {\n    const meta = new AnalyticsEventMeta();\n    meta.setEventOriginator(event.eventOriginator);\n    meta.setIsFromUserAction(!!event.isFromUserAction);\n    // Update the of the analytics context to the current time.\n    // This needs to be current for log analysis.\n    this.context_.setClientTimestamp(this.getTimestamp_());\n    const request = new AnalyticsRequest();\n    request.setEvent(/** @type {!AnalyticsEvent} */ (event.eventType));\n    request.setContext(this.context_);\n    request.setMeta(meta);\n    if (event.additionalParameters instanceof EventParams) {\n      request.setParams(event.additionalParameters);\n    } // Ignore event.additionalParameters.  It may have data we shouldn't log.\n    return request;\n  }\n\n  /**\n   * @return {boolean}\n   */\n  shouldLogPublisherEvents_() {\n    return this.deps_.config().enableSwgAnalytics === true;\n  }\n\n  /**\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   * @return {boolean}\n   */\n  shouldAlwaysLogEvent_(event) {\n    /* AMP_CLIENT events are considered publisher events and we generally only\n     * log those if the publisher decided to enable publisher event logging for\n     * privacy purposes.  The page load event is not private and is necessary\n     * just so we know the user is in AMP, so we will log it regardless of\n     * configuration.\n     */\n    return (\n      event.eventType === AnalyticsEvent.IMPRESSION_PAGE_LOAD &&\n      event.eventOriginator === EventOriginator.AMP_CLIENT\n    );\n  }\n\n  /**\n   *  Listens for new events from the events manager and handles logging\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   */\n  handleClientEvent_(event) {\n    //this event is just used to communicate information internally.  It should\n    //not be reported to the SwG analytics service.\n    if (event.eventType === AnalyticsEvent.EVENT_SUBSCRIPTION_STATE) {\n      return;\n    }\n\n    // Permission should be asked from a privacy workgroup before this originator\n    // can be submitted to the analytics service.  It should most likely be treated\n    // as another kind of publisher event here though.\n    if (event.eventOriginator === EventOriginator.SHOWCASE_CLIENT) {\n      return;\n    }\n\n    if (\n      ClientEventManager.isPublisherEvent(event) &&\n      !this.shouldLogPublisherEvents_() &&\n      !this.shouldAlwaysLogEvent_(event)\n    ) {\n      return;\n    }\n\n    if (this.readyForLogging_) {\n      // Register we sent a log, the port will call this.afterLogging_ when done.\n      this.unfinishedLogs_++;\n      this.lastAction_ = this.start().then((port) => {\n        const analyticsRequest = this.createLogRequest_(event);\n        port.execute(analyticsRequest);\n        if (\n          isExperimentOn(this.doc_.getWin(), ExperimentFlags.LOGGING_BEACON)\n        ) {\n          this.sendBeacon_(analyticsRequest);\n        }\n      });\n    } else {\n      // If we're not ready to log events yet, store the event so we can log it later.\n      this.logs_.push(event);\n    }\n  }\n\n  /**\n   * This function is called by the iframe after it sends the log to the server.\n   * @param {../proto/api_messages.Message=} message\n   */\n  afterLogging_(message) {\n    const response = /** @type {!FinishedLoggingResponse} */ (message);\n    const success = (response && response.getComplete()) || false;\n    const error = (response && response.getError()) || 'Unknown logging Error';\n    const isTimeout = error === TIMEOUT_ERROR;\n\n    if (!success) {\n      log('Error when logging: ' + error);\n    }\n\n    this.unfinishedLogs_--;\n    if (!isTimeout) {\n      this.everFinishedLog_ = true;\n    }\n\n    // Nothing is waiting\n    if (this.loggingResolver_ === null) {\n      return;\n    }\n\n    if (this.unfinishedLogs_ === 0 || this.loggingBroken_ || isTimeout) {\n      if (this.timeout_ !== null) {\n        clearTimeout(this.timeout_);\n        this.timeout_ = null;\n      }\n      this.loggingResolver_(success);\n      this.promiseToLog_ = null;\n      this.loggingResolver_ = null;\n    }\n  }\n\n  /**\n   * Please note that logs sent after getLoggingPromise is called are not\n   * guaranteed to be finished when the promise is resolved.  You should call\n   * this function just prior to redirecting the page after SwG is finished\n   * logging.\n   * @return {!Promise}\n   */\n  getLoggingPromise() {\n    if (this.unfinishedLogs_ === 0 || this.loggingBroken_) {\n      return Promise.resolve(true);\n    }\n    if (this.promiseToLog_ === null) {\n      this.promiseToLog_ = new Promise((resolve) => {\n        this.loggingResolver_ = resolve;\n      });\n\n      // The promise above should not wait forever if things go wrong.  Let\n      // the user proceed!\n      const whenDone = this.afterLogging_.bind(this);\n      this.timeout_ = setTimeout(\n        () => {\n          this.timeout_ = null;\n          whenDone(createErrorResponse(TIMEOUT_ERROR));\n        },\n        this.everFinishedLog_ ? MAX_WAIT : MAX_FIRST_WAIT\n      );\n    }\n\n    return this.promiseToLog_;\n  }\n\n  /**\n   * A beacon is a rapid fire browser request that does not wait for a response\n   * from the server.  It is guaranteed to go out before the page redirects.\n   * @param {!AnalyticsRequest} analyticsRequest\n   */\n  sendBeacon_(analyticsRequest) {\n    const pubId = encodeURIComponent(\n      this.deps_.pageConfig().getPublicationId()\n    );\n    const url = serviceUrl('/publication/' + pubId + '/clientlogs');\n    this.fetcher_.sendBeacon(url, analyticsRequest);\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AnalyticsEvent} from '../proto/api_messages';\nimport {SWG_I18N_STRINGS} from '../i18n/swg-strings';\nimport {SmartSubscriptionButtonApi, Theme} from './smart-button-api';\nimport {createElement} from '../utils/dom';\nimport {msg} from '../utils/i18n';\n\n/**\n * Properties:\n * - lang: Sets the button SVG and title. Default is \"en\".\n * - theme: \"light\" or \"dark\". Default is \"light\".\n *\n * @typedef {{\n *   options: (!../api/subscriptions.SmartButtonOptions|!../api/subscriptions.ButtonOptions),\n *   clickFun: !function(!Event=),\n * }} ButtonParams\n */\nexport let ButtonParams;\n\n/** @enum {string} */\nexport const ButtonAttributeValues = {\n  SUBSCRIPTION: 'subscription',\n  CONTRIBUTION: 'contribution',\n};\n\nconst BUTTON_INNER_HTML = `<div class=\"swg-button-v2-icon-$theme$\"></div>$textContent$`;\n\n/**\n * The button stylesheet can be found in the `/assets/swg-button.css`.\n * It's produced by the `gulp assets` task and deployed to\n * `https://news.google.com/swg/js/v1/swg-button.css`.\n */\nexport class ButtonApi {\n  /**\n   * @param {!../model/doc.Doc} doc\n   * @param {!Promise<!./runtime.ConfiguredRuntime>} configuredRuntimePromise\n   */\n  constructor(doc, configuredRuntimePromise) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = doc;\n\n    /** @private @const {!Promise<!./runtime.ConfiguredRuntime>} */\n    this.configuredRuntimePromise_ = configuredRuntimePromise;\n  }\n\n  /**\n   */\n  init() {\n    const head = this.doc_.getHead();\n    if (!head) {\n      return;\n    }\n\n    const url = '$assets$/swg-button.css';\n    const existing = head.querySelector(`link[href=\"${url}\"]`);\n    if (existing) {\n      return;\n    }\n\n    // <link rel=\"stylesheet\" href=\"...\" type=\"text/css\">\n    head.appendChild(\n      createElement(this.doc_.getWin().document, 'link', {\n        'rel': 'stylesheet',\n        'type': 'text/css',\n        'href': url,\n      })\n    );\n  }\n\n  /**\n   * @param {!../api/subscriptions.ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  create(optionsOrCallback, callback) {\n    const button = createElement(this.doc_.getWin().document, 'button', {});\n    return this.attach(button, optionsOrCallback, callback);\n  }\n\n  /**\n   * Attaches the Classic 'Subscribe With Google' button.\n   * @param {!Element} button\n   * @param {../api/subscriptions.ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  attach(button, optionsOrCallback, callback) {\n    const options = this.setupButtonAndGetParams_(\n      button,\n      AnalyticsEvent.ACTION_SWG_BUTTON_CLICK,\n      optionsOrCallback,\n      callback\n    ).options;\n\n    const theme = options['theme'];\n    button.classList.add(`swg-button-${theme}`);\n    button.setAttribute('role', 'button');\n    if (options['lang']) {\n      button.setAttribute('lang', options['lang']);\n    }\n    button.setAttribute(\n      'title',\n      msg(SWG_I18N_STRINGS.SUBSCRIPTION_TITLE_LANG_MAP, button) || ''\n    );\n    this.logSwgEvent_(AnalyticsEvent.IMPRESSION_SWG_BUTTON);\n\n    return button;\n  }\n\n  /**\n   * Attaches the new subscribe button, for subscription product types.\n   * @param {!Element} button\n   * @param {../api/subscriptions.ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  attachSubscribeButton(button, optionsOrCallback, callback) {\n    const options = this.setupButtonAndGetParams_(\n      button,\n      AnalyticsEvent.ACTION_SWG_BUTTON_SHOW_OFFERS_CLICK,\n      optionsOrCallback,\n      callback\n    ).options;\n\n    const theme = options['theme'];\n    button.classList.add(`swg-button-v2-${theme}`);\n    button.setAttribute('role', 'button');\n    if (options['lang']) {\n      button.setAttribute('lang', options['lang']);\n    }\n    if (!options['enable']) {\n      button.setAttribute('disabled', 'disabled');\n    }\n    button./*OK*/ innerHTML = BUTTON_INNER_HTML.replace(\n      '$theme$',\n      theme\n    ).replace(\n      '$textContent$',\n      msg(SWG_I18N_STRINGS.SUBSCRIPTION_TITLE_LANG_MAP, button) || ''\n    );\n    this.logSwgEvent_(AnalyticsEvent.IMPRESSION_SHOW_OFFERS_SWG_BUTTON);\n\n    return button;\n  }\n\n  /**\n   * Attaches the new contribute button, for contribution product types.\n   * @param {!Element} button\n   * @param {../api/subscriptions.ButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  attachContributeButton(button, optionsOrCallback, callback) {\n    const options = this.setupButtonAndGetParams_(\n      button,\n      AnalyticsEvent.ACTION_SWG_BUTTON_SHOW_CONTRIBUTIONS_CLICK,\n      optionsOrCallback,\n      callback\n    ).options;\n\n    const theme = options['theme'];\n    button.classList.add(`swg-button-v2-${theme}`);\n    button.setAttribute('role', 'button');\n    if (options['lang']) {\n      button.setAttribute('lang', options['lang']);\n    }\n    if (!options['enable']) {\n      button.setAttribute('disabled', 'disabled');\n    }\n    button./*OK*/ innerHTML = BUTTON_INNER_HTML.replace(\n      '$theme$',\n      theme\n    ).replace(\n      '$textContent$',\n      msg(SWG_I18N_STRINGS.CONTRIBUTION_TITLE_LANG_MAP, button) || ''\n    );\n    this.logSwgEvent_(AnalyticsEvent.IMPRESSION_SHOW_CONTRIBUTIONS_SWG_BUTTON);\n\n    return button;\n  }\n\n  /**\n   * Attaches all buttons with the specified attribute set to any of the\n   * attribute values.\n   * @param {string} attribute\n   * @param {!Array<string>} attributeValues\n   * @param {../api/subscriptions.ButtonOptions} options\n   * @param {!Object<string, function()>} attributeValueToCallback\n   */\n  attachButtonsWithAttribute(\n    attribute,\n    attributeValues,\n    options,\n    attributeValueToCallback\n  ) {\n    for (const attributeValue of attributeValues) {\n      const elements = this.doc_\n        .getRootNode()\n        .querySelectorAll(`[${attribute}=\"${attributeValue}\"]`);\n      for (let i = 0; i < elements.length; i++) {\n        if (attributeValue === ButtonAttributeValues.SUBSCRIPTION) {\n          this.attachSubscribeButton(\n            elements[i],\n            options,\n            attributeValueToCallback[attributeValue]\n          );\n        } else if (attributeValue === ButtonAttributeValues.CONTRIBUTION) {\n          this.attachContributeButton(\n            elements[i],\n            options,\n            attributeValueToCallback[attributeValue]\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {!AnalyticsEvent} eventType\n   * @param {boolean=} isFromUserAction\n   */\n  logSwgEvent_(eventType, isFromUserAction) {\n    this.configuredRuntimePromise_.then((configuredRuntime) => {\n      configuredRuntime.eventManager().logSwgEvent(eventType, isFromUserAction);\n    });\n  }\n\n  /**\n   *\n   * @param {../api/subscriptions.ButtonOptions|../api/subscriptions.SmartButtonOptions|function()} optionsOrCallback\n   * @return {!../api/subscriptions.ButtonOptions|!../api/subscriptions.SmartButtonOptions}\n   * @private\n   */\n  getOptions_(optionsOrCallback) {\n    const options =\n      /** @type {!../api/subscriptions.ButtonOptions|!../api/subscriptions.SmartButtonOptions} */ (\n        optionsOrCallback && typeof optionsOrCallback != 'function'\n          ? optionsOrCallback\n          : {'theme': Theme.LIGHT}\n      );\n\n    const theme = options['theme'];\n    if (theme !== Theme.LIGHT && theme !== Theme.DARK) {\n      options['theme'] = Theme.LIGHT;\n    }\n    return options;\n  }\n\n  /**\n   *\n   * @param {?../api/subscriptions.ButtonOptions|?../api/subscriptions.SmartButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {function()|function(Event):boolean}\n   * @private\n   */\n  getCallback_(optionsOrCallback, callback) {\n    return /** @type {function()|function(Event):boolean} */ (\n      (typeof optionsOrCallback == 'function' ? optionsOrCallback : null) ||\n        callback\n    );\n  }\n\n  /**\n   * @param {!Element} button\n   * @param {AnalyticsEvent} clickEvent\n   * @param {../api/subscriptions.SmartButtonOptions|function()|../api/subscriptions.ButtonOptions} optionsOrCallback\n   * @param {function()=} callbackFun\n   * @return {ButtonParams}\n   */\n  setupButtonAndGetParams_(button, clickEvent, optionsOrCallback, callbackFun) {\n    const options = this.getOptions_(optionsOrCallback);\n    const callback = this.getCallback_(optionsOrCallback, callbackFun);\n    const clickFun = (event) => {\n      this.logSwgEvent_(clickEvent, true);\n      if (typeof callback === 'function') {\n        callback(event);\n      }\n    };\n    button.addEventListener('click', clickFun);\n    return {options, clickFun};\n  }\n\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!Element} button\n   * @param {../api/subscriptions.SmartButtonOptions|function()} optionsOrCallback\n   * @param {function()=} callback\n   * @return {!Element}\n   */\n  attachSmartButton(deps, button, optionsOrCallback, callback) {\n    const params = this.setupButtonAndGetParams_(\n      button,\n      AnalyticsEvent.ACTION_SWG_BUTTON_CLICK,\n      optionsOrCallback,\n      callback\n    );\n    // Add required CSS class, if missing.\n    button.classList.add('swg-smart-button');\n    return new SmartSubscriptionButtonApi(\n      deps,\n      button,\n      params.options,\n      params.clickFun\n    ).start();\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {isCancelError} from '../utils/errors';\nimport {warn} from '../utils/log';\n\n/** @enum {number} */\nconst CallbackId = {\n  ENTITLEMENTS: 1,\n  SUBSCRIBE_REQUEST: 2,\n  PAYMENT_RESPONSE: 3,\n  LOGIN_REQUEST: 4,\n  LINK_PROGRESS: 5,\n  LINK_COMPLETE: 6,\n  FLOW_STARTED: 7,\n  FLOW_CANCELED: 8,\n  PAY_CONFIRM_OPENED: 9,\n  OFFERS_FLOW_REQUEST: 10,\n};\n\n/**\n */\nexport class Callbacks {\n  /**\n   */\n  constructor() {\n    /** @private @const {!Object<CallbackId, function(*)>} */\n    this.callbacks_ = {};\n    /** @private @const {!Object<CallbackId, *>} */\n    this.resultBuffer_ = {};\n    /** @private {?Promise} */\n    this.paymentResponsePromise_ = null;\n  }\n\n  /**\n   * @param {function(!Promise<!../api/entitlements.Entitlements>)} callback\n   */\n  setOnEntitlementsResponse(callback) {\n    this.setCallback_(CallbackId.ENTITLEMENTS, callback);\n  }\n\n  /**\n   * @param {!Promise<!../api/entitlements.Entitlements>} promise\n   */\n  triggerEntitlementsResponse(promise) {\n    return this.trigger_(\n      CallbackId.ENTITLEMENTS,\n      promise.then((res) => res.clone())\n    );\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasEntitlementsResponsePending() {\n    return !!this.resultBuffer_[CallbackId.ENTITLEMENTS];\n  }\n\n  /**\n   * @param {function(!../api/subscriptions.LoginRequest)} callback\n   */\n  setOnLoginRequest(callback) {\n    this.setCallback_(CallbackId.LOGIN_REQUEST, callback);\n  }\n\n  /**\n   * @param {!../api/subscriptions.LoginRequest} request\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerLoginRequest(request) {\n    return this.trigger_(CallbackId.LOGIN_REQUEST, request);\n  }\n\n  /**\n   * @param {function()} callback\n   */\n  setOnLinkProgress(callback) {\n    this.setCallback_(CallbackId.LINK_PROGRESS, callback);\n  }\n\n  /**\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerLinkProgress() {\n    return this.trigger_(CallbackId.LINK_PROGRESS, true);\n  }\n\n  /**\n   */\n  resetLinkProgress() {\n    this.resetCallback_(CallbackId.LINK_PROGRESS);\n  }\n\n  /**\n   * @param {function()} callback\n   */\n  setOnLinkComplete(callback) {\n    this.setCallback_(CallbackId.LINK_COMPLETE, callback);\n  }\n\n  /**\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerLinkComplete() {\n    return this.trigger_(CallbackId.LINK_COMPLETE, true);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasLinkCompletePending() {\n    return !!this.resultBuffer_[CallbackId.LINK_COMPLETE];\n  }\n\n  /**\n   * @param {function(!../ui/activity-iframe-view.ActivityIframeView)} callback\n   */\n  setOnPayConfirmOpened(callback) {\n    this.setCallback_(CallbackId.PAY_CONFIRM_OPENED, callback);\n  }\n\n  /**\n   * @param {!../ui/activity-iframe-view.ActivityIframeView} activityIframeView\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerPayConfirmOpened(activityIframeView) {\n    return this.trigger_(CallbackId.PAY_CONFIRM_OPENED, activityIframeView);\n  }\n\n  /**\n   * @param {function()} callback\n   */\n  setOnSubscribeRequest(callback) {\n    this.setCallback_(CallbackId.SUBSCRIBE_REQUEST, callback);\n  }\n\n  /**\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerSubscribeRequest() {\n    return this.trigger_(CallbackId.SUBSCRIBE_REQUEST, true);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasSubscribeRequestCallback() {\n    return !!this.callbacks_[CallbackId.SUBSCRIBE_REQUEST];\n  }\n\n  /**\n   * @param {function()} callback\n   */\n  setOnOffersFlowRequest(callback) {\n    this.setCallback_(CallbackId.OFFERS_FLOW_REQUEST, callback);\n  }\n\n  /**\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerOffersFlowRequest() {\n    return this.trigger_(CallbackId.OFFERS_FLOW_REQUEST, true);\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasOffersFlowRequestCallback() {\n    return !!this.callbacks_[CallbackId.OFFERS_FLOW_REQUEST];\n  }\n\n  /**\n   * @param {function(!Promise<!../api/subscribe-response.SubscribeResponse>)} callback\n   */\n  setOnSubscribeResponse(callback) {\n    warn(\n      `[swg.js:setOnSubscribeResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'`\n    );\n    this.setCallback_(CallbackId.PAYMENT_RESPONSE, callback);\n  }\n\n  /**\n   * @param {function(!Promise<!../api/subscribe-response.SubscribeResponse>)} callback\n   */\n  setOnContributionResponse(callback) {\n    warn(\n      `[swg.js:setOnContributionResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'`\n    );\n    this.setCallback_(CallbackId.PAYMENT_RESPONSE, callback);\n  }\n\n  /**\n   * @param {function(!Promise<!../api/subscribe-response.SubscribeResponse>)} callback\n   */\n  setOnPaymentResponse(callback) {\n    this.setCallback_(CallbackId.PAYMENT_RESPONSE, callback);\n  }\n\n  /**\n   * @param {!Promise<!../api/subscribe-response.SubscribeResponse>} responsePromise\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerPaymentResponse(responsePromise) {\n    this.paymentResponsePromise_ = responsePromise.then(\n      (res) => {\n        this.trigger_(\n          CallbackId.PAYMENT_RESPONSE,\n          Promise.resolve(res.clone())\n        );\n      },\n      (reason) => {\n        if (isCancelError(reason)) {\n          return;\n        }\n        throw reason;\n      }\n    );\n    return !!this.callbacks_[CallbackId.PAYMENT_RESPONSE];\n  }\n\n  /**\n   * @return {boolean}\n   */\n  hasPaymentResponsePending() {\n    return !!this.resultBuffer_[CallbackId.PAYMENT_RESPONSE];\n  }\n\n  /**\n   * @param {function({flow: string, data: !Object})} callback\n   */\n  setOnFlowStarted(callback) {\n    this.setCallback_(CallbackId.FLOW_STARTED, callback);\n  }\n\n  /**\n   * @param {string} flow\n   * @param {!Object=} data\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerFlowStarted(flow, data = {}) {\n    return this.trigger_(CallbackId.FLOW_STARTED, {\n      flow,\n      data,\n    });\n  }\n\n  /**\n   * @param {function({flow: string, data: !Object})} callback\n   */\n  setOnFlowCanceled(callback) {\n    this.setCallback_(CallbackId.FLOW_CANCELED, callback);\n  }\n\n  /**\n   * @param {string} flow\n   * @param {!Object=} data\n   * @return {boolean} Whether the callback has been found.\n   */\n  triggerFlowCanceled(flow, data = {}) {\n    return this.trigger_(CallbackId.FLOW_CANCELED, {\n      flow,\n      data,\n    });\n  }\n\n  /**\n   * @param {!CallbackId} id\n   * @param {function(?)} callback\n   * @private\n   */\n  setCallback_(id, callback) {\n    if (this.callbacks_[id]) {\n      warn(\n        `[swg.js]: You have registered multiple callbacks for the same response.`\n      );\n    }\n    this.callbacks_[id] = callback;\n    // If result already exist, execute the callback right away.\n    if (id in this.resultBuffer_) {\n      this.executeCallback_(id, callback, this.resultBuffer_[id]);\n    }\n  }\n\n  /**\n   * @param {!CallbackId} id\n   * @param {*} data\n   * @return {boolean}\n   * @private\n   */\n  trigger_(id, data) {\n    this.resultBuffer_[id] = data;\n    const callback = this.callbacks_[id];\n    if (callback) {\n      this.executeCallback_(id, callback, data);\n    }\n    return !!callback;\n  }\n\n  /**\n   * @param {!CallbackId} id\n   * @private\n   */\n  resetCallback_(id) {\n    if (id in this.resultBuffer_) {\n      delete this.resultBuffer_[id];\n    }\n  }\n\n  /**\n   * @param {!CallbackId} id\n   * @param {function(*)} callback\n   * @param {*} data\n   * @private\n   */\n  executeCallback_(id, callback, data) {\n    // Always execute callbacks in a microtask.\n    Promise.resolve().then(() => {\n      callback(data);\n      this.resetCallback_(id);\n    });\n  }\n}\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AttributionParams} from '../model/attribution-params';\nimport {AutoPromptConfig} from '../model/auto-prompt-config';\nimport {ClientConfig, UiPredicates} from '../model/client-config';\nimport {ClientTheme} from '../api/basic-subscriptions';\nimport {serviceUrl} from './services';\nimport {warn} from '../utils/log';\n\n/**\n * Manager of how the client should be configured. Fetches and stores\n * configuration details from the server.\n */\nexport class ClientConfigManager {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {string} publicationId\n   * @param {!./fetcher.Fetcher} fetcher\n   * @param {!../api/basic-subscriptions.ClientOptions=} clientOptions\n   */\n  constructor(deps, publicationId, fetcher, clientOptions) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../api/basic-subscriptions.ClientOptions} */\n    this.clientOptions_ = clientOptions || {};\n\n    /** @private @const {string} */\n    this.publicationId_ = publicationId;\n\n    /** @private @const {!./fetcher.Fetcher} */\n    this.fetcher_ = fetcher;\n\n    /** @private {?Promise<!ClientConfig>} */\n    this.responsePromise_ = null;\n\n    /** @private @const {ClientConfig} */\n    this.defaultConfig_ = new ClientConfig({\n      skipAccountCreationScreen: this.clientOptions_.skipAccountCreationScreen,\n      usePrefixedHostPath: true,\n    });\n  }\n\n  /**\n   * Fetches the client config from the server.\n   * @param {Promise<void>=} readyPromise optional promise to wait on before\n   * attempting to fetch the clientConfiguration.\n   * @return {!Promise<!ClientConfig>}\n   */\n  fetchClientConfig(readyPromise) {\n    if (!this.publicationId_) {\n      throw new Error('fetchClientConfig requires publicationId');\n    }\n    if (!this.responsePromise_) {\n      readyPromise = readyPromise || Promise.resolve();\n      this.responsePromise_ = readyPromise.then(() => this.fetch_());\n    }\n    return this.responsePromise_;\n  }\n\n  /**\n   * Gets the client config, if already requested. Otherwise returns a Promise\n   * with an empty ClientConfig.\n   * @return {!Promise<!ClientConfig>}\n   */\n  getClientConfig() {\n    return this.responsePromise_ || Promise.resolve(this.defaultConfig_);\n  }\n\n  /**\n   * Convenience method for retrieving the auto prompt portion of the client\n   * configuration.\n   * @return {!Promise<!../model/auto-prompt-config.AutoPromptConfig|undefined>}\n   */\n  getAutoPromptConfig() {\n    if (!this.responsePromise_) {\n      this.fetchClientConfig();\n    }\n    return this.responsePromise_.then(\n      (clientConfig) => clientConfig.autoPromptConfig\n    );\n  }\n\n  /**\n   * Gets the language the UI should be displayed in. See\n   * src/api/basic-subscriptions.ClientOptions.lang.\n   * @return {string}\n   */\n  getLanguage() {\n    return this.clientOptions_.lang || 'en';\n  }\n\n  /**\n   * Gets the theme the UI should be displayed in. See\n   * src/api/basic-subscriptions.ClientOptions.theme.\n   * @return {!../api/basic-subscriptions.ClientTheme}\n   */\n  getTheme() {\n    return this.clientOptions_.theme || ClientTheme.LIGHT;\n  }\n\n  /**\n   * Returns whether scrolling on main page should be allowed when\n   * subscription or contribution dialog is displayed.\n   * @return {boolean}\n   */\n  shouldAllowScroll() {\n    return !!this.clientOptions_.allowScroll;\n  }\n\n  /**\n   * Returns whether iframes should also use the language specified in the\n   * client options, rather than the default of letting the iframes decide the\n   * display language. Note that this will return false if the lang option is\n   * not set, even if forceLangInIframes was set.\n   * @return {boolean}\n   */\n  shouldForceLangInIframes() {\n    return (\n      !!this.clientOptions_.forceLangInIframes && !!this.clientOptions_.lang\n    );\n  }\n\n  /**\n   * Determines whether a subscription or contribution button should be disabled.\n   * @returns {!Promise<boolean|undefined>}\n   */\n  shouldEnableButton() {\n    // Disable button if disableButton is set to be true in clientOptions.\n    // If disableButton is set to be false or not set, then always enable button.\n    // This is for testing purpose.\n    if (this.clientOptions_.disableButton) {\n      return Promise.resolve(false);\n    }\n\n    if (!this.responsePromise_) {\n      this.fetchClientConfig();\n    }\n    // UI predicates decides whether to enable button.\n    return this.responsePromise_.then((clientConfig) => {\n      if (clientConfig.uiPredicates?.canDisplayButton) {\n        return true;\n      } else {\n        return false;\n      }\n    });\n  }\n\n  /**\n   * Fetches the client config from the server.\n   * @return {!Promise<!ClientConfig>}\n   */\n  fetch_() {\n    return this.deps_\n      .entitlementsManager()\n      .getArticle()\n      .then((article) => {\n        if (article) {\n          return this.parseClientConfig_(article['clientConfig']);\n        } else {\n          // If there was no article from the entitlement manager, we need\n          // to fetch our own using the internal version.\n          const url = serviceUrl(\n            '/publication/' +\n              encodeURIComponent(this.publicationId_) +\n              '/clientconfiguration'\n          );\n          return this.fetcher_.fetchCredentialedJson(url).then((json) => {\n            if (json.errorMessages && json.errorMessages.length > 0) {\n              for (const errorMessage of json.errorMessages) {\n                warn('SwG ClientConfigManager: ' + errorMessage);\n              }\n            }\n            return this.parseClientConfig_(json);\n          });\n        }\n      });\n  }\n\n  /**\n   * Parses the fetched config into the ClientConfig container object.\n   * @param {!Object} json\n   * @return {!ClientConfig}\n   */\n  parseClientConfig_(json) {\n    const paySwgVersion = json['paySwgVersion'];\n    const autoPromptConfigJson = json['autoPromptConfig'];\n    let autoPromptConfig = undefined;\n    if (autoPromptConfigJson) {\n      autoPromptConfig = new AutoPromptConfig({\n        displayDelaySeconds:\n          autoPromptConfigJson.clientDisplayTrigger?.displayDelaySeconds,\n        dismissalBackOffSeconds:\n          autoPromptConfigJson.explicitDismissalConfig?.backOffSeconds,\n        maxDismissalsPerWeek:\n          autoPromptConfigJson.explicitDismissalConfig?.maxDismissalsPerWeek,\n        maxDismissalsResultingHideSeconds:\n          autoPromptConfigJson.explicitDismissalConfig\n            ?.maxDismissalsResultingHideSeconds,\n        impressionBackOffSeconds:\n          autoPromptConfigJson.impressionConfig?.backOffSeconds,\n        maxImpressions: autoPromptConfigJson.impressionConfig?.maxImpressions,\n        maxImpressionsResultingHideSeconds:\n          autoPromptConfigJson.impressionConfig\n            ?.maxImpressionsResultingHideSeconds,\n      });\n    }\n\n    const uiPredicatesJson = json['uiPredicates'];\n    let uiPredicates = undefined;\n    if (uiPredicatesJson) {\n      uiPredicates = new UiPredicates(\n        uiPredicatesJson.canDisplayAutoPrompt,\n        uiPredicatesJson.canDisplayButton,\n        uiPredicatesJson.purchaseUnavailableRegion\n      );\n    }\n\n    const attributionParamsJson = json['attributionParams'];\n    let attributionParams;\n    if (attributionParamsJson) {\n      attributionParams = new AttributionParams(\n        attributionParamsJson.displayName,\n        attributionParamsJson.avatarUrl\n      );\n    }\n\n    return new ClientConfig({\n      autoPromptConfig,\n      paySwgVersion,\n      usePrefixedHostPath: json['usePrefixedHostPath'],\n      useUpdatedOfferFlows: json['useUpdatedOfferFlows'],\n      skipAccountCreationScreen: this.clientOptions_.skipAccountCreationScreen,\n      uiPredicates,\n      attributionParams,\n    });\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AnalyticsEvent, EventOriginator} from '../proto/api_messages';\nimport {FilterResult} from '../api/client-event-manager-api';\nimport {isBoolean, isEnumValue, isFunction, isObject} from '../utils/types';\nimport {log} from '../utils/log';\n\n/**\n * Helper function to describe an issue with an event object\n * @param {!string} valueName\n * @param {?*} value\n * @returns {!string}\n */\nfunction createEventErrorMessage(valueName, value) {\n  return 'Event has an invalid ' + valueName + '(' + value + ')';\n}\n\n/**\n * Throws an error if the event is invalid.\n * @param {!../api/client-event-manager-api.ClientEvent} event\n */\nfunction validateEvent(event) {\n  if (!isObject(event)) {\n    throw new Error('Event must be a valid object');\n  }\n\n  if (!isEnumValue(AnalyticsEvent, event.eventType)) {\n    throw new Error(createEventErrorMessage('eventType', event.eventType));\n  }\n\n  if (!isEnumValue(EventOriginator, event.eventOriginator)) {\n    throw new Error(\n      createEventErrorMessage('eventOriginator', event.eventOriginator)\n    );\n  }\n\n  if (\n    !isObject(event.additionalParameters) &&\n    event.additionalParameters != null\n  ) {\n    throw new Error(\n      createEventErrorMessage(\n        'additionalParameters',\n        event.additionalParameters\n      )\n    );\n  }\n\n  if (event.isFromUserAction != null && !isBoolean(event.isFromUserAction)) {\n    throw new Error(\n      createEventErrorMessage('isFromUserAction', event.isFromUserAction)\n    );\n  }\n}\n\n/** @implements {../api/client-event-manager-api.ClientEventManagerApi} */\nexport class ClientEventManager {\n  /**\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   * @return {boolean}\n   */\n  static isPublisherEvent(event) {\n    return (\n      event.eventOriginator === EventOriginator.PROPENSITY_CLIENT ||\n      event.eventOriginator === EventOriginator.PUBLISHER_CLIENT ||\n      event.eventOriginator === EventOriginator.AMP_CLIENT\n    );\n  }\n\n  /**\n   *\n   * @param {!Promise} configuredPromise\n   */\n  constructor(configuredPromise) {\n    /** @private {!Array<function(!../api/client-event-manager-api.ClientEvent, (!../api/client-event-manager-api.ClientEventParams|undefined)=)>} */\n    this.listeners_ = [];\n\n    /** @private {!Array<function(!../api/client-event-manager-api.ClientEvent):!FilterResult>} */\n    this.filterers_ = [];\n\n    /** @private {?Promise} */\n    this.lastAction_ = null;\n\n    /** @private @const {!Promise} */\n    this.isReadyPromise_ = configuredPromise;\n  }\n\n  /**\n   * @overrides\n   */\n  registerEventListener(listener) {\n    if (!isFunction(listener)) {\n      throw new Error('Event manager listeners must be a function');\n    }\n    this.listeners_.push(listener);\n  }\n\n  /**\n   * @overrides\n   */\n  registerEventFilterer(filterer) {\n    if (!isFunction(filterer)) {\n      throw new Error('Event manager filterers must be a function');\n    }\n    this.filterers_.push(filterer);\n  }\n\n  /**\n   * @overrides\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   * @param {(!../api/client-event-manager-api.ClientEventParams|undefined)=} eventParams\n   */\n  logEvent(event, eventParams = undefined) {\n    validateEvent(event);\n    this.lastAction_ = this.isReadyPromise_.then(() => {\n      for (let filterer = 0; filterer < this.filterers_.length; filterer++) {\n        try {\n          if (this.filterers_[filterer](event) === FilterResult.CANCEL_EVENT) {\n            return Promise.resolve();\n          }\n        } catch (e) {\n          log(e);\n        }\n      }\n      for (let listener = 0; listener < this.listeners_.length; listener++) {\n        try {\n          this.listeners_[listener](event, eventParams);\n        } catch (e) {\n          log(e);\n        }\n      }\n      return Promise.resolve();\n    });\n  }\n\n  /**\n   * Creates an event with the arguments provided and calls logEvent.\n   * @param {!AnalyticsEvent} eventType\n   * @param {?boolean=} isFromUserAction\n   * @param {../proto/api_messages.EventParams=} eventParams\n   */\n  logSwgEvent(eventType, isFromUserAction = false, eventParams = null) {\n    this.logEvent({\n      eventType,\n      eventOriginator: EventOriginator.SWG_CLIENT,\n      isFromUserAction,\n      additionalParameters: eventParams,\n    });\n  }\n\n  /** @return {!Promise<null>} */\n  getReadyPromise() {\n    return this.isReadyPromise_;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {\n  AlreadySubscribedResponse,\n  EntitlementsResponse,\n  SkuSelectedResponse,\n} from '../proto/api_messages';\nimport {PayStartFlow} from './pay-flow';\nimport {ProductType, SubscriptionFlows} from '../api/subscriptions';\nimport {feArgs, feUrl} from './services';\n\n/**\n * The class for Contributions flow.\n */\nexport class ContributionsFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.OffersRequest|undefined} options\n   */\n  constructor(deps, options) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../api/subscriptions.OffersRequest|undefined} */\n    this.options_ = options;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!./client-config-manager.ClientConfigManager} */\n    this.clientConfigManager_ = deps.clientConfigManager();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    this.activityIframeView_ = null;\n\n    // Default to showing close button.\n    const isClosable = options?.isClosable ?? true;\n\n    /** @private @const {!Promise<!ActivityIframeView>} */\n    this.activityIframeViewPromise_ = this.clientConfigManager_\n      .getClientConfig()\n      .then((clientConfig) => {\n        return this.shouldShow_(clientConfig)\n          ? new ActivityIframeView(\n              this.win_,\n              this.activityPorts_,\n              this.getUrl_(clientConfig, deps.pageConfig()),\n              feArgs({\n                'productId': deps.pageConfig().getProductId(),\n                'publicationId': deps.pageConfig().getPublicationId(),\n                'productType': ProductType.UI_CONTRIBUTION,\n                'list': (options && options.list) || 'default',\n                'skus': (options && options.skus) || null,\n                'isClosable': isClosable,\n                'supportsEventManager': true,\n              }),\n              /* shouldFadeBody */ true\n            )\n          : null;\n      });\n  }\n\n  /**\n   * @param {AlreadySubscribedResponse} response\n   */\n  handleLinkRequest_(response) {\n    if (response.getSubscriberOrMember()) {\n      this.deps_.callbacks().triggerLoginRequest({\n        linkRequested: !!response.getLinkRequested(),\n      });\n    }\n  }\n\n  /**\n   * @param {SkuSelectedResponse} response\n   */\n  startPayFlow_(response) {\n    const sku = response.getSku();\n    const isOneTime = response.getOneTime();\n    if (sku) {\n      const /** @type {../api/subscriptions.SubscriptionRequest} */ contributionRequest =\n          {\n            'skuId': sku,\n          };\n      if (isOneTime) {\n        contributionRequest['oneTime'] = isOneTime;\n      }\n      new PayStartFlow(\n        this.deps_,\n        contributionRequest,\n        ProductType.UI_CONTRIBUTION\n      ).start();\n    }\n  }\n\n  /**\n   * Starts the contributions flow or alreadyMember flow.\n   * @return {!Promise}\n   */\n  start() {\n    return this.activityIframeViewPromise_.then((activityIframeView) => {\n      if (!activityIframeView) {\n        return Promise.resolve();\n      }\n\n      // Start/cancel events.\n      this.deps_\n        .callbacks()\n        .triggerFlowStarted(SubscriptionFlows.SHOW_CONTRIBUTION_OPTIONS);\n      activityIframeView.onCancel(() => {\n        this.deps_\n          .callbacks()\n          .triggerFlowCanceled(SubscriptionFlows.SHOW_CONTRIBUTION_OPTIONS);\n      });\n      activityIframeView.on(\n        AlreadySubscribedResponse,\n        this.handleLinkRequest_.bind(this)\n      );\n      activityIframeView.on(SkuSelectedResponse, this.startPayFlow_.bind(this));\n      this.activityIframeView_ = activityIframeView;\n      return this.clientConfigManager_\n        .getClientConfig()\n        .then((clientConfig) => {\n          if (!this.activityIframeView_) {\n            return;\n          }\n          return this.dialogManager_.openView(\n            this.activityIframeView_,\n            /* hidden */ false,\n            this.getDialogConfig_(\n              clientConfig,\n              this.clientConfigManager_.shouldAllowScroll()\n            )\n          );\n        });\n    });\n  }\n\n  /**\n   * Gets display configuration options for the opened dialog. Uses the\n   * responsive desktop design properties if the updated offer flows UI (for\n   * SwG Basic) is enabled. Permits override to allow scrolling.\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @param {boolean} shouldAllowScroll\n   * @return {!../components/dialog.DialogConfig}\n   */\n  getDialogConfig_(clientConfig, shouldAllowScroll) {\n    return clientConfig.useUpdatedOfferFlows && !shouldAllowScroll\n      ? {shouldDisableBodyScrolling: true}\n      : {};\n  }\n\n  /**\n   * Returns whether this flow is configured as enabled, not showing\n   * even on explicit start when flag is configured false.\n   *\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @return {boolean}\n   */\n  shouldShow_(clientConfig) {\n    return clientConfig.uiPredicates?.canDisplayAutoPrompt !== false;\n  }\n\n  /**\n   * Gets the complete URL that should be used for the activity iFrame view.\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @param {!../model/page-config.PageConfig} pageConfig\n   * @return {string}\n   */\n  getUrl_(clientConfig, pageConfig) {\n    if (!clientConfig.useUpdatedOfferFlows) {\n      return feUrl('/contributionsiframe');\n    }\n\n    if (this.clientConfigManager_.shouldForceLangInIframes()) {\n      return feUrl('/contributionoffersiframe', {\n        'hl': this.clientConfigManager_.getLanguage(),\n        'publicationId': pageConfig.getPublicationId(),\n      });\n    }\n\n    return feUrl('/contributionoffersiframe', {\n      'publicationId': pageConfig.getPublicationId(),\n    });\n  }\n\n  /**\n   * Shows \"no contribution found\" on activity iFrame view.\n   */\n  showNoEntitlementFoundToast() {\n    if (this.activityIframeView_) {\n      this.activityIframeView_.execute(new EntitlementsResponse());\n    }\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {AnalyticsEvent} from '../proto/api_messages';\nimport {DeferredAccountCreationResponse} from '../api/deferred-account-creation';\nimport {JwtHelper} from '../utils/jwt';\nimport {PayCompleteFlow} from './pay-flow';\nimport {PurchaseData, SubscribeResponse} from '../api/subscribe-response';\nimport {SubscriptionFlows} from '../api/subscriptions';\nimport {UserData} from '../api/user-data';\nimport {feArgs, feUrl} from './services';\nimport {isCancelError} from '../utils/errors';\n\n/**\n * The flow to initiate deferred account process.\n * See `Subscriptions.completeDeferredAccountCreation` API.\n */\nexport class DeferredAccountFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {?../api/deferred-account-creation.DeferredAccountCreationRequest} options\n   */\n  constructor(deps, options) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {?ActivityIframeView} */\n    this.activityIframeView_ = null;\n\n    /** @private {?Promise} */\n    this.openPromise_ = null;\n\n    /** @type {!../api/deferred-account-creation.DeferredAccountCreationRequest} */\n    const defaultOptions = {\n      entitlements: null,\n      consent: true,\n    };\n    /** @private @const {!../api/deferred-account-creation.DeferredAccountCreationRequest} */\n    this.options_ = Object.assign(defaultOptions, options || {});\n  }\n\n  /**\n   * Starts the deferred account flow.\n   * @return {!Promise<!DeferredAccountCreationResponse>}\n   */\n  start() {\n    const entitlements = this.options_.entitlements;\n\n    // For now, entitlements are required to be present and have the Google\n    // token. This is strictly not required for the implementation. But it's\n    // preferrable API-wise at this time.\n    if (!entitlements || !entitlements.getEntitlementForSource('google')) {\n      throw new Error('No entitlements with \"google\" source');\n    }\n\n    // Start/cancel events.\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.COMPLETE_DEFERRED_ACCOUNT_CREATION);\n\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/recoveriframe'),\n      feArgs({\n        'publicationId': this.deps_.pageConfig().getPublicationId(),\n        'productId': this.deps_.pageConfig().getProductId(),\n        'entitlements': (entitlements && entitlements.raw) || null,\n        'consent': this.options_.consent,\n      }),\n      /* shouldFadeBody */ true\n    );\n\n    this.openPromise_ = this.dialogManager_.openView(this.activityIframeView_);\n    return this.activityIframeView_.acceptResult().then(\n      (result) => {\n        // The consent part is complete.\n        return this.handleConsentResponse_(\n          /** @type {!Object} */ (result.data)\n        );\n      },\n      (reason) => {\n        if (isCancelError(reason)) {\n          this.deps_\n            .callbacks()\n            .triggerFlowCanceled(\n              SubscriptionFlows.COMPLETE_DEFERRED_ACCOUNT_CREATION\n            );\n        } else {\n          this.dialogManager_.completeView(this.activityIframeView_);\n        }\n        throw reason;\n      }\n    );\n  }\n\n  /**\n   * @param {!Object} data\n   * @return {!DeferredAccountCreationResponse}\n   * @private\n   */\n  handleConsentResponse_(data) {\n    this.deps_.entitlementsManager().blockNextNotification();\n\n    // Parse the response.\n    const entitlementsJwt = data['entitlements'];\n    const idToken = data['idToken'];\n    const productType = data['productType'];\n    const entitlements = this.deps_\n      .entitlementsManager()\n      .parseEntitlements({'signedEntitlements': entitlementsJwt});\n    const userData = new UserData(\n      idToken,\n      /** @type {!Object} */ (new JwtHelper().decode(idToken))\n    );\n    const purchaseDataList = data['purchaseDataList']\n      ? data['purchaseDataList'].map(\n          (pd) => new PurchaseData(pd['data'], pd['signature'])\n        )\n      : [\n          // TODO(dvoytenko): cleanup/deprecate.\n          new PurchaseData(\n            data['purchaseData']['data'],\n            data['purchaseData']['signature']\n          ),\n        ];\n\n    // For now, we'll use the `PayCompleteFlow` as a \"creating account\" flow.\n    // But this can be eventually implemented by the same iframe.\n    const creatingFlow = new PayCompleteFlow(this.deps_);\n    const completeHandler = creatingFlow.complete.bind(creatingFlow);\n\n    const response = new DeferredAccountCreationResponse(\n      entitlements,\n      userData,\n      purchaseDataList,\n      completeHandler\n    );\n\n    this.deps_\n      .eventManager()\n      .logSwgEvent(AnalyticsEvent.ACTION_NEW_DEFERRED_ACCOUNT, true);\n\n    // Start the \"sync\" flow.\n    creatingFlow.start(\n      new SubscribeResponse(\n        '', // raw field doesn't matter in this case\n        purchaseDataList[0],\n        userData,\n        entitlements,\n        productType,\n        () => Promise.resolve() // completeHandler doesn't matter in this case\n      )\n    );\n    return response;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @interface */\nexport class DepsDef {\n  /**\n   * @return {!../model/doc.Doc}\n   */\n  doc() {}\n\n  /**\n   * @return {!Window}\n   */\n  win() {}\n\n  /**\n   * @return {!../api/subscriptions.Config}\n   */\n  config() {}\n\n  /**\n   * @return {!../model/page-config.PageConfig}\n   */\n  pageConfig() {}\n\n  /**\n   * @return {!../components/activities.ActivityPorts}\n   */\n  activities() {}\n\n  /**\n   * @return {!./pay-client.PayClient}\n   */\n  payClient() {}\n\n  /**\n   * @return {!../components/dialog-manager.DialogManager}\n   */\n  dialogManager() {}\n\n  /**\n   * @return {!./entitlements-manager.EntitlementsManager}\n   */\n  entitlementsManager() {}\n\n  /**\n   * @return {!./callbacks.Callbacks}\n   */\n  callbacks() {}\n\n  /**\n   * @return {!../runtime/storage.Storage}\n   */\n  storage() {}\n\n  /**\n   * @return {!../runtime/analytics-service.AnalyticsService}\n   */\n  analytics() {}\n\n  /**\n   * @return {!../runtime/jserror.JsError}\n   */\n  jserror() {}\n\n  /**\n   * @return {!../runtime/client-event-manager.ClientEventManager}\n   */\n  eventManager() {}\n\n  /**\n   * @return {!../runtime/client-config-manager.ClientConfigManager}\n   */\n  clientConfigManager() {}\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnalyticsEvent,\n  EntitlementJwt,\n  EntitlementResult,\n  EntitlementSource,\n  EntitlementsRequest,\n  EventOriginator,\n  EventParams,\n} from '../proto/api_messages';\nimport {Constants} from '../utils/constants';\nimport {\n  Entitlement,\n  Entitlements,\n  GOOGLE_METERING_SOURCE,\n  PRIVILEGED_SOURCE,\n} from '../api/entitlements';\nimport {\n  GetEntitlementsParamsExternalDef,\n  GetEntitlementsParamsInternalDef,\n} from '../api/subscriptions';\nimport {JwtHelper} from '../utils/jwt';\nimport {MeterClientTypes} from '../api/metering';\nimport {MeterToastApi} from './meter-toast-api';\nimport {Toast} from '../ui/toast';\nimport {addQueryParam, getCanonicalUrl, parseQueryString} from '../utils/url';\nimport {analyticsEventToEntitlementResult} from './event-type-mapping';\nimport {base64UrlEncodeFromBytes, utf8EncodeSync} from '../utils/bytes';\nimport {feArgs, feUrl} from '../runtime/services';\nimport {hash} from '../utils/string';\nimport {queryStringHasFreshGaaParams} from '../utils/gaa';\nimport {serviceUrl} from './services';\nimport {toTimestamp} from '../utils/date-utils';\nimport {warn} from '../utils/log';\n\nconst SERVICE_ID = 'subscribe.google.com';\nconst TOAST_STORAGE_KEY = 'toast';\nconst ENTS_STORAGE_KEY = 'ents';\nconst IS_READY_TO_PAY_STORAGE_KEY = 'isreadytopay';\n\n/**\n * Article response object.\n *\n * @typedef {{\n *  entitlements: (../api/entitlements.Entitlements),\n *  clientConfig: (../model/client-config.ClientConfig),\n *  audienceActions: ({\n *    actions: Array<{\n *      type: (string)\n *    }>,\n *    engineId: (string)\n *  }),\n *  experimentConfig: ({\n *    experimentFlags: Array<{\n *      type: (string)\n *    }>\n *  })\n * }}\n */\nexport let Article;\n\n/**\n */\nexport class EntitlementsManager {\n  /**\n   * @param {!Window} win\n   * @param {!../model/page-config.PageConfig} pageConfig\n   * @param {!./fetcher.Fetcher} fetcher\n   * @param {!./deps.DepsDef} deps\n   * @param {!boolean} useArticleEndpoint\n   * @param {!boolean} enableDefaultMeteringHandler\n   */\n  constructor(\n    win,\n    pageConfig,\n    fetcher,\n    deps,\n    useArticleEndpoint,\n    enableDefaultMeteringHandler\n  ) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!../model/page-config.PageConfig} */\n    this.pageConfig_ = pageConfig;\n\n    /** @private @const {string} */\n    this.publicationId_ = this.pageConfig_.getPublicationId();\n\n    /** @private @const {!./fetcher.Fetcher} */\n    this.fetcher_ = fetcher;\n\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!JwtHelper} */\n    this.jwtHelper_ = new JwtHelper();\n\n    /** @private {?Promise<!Entitlements>} */\n    this.responsePromise_ = null;\n\n    /** @private {number} */\n    this.positiveRetries_ = 0;\n\n    /** @private {boolean} */\n    this.blockNextNotification_ = false;\n\n    /** @private {boolean} */\n    this.blockNextToast_ = false;\n\n    /**\n     * String containing encoded metering parameters currently.\n     * We may expand this to contain more information in the future.\n     * @private {?string}\n     */\n    this.encodedParams_ = null;\n\n    /** @protected {!string} */\n    this.encodedParamName_ = useArticleEndpoint\n      ? 'encodedEntitlementsParams'\n      : 'encodedParams';\n\n    /** @protected {!string} */\n    this.action_ = useArticleEndpoint ? '/article' : '/entitlements';\n\n    /** @private @const {!./storage.Storage} */\n    this.storage_ = deps.storage();\n\n    /** @private @const {!../runtime/analytics-service.AnalyticsService} */\n    this.analyticsService_ = deps.analytics();\n\n    /** @private @const {!../api/subscriptions.Config} */\n    this.config_ = deps.config();\n\n    /**\n     * Tests can use this promise to wait for POST requests to finish.\n     * @visibleForTesting\n     */\n    this.entitlementsPostPromise = null;\n\n    /** @private @const {boolean} */\n    this.useArticleEndpoint_ = useArticleEndpoint;\n\n    /** @private @const {boolean} */\n    this.enableDefaultMeteringHandler_ = enableDefaultMeteringHandler;\n\n    /** @private {?Article} */\n    this.article_ = null;\n\n    /** @private {boolean} */\n    this.enableMeteredByGoogle_ = false;\n\n    this.deps_\n      .eventManager()\n      .registerEventListener(this.possiblyPingbackOnClientEvent_.bind(this));\n  }\n\n  /**\n   * @param {boolean=} expectPositive\n   */\n  reset(expectPositive) {\n    this.responsePromise_ = null;\n    this.positiveRetries_ = Math.max(\n      this.positiveRetries_,\n      expectPositive ? 3 : 0\n    );\n    if (expectPositive) {\n      this.storage_.remove(ENTS_STORAGE_KEY);\n      this.storage_.remove(IS_READY_TO_PAY_STORAGE_KEY);\n    }\n  }\n\n  /**\n   * Clears all of the entitlements state and cache.\n   */\n  clear() {\n    this.responsePromise_ = null;\n    this.positiveRetries_ = 0;\n    this.unblockNextNotification();\n    this.storage_.remove(ENTS_STORAGE_KEY);\n    this.storage_.remove(TOAST_STORAGE_KEY);\n    this.storage_.remove(IS_READY_TO_PAY_STORAGE_KEY);\n  }\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!Entitlements>}\n   */\n  getEntitlements(params) {\n    // Remain backwards compatible by accepting\n    // `encryptedDocumentKey` string as a first param.\n    if (typeof params === 'string') {\n      // TODO: Delete the fallback if nobody needs it. Use a log to verify.\n      if (Date.now() > 1600289016959) {\n        // TODO: Remove the conditional check for this warning\n        // after the AMP extension is updated to pass an object.\n        warn(\n          `[swg.js:getEntitlements]: If present, the first param of getEntitlements() should be an object of type GetEntitlementsParamsExternalDef.`\n        );\n      }\n\n      params = {\n        encryption: {encryptedDocumentKey: /**@type {string} */ (params)},\n      };\n    }\n\n    if (!this.responsePromise_) {\n      this.responsePromise_ = this.getEntitlementsFlow_(params);\n    }\n    return this.responsePromise_.then((response) => {\n      if (response.isReadyToPay != null) {\n        this.analyticsService_.setReadyToPay(response.isReadyToPay);\n      }\n      return response;\n    });\n  }\n\n  /**\n   * @param {string} raw\n   * @param {boolean=} isReadyToPay\n   * @return {boolean}\n   */\n  pushNextEntitlements(raw, isReadyToPay) {\n    const entitlements = this.getValidJwtEntitlements_(\n      raw,\n      /* requireNonExpired */ true,\n      isReadyToPay\n    );\n    if (entitlements && entitlements.enablesThis()) {\n      this.storage_.set(ENTS_STORAGE_KEY, raw);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Retrieves the 'gaa_n' parameter from the query string.\n   */\n  getGaaToken_() {\n    return parseQueryString(this.win_.location.search)['gaa_n'];\n  }\n\n  /**\n   * Sends a pingback that marks a metering entitlement as used.\n   * @param {!Entitlement|null} entitlement\n   */\n  consumeMeter_(entitlement) {\n    if (!entitlement || entitlement.source !== GOOGLE_METERING_SOURCE) {\n      return;\n    }\n\n    // If GAA params are present, include them in the pingback.\n    let gaaToken;\n    let entitlementSource;\n    if (\n      entitlement.subscriptionTokenContents &&\n      entitlement.subscriptionTokenContents['metering']['clientType'] ===\n        MeterClientTypes.METERED_BY_GOOGLE\n    ) {\n      // If clientType is METERED_BY_GOOGLE, this is the appropriate\n      // EntitlementSource, and no GAA params are required.\n      entitlementSource =\n        EntitlementSource.SUBSCRIBE_WITH_GOOGLE_METERING_SERVICE;\n    } else {\n      // Expected: clientType is LICENSED_BY_GOOGLE\n      if (queryStringHasFreshGaaParams(this.win_.location.search)) {\n        // GAA params are valid. Post back as Showcase.\n        entitlementSource = EntitlementSource.GOOGLE_SHOWCASE_METERING_SERVICE;\n        gaaToken = this.getGaaToken_();\n      } else {\n        // Sanity check:\n        // If we're not METERED_BY_GOOGLE, and GAA params are not valid, do not\n        // post back.\n        return;\n      }\n    }\n\n    this.deps_\n      .eventManager()\n      .logSwgEvent(AnalyticsEvent.EVENT_UNLOCKED_BY_METER, false);\n\n    const jwt = new EntitlementJwt();\n    jwt.setSource(entitlement.source);\n    jwt.setJwt(entitlement.subscriptionToken);\n    return this.postEntitlementsRequest_(\n      /* usedEntitlement */ jwt,\n      /* entitlementResult */ EntitlementResult.UNLOCKED_METER,\n      /* entitlementSource */ entitlementSource,\n      /* optionalToken */ gaaToken\n    );\n  }\n\n  /**\n   * Listens for events from the event manager and informs the server\n   * about publisher entitlements and non-consumable Google entitlements.\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   */\n  possiblyPingbackOnClientEvent_(event) {\n    // Verify GAA params are present, otherwise bail since the pingback\n    // shouldn't happen on non-metering requests.\n    // We don't validate access type since we want to pingback on all access types.\n    if (\n      !queryStringHasFreshGaaParams(\n        this.win_.location.search,\n        /*allowAllAccessTypes=*/ true\n      )\n    ) {\n      return;\n    }\n\n    // A subset of analytics events are also an entitlement result\n    const result = analyticsEventToEntitlementResult(event.eventType);\n    if (!result) {\n      return;\n    }\n    let source = null;\n\n    switch (event.eventOriginator) {\n      // Publisher JS logged this event.\n      case EventOriginator.SHOWCASE_CLIENT:\n        source = EntitlementSource.PUBLISHER_ENTITLEMENT;\n        break;\n      // Swgjs logged this event.\n      case EventOriginator.SWG_CLIENT:\n        if (result == EntitlementResult.UNLOCKED_METER) {\n          // The `consumeMeter_` method already tracks this.\n          return;\n        }\n\n        source = EntitlementSource.GOOGLE_SUBSCRIBER_ENTITLEMENT;\n        break;\n      default:\n        return;\n    }\n    const token = this.getGaaToken_();\n    const isUserRegistered =\n      event?.additionalParameters?.getIsUserRegistered?.();\n    const subscriptionTimestamp =\n      event?.additionalParameters?.getSubscriptionTimestamp?.();\n    this.postEntitlementsRequest_(\n      new EntitlementJwt(),\n      result,\n      source,\n      token,\n      isUserRegistered,\n      subscriptionTimestamp\n    );\n  }\n\n  // Informs the Entitlements server about the entitlement used\n  // to unlock the page.\n  postEntitlementsRequest_(\n    usedEntitlement,\n    entitlementResult,\n    entitlementSource,\n    optionalToken = '',\n    optionalIsUserRegistered = null,\n    optionalSubscriptionTimestamp = null\n  ) {\n    const message = new EntitlementsRequest();\n    message.setUsedEntitlement(usedEntitlement);\n    message.setClientEventTime(toTimestamp(Date.now()));\n    message.setEntitlementResult(entitlementResult);\n    message.setEntitlementSource(entitlementSource);\n    message.setToken(optionalToken);\n    if (typeof optionalIsUserRegistered === 'boolean') {\n      message.setIsUserRegistered(optionalIsUserRegistered);\n    }\n    if (optionalSubscriptionTimestamp) {\n      message.setSubscriptionTimestamp(optionalSubscriptionTimestamp);\n    }\n\n    let url =\n      '/publication/' + encodeURIComponent(this.publicationId_) + this.action_;\n    url = addDevModeParamsToUrl(this.win_.location, url);\n\n    // Promise that sets this.encodedParams_ when it resolves.\n    const encodedParamsPromise = this.encodedParams_\n      ? Promise.resolve()\n      : hash(getCanonicalUrl(this.deps_.doc())).then((hashedCanonicalUrl) => {\n          /** @type {!GetEntitlementsParamsInternalDef} */\n          const encodableParams = {\n            metering: {\n              resource: {\n                hashedCanonicalUrl,\n              },\n            },\n          };\n          this.encodedParams_ = base64UrlEncodeFromBytes(\n            utf8EncodeSync(JSON.stringify(encodableParams))\n          );\n        });\n\n    // Get swgUserToken from local storage\n    const swgUserTokenPromise = this.storage_.get(Constants.USER_TOKEN, true);\n    this.entitlementsPostPromise = Promise.all([\n      swgUserTokenPromise,\n      encodedParamsPromise,\n    ]).then((values) => {\n      const swgUserToken = values[0];\n      if (swgUserToken) {\n        url = addQueryParam(url, 'sut', swgUserToken);\n      }\n      url = addQueryParam(\n        url,\n        this.encodedParamName_,\n        /** @type {!string} */ (this.encodedParams_)\n      );\n\n      return this.fetcher_.sendPost(serviceUrl(url), message);\n    });\n  }\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!Entitlements>}\n   * @private\n   */\n  getEntitlementsFlow_(params) {\n    return this.fetchEntitlementsWithCaching_(params).then((entitlements) => {\n      this.onEntitlementsFetched_(entitlements);\n      return entitlements;\n    });\n  }\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!Entitlements>}\n   * @private\n   */\n  fetchEntitlementsWithCaching_(params) {\n    return Promise.all([\n      this.storage_.get(ENTS_STORAGE_KEY),\n      this.storage_.get(IS_READY_TO_PAY_STORAGE_KEY),\n    ]).then((cachedValues) => {\n      const raw = cachedValues[0];\n      const irtp = cachedValues[1];\n      // Try cache first.\n      const needsDecryption = !!(params && params.encryption);\n      if (raw && !needsDecryption) {\n        const cached = this.getValidJwtEntitlements_(\n          raw,\n          /* requireNonExpired */ true,\n          irtpStringToBoolean(irtp)\n        );\n        if (cached && cached.enablesThis()) {\n          // Already have a positive response.\n          this.positiveRetries_ = 0;\n          return cached;\n        }\n      }\n      // If cache didn't match, perform fetch.\n      return this.fetchEntitlements_(params).then((ents) => {\n        // If the product is enabled by cacheable entitlements, store them in cache.\n        if (ents && ents.enablesThisWithCacheableEntitlements() && ents.raw) {\n          this.storage_.set(ENTS_STORAGE_KEY, ents.raw);\n        }\n        return ents;\n      });\n    });\n  }\n\n  /**\n   * If the manager is also responsible for fetching the Article, it\n   * will be accessible from here and should resolve a null promise otherwise.\n   * @returns {!Promise<?Article>}\n   */\n  getArticle() {\n    // The base manager only fetches from the entitlements endpoint, which does\n    // not contain an Article.\n    if (!this.useArticleEndpoint_ || !this.responsePromise_) {\n      return Promise.resolve();\n    }\n    return this.responsePromise_.then(() => Promise.resolve(this.article_));\n  }\n\n  /**\n   * The experiment flags that are returned by the article endpoint should be accessible from here.\n   * @returns {Promise<Array<string>>}\n   */\n  getExperimentConfigFlags() {\n    return this.getArticle().then((article) => {\n      const expConfig = article['experimentConfig'];\n      if (expConfig != null) {\n        const expFlags = expConfig['experimentFlags'];\n        if (expFlags != null) {\n          return expFlags;\n        }\n      }\n      return [];\n    });\n  }\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!Entitlements>}\n   * @private\n   */\n  fetchEntitlements_(params) {\n    // TODO(dvoytenko): Replace retries with consistent fetch.\n    let positiveRetries = this.positiveRetries_;\n    this.positiveRetries_ = 0;\n    const attempt = () => {\n      positiveRetries--;\n      return this.fetch_(params).then((entitlements) => {\n        if (entitlements.enablesThis() || positiveRetries <= 0) {\n          return entitlements;\n        }\n        return new Promise((resolve) => {\n          this.win_.setTimeout(() => {\n            resolve(attempt());\n          }, 550);\n        });\n      });\n    };\n    return attempt();\n  }\n\n  /**\n   * @param {boolean} value\n   */\n  setToastShown(value) {\n    this.storage_.set(TOAST_STORAGE_KEY, value ? '1' : '0');\n  }\n\n  /**\n   */\n  blockNextNotification() {\n    this.blockNextNotification_ = true;\n  }\n\n  /**\n   */\n  blockNextToast() {\n    this.blockNextToast_ = true;\n  }\n\n  /**\n   */\n  unblockNextNotification() {\n    this.blockNextNotification_ = false;\n  }\n\n  /**\n   * Allow Google to handle metering for the given page.\n   */\n  enableMeteredByGoogle() {\n    this.enableMeteredByGoogle_ = true;\n  }\n\n  /**\n   * The JSON must either contain a \"signedEntitlements\" with JWT, or\n   * \"entitlements\" field with plain JSON object.\n   * @param {!Object} json\n   * @return {!Entitlements}\n   */\n  parseEntitlements(json) {\n    const isReadyToPay = json['isReadyToPay'];\n    if (isReadyToPay == null) {\n      this.storage_.remove(IS_READY_TO_PAY_STORAGE_KEY);\n    } else {\n      this.storage_.set(IS_READY_TO_PAY_STORAGE_KEY, String(isReadyToPay));\n    }\n    const signedData = json['signedEntitlements'];\n    const decryptedDocumentKey = json['decryptedDocumentKey'];\n    const swgUserToken = json['swgUserToken'];\n    if (swgUserToken) {\n      this.saveSwgUserToken_(swgUserToken);\n    }\n    if (signedData) {\n      const entitlements = this.getValidJwtEntitlements_(\n        signedData,\n        /* requireNonExpired */ false,\n        isReadyToPay,\n        decryptedDocumentKey\n      );\n      if (entitlements) {\n        return entitlements;\n      }\n    } else {\n      const plainEntitlements = json['entitlements'];\n      if (plainEntitlements) {\n        return this.createEntitlements_(\n          '',\n          plainEntitlements,\n          isReadyToPay,\n          decryptedDocumentKey\n        );\n      }\n    }\n    // Empty response.\n    return this.createEntitlements_('', [], isReadyToPay);\n  }\n\n  /**\n   * Persist swgUserToken in local storage if entitlements and swgUserToken exist\n   * @param {?string|undefined} swgUserToken\n   * @private\n   */\n  saveSwgUserToken_(swgUserToken) {\n    if (swgUserToken) {\n      this.storage_.set(Constants.USER_TOKEN, swgUserToken, true);\n    }\n  }\n\n  /**\n   * @param {string} raw\n   * @param {boolean} requireNonExpired\n   * @param {boolean=} isReadyToPay\n   * @param {?string=} decryptedDocumentKey\n   * @return {?Entitlements}\n   * @private\n   */\n  getValidJwtEntitlements_(\n    raw,\n    requireNonExpired,\n    isReadyToPay,\n    decryptedDocumentKey\n  ) {\n    try {\n      const jwt = this.jwtHelper_.decode(raw);\n      if (requireNonExpired) {\n        const now = Date.now();\n        const exp = jwt['exp'];\n        if (parseFloat(exp) * 1000 < now) {\n          return null;\n        }\n      }\n      const entitlementsClaim = jwt['entitlements'];\n      return (\n        (entitlementsClaim &&\n          this.createEntitlements_(\n            raw,\n            entitlementsClaim,\n            isReadyToPay,\n            decryptedDocumentKey\n          )) ||\n        null\n      );\n    } catch (e) {\n      // Ignore the error.\n      this.win_.setTimeout(() => {\n        throw e;\n      });\n    }\n    return null;\n  }\n\n  /**\n   * @param {string} raw\n   * @param {!Object|!Array<!Object>} json\n   * @param {boolean=} isReadyToPay\n   * @param {?string=} decryptedDocumentKey\n   * @return {!Entitlements}\n   * @private\n   */\n  createEntitlements_(raw, json, isReadyToPay, decryptedDocumentKey) {\n    return new Entitlements(\n      SERVICE_ID,\n      raw,\n      Entitlement.parseListFromJson(json, this.jwtHelper_),\n      this.pageConfig_.getProductId(),\n      this.ack_.bind(this),\n      this.consume_.bind(this),\n      isReadyToPay,\n      decryptedDocumentKey\n    );\n  }\n\n  /**\n   * @param {!Entitlements} entitlements\n   * @private\n   */\n  onEntitlementsFetched_(entitlements) {\n    // Skip any notifications and toast if other flows are ongoing.\n    // TODO(dvoytenko): what's the right action when pay flow was canceled?\n    const blockNotification = this.blockNextNotification_;\n    this.blockNextNotification_ = false;\n    // Let people specifically block toasts too, without blocking notifications.\n    const blockToast = this.blockNextToast_;\n    this.blockNextToast_ = false;\n    if (blockNotification) {\n      return;\n    }\n\n    // Notify on the received entitlements.\n    this.deps_\n      .callbacks()\n      .triggerEntitlementsResponse(Promise.resolve(entitlements));\n\n    // Implementation of the default ability to always consume metered entitlements\n    // if they are provided in an entitlements response.\n    if (this.enableDefaultMeteringHandler_) {\n      if (entitlements.enablesThisWithGoogleMetering()) {\n        entitlements.consume();\n      }\n    }\n\n    const entitlement = entitlements.getEntitlementForThis();\n    if (!entitlement) {\n      this.deps_\n        .eventManager()\n        .logSwgEvent(AnalyticsEvent.EVENT_NO_ENTITLEMENTS, false);\n      return;\n    }\n\n    if (blockToast) {\n      return;\n    }\n    this.maybeShowToast_(entitlement);\n  }\n\n  /**\n   * @param {!Entitlement} entitlement\n   * @return {!Promise}\n   * @private\n   */\n  maybeShowToast_(entitlement) {\n    // Don't show toast for metering entitlements.\n    if (entitlement.source === GOOGLE_METERING_SOURCE) {\n      this.deps_\n        .eventManager()\n        .logSwgEvent(AnalyticsEvent.EVENT_HAS_METERING_ENTITLEMENTS, false);\n      return Promise.resolve();\n    }\n\n    const params = new EventParams();\n    params.setIsUserRegistered(true);\n    if (entitlement.subscriptionTimestamp) {\n      params.setSubscriptionTimestamp(entitlement.subscriptionTimestamp);\n    }\n\n    // Log unlock event.\n    const eventType =\n      entitlement.source === PRIVILEGED_SOURCE\n        ? AnalyticsEvent.EVENT_UNLOCKED_FOR_CRAWLER\n        : AnalyticsEvent.EVENT_UNLOCKED_BY_SUBSCRIPTION;\n    this.deps_.eventManager().logSwgEvent(eventType, false, params);\n\n    // Check if storage bit is set. It's only set by the `Entitlements.ack` method.\n    return this.storage_.get(TOAST_STORAGE_KEY).then((value) => {\n      const toastWasShown = value === '1';\n      if (toastWasShown) {\n        return;\n      }\n\n      // Show toast.\n      const source = entitlement.source || GOOGLE_METERING_SOURCE;\n      return new Toast(\n        this.deps_,\n        feUrl('/toastiframe'),\n        feArgs({\n          'publicationId': this.publicationId_,\n          'source': source,\n        })\n      ).open();\n    });\n  }\n\n  /**\n   * @param {!Entitlements} entitlements\n   * @private\n   */\n  ack_(entitlements) {\n    if (entitlements.getEntitlementForThis()) {\n      this.setToastShown(true);\n    }\n  }\n\n  /**\n   * @param {!Entitlements} entitlements\n   * @param {?Function=} onCloseDialog Called after the user closes the dialog.\n   * @private\n   */\n  consume_(entitlements, onCloseDialog) {\n    if (entitlements.enablesThisWithGoogleMetering()) {\n      const entitlement = entitlements.getEntitlementForThis();\n\n      const onConsumeCallback = () => {\n        if (onCloseDialog) {\n          onCloseDialog();\n        }\n        this.consumeMeter_(entitlement);\n      };\n\n      if (!entitlement.subscriptionTokenContents) {\n        // Ignore decoding errors. Don't show a toast, and return\n        // onConsumeCallback directly.\n        return onConsumeCallback();\n      }\n\n      if (\n        entitlement.subscriptionTokenContents['metering'] &&\n        entitlement.subscriptionTokenContents['metering']['showToast'] === true\n      ) {\n        // Return a delegation to the meterToastApi, which will return the\n        // onConsumeCallback when the toast is dismissed.\n        const meterToastApi = new MeterToastApi(this.deps_, {\n          meterClientType:\n            entitlement.subscriptionTokenContents['metering']['clientType'],\n          meterClientUserAttribute:\n            entitlement.subscriptionTokenContents['metering'][\n              'clientUserAttribute'\n            ],\n        });\n        meterToastApi.setOnConsumeCallback(onConsumeCallback);\n        return meterToastApi.start();\n      } else {\n        // If showToast isn't true, don't show a toast, and return\n        // onConsumeCallback directly.\n        return onConsumeCallback();\n      }\n    }\n  }\n\n  /**\n   * @param {!GetEntitlementsParamsExternalDef=} params\n   * @return {!Promise<!Entitlements>}\n   * @private\n   */\n  fetch_(params) {\n    // Get swgUserToken from local storage\n    const swgUserTokenPromise = this.storage_.get(Constants.USER_TOKEN, true);\n\n    // Get read_time from session storage\n    const readTimePromise = this.storage_.get(\n      Constants.READ_TIME,\n      /*useLocalStorage=*/ false\n    );\n\n    let url =\n      '/publication/' + encodeURIComponent(this.publicationId_) + this.action_;\n\n    return Promise.all([\n      hash(getCanonicalUrl(this.deps_.doc())),\n      swgUserTokenPromise,\n      readTimePromise,\n    ])\n      .then((values) => {\n        const hashedCanonicalUrl = values[0];\n        const swgUserToken = values[1];\n        const readTime = values[2];\n\n        url = addDevModeParamsToUrl(this.win_.location, url);\n\n        // Add encryption param.\n        if (params?.encryption) {\n          url = addQueryParam(\n            url,\n            'crypt',\n            params.encryption.encryptedDocumentKey\n          );\n        }\n\n        // Add swgUserToken param.\n        if (swgUserToken) {\n          url = addQueryParam(url, 'sut', swgUserToken);\n        }\n        // Add publisherProvidedId param for swg-basic.\n        if (this.config_.publisherProvidedId) {\n          url = addQueryParam(url, 'ppid', this.config_.publisherProvidedId);\n        }\n        // Add publisherProvidedId param for swg-classic.\n        else if (\n          params?.publisherProvidedId &&\n          typeof params.publisherProvidedId === 'string' &&\n          params.publisherProvidedId.length > 0\n        ) {\n          url = addQueryParam(url, 'ppid', params.publisherProvidedId);\n        }\n\n        // Add interaction_age param.\n        if (readTime) {\n          const last = parseInt(readTime, 10);\n          if (last) {\n            const interactionAge = Math.floor((Date.now() - last) / 1000);\n            if (interactionAge >= 0) {\n              url = addQueryParam(\n                url,\n                'interaction_age',\n                interactionAge.toString()\n              );\n            }\n          }\n        }\n\n        /** @type {!GetEntitlementsParamsInternalDef|undefined} */\n        let encodableParams = this.enableMeteredByGoogle_\n          ? {\n              metering: {\n                clientTypes: [MeterClientTypes.METERED_BY_GOOGLE],\n                owner: this.publicationId_,\n                resource: {\n                  hashedCanonicalUrl,\n                },\n              },\n            }\n          : undefined;\n\n        // Add metering params.\n        if (\n          this.publicationId_ &&\n          params?.metering?.state &&\n          queryStringHasFreshGaaParams(this.win_.location.search)\n        ) {\n          const meteringStateId = params.metering.state.id;\n          if (\n            typeof meteringStateId === 'string' &&\n            meteringStateId.length > 0\n          ) {\n            encodableParams = {\n              metering: {\n                clientTypes: [MeterClientTypes.LICENSED_BY_GOOGLE],\n                owner: this.publicationId_,\n                resource: {\n                  hashedCanonicalUrl,\n                },\n                // Add publisher provided state and additional fields.\n                state: {\n                  id: meteringStateId,\n                  attributes: [],\n                },\n                token: this.getGaaToken_(),\n              },\n            };\n\n            // Collect attributes.\n            function collectAttributes({attributes, category}) {\n              if (!attributes) {\n                return;\n              }\n\n              const attributeNames = Object.keys(attributes);\n              for (const attributeName of attributeNames) {\n                const name = `${category}_${attributeName}`;\n                const timestamp = Number(attributes[attributeName].timestamp);\n\n                // Validate timestamp.\n                const timestampIsTooFarInTheFuture =\n                  timestamp > (Date.now() / 1000) * 2;\n                if (!timestamp || timestampIsTooFarInTheFuture) {\n                  warn(\n                    `SwG Entitlements: Please specify a Unix timestamp, in seconds, for the \"${attributeName}\" ${category} attribute. The timestamp you passed (${attributes[attributeName].timestamp}) looks invalid.`\n                  );\n                }\n\n                // Collect attribute.\n                encodableParams.metering.state.attributes.push({\n                  name,\n                  timestamp,\n                });\n              }\n            }\n            collectAttributes({\n              attributes: params.metering.state.standardAttributes,\n              category: 'standard',\n            });\n            collectAttributes({\n              attributes: params.metering.state.customAttributes,\n              category: 'custom',\n            });\n          } else {\n            warn(\n              `SwG Entitlements: Please specify a metering state ID string, ideally a hash to avoid PII.`\n            );\n          }\n        }\n\n        if (encodableParams) {\n          // Encode params.\n          this.encodedParams_ = base64UrlEncodeFromBytes(\n            utf8EncodeSync(JSON.stringify(encodableParams))\n          );\n          url = addQueryParam(url, this.encodedParamName_, this.encodedParams_);\n        }\n\n        // Build URL.\n        return serviceUrl(url);\n      })\n      .then((url) => {\n        this.deps_\n          .eventManager()\n          .logSwgEvent(AnalyticsEvent.ACTION_GET_ENTITLEMENTS, false);\n        return this.fetcher_.fetchCredentialedJson(url);\n      })\n      .then((json) => {\n        let response = json;\n        if (this.useArticleEndpoint_) {\n          this.article_ = json;\n          response = json['entitlements'];\n        }\n\n        if (json.errorMessages && json.errorMessages.length > 0) {\n          for (const errorMessage of json.errorMessages) {\n            warn('SwG Entitlements: ' + errorMessage);\n          }\n        }\n        return this.parseEntitlements(response);\n      });\n  }\n}\n\n/**\n * Parses entitlement dev mode params from the given hash fragment and adds it\n * to the given URL.\n * @param {!Location} location\n * @param {string} url\n * @return {string}\n */\nfunction addDevModeParamsToUrl(location, url) {\n  const hashParams = parseQueryString(location.hash);\n  const devModeScenario = hashParams['swg.deventitlement'];\n  if (devModeScenario === undefined) {\n    return url;\n  }\n  return addQueryParam(url, 'devEnt', devModeScenario);\n}\n\n/**\n * Convert String value of isReadyToPay\n * (from JSON or Cache) to a boolean value.\n * @param {string} value\n * @return {boolean|undefined}\n * @private\n */\nfunction irtpStringToBoolean(value) {\n  switch (value) {\n    case 'true':\n      return true;\n    case 'false':\n      return false;\n    default:\n      return undefined;\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AnalyticsEvent, EntitlementResult} from '../proto/api_messages';\nimport {Event} from '../api/logger-api';\nimport {ShowcaseEvent, SubscriptionFlows} from '../api/subscriptions';\n\n/** @const {!Object<string,AnalyticsEvent>} */\nconst PublisherEventToAnalyticsEvent = {\n  [Event.IMPRESSION_PAYWALL]: AnalyticsEvent.IMPRESSION_PAYWALL,\n  [Event.IMPRESSION_AD]: AnalyticsEvent.IMPRESSION_AD,\n  [Event.IMPRESSION_OFFERS]: AnalyticsEvent.IMPRESSION_OFFERS,\n  [Event.ACTION_SUBSCRIPTIONS_LANDING_PAGE]:\n    AnalyticsEvent.ACTION_SUBSCRIPTIONS_LANDING_PAGE,\n  [Event.ACTION_OFFER_SELECTED]: AnalyticsEvent.ACTION_OFFER_SELECTED,\n  [Event.ACTION_PAYMENT_FLOW_STARTED]:\n    AnalyticsEvent.ACTION_PAYMENT_FLOW_STARTED,\n  [Event.ACTION_PAYMENT_COMPLETED]: AnalyticsEvent.ACTION_PAYMENT_COMPLETE,\n  [Event.EVENT_CUSTOM]: AnalyticsEvent.EVENT_CUSTOM,\n};\n\n/** @const {!Object<?AnalyticsEvent,?Event>} */\nconst AnalyticsEventToPublisherEvent = {\n  [AnalyticsEvent.UNKNOWN]: null,\n  [AnalyticsEvent.IMPRESSION_PAYWALL]: Event.IMPRESSION_PAYWALL,\n  [AnalyticsEvent.IMPRESSION_AD]: Event.IMPRESSION_AD,\n  [AnalyticsEvent.IMPRESSION_OFFERS]: Event.IMPRESSION_OFFERS,\n  [AnalyticsEvent.IMPRESSION_SUBSCRIBE_BUTTON]: null,\n  [AnalyticsEvent.IMPRESSION_SMARTBOX]: null,\n  [AnalyticsEvent.ACTION_SUBSCRIBE]: null,\n  [AnalyticsEvent.ACTION_PAYMENT_COMPLETE]: Event.ACTION_PAYMENT_COMPLETED,\n  [AnalyticsEvent.ACTION_ACCOUNT_CREATED]: null,\n  [AnalyticsEvent.ACTION_ACCOUNT_ACKNOWLEDGED]: null,\n  [AnalyticsEvent.ACTION_SUBSCRIPTIONS_LANDING_PAGE]:\n    Event.ACTION_SUBSCRIPTIONS_LANDING_PAGE,\n  [AnalyticsEvent.ACTION_PAYMENT_FLOW_STARTED]:\n    Event.ACTION_PAYMENT_FLOW_STARTED,\n  [AnalyticsEvent.ACTION_OFFER_SELECTED]: Event.ACTION_OFFER_SELECTED,\n  [AnalyticsEvent.EVENT_PAYMENT_FAILED]: null,\n  [AnalyticsEvent.EVENT_CUSTOM]: Event.EVENT_CUSTOM,\n};\n\n/** @const {!Object<string,?Array<AnalyticsEvent>>} */\nconst ShowcaseEvents = {\n  // Events related to content being potentially unlockable\n  [ShowcaseEvent.EVENT_SHOWCASE_METER_OFFERED]: [\n    AnalyticsEvent.EVENT_HAS_METERING_ENTITLEMENTS,\n    AnalyticsEvent.EVENT_OFFERED_METER,\n  ],\n\n  // Events related to content being unlocked\n  [ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION]: [\n    AnalyticsEvent.EVENT_UNLOCKED_BY_SUBSCRIPTION,\n  ],\n  [ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_BY_METER]: [\n    AnalyticsEvent.EVENT_HAS_METERING_ENTITLEMENTS,\n    AnalyticsEvent.EVENT_UNLOCKED_BY_METER,\n  ],\n  [ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_FREE_PAGE]: [\n    AnalyticsEvent.EVENT_UNLOCKED_FREE_PAGE,\n  ],\n\n  // Events requiring user action to unlock content\n  [ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL]: [\n    AnalyticsEvent.EVENT_NO_ENTITLEMENTS,\n    AnalyticsEvent.IMPRESSION_REGWALL,\n    AnalyticsEvent.IMPRESSION_SHOWCASE_REGWALL,\n  ],\n\n  // Events requiring subscription to unlock content\n  [ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL]: [\n    AnalyticsEvent.EVENT_NO_ENTITLEMENTS,\n    AnalyticsEvent.IMPRESSION_PAYWALL,\n  ],\n  [ShowcaseEvent.EVENT_SHOWCASE_INELIGIBLE_PAYWALL]: [\n    AnalyticsEvent.EVENT_INELIGIBLE_PAYWALL,\n    AnalyticsEvent.EVENT_NO_ENTITLEMENTS,\n  ],\n};\n\n/** @const {!Object<?AnalyticsEvent,?Event>} */\nconst AnalyticsEventToEntitlementResult = {\n  [AnalyticsEvent.IMPRESSION_REGWALL]: EntitlementResult.LOCKED_REGWALL,\n  [AnalyticsEvent.EVENT_UNLOCKED_BY_METER]: EntitlementResult.UNLOCKED_METER,\n  [AnalyticsEvent.EVENT_UNLOCKED_BY_SUBSCRIPTION]:\n    EntitlementResult.UNLOCKED_SUBSCRIBER,\n  [AnalyticsEvent.EVENT_UNLOCKED_FREE_PAGE]: EntitlementResult.UNLOCKED_FREE,\n  [AnalyticsEvent.IMPRESSION_PAYWALL]: EntitlementResult.LOCKED_PAYWALL,\n  [AnalyticsEvent.EVENT_INELIGIBLE_PAYWALL]:\n    EntitlementResult.INELIGIBLE_PAYWALL,\n};\n\n/**\n * @param {!string} eventCategory\n * @param {!string} eventAction\n * @param {!string} eventLabel\n * @param {!boolean} nonInteraction\n * @returns {!Object}\n */\nconst createGoogleAnalyticsEvent = (\n  eventCategory,\n  eventAction,\n  eventLabel,\n  nonInteraction\n) => ({\n  eventCategory,\n  eventAction,\n  eventLabel,\n  nonInteraction,\n});\n\n/** @const {!Object<?AnalyticsEvent,?Object>} */\nexport const AnalyticsEventToGoogleAnalyticsEvent = {\n  [AnalyticsEvent.IMPRESSION_OFFERS]: createGoogleAnalyticsEvent(\n    'NTG paywall',\n    'paywall modal impression',\n    '',\n    true\n  ),\n  [AnalyticsEvent.IMPRESSION_CONTRIBUTION_OFFERS]: createGoogleAnalyticsEvent(\n    'NTG membership',\n    'offer impressions',\n    '',\n    true\n  ),\n\n  [AnalyticsEvent.ACTION_OFFER_SELECTED]: createGoogleAnalyticsEvent(\n    'NTG paywall',\n    'click',\n    '',\n    false\n  ),\n  [AnalyticsEvent.ACTION_SWG_SUBSCRIPTION_MINI_PROMPT_CLICK]:\n    createGoogleAnalyticsEvent(\n      'NTG subscription',\n      'marketing modal click',\n      '',\n      false\n    ),\n  [AnalyticsEvent.IMPRESSION_SWG_SUBSCRIPTION_MINI_PROMPT]:\n    createGoogleAnalyticsEvent(\n      'NTG subscription',\n      'marketing modal impression',\n      '',\n      true\n    ),\n  [AnalyticsEvent.ACTION_SWG_CONTRIBUTION_MINI_PROMPT_CLICK]:\n    createGoogleAnalyticsEvent(\n      'NTG membership',\n      'marketing modal click',\n      '',\n      false\n    ),\n  [AnalyticsEvent.IMPRESSION_SWG_CONTRIBUTION_MINI_PROMPT]:\n    createGoogleAnalyticsEvent(\n      'NTG membership',\n      'membership modal impression',\n      '',\n      true\n    ),\n  [AnalyticsEvent.IMPRESSION_NEWSLETTER_OPT_IN]: createGoogleAnalyticsEvent(\n    'NTG newsletter',\n    'newsletter modal impression',\n    '',\n    true\n  ),\n  [AnalyticsEvent.EVENT_NEWSLETTER_OPTED_IN]: createGoogleAnalyticsEvent(\n    'NTG newsletter',\n    'newsletter signup',\n    'success',\n    false\n  ),\n  [AnalyticsEvent.IMPRESSION_REGWALL_OPT_IN]: createGoogleAnalyticsEvent(\n    'NTG account',\n    'registration modal impression',\n    '',\n    true\n  ),\n  [AnalyticsEvent.EVENT_REGWALL_OPTED_IN]: createGoogleAnalyticsEvent(\n    'NTG account',\n    'registration',\n    'success',\n    false\n  ),\n  [AnalyticsEvent.ACTION_SURVEY_DATA_TRANSFER]: createGoogleAnalyticsEvent(\n    '',\n    'survey submission',\n    '',\n    false\n  ),\n};\n\n/** @const {!Object<?AnalyticsEvent,?Object>} */\nexport const SubscriptionSpecificAnalyticsEventToGoogleAnalyticsEvent = {\n  [AnalyticsEvent.ACTION_PAYMENT_COMPLETE]: createGoogleAnalyticsEvent(\n    'NTG subscription',\n    'submit',\n    'success',\n    false\n  ),\n};\n\n/** @const {!Object<?AnalyticsEvent,?Object>} */\nexport const ContributionSpecificAnalyticsEventToGoogleAnalyticsEvent = {\n  [AnalyticsEvent.ACTION_PAYMENT_COMPLETE]: createGoogleAnalyticsEvent(\n    'NTG membership',\n    'submit',\n    'success',\n    false\n  ),\n};\n\n/**\n * Converts a propensity event enum into an analytics event enum.\n * @param {!Event|string} propensityEvent\n * @returns {!AnalyticsEvent}\n */\nexport function publisherEventToAnalyticsEvent(propensityEvent) {\n  return PublisherEventToAnalyticsEvent[propensityEvent];\n}\n\n/**\n * Converts an analytics event enum into a propensity event enum.\n * @param {?AnalyticsEvent} analyticsEvent\n * @returns {?Event}\n */\nexport function analyticsEventToPublisherEvent(analyticsEvent) {\n  return AnalyticsEventToPublisherEvent[analyticsEvent];\n}\n\n/**\n * Converts a publisher entitlement event enum into an array analytics events.\n * @param {!ShowcaseEvent} event\n * @returns {!Array<AnalyticsEvent>}\n */\nexport function showcaseEventToAnalyticsEvents(event) {\n  return ShowcaseEvents[event] || [];\n}\n\nexport function analyticsEventToEntitlementResult(event) {\n  return AnalyticsEventToEntitlementResult[event];\n}\n\n/**\n * Converts an analytics event enum into a Google Analytics event object.\n * @param {?AnalyticsEvent} event\n * @param {string} subscriptionFlow\n * @returns {?Object}\n */\nexport function analyticsEventToGoogleAnalyticsEvent(event, subscriptionFlow) {\n  let gaEvent = null;\n  if (subscriptionFlow) {\n    if (subscriptionFlow == SubscriptionFlows.SUBSCRIBE) {\n      gaEvent = SubscriptionSpecificAnalyticsEventToGoogleAnalyticsEvent[event];\n    } else if (subscriptionFlow == SubscriptionFlows.CONTRIBUTE) {\n      gaEvent = ContributionSpecificAnalyticsEventToGoogleAnalyticsEvent[event];\n    }\n  }\n  return gaEvent || AnalyticsEventToGoogleAnalyticsEvent[event];\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @enum {string}\n */\nexport const ExperimentFlags = {\n  /**\n   * Enables the feature that allows you to replace one subscription\n   * for another in the subscribe() API.\n   */\n  REPLACE_SUBSCRIPTION: 'replace-subscription',\n\n  /**\n   * Enables the contributions feature.\n   * DEPRECATED. This flag can be removed once not used by anyone.\n   */\n  CONTRIBUTIONS: 'contributions',\n\n  /**\n   * Enables the Propensity feature\n   */\n  PROPENSITY: 'propensity',\n\n  /**\n   * Enables the Smartbox feature.\n   */\n  SMARTBOX: 'smartbox',\n\n  /**\n   * Enables using new Activities APIs\n   */\n  HEJIRA: 'hejira',\n\n  /** Enables logging to both the new SwG Clearcut service and the pre-existing\n   *  Clearcut iframe while we verify the new logging system works.\n   *  Publishers should not activate this experiment.\n   */\n  LOGGING_BEACON: 'logging-beacon',\n\n  /** Enables googleTransactionID change. With the experiment on the ID is\n   *  changed from '<uuid>' to '<uuid>.swg'.\n   */\n  UPDATE_GOOGLE_TRANSACTION_ID: 'update-google-transaction-id',\n\n  /**\n   * Experiment flag for guarding changes to fix PayClient redirect flow.\n   */\n  PAY_CLIENT_REDIRECT: 'pay-client-redirect',\n\n  /**\n   * Directs basic-runtime to use the article endpoint instead of the separate\n   * entitlements and clientconfiguration endpoints.\n   */\n  USE_ARTICLE_ENDPOINT: 'use-article-endpoint',\n\n  /**\n   * Experiment flag for logging audience activity.\n   */\n  LOGGING_AUDIENCE_ACTIVITY: 'logging-audience-activity',\n\n  /**\n   * Experiment flag for swapping the location of the counter and the main CTA in Amplio blogs.\n   */\n  TWG_SWAP_COUNTER_AND_CTA: 'counter_cta_swap_enable_experiment',\n\n  /**\n   * Experiment flag for disabling the miniprompt icon on desktop screens wider than 480px.\n   */\n  DISABLE_DESKTOP_MINIPROMPT: 'disable-desktop-miniprompt',\n};\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ErrorUtils} from '../utils/errors';\nimport {parseQueryString} from '../utils/url';\n\n/**\n * @fileoverview\n *\n * Client-side experiments in SwG.\n *\n * The experiments can be set in a few different ways:\n *  1. By gulp build rules using `--experiments=${experimentsString}` argument.\n *  2. By `#swg.experiments=${experimentsString}` parameter in the URL's\n *     fragment.\n *  3. By `swg.configure({experiments: [array]})` call.\n *\n * The `${experimentsString}` is defined as following:\n *  - experimentString = (experimentSpec,)*\n *  - experimentSpec = experimentId | experimentId '=' num100 ('c')?\n *\n * Some examples:\n *  - `A,B` - defines two experiments \"A\" and \"B\" that will be turned on.\n *  - `A:100,B:100` - the same: \"A\" and \"B\" will be turned on.\n *  - `A:0` - the experiment \"A\" will be disabled.\n *  - `A:1` - enable the experiment \"A\" in 1% of impressions.\n *  - `A:10c` - enable the experiment \"A\" in 10% of impressions with 10%\n *    control. In this case, 20% of the impressions will be split into two\n *    categories: experiment and control. Notice, a control can be requested\n *    only for the fraction under 20%.\n *\n * Server-side experiments in SwG.\n *\n * These are only observed at runtime via the `#swg.experiments=${experimentsString}`\n * parameter in the URL's fragment.\n *\n * The `${experimentsString}` follows the convention of comma separated\n * experiment ID's, optionally prefixed with hyphen (`-`) indicating you want\n * the experiment to be disabled.\n *\n * An example would look like:\n *  - `MyExperiment,-OtherExperiment` - indicates that you would like `MyExperiment`\n * to be enabled and `OtherExperiment` to be disabled.\n *\n * Due to restrictions, server flags can only be enabled following the\n * internal policy; otherwise they are ignored.\n */\n\n/**\n * @enum {string}\n */\nconst Selection = {\n  EXPERIMENT: 'e',\n  CONTROL: 'c',\n};\n\n/**\n * A comma-separated set of experiments.\n * @type {string}\n */\nlet experimentsString = '$experiments$';\n\n/**\n * A parsed map of experiments.\n * @type {?Object<string, boolean>}\n */\nlet experimentMap = null;\n\n/**\n * @param {string} s\n * @package Visible for testing only.\n */\nexport function setExperimentsStringForTesting(s) {\n  experimentsString = s;\n  experimentMap = null;\n}\n\n/**\n * Ensures that the experiments have been initialized and returns them.\n * @param {!Window} win\n * @return {!Object<string, boolean>}\n */\nfunction getExperiments(win) {\n  if (!experimentMap) {\n    experimentMap = {};\n    let combinedExperimentString = experimentsString;\n    try {\n      const query = parseQueryString(win.location.hash);\n      const experimentStringFromHash = query['swg.experiments'];\n      if (experimentStringFromHash) {\n        combinedExperimentString += ',' + experimentStringFromHash;\n      }\n    } catch (e) {\n      // Ignore: experiment parsing cannot block runtime.\n      ErrorUtils.throwAsync(e);\n    }\n\n    // Format:\n    // - experimentString = (experimentSpec,)*\n    for (let experimentString of combinedExperimentString.split(',')) {\n      experimentString = experimentString.trim();\n      if (!experimentString) {\n        continue;\n      }\n      try {\n        parseSetExperiment(win, experimentMap, experimentString);\n      } catch (e) {\n        // Ignore: experiment parsing cannot block runtime.\n        ErrorUtils.throwAsync(e);\n      }\n    }\n  }\n  return experimentMap;\n}\n\n/**\n * @param {!Window} win\n * @param {?Object<string, boolean>} experimentMap\n * @param {string} spec\n */\nfunction parseSetExperiment(win, experimentMap, spec) {\n  // Format:\n  // - experimentSpec = experimentId | experimentId '=' num100 ('c')?\n  let experimentId;\n  let fraction;\n  let control = false;\n  const eq = spec.indexOf(':');\n  if (eq == -1) {\n    experimentId = spec;\n    fraction = 100;\n    control = false;\n  } else {\n    experimentId = spec.substring(0, eq).trim();\n    spec = spec.substring(eq + 1);\n    if (spec.substring(spec.length - 1) == Selection.CONTROL) {\n      control = true;\n      spec = spec.substring(0, spec.length - 1);\n    }\n    fraction = parseInt(spec, 10);\n  }\n  if (isNaN(fraction)) {\n    throw new Error('invalid fraction');\n  }\n\n  // Calculate \"on\"/\"off\".\n  let on;\n  if (fraction > 99) {\n    // Explicitly \"on\".\n    on = true;\n  } else if (fraction < 1) {\n    // Explicitly \"off\".\n    on = false;\n  } else if (win.sessionStorage) {\n    // Fractional and possibly with the control.\n    // Note that:\n    // a. We can't do persistent experiments if storage is not available.\n    // b. We can't run control on more than 20%.\n    control = control && fraction <= 20;\n    try {\n      // Set fraction in the experiment to make it unlaunchable.\n      const storageKey =\n        'subscribe.google.com:e:' +\n        experimentId +\n        ':' +\n        fraction +\n        (control ? 'c' : '');\n      let selection = parseSelection(win.sessionStorage.getItem(storageKey));\n      if (!selection) {\n        // Is experiment/control range?\n        if (win.Math.random() * 100 <= fraction * (control ? 2 : 1)) {\n          const inExperiment = control ? win.Math.random() <= 0.5 : true;\n          selection = inExperiment ? Selection.EXPERIMENT : Selection.CONTROL;\n          win.sessionStorage.setItem(storageKey, selection);\n        }\n      }\n      on = !!selection;\n      if (selection == Selection.CONTROL) {\n        experimentId = 'c-' + experimentId;\n      }\n    } catch (e) {\n      // Ignore: experiment parsing cannot block runtime.\n      on = false;\n      ErrorUtils.throwAsync(e);\n    }\n  } else {\n    on = false;\n  }\n\n  experimentMap[experimentId] = on;\n}\n\n/**\n * @param {?string} s\n * @return {?Selection}\n */\nfunction parseSelection(s) {\n  // Do a simple if-then to inline the whole Selection enum.\n  return s == Selection.EXPERIMENT\n    ? Selection.EXPERIMENT\n    : s == Selection.CONTROL\n    ? Selection.CONTROL\n    : null;\n}\n\n/**\n * Whether the specified experiment is on or off.\n * @param {!Window} win\n * @param {string} experimentId\n * @return {boolean}\n */\nexport function isExperimentOn(win, experimentId) {\n  return getExperiments(win)[experimentId] || false;\n}\n\n/**\n * Toggles the experiment on or off. Returns the actual value of the experiment\n * after toggling is done.\n * @param {!Window} win\n * @param {string} experimentId\n * @param {boolean} on\n */\nexport function setExperiment(win, experimentId, on) {\n  getExperiments(win)[experimentId] = on;\n}\n\n/**\n * @return {!Array<string>}\n */\nexport function getOnExperiments(win) {\n  const experimentMap = getExperiments(win);\n  const experiments = [];\n  for (const experiment in experimentMap) {\n    if (experimentMap[experiment]) {\n      experiments.push(experiment);\n    }\n  }\n  return experiments;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ErrorUtils} from '../utils/errors';\nimport {Xhr} from '../utils/xhr';\nimport {parseJson} from '../utils/json';\nimport {serializeProtoMessageForUrl} from '../utils/url';\n\nconst jsonSaftyPrefix = /^(\\)\\]\\}'\\n)/;\n\n/**\n * @interface\n */\nexport class Fetcher {\n  /**\n   * @param {string} unusedUrl\n   * @return {!Promise<!Object>}\n   */\n  fetchCredentialedJson(unusedUrl) {}\n\n  /**\n   * @param {string} unusedUrl\n   * @param {!../utils/xhr.FetchInitDef} unusedInit\n   * @return {!Promise<!../utils/xhr.FetchResponse>}\n   */\n  fetch(unusedUrl, unusedInit) {}\n\n  /**\n   * POST data to a URL endpoint, do not wait for a response.\n   * @param {!string} unusedUrl\n   * @param {!../proto/api_messages.Message} unusedData\n   */\n  sendBeacon(unusedUrl, unusedData) {}\n\n  /**\n   * POST data to a URL endpoint, get a Promise for a response\n   * @param {!string} unusedUrl\n   * @param {!../proto/api_messages.Message} unusedMessage\n   * @return {!Promise<!../utils/xhr.FetchResponse>}\n   */\n  sendPost(unusedUrl, unusedMessage) {}\n}\n\n/**\n * @implements {Fetcher}\n */\nexport class XhrFetcher {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @const {!Xhr} */\n    this.xhr_ = new Xhr(win);\n  }\n\n  /** @override */\n  fetchCredentialedJson(url) {\n    const init = /** @type {!../utils/xhr.FetchInitDef} */ ({\n      method: 'GET',\n      headers: {'Accept': 'text/plain, application/json'},\n      credentials: 'include',\n    });\n    return this.fetch(url, init).then((response) => {\n      return response.text().then((text) => {\n        // Remove \"\")]}'\\n\" XSSI prevention prefix in safe responses.\n        const cleanedText = text.replace(jsonSaftyPrefix, '');\n        return parseJson(cleanedText);\n      });\n    });\n  }\n\n  /** @override */\n  sendPost(url, message) {\n    const init = /** @type {!../utils/xhr.FetchInitDef} */ ({\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\n      },\n      credentials: 'include',\n      body: 'f.req=' + serializeProtoMessageForUrl(message),\n    });\n    return this.fetch(url, init).then((response) => {\n      if (!response) {\n        return {};\n      }\n      return response.text().then((text) => {\n        try {\n          // Remove \"\")]}'\\n\" XSSI prevention prefix in safe responses.\n          const cleanedText = text.replace(jsonSaftyPrefix, '');\n          return parseJson(cleanedText);\n        } catch (e) {\n          ErrorUtils.throwAsync(e);\n          return {};\n        }\n      });\n    });\n  }\n\n  /** @override */\n  fetch(url, init) {\n    return this.xhr_.fetch(url, init);\n  }\n\n  /** @override */\n  sendBeacon(url, data) {\n    if (navigator.sendBeacon) {\n      const headers = {type: 'application/x-www-form-urlencoded;charset=UTF-8'};\n      const blob = new Blob(\n        ['f.req=' + serializeProtoMessageForUrl(data)],\n        headers\n      );\n      navigator.sendBeacon(url, blob);\n      return;\n    }\n    // Only newer browsers support beacon.  Fallback to standard XHR POST.\n    this.sendPost(url, data);\n  }\n}\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {analyticsEventToGoogleAnalyticsEvent} from './event-type-mapping';\nimport {isFunction} from '../utils/types';\n\n/* eslint-disable no-unused-vars */\n/** @typedef {?function(string, string, Object)} */\nlet AnalyticsMethod;\n\n/** @typedef {{ga: AnalyticsMethod, gtag: AnalyticsMethod}} */\nlet WindowWithAnalyticsMethods;\n/* eslint-enable no-unused-vars */\n\nexport class GoogleAnalyticsEventListener {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!./deps.DepsDef} deps */\n    this.deps_ = deps;\n\n    /** @private @const {!./client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n  }\n\n  /**\n   * Start listening to client events\n   */\n  start() {\n    this.eventManager_.registerEventListener(\n      this.handleClientEvent_.bind(this)\n    );\n  }\n\n  /**\n   *  Listens for new events from the events manager and logs appropriate events to Google Analytics.\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   * @param {(!../api/client-event-manager-api.ClientEventParams|undefined)=} eventParams\n   */\n  handleClientEvent_(event, eventParams = undefined) {\n    // Require either ga function (analytics.js) or gtag function (gtag.js).\n    const gaIsEligible = GoogleAnalyticsEventListener.isGaEligible(this.deps_);\n    const gtagIsEligible = GoogleAnalyticsEventListener.isGtagEligible(\n      this.deps_\n    );\n    const neitherIsEligible = !gaIsEligible && !gtagIsEligible;\n    if (neitherIsEligible) {\n      return;\n    }\n\n    // Extract methods from window.\n    const {ga, gtag} = /** @type {!WindowWithAnalyticsMethods} */ (\n      this.deps_.win()\n    );\n\n    let subscriptionFlow = '';\n    if (event.additionalParameters) {\n      // additionalParameters isn't strongly typed so checking for both object and class notation.\n      subscriptionFlow =\n        event.additionalParameters.subscriptionFlow ||\n        event.additionalParameters.getSubscriptionFlow();\n    }\n    let gaEvent = analyticsEventToGoogleAnalyticsEvent(\n      event.eventType,\n      subscriptionFlow\n    );\n    if (!gaEvent) {\n      return;\n    }\n\n    const analyticsParams = eventParams?.googleAnalyticsParameters || {};\n    gaEvent = {\n      ...gaEvent,\n      eventCategory: analyticsParams.event_category || gaEvent.eventCategory,\n      eventLabel: analyticsParams.event_label || gaEvent.eventLabel,\n    };\n\n    // TODO(b/234825847): Remove this once universal analytics is deprecated in 2023.\n    if (gaIsEligible) {\n      ga('send', 'event', gaEvent);\n    }\n\n    if (gtagIsEligible) {\n      const gtagEvent = {\n        'event_category': gaEvent.eventCategory,\n        'event_label': gaEvent.eventLabel,\n        'non_interaction': gaEvent.nonInteraction,\n        ...analyticsParams,\n      };\n      gtag('event', gaEvent.eventAction, gtagEvent);\n    }\n  }\n\n  /**\n   * Function to determine whether event is eligible for GA logging.\n   * @param {!./deps.DepsDef} deps\n   * @returns {boolean}\n   */\n  static isGaEligible(deps) {\n    return isFunction(\n      /** @type {!WindowWithAnalyticsMethods} */ (deps.win()).ga\n    );\n  }\n\n  /**\n   * Function to determine whether event is eligible for gTag logging.\n   * @param {!./deps.DepsDef} deps\n   * @returns {boolean}\n   */\n  static isGtagEligible(deps) {\n    return isFunction(\n      /** @type {!WindowWithAnalyticsMethods} */ (deps.win()).gtag\n    );\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n */\nexport class JsError {\n  /**\n   * @param {!../model/doc.Doc} doc\n   */\n  constructor(doc) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = doc;\n\n    /** @private @const {!Promise} */\n    this.microTask_ = Promise.resolve();\n  }\n\n  /**\n   * @param {...*} var_args\n   * @return {!Promise}\n   */\n  error(var_args) {\n    const args = Array.prototype.slice.call(arguments, 0);\n    return this.microTask_.then(() => {\n      const error = createErrorVargs.apply(null, args);\n      if (error.reported) {\n        return;\n      }\n      const img = this.doc_.getWin().document.createElement('img');\n      img.src =\n        '$frontend$/_/SubscribewithgoogleClientUi/jserror' +\n        '?error=' +\n        encodeURIComponent(String(error)) +\n        '&script=' +\n        encodeURIComponent('$frontend$/swg/js/v1/swg.js') +\n        '&line=' +\n        (error.lineNumber || 1) +\n        '&trace=' +\n        encodeURIComponent(error.stack);\n      // Appending this image to DOM is not necessary.\n      error.reported = true;\n    });\n  }\n}\n\n/**\n * @param {...*} var_args\n * @return {!Error}\n */\nfunction createErrorVargs(var_args) {\n  let error = null;\n  let message = '';\n  for (let i = 0; i < arguments.length; i++) {\n    const arg = arguments[i];\n    if (arg instanceof Error && !error) {\n      error = duplicateErrorIfNecessary(arg);\n    } else {\n      if (message) {\n        message += ' ';\n      }\n      message += arg;\n    }\n  }\n\n  if (!error) {\n    error = new Error(message);\n  } else if (message) {\n    error.message = message + ': ' + error.message;\n  }\n  return error;\n}\n\n/**\n * Some exceptions (DOMException, namely) have read-only message.\n * @param {!Error} error\n * @return {!Error}\n */\nfunction duplicateErrorIfNecessary(error) {\n  const messageProperty = Object.getOwnPropertyDescriptor(error, 'message');\n  if (messageProperty && messageProperty.writable) {\n    return error;\n  }\n\n  const {message, stack} = error;\n  const e = new Error(message);\n  // Copy all the extraneous things we attach.\n  for (const prop in error) {\n    e[prop] = error[prop];\n  }\n  // Ensure these are copied.\n  e.stack = stack;\n  return e;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {\n  AnalyticsEvent,\n  LinkSaveTokenRequest,\n  LinkingInfoResponse,\n} from '../proto/api_messages';\nimport {Constants} from '../utils/constants';\nimport {SubscriptionFlows, WindowOpenMode} from '../api/subscriptions';\nimport {acceptPortResultData} from '../utils/activity-utils';\nimport {createCancelError, isCancelError} from '../utils/errors';\nimport {feArgs, feOrigin, feUrl} from './services';\n\nconst LINK_REQUEST_ID = 'swg-link';\n\n/**\n * The flow to link an existing publisher account to an existing google account.\n */\nexport class LinkbackFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../model/page-config.PageConfig} */\n    this.pageConfig_ = deps.pageConfig();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n  }\n\n  /**\n   * Starts the Link account flow.\n   * @param {{ampReaderId: (string|undefined)}=} params\n   * @return {!Promise}\n   */\n  start(params = {}) {\n    this.deps_.callbacks().triggerFlowStarted(SubscriptionFlows.LINK_ACCOUNT);\n    const forceRedirect =\n      this.deps_.config().windowOpenMode == WindowOpenMode.REDIRECT;\n    const args = params.ampReaderId\n      ? feArgs({\n          'publicationId': this.pageConfig_.getPublicationId(),\n          'ampReaderId': params.ampReaderId,\n        })\n      : feArgs({\n          'publicationId': this.pageConfig_.getPublicationId(),\n        });\n    const opener = this.activityPorts_.open(\n      LINK_REQUEST_ID,\n      feUrl('/linkbackstart'),\n      forceRedirect ? '_top' : '_blank',\n      args,\n      {}\n    );\n    this.deps_.eventManager().logSwgEvent(AnalyticsEvent.IMPRESSION_LINK);\n    this.dialogManager_.popupOpened(opener && opener.targetWin);\n    return Promise.resolve();\n  }\n}\n\n/**\n * The class for Link accounts flow.\n */\nexport class LinkCompleteFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  static configurePending(deps) {\n    /**\n     * Handler function.\n     * @param {!../components/activities.ActivityPortDef} port\n     */\n    function handler(port) {\n      deps.entitlementsManager().blockNextNotification();\n      deps.callbacks().triggerLinkProgress();\n      deps.dialogManager().popupClosed();\n      const promise = acceptPortResultData(\n        port,\n        feOrigin(),\n        /* requireOriginVerified */ false,\n        /* requireSecureChannel */ false\n      );\n      return promise.then(\n        (response) => {\n          deps\n            .eventManager()\n            .logSwgEvent(AnalyticsEvent.ACTION_LINK_CONTINUE, true);\n          const flow = new LinkCompleteFlow(deps, response);\n          flow.start();\n        },\n        (reason) => {\n          if (isCancelError(reason)) {\n            deps\n              .eventManager()\n              .logSwgEvent(AnalyticsEvent.ACTION_LINK_CANCEL, true);\n            deps\n              .callbacks()\n              .triggerFlowCanceled(SubscriptionFlows.LINK_ACCOUNT);\n          } else {\n            // The user chose to continue but there was an error.\n            deps\n              .eventManager()\n              .logSwgEvent(AnalyticsEvent.ACTION_LINK_CONTINUE, true);\n          }\n        }\n      );\n    }\n    deps.activities().onResult(LINK_REQUEST_ID, handler);\n  }\n\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {?Object} response\n   */\n  constructor(deps, response) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!./client-config-manager.ClientConfigManager} */\n    this.clientConfigManager_ = deps.clientConfigManager();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!./entitlements-manager.EntitlementsManager} */\n    this.entitlementsManager_ = deps.entitlementsManager();\n\n    /** @private @const {!./callbacks.Callbacks} */\n    this.callbacks_ = deps.callbacks();\n\n    const index = (response && response['index']) || '0';\n\n    /** @private {?ActivityIframeView} */\n    this.activityIframeView_ = null;\n\n    /** @private @const {!Promise<!ActivityIframeView>} */\n    this.activityIframeViewPromise_ = this.clientConfigManager_\n      .getClientConfig()\n      .then(\n        (clientConfig) =>\n          new ActivityIframeView(\n            this.win_,\n            this.activityPorts_,\n            feUrl(\n              '/linkconfirmiframe',\n              {},\n              clientConfig.usePrefixedHostPath,\n              'u/' + index\n            ),\n            feArgs({\n              'productId': deps.pageConfig().getProductId(),\n              'publicationId': deps.pageConfig().getPublicationId(),\n            }),\n            /* shouldFadeBody */ true\n          )\n      );\n\n    /** @private {?function()} */\n    this.completeResolver_ = null;\n\n    /** @private @const {!Promise} */\n    this.completePromise_ = new Promise((resolve) => {\n      this.completeResolver_ = resolve;\n    });\n  }\n\n  /**\n   * Starts the Link account flow.\n   * @return {!Promise}\n   */\n  start() {\n    return this.activityIframeViewPromise_.then((activityIframeView) => {\n      this.activityIframeView_ = activityIframeView;\n\n      const promise = this.activityIframeView_.acceptResultAndVerify(\n        feOrigin(),\n        /* requireOriginVerified */ true,\n        /* requireSecureChannel */ true\n      );\n      promise\n        .then((response) => {\n          this.complete_(response);\n        })\n        .catch((reason) => {\n          // Rethrow async.\n          setTimeout(() => {\n            throw reason;\n          });\n        })\n        .then(() => {\n          // The flow is complete.\n          this.dialogManager_.completeView(this.activityIframeView_);\n        });\n      this.deps_\n        .eventManager()\n        .logSwgEvent(AnalyticsEvent.EVENT_GOOGLE_UPDATED, true);\n      this.deps_\n        .eventManager()\n        .logSwgEvent(AnalyticsEvent.IMPRESSION_GOOGLE_UPDATED, true);\n      return this.dialogManager_.openView(this.activityIframeView_);\n    });\n  }\n\n  /**\n   * @param {?Object} response\n   * @private\n   */\n  complete_(response) {\n    this.deps_\n      .eventManager()\n      .logSwgEvent(AnalyticsEvent.ACTION_GOOGLE_UPDATED_CLOSE, true);\n    const userToken = response['swgUserToken'];\n    if (userToken) {\n      this.deps_.storage().set(Constants.USER_TOKEN, userToken, true);\n    }\n    this.callbacks_.triggerLinkComplete();\n    this.callbacks_.resetLinkProgress();\n    this.entitlementsManager_.setToastShown(true);\n    this.entitlementsManager_.unblockNextNotification();\n    this.entitlementsManager_.reset((response && response['success']) || false);\n    if (response && response['entitlements']) {\n      this.entitlementsManager_.pushNextEntitlements(response['entitlements']);\n    }\n    this.completeResolver_();\n  }\n\n  /** @return {!Promise} */\n  whenComplete() {\n    return this.completePromise_;\n  }\n}\n\n/**\n * The flow to save subscription information from an existing publisher account\n * to an existing google account.  The accounts may or may not already be\n * linked.\n */\nexport class LinkSaveFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.SaveSubscriptionRequestCallback} callback\n   */\n  constructor(deps, callback) {\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {!../api/subscriptions.SaveSubscriptionRequestCallback} */\n    this.callback_ = callback;\n\n    /** @private {?Promise<!../api/subscriptions.SaveSubscriptionRequest>} */\n    this.requestPromise_ = null;\n\n    /** @private {?Promise} */\n    this.openPromise_ = null;\n\n    /** @private {?ActivityIframeView} */\n    this.activityIframeView_ = null;\n  }\n\n  /**\n   * @return {?Promise<!../api/subscriptions.SaveSubscriptionRequest>}\n   * @package Visible for testing.\n   */\n  getRequestPromise() {\n    return this.requestPromise_;\n  }\n\n  /**\n   * @private\n   */\n  complete_() {\n    this.dialogManager_.completeView(this.activityIframeView_);\n  }\n\n  /**\n   * @param {!Object} result\n   * @return {!Promise<boolean>}\n   * @private\n   */\n  handleLinkSaveResponse_(result) {\n    // This flow is complete\n    this.complete_();\n    let startPromise;\n    let linkConfirm = null;\n    if (result['linked']) {\n      // When linking succeeds, start link confirmation flow\n      this.dialogManager_.popupClosed();\n      this.deps_.callbacks().triggerFlowStarted(SubscriptionFlows.LINK_ACCOUNT);\n      linkConfirm = new LinkCompleteFlow(this.deps_, result);\n      startPromise = linkConfirm.start();\n    } else {\n      startPromise = Promise.reject(createCancelError(this.win_, 'not linked'));\n    }\n    const completePromise = startPromise.then(() => {\n      this.deps_.callbacks().triggerLinkProgress();\n      return linkConfirm.whenComplete();\n    });\n\n    return completePromise.then(() => {\n      return true;\n    });\n  }\n\n  /**\n   * @param {LinkingInfoResponse} response\n   * @private\n   */\n  sendLinkSaveToken_(response) {\n    if (!response || !response.getRequested()) {\n      return;\n    }\n    this.requestPromise_ = new Promise((resolve) => resolve(this.callback_()))\n      .then((request) => {\n        const saveRequest = new LinkSaveTokenRequest();\n        if (request && request.token) {\n          if (request.authCode) {\n            throw new Error('Both authCode and token are available');\n          } else {\n            saveRequest.setToken(request.token);\n          }\n        } else if (request && request.authCode) {\n          saveRequest.setAuthCode(request.authCode);\n        } else {\n          throw new Error('Neither token or authCode is available');\n        }\n        this.activityIframeView_.execute(saveRequest);\n        return request;\n      })\n      .catch((reason) => {\n        // The flow is complete.\n        this.complete_();\n        throw reason;\n      });\n  }\n\n  /**\n   * @return {?Promise}\n   */\n  /**\n   * Starts the save subscription\n   * @return {!Promise}\n   */\n  start() {\n    const iframeArgs = this.activityPorts_.addDefaultArguments({\n      'isClosable': true,\n    });\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/linksaveiframe'),\n      iframeArgs,\n      /* shouldFadeBody */ false,\n      /* hasLoadingIndicator */ true\n    );\n    this.activityIframeView_.on(\n      LinkingInfoResponse,\n      this.sendLinkSaveToken_.bind(this)\n    );\n\n    this.openPromise_ = this.dialogManager_.openView(\n      this.activityIframeView_,\n      /* hidden */ true\n    );\n    this.deps_\n      .eventManager()\n      .logSwgEvent(AnalyticsEvent.IMPRESSION_SAVE_SUBSCR_TO_GOOGLE);\n    /** {!Promise<boolean>} */\n    return this.activityIframeView_\n      .acceptResultAndVerify(\n        feOrigin(),\n        /* requireOriginVerified */ true,\n        /* requireSecureChannel */ true\n      )\n      .then((result) => {\n        return this.handleLinkSaveResponse_(result);\n      })\n      .catch((reason) => {\n        // In case this flow wasn't complete, complete it here\n        this.complete_();\n        // Handle cancellation from user, link confirm start or completion here\n        if (isCancelError(reason)) {\n          this.deps_\n            .eventManager()\n            .logSwgEvent(\n              AnalyticsEvent.ACTION_SAVE_SUBSCR_TO_GOOGLE_CANCEL,\n              true\n            );\n          this.deps_\n            .callbacks()\n            .triggerFlowCanceled(SubscriptionFlows.LINK_ACCOUNT);\n          return false;\n        }\n        throw reason;\n      });\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {AnalyticsEvent, EventOriginator} from '../proto/api_messages';\nimport {Event, SubscriptionState} from '../api/logger-api';\nimport {isBoolean, isEnumValue, isObject} from '../utils/types';\nimport {publisherEventToAnalyticsEvent} from './event-type-mapping';\n\n/**\n * @implements {../api/logger-api.LoggerApi}\n */\nexport class Logger {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!../api/client-event-manager-api.ClientEventManagerApi} */\n    this.eventManager_ = deps.eventManager();\n  }\n\n  /** @override */\n  sendSubscriptionState(state, jsonProducts) {\n    if (!isEnumValue(SubscriptionState, state)) {\n      throw new Error('Invalid subscription state provided');\n    }\n    if (\n      (SubscriptionState.SUBSCRIBER == state ||\n        SubscriptionState.PAST_SUBSCRIBER == state) &&\n      !jsonProducts\n    ) {\n      throw new Error(\n        'Entitlements must be provided for users with' +\n          ' active or expired subscriptions'\n      );\n    }\n    if (jsonProducts && !isObject(jsonProducts)) {\n      throw new Error('Entitlements must be an Object');\n    }\n    let productsOrSkus = null;\n    if (jsonProducts) {\n      productsOrSkus = JSON.stringify(jsonProducts);\n    }\n    this.eventManager_.logEvent({\n      eventType: AnalyticsEvent.EVENT_SUBSCRIPTION_STATE,\n      eventOriginator: EventOriginator.PUBLISHER_CLIENT,\n      isFromUserAction: null,\n      additionalParameters: {\n        state,\n        productsOrSkus,\n      },\n    });\n  }\n\n  /** @override */\n  sendEvent(userEvent) {\n    let data = null;\n    if (\n      !isEnumValue(Event, userEvent.name) ||\n      !publisherEventToAnalyticsEvent(userEvent.name)\n    ) {\n      throw new Error('Invalid user event provided(' + userEvent.name + ')');\n    }\n\n    if (userEvent.data) {\n      if (!isObject(userEvent.data)) {\n        throw new Error('Event data must be an Object(' + userEvent.data + ')');\n      } else {\n        data = Object.assign({}, data, userEvent.data);\n      }\n    }\n\n    if (isBoolean(userEvent.active)) {\n      if (!data) {\n        data = {};\n      }\n      Object.assign(data, {'is_active': userEvent.active});\n    } else if (userEvent.active != null) {\n      throw new Error('Event active must be a boolean');\n    }\n    this.eventManager_.logEvent({\n      eventType: publisherEventToAnalyticsEvent(userEvent.name),\n      eventOriginator: EventOriginator.PUBLISHER_CLIENT,\n      isFromUserAction: userEvent.active,\n      additionalParameters: data,\n    });\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {SubscriptionFlows} from '../api/subscriptions';\nimport {feArgs, feUrl} from './services';\n\nexport class LoginNotificationApi {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {?Promise} */\n    this.openViewPromise_ = null;\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/loginiframe'),\n      feArgs({\n        publicationId: deps.pageConfig().getPublicationId(),\n        productId: deps.pageConfig().getProductId(),\n        // No need to ask the user. Just tell them you're logging them in.\n        userConsent: false,\n      }),\n      /* shouldFadeBody */ true\n    );\n  }\n\n  /**\n   * Continues the Login flow (after waiting).\n   * @return {!Promise}\n   */\n  start() {\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.SHOW_LOGIN_NOTIFICATION);\n\n    this.openViewPromise_ = this.dialogManager_.openView(\n      this.activityIframeView_\n    );\n\n    return this.activityIframeView_.acceptResult().then(\n      () => {\n        // The consent part is complete.\n        this.dialogManager_.completeView(this.activityIframeView_);\n      },\n      (reason) => {\n        this.dialogManager_.completeView(this.activityIframeView_);\n        throw reason;\n      }\n    );\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {SubscriptionFlows} from '../api/subscriptions';\nimport {feArgs, feUrl} from './services';\nimport {isCancelError} from '../utils/errors';\n\nexport class LoginPromptApi {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {?Promise} */\n    this.openViewPromise_ = null;\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/loginiframe'),\n      feArgs({\n        publicationId: deps.pageConfig().getPublicationId(),\n        productId: deps.pageConfig().getProductId(),\n        // First ask the user if they want us to log them in.\n        userConsent: true,\n      }),\n      /* shouldFadeBody */ true\n    );\n  }\n\n  /**\n   * Prompts the user to login.\n   * @return {!Promise}\n   */\n  start() {\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.SHOW_LOGIN_PROMPT);\n\n    this.openViewPromise_ = this.dialogManager_.openView(\n      this.activityIframeView_\n    );\n\n    return this.activityIframeView_.acceptResult().then(\n      () => {\n        // The consent part is complete.\n        this.dialogManager_.completeView(this.activityIframeView_);\n      },\n      (reason) => {\n        if (isCancelError(reason)) {\n          this.deps_\n            .callbacks()\n            .triggerFlowCanceled(SubscriptionFlows.SHOW_LOGIN_PROMPT);\n        } else {\n          this.dialogManager_.completeView(this.activityIframeView_);\n        }\n        throw reason;\n      }\n    );\n  }\n}\n","/**\n * Copyright 2020 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {AnalyticsEvent} from '../proto/api_messages';\nimport {MeterClientTypes} from '../api/metering';\nimport {SubscriptionFlows} from '../api/subscriptions';\nimport {\n  ToastCloseRequest,\n  ViewSubscriptionsResponse,\n} from '../proto/api_messages';\nimport {feUrl} from './services';\nimport {isCancelError} from '../utils/errors';\nimport {parseUrl} from '../utils/url';\nimport {setImportantStyles, setStyle} from '../utils/style';\nimport {warn} from '../utils/log';\n\nexport const IFRAME_BOX_SHADOW =\n  'rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px';\nexport const MINIMIZED_IFRAME_SIZE = '420px';\nexport const DEFAULT_IFRAME_URL = '/metertoastiframe';\nexport const ANONYMOUS_USER_ATTRIBUTE = 'anonymous_user';\n/**\n * The iframe URLs to be used per MeterClientType\n * @type {Object.<MeterClientTypes, string>}\n */\nexport const IframeUrlByMeterClientType = {\n  [MeterClientTypes.LICENSED_BY_GOOGLE]: '/metertoastiframe',\n  [MeterClientTypes.METERED_BY_GOOGLE]: '/meteriframe',\n};\n/** @enum {string} */\nconst MeterType = {\n  UNKNOWN: 'UNKNOWN',\n  KNOWN: 'KNOWN',\n};\n\n/**\n * Properties:\n * - iframeUrl: Relative URL of the iframe, e.g. \"/meteriframe\".\n * - iframeUrlParams: List of extra params appended to the URL.\n *\n * @typedef {{\n *   meterClientType: (MeterClientTypes|undefined),\n * }}\n */\nexport let MeterToastApiParams;\n\nexport class MeterToastApi {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!MeterToastApiParams=} params\n   */\n  constructor(\n    deps,\n    {\n      meterClientType = MeterClientTypes.LICENSED_BY_GOOGLE,\n      meterClientUserAttribute = ANONYMOUS_USER_ATTRIBUTE,\n    } = {}\n  ) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!MeterClientTypes} */\n    this.meterClientType_ = meterClientType;\n\n    /** @private @const {string} */\n    this.meterClientUserAttribute_ = meterClientUserAttribute;\n\n    /**\n     * Function this class calls when a user dismisses the toast to consume a\n     * free read.\n     * @private {?function()}\n     */\n    this.onConsumeCallback_ = null;\n\n    /**\n     * Boolean indicating whether or not the onConsumeCallback_ has been handled\n     * (either called or ignored). This is used to protect against unexpected\n     * cancellations not consuming a meter.\n     * @private {!boolean}\n     */\n    this.onConsumeCallbackHandled_ = false;\n\n    /** @private {?function()} */\n    this.scrollEventListener_ = null;\n  }\n\n  /**\n   * Shows the user the metering toast.\n   * @return {!Promise}\n   */\n  start() {\n    const additionalArguments = {\n      isClosable: true,\n      hasSubscriptionCallback: this.deps_\n        .callbacks()\n        .hasSubscribeRequestCallback(),\n    };\n    if (this.meterClientType_ === MeterClientTypes.METERED_BY_GOOGLE) {\n      additionalArguments['meterType'] =\n        this.meterClientUserAttribute_ === ANONYMOUS_USER_ATTRIBUTE\n          ? MeterType.UNKNOWN\n          : MeterType.KNOWN;\n    }\n    const iframeArgs =\n      this.activityPorts_.addDefaultArguments(additionalArguments);\n\n    const iframeUrl =\n      IframeUrlByMeterClientType[\n        this.meterClientType_ ?? MeterClientTypes.LICENSED_BY_GOOGLE\n      ];\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl(iframeUrl, {\n        'origin': parseUrl(this.win_.location.href).origin,\n        'hl': this.deps_.clientConfigManager().getLanguage(),\n      }),\n      iframeArgs,\n      /* shouldFadeBody */ false\n    );\n\n    /** @private @const {!function()} */\n    this.sendCloseRequestFunction_ = () => {\n      const closeRequest = new ToastCloseRequest();\n      closeRequest.setClose(true);\n      this.activityIframeView_.execute(closeRequest);\n      this.removeCloseEventListener();\n\n      this.deps_\n        .eventManager()\n        .logSwgEvent(\n          AnalyticsEvent.ACTION_METER_TOAST_CLOSED_BY_ARTICLE_INTERACTION,\n          true\n        );\n\n      if (this.onConsumeCallback_ && !this.onConsumeCallbackHandled_) {\n        this.onConsumeCallbackHandled_ = true;\n        this.onConsumeCallback_();\n      }\n    };\n\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.SHOW_METER_TOAST);\n    this.activityIframeView_.on(\n      ViewSubscriptionsResponse,\n      this.startSubscriptionFlow_.bind(this)\n    );\n    if (\n      !this.deps_.callbacks().hasSubscribeRequestCallback() &&\n      !this.deps_.callbacks().hasOffersFlowRequestCallback()\n    ) {\n      const errorMessage =\n        '[swg.js]: `setOnNativeSubscribeRequest` has not been set ' +\n        'before starting the metering flow, so users will not be able to ' +\n        'subscribe from the metering dialog directly. Please call ' +\n        '`setOnNativeSubscribeRequest` with a subscription flow callback ' +\n        'before starting metering.';\n      warn(errorMessage);\n    }\n\n    this.dialogManager_\n      .handleCancellations(this.activityIframeView_)\n      .catch((reason) => {\n        // Possibly call onConsumeCallback on all dialog cancellations to\n        // ensure unexpected dialog closures don't give access without a\n        // meter consumed.\n        if (this.onConsumeCallback_ && !this.onConsumeCallbackHandled_) {\n          this.onConsumeCallbackHandled_ = true;\n          this.onConsumeCallback_();\n        }\n        // Don't throw on cancel errors since they happen when a user closes\n        // the toast, which is expected.\n        if (!isCancelError(reason)) {\n          // eslint-disable-next-line no-console\n          console /*OK*/\n            .error(\n              '[swg.js]: Error occurred during meter toast handling: ' + reason\n            );\n          throw reason;\n        }\n      });\n\n    return this.dialogManager_.openDialog().then((dialog) => {\n      this.setDialogBoxShadow_();\n      this.setLoadingViewWidth_();\n      return dialog.openView(this.activityIframeView_).then(() => {\n        // Allow closing of the iframe with any scroll or click event.\n        this.win_.addEventListener('click', this.sendCloseRequestFunction_);\n        this.win_.addEventListener(\n          'touchstart',\n          this.sendCloseRequestFunction_\n        );\n        this.win_.addEventListener('mousedown', this.sendCloseRequestFunction_);\n        // Making body's overflow property 'hidden' to prevent scrolling\n        // while swiping on the iframe only on mobile.\n        if (this.isMobile_()) {\n          const $body = this.win_.document.body;\n          setStyle($body, 'overflow', 'hidden');\n        } else {\n          let start, scrollTimeout;\n          this.scrollEventListener_ = () => {\n            start = start || this.win_./*REVIEW*/ pageYOffset;\n            this.win_.clearTimeout(scrollTimeout);\n            scrollTimeout = this.win_.setTimeout(() => {\n              // If the scroll is longer than 100, close the toast.\n              if (Math.abs(this.win_./*REVIEW*/ pageYOffset - start) > 100) {\n                this.sendCloseRequestFunction_();\n              }\n            }, 100);\n          };\n          this.win_.addEventListener('scroll', this.scrollEventListener_);\n        }\n        this.deps_\n          .eventManager()\n          .logSwgEvent(AnalyticsEvent.IMPRESSION_METER_TOAST);\n        this.deps_\n          .eventManager()\n          .logSwgEvent(AnalyticsEvent.EVENT_OFFERED_METER);\n      });\n    });\n  }\n\n  /**\n   * Sets a callback function this class calls when a user dismisses the toast to consume a free read.\n   * @param {function()} onConsumeCallback\n   */\n  setOnConsumeCallback(onConsumeCallback) {\n    this.onConsumeCallback_ = onConsumeCallback;\n  }\n\n  /**\n   * Removes the event listeners that close the iframe and make the body visible.\n   */\n  removeCloseEventListener() {\n    this.win_.removeEventListener('click', this.sendCloseRequestFunction_);\n    this.win_.removeEventListener('touchstart', this.sendCloseRequestFunction_);\n    this.win_.removeEventListener('mousedown', this.sendCloseRequestFunction_);\n    if (this.isMobile_()) {\n      const $body = this.win_.document.body;\n      setStyle($body, 'overflow', 'visible');\n    } else {\n      this.win_.removeEventListener('scroll', this.scrollEventListener_);\n    }\n  }\n\n  /**\n   * Changes the iframe box shadow to match desired specifications on mobile.\n   */\n  setDialogBoxShadow_() {\n    const mobileMediaQuery = this.win_.matchMedia(\n      '(max-width: 640px), (max-height: 640px)'\n    );\n    const element = this.dialogManager_.getDialog().getElement();\n    if (mobileMediaQuery.matches) {\n      setImportantStyles(element, {'box-shadow': IFRAME_BOX_SHADOW});\n    }\n    mobileMediaQuery.addListener((changed) => {\n      if (changed.matches) {\n        setImportantStyles(element, {'box-shadow': IFRAME_BOX_SHADOW});\n      } else {\n        setImportantStyles(element, {'box-shadow': ''});\n      }\n    });\n  }\n\n  /**\n   * Changes the size of the loading iframe on desktop to match the size of\n   * the meter toast iframe.\n   */\n  setLoadingViewWidth_() {\n    const desktopMediaQuery = this.win_.matchMedia(\n      '(min-width: 640px) and (min-height: 640px)'\n    );\n    if (desktopMediaQuery.matches) {\n      const element = this.dialogManager_\n        .getDialog()\n        .getLoadingView()\n        .getElement();\n      setImportantStyles(element, {\n        'width': MINIMIZED_IFRAME_SIZE,\n        'margin': 'auto',\n      });\n    }\n  }\n\n  /**\n   * @param {ViewSubscriptionsResponse} response\n   * @private\n   */\n  startSubscriptionFlow_(response) {\n    this.removeCloseEventListener();\n    // We shouldn't decrement the meter on redirects, so don't call onConsumeCallback.\n    this.onConsumeCallbackHandled_ = true;\n    if (response.getNative()) {\n      this.deps_.callbacks().triggerSubscribeRequest();\n    } else {\n      this.deps_.callbacks().triggerOffersFlowRequest();\n    }\n  }\n\n  /**\n   * Returns true if the window userAgent is a mobile platform.\n   * @private\n   */\n  isMobile_() {\n    return !!this.win_.navigator.userAgent.match(\n      /Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i\n    );\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {serviceUrl} from './services';\n\nexport class OffersApi {\n  /**\n   * @param {!../model/page-config.PageConfig} config\n   * @param {!./fetcher.Fetcher} fetcher\n   */\n  constructor(config, fetcher) {\n    /** @private @const {!../model/page-config.PageConfig} */\n    this.config_ = config;\n\n    /** @private @const {!./fetcher.Fetcher} */\n    this.fetcher_ = fetcher;\n  }\n\n  /**\n   * @param {?string=} productId\n   * @return {!Promise<!Array<!../api/offer.Offer>>}\n   */\n  getOffers(productId = this.config_.getProductId()) {\n    if (!productId) {\n      throw new Error('getOffers requires productId in config or arguments');\n    }\n    return this.fetch_(productId);\n  }\n\n  /**\n   * @param {string} productId\n   * @return {!Promise<!Array<!../api/offer.Offer>>}\n   * @private\n   */\n  fetch_(productId) {\n    const url = serviceUrl(\n      '/publication/' +\n        encodeURIComponent(this.config_.getPublicationId()) +\n        '/offers' +\n        '?label=' +\n        encodeURIComponent(productId)\n    );\n    // TODO(dvoytenko): switch to a non-credentialed request after launch.\n    return this.fetcher_.fetchCredentialedJson(url).then((json) => {\n      return json['offers'] || [];\n    });\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {\n  AlreadySubscribedResponse,\n  EntitlementsResponse,\n  SkuSelectedResponse,\n  SubscribeResponse,\n  ViewSubscriptionsResponse,\n} from '../proto/api_messages';\nimport {AnalyticsEvent, EventParams} from '../proto/api_messages';\nimport {PayStartFlow} from './pay-flow';\nimport {ProductType, SubscriptionFlows} from '../api/subscriptions';\nimport {assert} from '../utils/log';\nimport {feArgs, feUrl} from './services';\n\n/**\n * @param {string} sku\n * @return {!EventParams}\n */\nfunction getEventParams(sku) {\n  return new EventParams([, , , , sku]);\n}\n\n/**\n * Offers view is closable when request was originated from 'AbbrvOfferFlow'\n * or from 'SubscribeOptionFlow'.\n */\nconst OFFERS_VIEW_CLOSABLE = true;\n\n// The value logged when the offers screen shows all available SKUs.\nconst ALL_SKUS = '*';\n\n/**\n * The class for Offers flow.\n */\nexport class OffersFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.OffersRequest|undefined} options\n   */\n  constructor(deps, options) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!../runtime/client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n\n    /** @private @const {!./client-config-manager.ClientConfigManager} */\n    this.clientConfigManager_ = deps.clientConfigManager();\n\n    this.activityIframeView_ = null;\n\n    // Default to hiding close button.\n    const isClosable = options?.isClosable ?? false;\n\n    const feArgsObj = deps.activities().addDefaultArguments({\n      'showNative': deps.callbacks().hasSubscribeRequestCallback(),\n      'productType': ProductType.SUBSCRIPTION,\n      'list': (options && options.list) || 'default',\n      'skus': (options && options.skus) || null,\n      'isClosable': isClosable,\n    });\n\n    if (options && options.oldSku) {\n      feArgsObj['oldSku'] = options.oldSku;\n      assert(feArgsObj['skus'], 'Need a sku list if old sku is provided!');\n\n      // Remove old sku from offers if in list.\n      let skuList = feArgsObj['skus'];\n      const /** @type {string} */ oldSku = feArgsObj['oldSku'];\n      skuList = skuList.filter((sku) => sku !== oldSku);\n\n      assert(\n        skuList.length > 0,\n        'Sku list only contained offer user already has'\n      );\n      feArgsObj['skus'] = skuList;\n    }\n\n    // Redirect to payments if only one upgrade option is passed.\n    if (feArgsObj['skus'] && feArgsObj['skus'].length === 1) {\n      const sku = feArgsObj['skus'][0];\n      const /** @type {string|undefined} */ oldSku = feArgsObj['oldSku'];\n      // Update subscription triggers experimental flag if oldSku is passed,\n      // so we need to check for oldSku to decide if it needs to be sent.\n      // Otherwise we might accidentally block a regular subscription request.\n      if (oldSku) {\n        const skuSelectedResponse = new SkuSelectedResponse();\n        skuSelectedResponse.setSku(sku);\n        skuSelectedResponse.setOldSku(oldSku);\n        this.startPayFlow_(skuSelectedResponse);\n        return;\n      }\n    }\n\n    /** @private  @const {!Array<!string>} */\n    this.skus_ = feArgsObj['skus'] || [ALL_SKUS];\n\n    /** @private @const {!Promise<!../model/client-config.ClientConfig>} */\n    this.clientConfig_ = this.clientConfigManager_.getClientConfig();\n\n    /** @private @const {!Promise<?ActivityIframeView>} */\n    this.activityIframeViewPromise_ = this.clientConfig_.then(\n      (clientConfig) => {\n        return this.shouldShow_(clientConfig)\n          ? new ActivityIframeView(\n              this.win_,\n              this.activityPorts_,\n              this.getUrl_(clientConfig, deps.pageConfig()),\n              feArgsObj,\n              /* shouldFadeBody */ true\n            )\n          : null;\n      }\n    );\n  }\n\n  /**\n   * @param {SkuSelectedResponse} response\n   * @private\n   */\n  startPayFlow_(response) {\n    const sku = response.getSku();\n    if (sku) {\n      const /** @type {../api/subscriptions.SubscriptionRequest} */ subscriptionRequest =\n          {\n            'skuId': sku,\n          };\n      const oldSku = response.getOldSku();\n      if (oldSku) {\n        subscriptionRequest['oldSku'] = oldSku;\n        this.deps_.analytics().setSku(oldSku);\n      }\n      this.eventManager_.logSwgEvent(\n        AnalyticsEvent.ACTION_OFFER_SELECTED,\n        true,\n        getEventParams(sku)\n      );\n      new PayStartFlow(this.deps_, subscriptionRequest).start();\n    }\n  }\n\n  /**\n   * @param {AlreadySubscribedResponse} response\n   * @private\n   */\n  handleLinkRequest_(response) {\n    if (response.getSubscriberOrMember()) {\n      this.eventManager_.logSwgEvent(\n        AnalyticsEvent.ACTION_ALREADY_SUBSCRIBED,\n        true\n      );\n      this.deps_.callbacks().triggerLoginRequest({\n        linkRequested: !!response.getLinkRequested(),\n      });\n    }\n  }\n\n  /**\n   * @param {ViewSubscriptionsResponse} response\n   * @private\n   */\n  startNativeFlow_(response) {\n    if (response.getNative()) {\n      this.deps_.callbacks().triggerSubscribeRequest();\n    }\n  }\n\n  /**\n   * Starts the offers flow or alreadySubscribed flow.\n   * @return {!Promise}\n   */\n  start() {\n    if (this.activityIframeViewPromise_) {\n      return this.activityIframeViewPromise_.then((activityIframeView) => {\n        if (!activityIframeView) {\n          return Promise.resolve();\n        }\n\n        // So no error if skipped to payment screen.\n        // Start/cancel events.\n        // The second parameter is required by Propensity in AMP.\n        this.deps_\n          .callbacks()\n          .triggerFlowStarted(SubscriptionFlows.SHOW_OFFERS, {\n            skus: this.skus_,\n            source: 'SwG',\n          });\n        activityIframeView.onCancel(() => {\n          this.deps_\n            .callbacks()\n            .triggerFlowCanceled(SubscriptionFlows.SHOW_OFFERS);\n        });\n        activityIframeView.on(\n          SkuSelectedResponse,\n          this.startPayFlow_.bind(this)\n        );\n        activityIframeView.on(\n          AlreadySubscribedResponse,\n          this.handleLinkRequest_.bind(this)\n        );\n        activityIframeView.on(\n          ViewSubscriptionsResponse,\n          this.startNativeFlow_.bind(this)\n        );\n        this.activityIframeView_ = activityIframeView;\n        return this.clientConfig_.then((clientConfig) => {\n          if (!this.activityIframeView_) {\n            return;\n          }\n          return this.dialogManager_.openView(\n            this.activityIframeView_,\n            /* hidden */ false,\n            this.getDialogConfig_(\n              clientConfig,\n              this.clientConfigManager_.shouldAllowScroll()\n            )\n          );\n        });\n      });\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * Returns whether this flow is configured as enabled, not showing\n   * even on explicit start when flag is configured false.\n   *\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @return {boolean}\n   */\n  shouldShow_(clientConfig) {\n    return clientConfig.uiPredicates?.canDisplayAutoPrompt !== false;\n  }\n\n  /**\n   * Gets display configuration options for the opened dialog. Uses the\n   * responsive desktop design properties if the updated offer flows UI (for\n   * SwG Basic) is enabled. Permits override to allow scrolling.\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @param {boolean} shouldAllowScroll\n   * @return {!../components/dialog.DialogConfig}\n   */\n  getDialogConfig_(clientConfig, shouldAllowScroll) {\n    return clientConfig.useUpdatedOfferFlows\n      ? {\n          desktopConfig: {isCenterPositioned: true, supportsWideScreen: true},\n          shouldDisableBodyScrolling: !shouldAllowScroll,\n        }\n      : {};\n  }\n\n  /**\n   * Returns the full URL that should be used for the activity iFrame view.\n   * @param {!../model/client-config.ClientConfig} clientConfig\n   * @param {!../model/page-config.PageConfig} pageConfig\n   * @return {string}\n   */\n  getUrl_(clientConfig, pageConfig) {\n    if (!clientConfig.useUpdatedOfferFlows) {\n      return feUrl('/offersiframe');\n    }\n\n    const params = {'publicationId': pageConfig.getPublicationId()};\n\n    if (this.clientConfigManager_.shouldForceLangInIframes()) {\n      params['hl'] = this.clientConfigManager_.getLanguage();\n    }\n\n    if (clientConfig.uiPredicates?.purchaseUnavailableRegion) {\n      params['purchaseUnavailableRegion'] = 'true';\n    }\n\n    return feUrl('/subscriptionoffersiframe', params);\n  }\n\n  /**\n   * Shows \"no subscription found\" on activity iFrame view.\n   */\n  showNoEntitlementFoundToast() {\n    if (this.activityIframeView_) {\n      this.activityIframeView_.execute(new EntitlementsResponse());\n    }\n  }\n}\n\n/**\n * The class for subscribe option flow.\n */\nexport class SubscribeOptionFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.OffersRequest|undefined} options\n   */\n  constructor(deps, options) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../api/subscriptions.OffersRequest|undefined} */\n    this.options_ = options;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!../runtime/client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      deps.win(),\n      this.activityPorts_,\n      feUrl('/optionsiframe'),\n      feArgs({\n        'publicationId': deps.pageConfig().getPublicationId(),\n        'productId': deps.pageConfig().getProductId(),\n        'list': (options && options.list) || 'default',\n        'skus': (options && options.skus) || null,\n        'isClosable': true,\n      }),\n      /* shouldFadeBody */ false\n    );\n  }\n\n  /**\n   * Starts the offers flow or alreadySubscribed flow.\n   * @return {!Promise}\n   */\n  start() {\n    // Start/cancel events.\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.SHOW_SUBSCRIBE_OPTION);\n    this.activityIframeView_.onCancel(() => {\n      this.deps_\n        .callbacks()\n        .triggerFlowCanceled(SubscriptionFlows.SHOW_SUBSCRIBE_OPTION);\n    });\n    this.activityIframeView_.on(\n      SubscribeResponse,\n      this.maybeOpenOffersFlow_.bind(this)\n    );\n\n    this.activityIframeView_.acceptResult().then(\n      (result) => {\n        const data = result.data;\n        const response = new SubscribeResponse();\n        if (data['subscribe']) {\n          response.setSubscribe(true);\n        }\n        this.maybeOpenOffersFlow_(response);\n      },\n      (reason) => {\n        this.dialogManager_.completeView(this.activityIframeView_);\n        throw reason;\n      }\n    );\n    this.eventManager_.logSwgEvent(\n      AnalyticsEvent.IMPRESSION_CLICK_TO_SHOW_OFFERS\n    );\n    return this.dialogManager_.openView(this.activityIframeView_);\n  }\n\n  /**\n   * @param {SubscribeResponse} response\n   * @private\n   */\n  maybeOpenOffersFlow_(response) {\n    if (response.getSubscribe()) {\n      const options = this.options_ || {};\n      if (options.isClosable == undefined) {\n        options.isClosable = OFFERS_VIEW_CLOSABLE;\n      }\n      this.eventManager_.logSwgEvent(AnalyticsEvent.ACTION_VIEW_OFFERS, true);\n      new OffersFlow(this.deps_, options).start();\n    }\n  }\n}\n\n/**\n * The class for Abbreviated Offer flow.\n *\n */\nexport class AbbrvOfferFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.OffersRequest=} options\n   */\n  constructor(deps, options = {}) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../api/subscriptions.OffersRequest|undefined} */\n    this.options_ = options;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!../runtime/client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/abbrvofferiframe'),\n      feArgs({\n        'publicationId': deps.pageConfig().getPublicationId(),\n        'productId': deps.pageConfig().getProductId(),\n        'showNative': deps.callbacks().hasSubscribeRequestCallback(),\n        'list': (options && options.list) || 'default',\n        'skus': (options && options.skus) || null,\n        'isClosable': true,\n      }),\n      /* shouldFadeBody */ false\n    );\n  }\n\n  /**\n   * @param {AlreadySubscribedResponse} response\n   * @private\n   */\n  handleLinkRequest_(response) {\n    if (response.getSubscriberOrMember()) {\n      this.eventManager_.logSwgEvent(\n        AnalyticsEvent.ACTION_ALREADY_SUBSCRIBED,\n        true\n      );\n      this.deps_.callbacks().triggerLoginRequest({\n        linkRequested: !!response.getLinkRequested(),\n      });\n    }\n  }\n\n  /**\n   * Starts the offers flow\n   * @return {!Promise}\n   */\n  start() {\n    // Start/cancel events.\n    this.deps_\n      .callbacks()\n      .triggerFlowStarted(SubscriptionFlows.SHOW_ABBRV_OFFER);\n    this.activityIframeView_.onCancel(() => {\n      this.deps_\n        .callbacks()\n        .triggerFlowCanceled(SubscriptionFlows.SHOW_ABBRV_OFFER);\n    });\n\n    // If the user is already subscribed, trigger login flow\n    this.activityIframeView_.on(\n      AlreadySubscribedResponse,\n      this.handleLinkRequest_.bind(this)\n    );\n\n    // If result is due to requesting offers, redirect to offers flow\n    this.activityIframeView_.acceptResult().then((result) => {\n      if (result.data['viewOffers']) {\n        const options = this.options_ || {};\n        if (options.isClosable == undefined) {\n          options.isClosable = OFFERS_VIEW_CLOSABLE;\n        }\n        this.eventManager_.logSwgEvent(AnalyticsEvent.ACTION_VIEW_OFFERS, true);\n        new OffersFlow(this.deps_, options).start();\n        return;\n      }\n      if (result.data['native']) {\n        this.deps_.callbacks().triggerSubscribeRequest();\n        // The flow is complete.\n        this.dialogManager_.completeView(this.activityIframeView_);\n        return;\n      }\n    });\n\n    this.eventManager_.logSwgEvent(\n      AnalyticsEvent.IMPRESSION_CLICK_TO_SHOW_OFFERS_OR_ALREADY_SUBSCRIBED\n    );\n\n    return this.dialogManager_.openView(this.activityIframeView_);\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ExperimentFlags} from './experiment-flags';\nimport {PaymentsAsyncClient} from '../../third_party/gpay/src/payjs_async';\nimport {Preconnect} from '../utils/preconnect';\nimport {bytesToString, stringToBytes} from '../utils/bytes';\nimport {createCancelError} from '../utils/errors';\nimport {feCached} from './services';\nimport {getSwgMode} from './services';\nimport {isExperimentOn} from './experiments';\n\nconst REDIRECT_STORAGE_KEY = 'subscribe.google.com:rk';\n\n/**\n * @typedef {{\n *   forceRedirect: (boolean|undefined),\n *   forceDisableNative: (boolean|undefined),\n * }}\n */\nexport let PayOptionsDef;\n\n/**\n * @const {!Object<string, string>}\n * @package Visible for testing only.\n */\nexport const PAY_ORIGIN = {\n  'PRODUCTION': 'https://pay.google.com',\n  'SANDBOX': 'https://pay.sandbox.google.com',\n};\n\n/** @return {string} */\nfunction payUrl() {\n  return feCached(PAY_ORIGIN[getSwgMode().payEnv] + '/gp/p/ui/pay');\n}\n\n/**\n */\nexport class PayClient {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private {?function(!Promise<!PaymentData>)} */\n    this.responseCallback_ = null;\n\n    /** @private {?PaymentDataRequest} */\n    this.request_ = null;\n\n    /** @private {?Promise<!PaymentData>} */\n    this.response_ = null;\n\n    /** @private @const {!./analytics-service.AnalyticsService} */\n    this.analytics_ = deps.analytics();\n\n    /** @private @const {!RedirectVerifierHelper} */\n    this.redirectVerifierHelper_ = new RedirectVerifierHelper(this.win_);\n\n    /** @private {?PaymentsAsyncClient} */\n    this.client_ = null;\n\n    /** @private @const {!Preconnect} */\n    this.preconnect_ = new Preconnect(this.win_.document);\n\n    // If the page is started from a redirect, immediately initialize\n    // client to avoid dropping user state.\n    if (\n      isExperimentOn(this.win_, ExperimentFlags.PAY_CLIENT_REDIRECT) &&\n      this.pageIsInitializedFromPayRedirect_()\n    ) {\n      this.preconnect(this.preconnect_);\n      this.initializePaymentsClient_();\n    }\n\n    // Prepare new verifier pair.\n    this.redirectVerifierHelper_.prepare();\n\n    /** @private @const {!./client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n  }\n\n  /**\n   * @param {!PaymentOptions} options\n   * @param {string} googleTransactionId\n   * @param {function(!Promise<!PaymentData>)} handler\n   * @return {!PaymentsAsyncClient}\n   * @private\n   */\n  createClient_(options, googleTransactionId, handler) {\n    // Assign Google Transaction ID to PaymentsAsyncClient.googleTransactionId_\n    // so it can be passed to gpay_async.js and stored in payment clearcut log.\n    PaymentsAsyncClient.googleTransactionId_ = googleTransactionId;\n    return new PaymentsAsyncClient(\n      options,\n      handler,\n      /* useIframe */ false,\n      this.activityPorts_.getOriginalWebActivityPorts()\n    );\n  }\n\n  /**\n   * @param {!../utils/preconnect.Preconnect} pre\n   */\n  preconnect(pre) {\n    pre.prefetch(payUrl());\n    pre.prefetch(\n      'https://payments.google.com/payments/v4/js/integrator.js?ss=md'\n    );\n    pre.prefetch('https://clients2.google.com/gr/gr_full_2.0.6.js');\n  }\n\n  /**\n   * Initializes Payments client.\n   */\n  initializePaymentsClient_() {\n    this.client_ = this.createClient_(\n      /** @type {!PaymentOptions} */\n      ({\n        environment: getSwgMode().payEnv,\n        'i': {\n          'redirectKey': this.redirectVerifierHelper_.restoreKey(),\n        },\n      }),\n      this.analytics_.getTransactionId(),\n      this.handleResponse_.bind(this)\n    );\n  }\n\n  /**\n   * Detects if the window is started from a Pay redirect by\n   * checking window's hash for Web Activities information.\n   */\n  pageIsInitializedFromPayRedirect_() {\n    const hash = this.win_.location.hash;\n    const hasRedirectEncryptedCallbackData =\n      /redirectEncryptedCallbackData/.test(hash);\n    const hasSwgRequest = /swgRequest/.test(hash);\n    return hasRedirectEncryptedCallbackData && hasSwgRequest;\n  }\n\n  /**\n   * @return {string}\n   */\n  getType() {\n    // TODO(alin04): remove once all references removed.\n    return 'PAYJS';\n  }\n\n  /**\n   * @param {!PaymentDataRequest} paymentRequest\n   * @param {!PayOptionsDef=} options\n   */\n  start(paymentRequest, options = {}) {\n    this.request_ = paymentRequest;\n\n    if (!this.client_) {\n      this.preconnect(this.preconnect_);\n      this.initializePaymentsClient_();\n    }\n    if (options.forceRedirect) {\n      paymentRequest = Object.assign(paymentRequest, {\n        'forceRedirect': options.forceRedirect || false,\n      });\n    }\n    setInternalParam(\n      paymentRequest,\n      'disableNative',\n      // The page cannot be iframed at this time. May be relaxed later\n      // for AMP and similar contexts.\n      options.forceDisableNative || this.win_ != this.top_()\n    );\n    let resolver = null;\n    const promise = new Promise((resolve) => (resolver = resolve));\n    // Notice that the callback for verifier may execute asynchronously.\n    this.redirectVerifierHelper_.useVerifier((verifier) => {\n      if (verifier) {\n        setInternalParam(paymentRequest, 'redirectVerifier', verifier);\n      }\n      if (options.forceRedirect) {\n        const client = this.client_;\n        this.eventManager_.getReadyPromise().then(() => {\n          this.analytics_.getLoggingPromise().then(() => {\n            client.loadPaymentData(paymentRequest);\n            resolver(true);\n          });\n        });\n      } else {\n        this.client_.loadPaymentData(paymentRequest);\n        resolver(true);\n      }\n    });\n    return promise;\n  }\n\n  /**\n   * @param {function(!Promise<!PaymentData>)} callback\n   */\n  onResponse(callback) {\n    this.responseCallback_ = callback;\n    const response = this.response_;\n    if (response) {\n      Promise.resolve().then(() => {\n        if (response) {\n          callback(this.convertResponse_(response, this.request_));\n        }\n      });\n    }\n  }\n\n  /**\n   * @param {!Promise<!PaymentData>} responsePromise\n   * @private\n   */\n  handleResponse_(responsePromise) {\n    this.response_ = responsePromise;\n    if (this.responseCallback_) {\n      this.responseCallback_(\n        this.convertResponse_(this.response_, this.request_)\n      );\n    }\n  }\n\n  /**\n   * @param {!Promise<!PaymentData>} response\n   * @param {?PaymentDataRequest} request\n   * @return {!Promise<!PaymentData>}\n   * @private\n   */\n  convertResponse_(response, request) {\n    return response\n      .then(\n        // Temporary client side solution to remember the\n        // input params. TODO: Remove this once server-side\n        // input preservation is done and is part of the response.\n        (res) => {\n          if (request) {\n            res['paymentRequest'] = request;\n          }\n          return res;\n        }\n      )\n      .catch((reason) => {\n        if (typeof reason == 'object' && reason['statusCode'] == 'CANCELED') {\n          const error = createCancelError(this.win_);\n          if (request) {\n            error['productType'] = /** @type {!PaymentDataRequest} */ (request)[\n              'i'\n            ]['productType'];\n          } else {\n            error['productType'] = null;\n          }\n          return Promise.reject(error);\n        }\n        return Promise.reject(reason);\n      });\n  }\n\n  /**\n   * @return {!Window}\n   * @private\n   */\n  top_() {\n    // Only exists for testing since it's not possible to override `window.top`.\n    return this.win_.top;\n  }\n}\n\n/**\n * @typedef {{\n *   key: string,\n *   verifier: string,\n * }}\n */\nlet RedirectVerifierPairDef;\n\n/**\n * This helper generates key/verifier pair for the redirect mode. When the\n * redirect mode is used, the encrypted payload is returned via nivigation URL.\n * This payload need to be decrypted and to avoid session fixation attacks, a\n * verifier has to be used. This redirect verifier is not the only session\n * verifier in use: we also use GAIA. However, we have to fallback to this\n * verifier when GAIA is not available.\n *\n * @package Visible for testing only.\n */\nexport class RedirectVerifierHelper {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private {boolean} */\n    this.pairCreated_ = false;\n\n    /** @private {?RedirectVerifierPairDef} */\n    this.pair_ = null;\n\n    /** @private {?Promise<?RedirectVerifierPairDef>} */\n    this.pairPromise_ = null;\n  }\n\n  /**\n   * To avoid popup blockers, the key/verifier pair is created as soon as\n   * possible.\n   * @return {?Promise}\n   */\n  prepare() {\n    return this.getOrCreatePair_(() => {});\n  }\n\n  /**\n   * Calls the provided callback with the generated redirect verifier. This\n   * API is sync/async, which is a big anti-pattern. However, it's necessary\n   * to reduce the risk of popup blockers. If the verifier is already available\n   * (see `prepare` method), the callback will be called immediately and thus\n   * in the same event loop as the user action.\n   *\n   * The return verifier could be `null`. This could mean either that its\n   * generation failed, or if the platform doesn't support necessary APIs, such\n   * as Web Crypto. The redirect can still proceed and try to fallback on GAIA\n   * as a redirect verifier. The set of platforms where GAIA is not available\n   * and the redirect verifier cannot be created is negligible.\n   *\n   * The key corresponding to the returned verifier is stored in the session\n   * storage and can be later restored using `restoreKey` method.\n   *\n   * @param {function(?string)} callback\n   */\n  useVerifier(callback) {\n    this.getOrCreatePair_((pair) => {\n      if (pair) {\n        try {\n          this.win_.localStorage.setItem(REDIRECT_STORAGE_KEY, pair.key);\n        } catch (e) {\n          // If storage has failed, there's no point in using the verifer.\n          // However, there are other ways to recover the redirect, so it's\n          // not necessarily a fatal condition.\n          pair = null;\n        }\n      }\n      callback((pair && pair.verifier) || null);\n    });\n  }\n\n  /**\n   * Restores the redirect key from the session storage. The key may be null.\n   * @return {?string}\n   */\n  restoreKey() {\n    try {\n      return (\n        (this.win_.localStorage &&\n          this.win_.localStorage.getItem(REDIRECT_STORAGE_KEY)) ||\n        null\n      );\n    } catch (e) {\n      return null;\n    }\n  }\n\n  /**\n   * @param {function(?RedirectVerifierPairDef)} callback\n   * @return {?Promise}\n   * @private\n   */\n  getOrCreatePair_(callback) {\n    this.createPair_();\n    if (this.pairCreated_) {\n      // Already created.\n      callback(this.pair_);\n    } else if (this.pairPromise_) {\n      // Otherwise wait for it to be created.\n      this.pairPromise_.then((pair) => callback(pair));\n    }\n    return this.pairPromise_;\n  }\n\n  /**\n   * @private\n   */\n  createPair_() {\n    // Either already created or already started.\n    if (this.pairCreated_ || this.pairPromise_) {\n      return;\n    }\n\n    // Check that the platform can fully support verification. That means\n    // that it's expected to implement the following APIs:\n    // a. Local storage (localStorage);\n    // b. WebCrypto (crypto.subtle);\n    // c. Crypto random (crypto.getRandomValues);\n    // d. SHA284 (crypto.subtle.digest).\n    let supportsLocalStorage;\n    try {\n      supportsLocalStorage = !!this.win_.localStorage;\n    } catch (e) {\n      // Note: This can happen when cookies are disabled.\n      supportsLocalStorage = false;\n    }\n    const crypto = this.win_.crypto;\n    if (\n      supportsLocalStorage &&\n      crypto &&\n      crypto.getRandomValues &&\n      crypto.subtle &&\n      crypto.subtle.digest\n    ) {\n      this.pairPromise_ = new Promise((resolve, reject) => {\n        // 1. Use crypto random to create a 128-bit (16 byte) redirect key.\n        const keyBytes = new Uint8Array(16);\n        crypto.getRandomValues(keyBytes);\n\n        // 2. Encode key as base64.\n        const key = btoa(bytesToString(keyBytes));\n\n        // 3. Create a hash.\n        crypto.subtle.digest({name: 'SHA-384'}, stringToBytes(key)).then(\n          (buffer) => {\n            const verifier = btoa(\n              bytesToString(\n                new Uint8Array(/** @type {!ArrayBuffer} */ (buffer))\n              )\n            );\n            resolve({key, verifier});\n          },\n          (reason) => {\n            reject(reason);\n          }\n        );\n      })\n        .catch(() => {\n          // Ignore failures. A failure to create a redirect verifier is often\n          // recoverable.\n          return null;\n        })\n        .then((pair) => {\n          this.pairCreated_ = true;\n          this.pair_ = pair;\n          return pair;\n        });\n    } else {\n      // Not supported.\n      this.pairCreated_ = true;\n      this.pair_ = null;\n    }\n  }\n}\n\n/**\n * @param {!PaymentDataRequest} paymentRequest\n * @param {string} param\n * @param {*} value\n */\nfunction setInternalParam(paymentRequest, param, value) {\n  paymentRequest['i'] = Object.assign(paymentRequest['i'] || {}, {\n    [param]: value,\n  });\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * The Flow goes like this:\n * a. Start Payments\n * b. Complete Payments\n * c. Create Account\n * d. Acknowledge Account\n *\n * In other words, Flow = Payments + Account Creation.\n */\n\nimport {\n  AccountCreationRequest,\n  EntitlementsResponse,\n} from '../proto/api_messages';\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {AnalyticsEvent, EventParams} from '../proto/api_messages';\nimport {Constants} from '../utils/constants';\nimport {JwtHelper} from '../utils/jwt';\nimport {\n  ProductType,\n  SubscriptionFlows,\n  WindowOpenMode,\n} from '../api/subscriptions';\nimport {PurchaseData, SubscribeResponse} from '../api/subscribe-response';\nimport {UserData} from '../api/user-data';\nimport {feArgs, feUrl} from './services';\nimport {getPropertyFromJsonString, parseJson} from '../utils/json';\nimport {getSwgMode} from './services';\nimport {isCancelError} from '../utils/errors';\nimport {parseUrl} from '../utils/url';\n\n/**\n * Subscribe with Google request to pass to payments.\n *  @typedef {{\n *    skuId: string,\n *    oldSku: (string|undefined),\n *    replaceSkuProrationMode: (number|undefined),\n *    paymentRecurrence: (number|undefined),\n *    swgVersion: (string|undefined),\n *    metadata: (Object|undefined)\n * }}\n */\nexport let SwgPaymentRequest;\n\n/**\n * String values input by the publisher are mapped to the number values.\n * @type {!Object<string, number>}\n */\nexport const ReplaceSkuProrationModeMapping = {\n  // The replacement takes effect immediately, and the remaining time will\n  // be prorated and credited to the user. This is the current default\n  // behavior.\n  'IMMEDIATE_WITH_TIME_PRORATION': 1,\n};\n\nexport const RecurrenceMapping = {\n  'AUTO': 1,\n  'ONE_TIME': 2,\n};\n\n/**\n * @param {string} sku\n * @param {?string=} subscriptionFlow\n * @return {!EventParams}\n */\nfunction getEventParams(sku, subscriptionFlow = null) {\n  return new EventParams([, , , , sku, , , subscriptionFlow]);\n}\n\n/**\n * The flow to initiate payment process.\n */\nexport class PayStartFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!../api/subscriptions.SubscriptionRequest} subscriptionRequest\n   * @param {!../api/subscriptions.ProductType} productType\n   */\n  constructor(\n    deps,\n    subscriptionRequest,\n    productType = ProductType.SUBSCRIPTION\n  ) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!./pay-client.PayClient} */\n    this.payClient_ = deps.payClient();\n\n    /** @private @const {!../model/page-config.PageConfig} */\n    this.pageConfig_ = deps.pageConfig();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private @const {!../api/subscriptions.SubscriptionRequest} */\n    this.subscriptionRequest_ = subscriptionRequest;\n\n    /**@private @const {!ProductType} */\n    this.productType_ = productType;\n\n    /** @private @const {!../runtime/analytics-service.AnalyticsService} */\n    this.analyticsService_ = deps.analytics();\n\n    /** @private @const {!../runtime/client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n\n    /** @private @const {!../runtime/client-config-manager.ClientConfigManager} */\n    this.clientConfigManager_ = deps.clientConfigManager();\n  }\n\n  /**\n   * Starts the payments flow.\n   * @return {!Promise}\n   */\n  start() {\n    // Get the paySwgVersion for buyflow.\n    const promise = this.clientConfigManager_.getClientConfig();\n    return promise.then((clientConfig) => {\n      this.start_(clientConfig.paySwgVersion);\n    });\n  }\n\n  /**\n   * Starts the payments flow for the given version.\n   * @param {!string=} paySwgVersion\n   * @return {!Promise}\n   */\n  start_(paySwgVersion) {\n    const /** @type {SwgPaymentRequest} */ swgPaymentRequest = {\n        'skuId': this.subscriptionRequest_['skuId'],\n        'publicationId': this.pageConfig_.getPublicationId(),\n      };\n\n    if (paySwgVersion) {\n      swgPaymentRequest['swgVersion'] = paySwgVersion;\n    }\n\n    if (this.subscriptionRequest_['oldSku']) {\n      swgPaymentRequest['oldSku'] = this.subscriptionRequest_['oldSku'];\n      // Map the proration mode to the enum value (if proration exists).\n      const prorationMode =\n        this.subscriptionRequest_['replaceSkuProrationMode'];\n      if (prorationMode) {\n        swgPaymentRequest['replaceSkuProrationMode'] =\n          ReplaceSkuProrationModeMapping[prorationMode];\n      } else {\n        swgPaymentRequest['replaceSkuProrationMode'] =\n          ReplaceSkuProrationModeMapping['IMMEDIATE_WITH_TIME_PRORATION'];\n      }\n      this.analyticsService_.setSku(swgPaymentRequest['oldSku']);\n    }\n\n    // Assign one-time recurrence enum if applicable\n    if (this.subscriptionRequest_['oneTime']) {\n      swgPaymentRequest['paymentRecurrence'] = RecurrenceMapping['ONE_TIME'];\n    }\n\n    // Assign additional metadata if available.\n    if (this.subscriptionRequest_['metadata']) {\n      swgPaymentRequest['metadata'] = this.subscriptionRequest_['metadata'];\n    }\n\n    // Start/cancel events.\n    const flow =\n      this.productType_ == ProductType.UI_CONTRIBUTION\n        ? SubscriptionFlows.CONTRIBUTE\n        : SubscriptionFlows.SUBSCRIBE;\n\n    this.deps_.callbacks().triggerFlowStarted(flow, this.subscriptionRequest_);\n\n    this.eventManager_.logSwgEvent(\n      AnalyticsEvent.ACTION_PAYMENT_FLOW_STARTED,\n      true,\n      getEventParams(swgPaymentRequest['skuId'])\n    );\n    PayCompleteFlow.waitingForPayClient_ = true;\n    this.payClient_.start(\n      /** @type {!PaymentDataRequest} */\n      ({\n        'apiVersion': 1,\n        'allowedPaymentMethods': ['CARD'],\n        'environment': getSwgMode().payEnv,\n        'playEnvironment': getSwgMode().playEnv,\n        'swg': swgPaymentRequest,\n        'i': {\n          'startTimeMs': Date.now(),\n          'productType': this.productType_,\n        },\n      }),\n      {\n        forceRedirect:\n          this.deps_.config().windowOpenMode == WindowOpenMode.REDIRECT,\n        // SwG basic and TwG flows do not support native.\n        forceDisableNative: paySwgVersion == '2' || paySwgVersion == '3',\n      }\n    );\n    return Promise.resolve();\n  }\n}\n\n/**\n * The flow for successful payments completion.\n */\nexport class PayCompleteFlow {\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  static configurePending(deps) {\n    /** @const @type {./client-event-manager.ClientEventManager} */\n    const eventManager = deps.eventManager();\n\n    deps.payClient().onResponse((payPromise) => {\n      deps.entitlementsManager().blockNextNotification();\n      const flow = new PayCompleteFlow(deps);\n      const promise = validatePayResponse(\n        deps,\n        payPromise,\n        flow.complete.bind(flow)\n      );\n      deps.callbacks().triggerPaymentResponse(promise);\n      return promise.then(\n        (response) => {\n          const sku = parseSkuFromPurchaseDataSafe(response.purchaseData);\n          deps.analytics().setSku(sku || '');\n          eventManager.logSwgEvent(\n            AnalyticsEvent.ACTION_PAYMENT_COMPLETE,\n            true,\n            getEventParams(\n              sku || '',\n              response.productType == ProductType.UI_CONTRIBUTION\n                ? SubscriptionFlows.CONTRIBUTE\n                : SubscriptionFlows.SUBSCRIBE\n            )\n          );\n          flow.start(response);\n        },\n        (reason) => {\n          if (isCancelError(reason)) {\n            const productType = /** @type {!Object} */ (reason)['productType'];\n            const flow =\n              productType == ProductType.UI_CONTRIBUTION\n                ? SubscriptionFlows.CONTRIBUTE\n                : SubscriptionFlows.SUBSCRIBE;\n            deps.callbacks().triggerFlowCanceled(flow);\n            deps\n              .eventManager()\n              .logSwgEvent(AnalyticsEvent.ACTION_USER_CANCELED_PAYFLOW, true);\n          } else {\n            deps\n              .eventManager()\n              .logSwgEvent(AnalyticsEvent.EVENT_PAYMENT_FAILED, false);\n            deps.jserror().error('Pay failed', reason);\n            throw reason;\n          }\n        }\n      );\n    });\n  }\n\n  /**\n   * @param {!./deps.DepsDef} deps\n   */\n  constructor(deps) {\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {?Promise<!ActivityIframeView>} */\n    this.activityIframeViewPromise_ = null;\n\n    /** @private {?Promise} */\n    this.readyPromise_ = null;\n\n    /** @private @const {!../runtime/analytics-service.AnalyticsService} */\n    this.analyticsService_ = deps.analytics();\n\n    /** @private @const {!../runtime/client-event-manager.ClientEventManager} */\n    this.eventManager_ = deps.eventManager();\n\n    /** @private @const {!../runtime/client-config-manager.ClientConfigManager} */\n    this.clientConfigManager_ = deps.clientConfigManager();\n\n    /** @private {?string} */\n    this.sku_ = null;\n  }\n\n  /**\n   * Starts the payments completion flow.\n   * @param {{\n   *   productType: string,\n   *   oldSku: ?string,\n   *   paymentRecurrence: ?number,\n   * }} response\n   * @return {!Promise}\n   */\n  start(response) {\n    this.sku_ = parseSkuFromPurchaseDataSafe(response.purchaseData);\n    this.eventManager_.logSwgEvent(\n      AnalyticsEvent.IMPRESSION_ACCOUNT_CHANGED,\n      true,\n      getEventParams(this.sku_ || '')\n    );\n    this.deps_.entitlementsManager().reset(true);\n    // TODO(dianajing): future-proof isOneTime flag\n    const args = {\n      'publicationId': this.deps_.pageConfig().getPublicationId(),\n      'productType': response['productType'],\n      'isSubscriptionUpdate': !!response['oldSku'],\n      'isOneTime': !!response['paymentRecurrence'],\n    };\n\n    // TODO(dvoytenko, #400): cleanup once entitlements is launched everywhere.\n    if (response.userData && response.entitlements) {\n      args['idToken'] = response.userData.idToken;\n      this.deps_\n        .entitlementsManager()\n        .pushNextEntitlements(response.entitlements.raw);\n      // Persist swgUserToken in local storage\n      if (response.swgUserToken) {\n        this.deps_\n          .storage()\n          .set(Constants.USER_TOKEN, response.swgUserToken, true);\n      }\n    } else {\n      args['loginHint'] = response.userData && response.userData.email;\n    }\n\n    const /* {!Object<string, string>} */ urlParams = {};\n    if (args.productType === ProductType.VIRTUAL_GIFT) {\n      Object.assign(urlParams, {\n        productType: args.productType,\n        publicationId: args.publicationId,\n        offerId: this.sku_,\n        origin: parseUrl(this.win_.location.href).origin,\n        isPaid: true,\n        checkOrderStatus: true,\n      });\n      if (response.requestMetadata) {\n        urlParams.canonicalUrl = response.requestMetadata.contentId;\n        urlParams.isAnonymous = response.requestMetadata.anonymous;\n        args['contentTitle'] = response.requestMetadata.contentTitle;\n      }\n\n      // Add feArgs to be passed via activities.\n      if (response.swgUserToken) {\n        args.swgUserToken = response.swgUserToken;\n      }\n      const orderId = parseOrderIdFromPurchaseDataSafe(response.purchaseData);\n      if (orderId) {\n        args.orderId = orderId;\n      }\n    }\n    if (this.clientConfigManager_.shouldForceLangInIframes()) {\n      urlParams.hl = this.clientConfigManager_.getLanguage();\n    }\n    const confirmFeUrl = feUrl('/payconfirmiframe', urlParams);\n\n    return (this.activityIframeViewPromise_ = this.clientConfigManager_\n      .getClientConfig()\n      .then((clientConfig) => {\n        args['useUpdatedConfirmUi'] = clientConfig.useUpdatedOfferFlows;\n        args['skipAccountCreationScreen'] =\n          clientConfig.skipAccountCreationScreen;\n        return new ActivityIframeView(\n          this.win_,\n          this.activityPorts_,\n          confirmFeUrl,\n          feArgs(args),\n          /* shouldFadeBody */ true\n        );\n      })\n      .then((activityIframeView) => {\n        activityIframeView.on(\n          EntitlementsResponse,\n          this.handleEntitlementsResponse_.bind(this)\n        );\n\n        activityIframeView.acceptResult().then(() => {\n          // The flow is complete.\n          this.dialogManager_.completeView(activityIframeView);\n        });\n\n        this.readyPromise_ = this.dialogManager_.openView(activityIframeView);\n\n        this.readyPromise_.then(() => {\n          this.deps_.callbacks().triggerPayConfirmOpened(activityIframeView);\n        });\n\n        return activityIframeView;\n      }));\n  }\n\n  /**\n   * @param {!EntitlementsResponse} response\n   * @private\n   */\n  handleEntitlementsResponse_(response) {\n    const jwt = response.getJwt();\n    if (jwt) {\n      this.deps_.entitlementsManager().pushNextEntitlements(jwt);\n    }\n  }\n\n  /**\n   * @return {!Promise}\n   */\n  complete() {\n    this.eventManager_.logSwgEvent(\n      AnalyticsEvent.ACTION_ACCOUNT_CREATED,\n      true,\n      getEventParams(this.sku_ || '')\n    );\n    const now = Date.now().toString();\n    this.deps_\n      .storage()\n      .set(Constants.READ_TIME, now, /*useLocalStorage=*/ false);\n    this.deps_.entitlementsManager().unblockNextNotification();\n    return Promise.all([\n      this.activityIframeViewPromise_,\n      this.readyPromise_,\n      this.clientConfigManager_.getClientConfig(),\n    ]).then((values) => {\n      const activityIframeView = values[0];\n      const clientConfig = values[2];\n      // Skip account creation screen if requested (needed for AMP)\n      if (!clientConfig.skipAccountCreationScreen) {\n        const accountCompletionRequest = new AccountCreationRequest();\n        accountCompletionRequest.setComplete(true);\n        activityIframeView.execute(accountCompletionRequest);\n      }\n      return activityIframeView\n        .acceptResult()\n        .catch(() => {\n          // Ignore errors.\n        })\n        .then(() => {\n          if (!clientConfig.skipAccountCreationScreen) {\n            this.eventManager_.logSwgEvent(\n              AnalyticsEvent.ACTION_ACCOUNT_ACKNOWLEDGED,\n              true,\n              getEventParams(this.sku_ || '')\n            );\n          }\n          this.deps_.entitlementsManager().setToastShown(true);\n        });\n    });\n  }\n}\n\n/** @private {boolean} */\nPayCompleteFlow.waitingForPayClient_ = false;\n\n/**\n * @param {!./deps.DepsDef} deps\n * @param {!Promise<!Object>} payPromise\n * @param {function():!Promise} completeHandler\n * @return {!Promise<!SubscribeResponse>}\n */\nfunction validatePayResponse(deps, payPromise, completeHandler) {\n  const wasRedirect = !PayCompleteFlow.waitingForPayClient_;\n  PayCompleteFlow.waitingForPayClient_ = false;\n  return payPromise.then((data) => {\n    // 1) We log against a random TX ID which is how we track a specific user\n    //    anonymously.\n    // 2) If there was a redirect to gPay, we may have lost our stored TX ID.\n    // 3) Pay service is supposed to give us the TX ID it logged against.\n    let eventType = AnalyticsEvent.UNKNOWN;\n    let eventParams = undefined;\n    if (typeof data !== 'object' || !data['googleTransactionId']) {\n      // If gPay doesn't give us a TX ID it means that something may\n      // be wrong.  If we previously logged then we are at least continuing to\n      // log against the same TX ID.  If we didn't previously log then we have\n      // lost all connection to the events that preceded the payment event and\n      // we at least want to know why that data was lost.\n      eventParams = new EventParams();\n      eventParams.setHadLogged(!wasRedirect);\n      eventType = AnalyticsEvent.EVENT_GPAY_NO_TX_ID;\n    } else {\n      const oldTxId = deps.analytics().getTransactionId();\n      const newTxId = data['googleTransactionId'];\n\n      if (wasRedirect) {\n        // This is the expected case for full redirects.  It may be happening\n        // unexpectedly at other times too though and we want to be aware of\n        // it if it does.\n        deps.analytics().setTransactionId(newTxId);\n        eventType = AnalyticsEvent.EVENT_GPAY_CANNOT_CONFIRM_TX_ID;\n      } else {\n        if (oldTxId === newTxId) {\n          // This is the expected case for non-redirect pay events\n          eventType = AnalyticsEvent.EVENT_CONFIRM_TX_ID;\n        } else {\n          // This is an unexpected case: gPay rejected our TX ID and created\n          // its own.  Log the gPay TX ID but keep our logging consistent.\n          eventParams = new EventParams();\n          eventParams.setGpayTransactionId(newTxId);\n          eventType = AnalyticsEvent.EVENT_CHANGED_TX_ID;\n        }\n      }\n    }\n    deps.eventManager().logSwgEvent(eventType, true, eventParams);\n    return parseSubscriptionResponse(deps, data, completeHandler);\n  });\n}\n\n/**\n * @param {!./deps.DepsDef} deps\n * @param {*} data\n * @param {function():!Promise} completeHandler\n * @return {!SubscribeResponse}\n */\nexport function parseSubscriptionResponse(deps, data, completeHandler) {\n  let swgData = null;\n  let raw = null;\n  let productType = ProductType.SUBSCRIPTION;\n  let oldSku = null;\n  let paymentRecurrence = null;\n  let requestMetadata = null;\n\n  if (data) {\n    if (typeof data == 'string') {\n      raw = /** @type {string} */ (data);\n    } else {\n      // Assume it's a json object in the format:\n      // `{integratorClientCallbackData: \"...\"}` or `{swgCallbackData: \"...\"}`.\n      const json = /** @type {!Object} */ (data);\n      if ('swgCallbackData' in json) {\n        swgData = /** @type {!Object} */ (json['swgCallbackData']);\n      } else if ('integratorClientCallbackData' in json) {\n        raw = json['integratorClientCallbackData'];\n      }\n      if ('paymentRequest' in data) {\n        const swgObj = data['paymentRequest']['swg'] || {};\n        oldSku = swgObj['oldSku'];\n        paymentRecurrence = swgObj['paymentRecurrence'];\n        requestMetadata = swgObj['metadata'];\n        productType =\n          (data['paymentRequest']['i'] || {})['productType'] ||\n          ProductType.SUBSCRIPTION;\n      }\n      // Set productType if paymentRequest is not present, which happens\n      // if the pay flow was opened in redirect mode.\n      else if ('productType' in data) {\n        productType = data['productType'];\n      }\n    }\n  }\n  if (raw && !swgData) {\n    raw = atob(raw);\n    if (raw) {\n      const parsed = parseJson(raw);\n      swgData = parsed['swgCallbackData'];\n    }\n  }\n  if (!swgData) {\n    throw new Error('unexpected payment response');\n  }\n  raw = JSON.stringify(/** @type {!JsonObject} */ (swgData));\n  return new SubscribeResponse(\n    raw,\n    parsePurchaseData(swgData),\n    parseUserData(swgData),\n    parseEntitlements(deps, swgData),\n    productType,\n    completeHandler,\n    oldSku,\n    swgData['swgUserToken'],\n    paymentRecurrence,\n    requestMetadata\n  );\n}\n\n/**\n * @param {!Object} swgData\n * @return {!PurchaseData}\n */\nfunction parsePurchaseData(swgData) {\n  const raw = swgData['purchaseData'];\n  const signature = swgData['purchaseDataSignature'];\n  return new PurchaseData(raw, signature);\n}\n\n/**\n * @param {!Object} swgData\n * @return {?UserData}\n * @package Visible for testing.\n */\nexport function parseUserData(swgData) {\n  const idToken = swgData['idToken'];\n  if (!idToken) {\n    return null;\n  }\n  const jwt = /** @type {!Object} */ (new JwtHelper().decode(idToken));\n  return new UserData(idToken, jwt);\n}\n\n/**\n * @param {!./deps.DepsDef} deps\n * @param {!Object} swgData\n * @return {?../api/entitlements.Entitlements}\n * @package Visible for testing.\n */\nexport function parseEntitlements(deps, swgData) {\n  if (swgData['signedEntitlements']) {\n    return deps.entitlementsManager().parseEntitlements(swgData);\n  }\n  return null;\n}\n\n/**\n * @param {!PurchaseData} purchaseData\n * @return {?string}\n */\nfunction parseSkuFromPurchaseDataSafe(purchaseData) {\n  return /** @type {?string} */ (\n    getPropertyFromJsonString(purchaseData.raw, 'productId') || null\n  );\n}\n\n/**\n * @param {!PurchaseData} purchaseData\n * @return {?string}\n */\nfunction parseOrderIdFromPurchaseDataSafe(purchaseData) {\n  return /** @type {?string} */ (\n    getPropertyFromJsonString(purchaseData.raw, 'orderId') || null\n  );\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  AnalyticsEvent,\n  EventOriginator,\n  EventParams,\n} from '../proto/api_messages';\nimport {addQueryParam} from '../utils/url';\nimport {adsUrl} from './services';\nimport {analyticsEventToPublisherEvent} from './event-type-mapping';\nimport {isBoolean, isObject} from '../utils/types';\n\n/**\n * Implements interface to Propensity server\n */\nexport class PropensityServer {\n  /**\n   * Page configuration is known when Propensity API\n   * is available, publication ID is therefore used\n   * in constructor for the server interface.\n   * @param {!Window} win\n   * @param {!./deps.DepsDef} deps\n   * @param {!./fetcher.Fetcher} fetcher\n   */\n  constructor(win, deps, fetcher) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n    /** @private @const {string} */\n    this.publicationId_ = this.deps_.pageConfig().getPublicationId();\n    /** @private {?string} */\n    this.clientId_ = null;\n    /** @private @const {!./fetcher.Fetcher} */\n    this.fetcher_ = fetcher;\n    /** @private @const {number} */\n    this.version_ = 1;\n\n    this.deps_\n      .eventManager()\n      .registerEventListener(this.handleClientEvent_.bind(this));\n  }\n\n  /**\n   * @private\n   * @return {string}\n   */\n  getDocumentCookie_() {\n    return this.win_.document.cookie;\n  }\n\n  /**\n   * Returns the client ID to be used.\n   * @return {?string}\n   * @private\n   */\n  getClientId_() {\n    if (!this.clientId_) {\n      // Match '__gads' (name of the cookie) dropped by Ads Tag.\n      const gadsmatch = this.getDocumentCookie_().match(\n        '(^|;)\\\\s*__gads\\\\s*=\\\\s*([^;]+)'\n      );\n      // Since the cookie will be consumed using decodeURIComponent(),\n      // use encodeURIComponent() here to match.\n      this.clientId_ = gadsmatch && encodeURIComponent(gadsmatch.pop());\n    }\n    return this.clientId_;\n  }\n\n  /**\n   * @private\n   * @param {string} url\n   * @return {string}\n   */\n  propensityUrl_(url) {\n    url = addQueryParam(url, 'u_tz', '240');\n    url = addQueryParam(url, 'v', String(this.version_));\n    const clientId = this.getClientId_();\n    if (clientId) {\n      url = addQueryParam(url, 'cookie', clientId);\n    }\n    url = addQueryParam(url, 'cdm', this.win_.location.hostname);\n    return url;\n  }\n\n  /**\n   * @param {string} state\n   * @param {?string} productsOrSkus\n   */\n  sendSubscriptionState(state, productsOrSkus) {\n    const init = /** @type {!../utils/xhr.FetchInitDef} */ ({\n      method: 'GET',\n      credentials: 'include',\n    });\n    let url = adsUrl('/subopt/data');\n    url = addQueryParam(url, 'states', this.publicationId_ + ':' + state);\n    if (productsOrSkus) {\n      url = addQueryParam(url, 'extrainfo', productsOrSkus);\n    }\n    return this.fetcher_.fetch(this.propensityUrl_(url), init);\n  }\n\n  /**\n   * @param {string} event\n   * @param {?string} context\n   * @private\n   */\n  sendEvent_(event, context) {\n    const init = /** @type {!../utils/xhr.FetchInitDef} */ ({\n      method: 'GET',\n      credentials: 'include',\n    });\n    let url = adsUrl('/subopt/data');\n    url = addQueryParam(url, 'events', this.publicationId_ + ':' + event);\n    if (context) {\n      url = addQueryParam(url, 'extrainfo', context);\n    }\n    return this.fetcher_.fetch(this.propensityUrl_(url), init);\n  }\n\n  /**\n   *\n   * @param {!../api/client-event-manager-api.ClientEvent} event\n   */\n  handleClientEvent_(event) {\n    // Propensity does not need this data and does not have the right to\n    // it at this time.  We can consider this if necessary in the future.\n    if (event.eventOriginator === EventOriginator.SHOWCASE_CLIENT) {\n      return;\n    }\n\n    /**\n     * Does a live check of the config because we don't know when publisher\n     * called to enable (it may be after a consent dialog).\n     */\n    if (\n      !this.deps_.config().enablePropensity &&\n      event.eventOriginator !== EventOriginator.PROPENSITY_CLIENT\n    ) {\n      return;\n    }\n\n    if (event.eventType === AnalyticsEvent.EVENT_SUBSCRIPTION_STATE) {\n      this.sendSubscriptionState(\n        event.additionalParameters['state'],\n        event.additionalParameters['productsOrSkus']\n      );\n      return;\n    }\n    const propEvent = analyticsEventToPublisherEvent(event.eventType);\n    if (propEvent == null) {\n      return;\n    }\n    let additionalParameters = event.additionalParameters;\n    // The EventParams object is private to SwG analytics.  Do not send.\n    if (additionalParameters instanceof EventParams) {\n      additionalParameters = undefined;\n    }\n    if (isBoolean(event.isFromUserAction)) {\n      if (!isObject(additionalParameters)) {\n        additionalParameters = {};\n      }\n      additionalParameters['is_active'] = event.isFromUserAction;\n    }\n    this.sendEvent_(\n      propEvent,\n      JSON.stringify(/** @type {?JsonObject} */ (additionalParameters))\n    );\n  }\n\n  /**\n   * @param {JsonObject} response\n   * @return {!../api/propensity-api.PropensityScore}\n   */\n  parsePropensityResponse_(response) {\n    let defaultScore =\n      /** @type {!../api/propensity-api.PropensityScore} */ ({});\n    if (!response['header']) {\n      defaultScore = /** @type {!../api/propensity-api.PropensityScore} */ ({\n        header: {ok: false},\n        body: {error: 'No valid response'},\n      });\n      return defaultScore;\n    }\n    const status = response['header'];\n    let scoreDetails = undefined;\n    if (status['ok']) {\n      const scores = response['scores'];\n      scoreDetails = [];\n      for (let i = 0; i < scores.length; i++) {\n        const result = scores[i];\n        const scoreStatus = !!result['score'];\n        let scoreDetail;\n        if (scoreStatus) {\n          const value = /** @type {!../api/propensity-api.Score} */ ({\n            value: result['score'],\n            bucketed: result['score_type'] == 2,\n          });\n          scoreDetail = /** @type {!../api/propensity-api.Body} */ ({\n            product: result['product'],\n            score: value,\n          });\n        } else {\n          scoreDetail = /** @type {!../api/propensity-api.Body} */ ({\n            product: result['product'],\n            error: result['error_message'],\n          });\n        }\n        scoreDetails.push(scoreDetail);\n      }\n      if (scoreDetails) {\n        defaultScore = /** @type {!../api/propensity-api.PropensityScore} */ ({\n          header: {ok: true},\n          body: {scores: scoreDetails},\n        });\n      }\n      return defaultScore;\n    }\n    defaultScore = /** @type {!../api/propensity-api.PropensityScore} */ ({\n      header: {ok: false},\n      body: {error: response['error']},\n    });\n    return defaultScore;\n  }\n  /**\n   * @param {string} referrer\n   * @param {string} type\n   * @return {?Promise<../api/propensity-api.PropensityScore>}\n   */\n  getPropensity(referrer, type) {\n    const init = /** @type {!../utils/xhr.FetchInitDef} */ ({\n      method: 'GET',\n      credentials: 'include',\n    });\n    const url =\n      adsUrl('/subopt/pts?products=') +\n      this.publicationId_ +\n      '&type=' +\n      type +\n      '&ref=' +\n      referrer;\n    return this.fetcher_\n      .fetch(this.propensityUrl_(url), init)\n      .then((result) => result.json())\n      .then((response) => {\n        return this.parsePropensityResponse_(response);\n      });\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as PropensityApi from '../api/propensity-api';\nimport {Event, SubscriptionState} from '../api/logger-api';\nimport {EventOriginator} from '../proto/api_messages';\nimport {PropensityServer} from './propensity-server';\nimport {isBoolean} from '../utils/types';\nimport {isEnumValue, isObject} from '../utils/types';\nimport {publisherEventToAnalyticsEvent} from './event-type-mapping';\n\n/**\n * @implements {PropensityApi.PropensityApi}\n */\nexport class Propensity {\n  /**\n   * @param {!Window} win\n   * @param {!./deps.DepsDef} deps\n   * @param {!./fetcher.Fetcher} fetcher\n   *\n   * IMPORTANT: deps may not be full initialized config and pageConfig are\n   * available immediately, other function should be gated on a ready promise.\n   * #TODO(jpettitt) switch refactor to take out the win and use deps to get win\n   */\n  constructor(win, deps, fetcher) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n    /** @private {PropensityServer} */\n    this.propensityServer_ = new PropensityServer(win, deps, fetcher);\n\n    /** @private @const {!../api/client-event-manager-api.ClientEventManagerApi} */\n    this.eventManager_ = deps.eventManager();\n  }\n\n  /** @override */\n  sendSubscriptionState(state, jsonProducts) {\n    if (!Object.values(SubscriptionState).includes(state)) {\n      throw new Error('Invalid subscription state provided');\n    }\n    if (\n      (SubscriptionState.SUBSCRIBER == state ||\n        SubscriptionState.PAST_SUBSCRIBER == state) &&\n      !jsonProducts\n    ) {\n      throw new Error(\n        'Entitlements must be provided for users with' +\n          ' active or expired subscriptions'\n      );\n    }\n    if (jsonProducts && !isObject(jsonProducts)) {\n      throw new Error('Entitlements must be an Object');\n    }\n    let productsOrSkus = null;\n    if (jsonProducts) {\n      productsOrSkus = JSON.stringify(jsonProducts);\n    }\n    this.propensityServer_.sendSubscriptionState(state, productsOrSkus);\n  }\n\n  /** @override */\n  getPropensity(type) {\n    if (type && !Object.values(PropensityApi.PropensityType).includes(type)) {\n      throw new Error('Invalid propensity type requested');\n    }\n    if (!type) {\n      type = PropensityApi.PropensityType.GENERAL;\n    }\n    return this.propensityServer_.getPropensity(\n      this.win_.document.referrer,\n      type\n    );\n  }\n\n  /** @override */\n  sendEvent(userEvent) {\n    const analyticsEvent = publisherEventToAnalyticsEvent(userEvent.name);\n    let data = null;\n    if (!isEnumValue(Event, userEvent.name) || !analyticsEvent) {\n      throw new Error('Invalid user event provided(' + userEvent.name + ')');\n    }\n\n    if (userEvent.data) {\n      if (!isObject(userEvent.data)) {\n        throw new Error('Event data must be an Object(' + userEvent.data + ')');\n      } else {\n        data = {};\n        Object.assign(data, userEvent.data);\n      }\n    }\n\n    if (isBoolean(userEvent.active)) {\n      if (!data) {\n        data = {};\n      }\n      Object.assign(data, {'is_active': userEvent.active});\n    } else if (userEvent.active != null) {\n      throw new Error('Event active must be a boolean');\n    }\n\n    this.eventManager_.logEvent({\n      eventType: analyticsEvent,\n      eventOriginator: EventOriginator.PROPENSITY_CLIENT,\n      isFromUserAction: userEvent.active,\n      additionalParameters: data,\n    });\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AbbrvOfferFlow, OffersFlow, SubscribeOptionFlow} from './offers-flow';\nimport {ActivityPorts} from '../components/activities';\nimport {\n  AnalyticsEvent,\n  EventOriginator,\n  EventParams,\n} from '../proto/api_messages';\nimport {AnalyticsMode} from '../api/subscriptions';\nimport {AnalyticsService} from './analytics-service';\nimport {ButtonApi} from './button-api';\nimport {Callbacks} from './callbacks';\nimport {ClientConfigManager} from './client-config-manager';\nimport {ClientEventManager} from './client-event-manager';\nimport {ContributionsFlow} from './contributions-flow';\nimport {DeferredAccountFlow} from './deferred-account-flow';\nimport {DepsDef} from './deps';\nimport {DialogManager} from '../components/dialog-manager';\nimport {Doc as DocInterface, resolveDoc} from '../model/doc';\nimport {EntitlementsManager} from './entitlements-manager';\nimport {ExperimentFlags} from './experiment-flags';\nimport {Fetcher as FetcherInterface, XhrFetcher} from './fetcher';\nimport {GoogleAnalyticsEventListener} from './google-analytics-event-listener';\nimport {JsError} from './jserror';\nimport {\n  LinkCompleteFlow,\n  LinkSaveFlow,\n  LinkbackFlow,\n} from './link-accounts-flow';\nimport {Logger} from './logger';\nimport {LoginNotificationApi} from './login-notification-api';\nimport {LoginPromptApi} from './login-prompt-api';\nimport {OffersApi} from './offers-api';\nimport {PageConfig} from '../model/page-config';\nimport {\n  PageConfigResolver,\n  getControlFlag,\n} from '../model/page-config-resolver';\nimport {PayClient} from './pay-client';\nimport {PayCompleteFlow, PayStartFlow} from './pay-flow';\nimport {Preconnect} from '../utils/preconnect';\nimport {\n  ProductType,\n  Subscriptions as SubscriptionsInterface,\n  WindowOpenMode,\n  defaultConfig,\n} from '../api/subscriptions';\nimport {Propensity} from './propensity';\nimport {CSS as SWG_DIALOG} from '../../build/css/components/dialog.css';\nimport {Storage} from './storage';\nimport {WaitForSubscriptionLookupApi} from './wait-for-subscription-lookup-api';\nimport {assert} from '../utils/log';\nimport {\n  convertPotentialTimestampToMilliseconds,\n  toTimestamp,\n} from '../utils/date-utils';\nimport {debugLog} from '../utils/log';\nimport {injectStyleSheet, isLegacyEdgeBrowser} from '../utils/dom';\nimport {isBoolean} from '../utils/types';\nimport {isExperimentOn} from './experiments';\nimport {isSecure} from '../utils/url';\nimport {queryStringHasFreshGaaParams} from '../utils/gaa';\nimport {setExperiment} from './experiments';\nimport {showcaseEventToAnalyticsEvents} from './event-type-mapping';\nimport {warn} from '../utils/log';\n\nconst RUNTIME_PROP = 'SWG';\nconst RUNTIME_LEGACY_PROP = 'SUBSCRIPTIONS'; // MIGRATE\n\n/**\n * Reference to the runtime, for testing.\n * @private {!Runtime}\n */\nlet runtimeInstance_;\n\n/**\n * Returns runtime for testing if available. Throws if the runtime is not\n * initialized yet.\n * @visibleForTesting\n * @return {!Runtime}\n */\nexport function getRuntime() {\n  assert(runtimeInstance_, 'not initialized yet');\n  return runtimeInstance_;\n}\n\n/**\n * Installs SwG runtime.\n * @param {!Window} win\n */\nexport function installRuntime(win) {\n  // Only install the SwG runtime once.\n  if (win[RUNTIME_PROP] && !Array.isArray(win[RUNTIME_PROP])) {\n    return;\n  }\n\n  // Create a SwG runtime.\n  const runtime = new Runtime(win);\n\n  // Create a public version of the SwG runtime.\n  const publicRuntime = createPublicRuntime(runtime);\n\n  /**\n   * Executes a callback when SwG runtime is ready.\n   * @param {function(!SubscriptionsInterface)} callback\n   */\n  function callWhenRuntimeIsReady(callback) {\n    if (!callback) {\n      return;\n    }\n\n    runtime.whenReady().then(() => {\n      callback(publicRuntime);\n    });\n  }\n\n  // Queue up any callbacks the publication might have provided.\n  const waitingCallbacks = [].concat(\n    win[RUNTIME_PROP],\n    win[RUNTIME_LEGACY_PROP]\n  );\n  for (const waitingCallback of waitingCallbacks) {\n    callWhenRuntimeIsReady(waitingCallback);\n  }\n\n  // If any more callbacks are `push`ed to the global SwG variables,\n  // they'll be queued up to receive the SwG runtime when it's ready.\n  win[RUNTIME_PROP] = win[RUNTIME_LEGACY_PROP] = {\n    push: callWhenRuntimeIsReady,\n  };\n\n  // Set variable for testing.\n  runtimeInstance_ = runtime;\n\n  // Kick off subscriptions flow.\n  runtime.startSubscriptionsFlowIfNeeded();\n}\n\n/**\n * @implements {SubscriptionsInterface}\n */\nexport class Runtime {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!DocInterface} */\n    this.doc_ = resolveDoc(win);\n\n    /** @private @const {!Promise} */\n    this.ready_ = Promise.resolve();\n\n    /** @private {?string} */\n    this.productOrPublicationId_ = null;\n\n    /** @private @const {!../api/subscriptions.Config} */\n    this.config_ = {};\n\n    /** @private {boolean} */\n    this.committed_ = false;\n\n    /** @private {?function((!ConfiguredRuntime|!Promise))} */\n    this.configuredResolver_ = null;\n\n    /** @private @const {!Promise<!ConfiguredRuntime>} */\n    this.configuredPromise_ = new Promise((resolve) => {\n      this.configuredResolver_ = resolve;\n    });\n\n    /** @private {?PageConfigResolver} */\n    this.pageConfigResolver_ = null;\n\n    /** @private @const {!ButtonApi} */\n    this.buttonApi_ = new ButtonApi(this.doc_, this.configuredPromise_);\n    this.buttonApi_.init(); // Injects swg-button stylesheet.\n  }\n\n  /**\n   * @return {!Promise}\n   */\n  whenReady() {\n    return this.ready_;\n  }\n\n  /**\n   * @param {boolean} commit\n   * @return {!Promise<!ConfiguredRuntime>}\n   * @private\n   */\n  configured_(commit) {\n    if (!this.committed_ && commit) {\n      this.committed_ = true;\n      /** @type {!Promise<!PageConfig>} */\n      let pageConfigPromise;\n      if (this.productOrPublicationId_) {\n        pageConfigPromise = Promise.resolve(\n          new PageConfig(this.productOrPublicationId_, /* locked */ false)\n        );\n      } else {\n        this.pageConfigResolver_ = new PageConfigResolver(this.doc_);\n        pageConfigPromise = this.pageConfigResolver_\n          .resolveConfig()\n          .then((config) => {\n            this.pageConfigResolver_ = null;\n            return config;\n          });\n      }\n      pageConfigPromise.then(\n        (pageConfig) => {\n          this.configuredResolver_(\n            new ConfiguredRuntime(\n              this.doc_,\n              pageConfig,\n              /* integr */ {configPromise: this.configuredPromise_},\n              this.config_\n            )\n          );\n          this.configuredResolver_ = null;\n        },\n        (reason) => {\n          this.configuredResolver_(Promise.reject(reason));\n          this.configuredResolver_ = null;\n        }\n      );\n    } else if (commit && this.pageConfigResolver_) {\n      this.pageConfigResolver_.check();\n    }\n    return this.configuredPromise_;\n  }\n\n  /**\n   * Starts the subscription flow if it hasn't been started and the page is\n   * configured to start it automatically.\n   *\n   * @return {?Promise}\n   * @package\n   */\n  startSubscriptionsFlowIfNeeded() {\n    const control = getControlFlag(this.win_.document);\n    debugLog(control, 'mode');\n    if (control == 'manual') {\n      // \"Skipping automatic start because control flag is set to \"manual\".\n      return null;\n    }\n    return this.start();\n  }\n\n  /** @override */\n  init(productOrPublicationId) {\n    assert(!this.committed_, 'already configured');\n    this.productOrPublicationId_ = productOrPublicationId;\n\n    // Process the page's config. Then start logging events in the\n    // analytics service.\n    this.configured_(true).then((configuredRuntime) => {\n      configuredRuntime.analytics().setReadyForLogging();\n      configuredRuntime.analytics().start();\n    });\n  }\n\n  /** @override */\n  configure(config) {\n    // Accumulate config for startup.\n    Object.assign(this.config_, config);\n    return this.configured_(false).then((runtime) => runtime.configure(config));\n  }\n\n  /** @override */\n  start() {\n    return this.configured_(true).then((runtime) => runtime.start());\n  }\n\n  /** @override */\n  reset() {\n    return this.configured_(true).then((runtime) => runtime.reset());\n  }\n\n  /** @override */\n  clear() {\n    return this.configured_(true).then((runtime) => runtime.clear());\n  }\n\n  /** @override */\n  getEntitlements(params) {\n    return this.configured_(true).then((runtime) =>\n      runtime.getEntitlements(params)\n    );\n  }\n\n  /** @override */\n  setOnEntitlementsResponse(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnEntitlementsResponse(callback)\n    );\n  }\n\n  /** @override */\n  getOffers(options) {\n    return this.configured_(true).then((runtime) => runtime.getOffers(options));\n  }\n\n  /** @override */\n  showOffers(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.showOffers(options)\n    );\n  }\n\n  /** @override */\n  showUpdateOffers(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.showUpdateOffers(options)\n    );\n  }\n\n  /** @override */\n  showSubscribeOption(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.showSubscribeOption(options)\n    );\n  }\n\n  /** @override */\n  showAbbrvOffer(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.showAbbrvOffer(options)\n    );\n  }\n\n  /** @override */\n  showContributionOptions(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.showContributionOptions(options)\n    );\n  }\n\n  /** @override */\n  waitForSubscriptionLookup(accountPromise) {\n    return this.configured_(true).then((runtime) =>\n      runtime.waitForSubscriptionLookup(accountPromise)\n    );\n  }\n\n  /** @override */\n  setOnNativeSubscribeRequest(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnNativeSubscribeRequest(callback)\n    );\n  }\n\n  /** @override */\n  setOnSubscribeResponse(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnSubscribeResponse(callback)\n    );\n  }\n\n  /** @override */\n  subscribe(sku) {\n    return this.configured_(true).then((runtime) => runtime.subscribe(sku));\n  }\n\n  /** @override */\n  updateSubscription(subscriptionRequest) {\n    return this.configured_(true).then((runtime) =>\n      runtime.updateSubscription(subscriptionRequest)\n    );\n  }\n\n  /** @override */\n  setOnContributionResponse(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnContributionResponse(callback)\n    );\n  }\n\n  /** @override */\n  setOnPaymentResponse(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnPaymentResponse(callback)\n    );\n  }\n\n  /** @override */\n  contribute(skuOrSubscriptionRequest) {\n    return this.configured_(true).then((runtime) =>\n      runtime.contribute(skuOrSubscriptionRequest)\n    );\n  }\n\n  /** @override */\n  completeDeferredAccountCreation(options) {\n    return this.configured_(true).then((runtime) =>\n      runtime.completeDeferredAccountCreation(options)\n    );\n  }\n\n  /** @override */\n  setOnLoginRequest(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnLoginRequest(callback)\n    );\n  }\n\n  /** @override */\n  triggerLoginRequest(request) {\n    return this.configured_(false).then((runtime) =>\n      runtime.triggerLoginRequest(request)\n    );\n  }\n\n  /** @override */\n  setOnLinkComplete(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnLinkComplete(callback)\n    );\n  }\n\n  /** @override */\n  linkAccount(params = {}) {\n    return this.configured_(true).then((runtime) =>\n      runtime.linkAccount(params)\n    );\n  }\n\n  /** @override */\n  setOnFlowStarted(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnFlowStarted(callback)\n    );\n  }\n\n  /** @override */\n  setOnFlowCanceled(callback) {\n    return this.configured_(false).then((runtime) =>\n      runtime.setOnFlowCanceled(callback)\n    );\n  }\n\n  /** @override */\n  saveSubscription(saveSubscriptionRequestCallback) {\n    return this.configured_(true).then((runtime) => {\n      return runtime.saveSubscription(saveSubscriptionRequestCallback);\n    });\n  }\n\n  /** @override */\n  showLoginPrompt() {\n    return this.configured_(true).then((runtime) => {\n      return runtime.showLoginPrompt();\n    });\n  }\n\n  /** @override */\n  showLoginNotification() {\n    return this.configured_(true).then((runtime) => {\n      return runtime.showLoginNotification();\n    });\n  }\n\n  /** @override */\n  createButton(optionsOrCallback, callback) {\n    return this.buttonApi_.create(optionsOrCallback, callback);\n  }\n\n  /** @override */\n  attachSmartButton(button, optionsOrCallback, callback) {\n    return this.configured_(true).then((runtime) =>\n      runtime.attachSmartButton(button, optionsOrCallback, callback)\n    );\n  }\n\n  /** @override */\n  attachButton(button, optionsOrCallback, callback) {\n    return this.buttonApi_.attach(button, optionsOrCallback, callback);\n  }\n\n  /** @override */\n  getPropensityModule() {\n    return this.configured_(true).then((runtime) => {\n      return runtime.getPropensityModule();\n    });\n  }\n\n  /** @override */\n  getLogger() {\n    return this.configured_(true).then((runtime) => runtime.getLogger());\n  }\n\n  /** @override */\n  getEventManager() {\n    return this.configured_(true).then((runtime) => runtime.getEventManager());\n  }\n\n  /** @override */\n  setShowcaseEntitlement(entitlement) {\n    return this.configured_(true).then((runtime) =>\n      runtime.setShowcaseEntitlement(entitlement)\n    );\n  }\n\n  /** @override */\n  consumeShowcaseEntitlementJwt(showcaseEntitlementJwt, onCloseDialog) {\n    return this.configured_(true).then((runtime) =>\n      runtime.consumeShowcaseEntitlementJwt(\n        showcaseEntitlementJwt,\n        onCloseDialog\n      )\n    );\n  }\n\n  /** @override */\n  showBestAudienceAction() {\n    warn('Not implemented yet');\n  }\n\n  /** @override */\n  setPublisherProvidedId(publisherProvidedId) {\n    return this.configured_(true).then((runtime) =>\n      runtime.setPublisherProvidedId(publisherProvidedId)\n    );\n  }\n}\n\n/**\n * @implements {DepsDef}\n * @implements {SubscriptionsInterface}\n */\nexport class ConfiguredRuntime {\n  /**\n   * @param {!Window|!Document|!DocInterface} winOrDoc\n   * @param {!../model/page-config.PageConfig} pageConfig\n   * @param {{\n   *     fetcher: (!FetcherInterface|undefined),\n   *     configPromise: (!Promise|undefined),\n   *     enableGoogleAnalytics: (boolean|undefined),\n   *     enableDefaultMeteringHandler: (boolean|undefined),\n   *     useArticleEndpoint: (boolean|undefined)\n   *   }=} integr\n   * @param {!../api/subscriptions.Config=} config\n   * @param {!{\n   *   lang: (string|undefined),\n   *   theme: (!../api/basic-subscriptions.ClientTheme|undefined),\n   *   }=} clientOptions\n   */\n  constructor(winOrDoc, pageConfig, integr, config, clientOptions) {\n    integr = integr || {};\n    integr.configPromise = integr.configPromise || Promise.resolve();\n\n    /** @private @const {!ClientEventManager} */\n    this.eventManager_ = new ClientEventManager(integr.configPromise);\n\n    /** @private @const {!DocInterface} */\n    this.doc_ = resolveDoc(winOrDoc);\n\n    /** @private @const {!Window} */\n    this.win_ = this.doc_.getWin();\n\n    /** @private @const {!../api/subscriptions.Config} */\n    this.config_ = defaultConfig();\n\n    if (isLegacyEdgeBrowser(this.win_)) {\n      // TODO(dvoytenko, b/120607343): Find a way to remove this restriction\n      // or move it to Web Activities.\n      this.config_.windowOpenMode = WindowOpenMode.REDIRECT;\n    }\n    if (config) {\n      this.configure_(config);\n    }\n\n    /** @private @const {!../model/page-config.PageConfig} */\n    this.pageConfig_ = pageConfig;\n\n    /** @private @const {!Promise} */\n    this.documentParsed_ = this.doc_.whenReady();\n\n    /** @private @const {!JsError} */\n    this.jserror_ = new JsError(this.doc_);\n\n    /** @private @const {!FetcherInterface} */\n    this.fetcher_ = integr.fetcher || new XhrFetcher(this.win_);\n\n    /** @private @const {!Storage} */\n    this.storage_ = new Storage(this.win_);\n\n    /** @private @const {!DialogManager} */\n    this.dialogManager_ = new DialogManager(this.doc_);\n\n    /** @private @const {!Callbacks} */\n    this.callbacks_ = new Callbacks();\n\n    /** @private {?OffersFlow} */\n    this.lastOffersFlow_ = null;\n\n    /** @private {?ContributionsFlow} */\n    this.lastContributionsFlow_ = null;\n\n    /** @private {string|undefined} */\n    this.publisherProvidedId_ = undefined;\n\n    // Start listening to Google Analytics events, if applicable.\n    if (integr.enableGoogleAnalytics) {\n      /** @private @const {!GoogleAnalyticsEventListener} */\n      this.googleAnalyticsEventListener_ = new GoogleAnalyticsEventListener(\n        this\n      );\n      this.googleAnalyticsEventListener_.start();\n    }\n\n    // WARNING: DepsDef ('this') is being progressively defined below.\n    // Constructors will crash if they rely on something that doesn't exist yet.\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = new ActivityPorts(this);\n\n    /** @private @const {!AnalyticsService} */\n    this.analyticsService_ = new AnalyticsService(this, this.fetcher_);\n\n    /** @private @const {!PayClient} */\n    this.payClient_ = new PayClient(this);\n\n    /** @private @const {!Logger} */\n    this.logger_ = new Logger(this);\n\n    /** @private @const {!EntitlementsManager} */\n    this.entitlementsManager_ = new EntitlementsManager(\n      this.win_,\n      this.pageConfig_,\n      this.fetcher_,\n      this, // See note about 'this' above\n      integr.useArticleEndpoint || false,\n      integr.enableDefaultMeteringHandler || false\n    );\n\n    /** @private @const {!ClientConfigManager} */\n    this.clientConfigManager_ = new ClientConfigManager(\n      this, // See note about 'this' above\n      pageConfig.getPublicationId(),\n      this.fetcher_,\n      clientOptions\n    );\n\n    /** @private @const {!Propensity} */\n    this.propensityModule_ = new Propensity(\n      this.win_,\n      this, // See note about 'this' above\n      this.fetcher_\n    );\n\n    // ALL CLEAR: DepsDef definition now complete.\n    this.eventManager_.logSwgEvent(AnalyticsEvent.IMPRESSION_PAGE_LOAD, false);\n\n    /** @private @const {!OffersApi} */\n    this.offersApi_ = new OffersApi(this.pageConfig_, this.fetcher_);\n\n    /** @private @const {!ButtonApi} */\n    this.buttonApi_ = new ButtonApi(this.doc_, Promise.resolve(this));\n\n    const preconnect = new Preconnect(this.win_.document);\n\n    preconnect.prefetch('$assets$/loader.svg');\n    preconnect.preconnect('https://www.gstatic.com/');\n    preconnect.preconnect('https://fonts.googleapis.com/');\n    preconnect.preconnect('https://www.google.com/');\n    LinkCompleteFlow.configurePending(this);\n    PayCompleteFlow.configurePending(this);\n\n    injectStyleSheet(this.doc_, SWG_DIALOG);\n\n    // Report redirect errors if any.\n    this.activityPorts_.onRedirectError((error) => {\n      this.analyticsService_.addLabels(['redirect']);\n      this.eventManager_.logSwgEvent(\n        AnalyticsEvent.EVENT_PAYMENT_FAILED,\n        false\n      );\n      this.jserror_.error('Redirect error', error);\n    });\n  }\n\n  /** @override */\n  doc() {\n    return this.doc_;\n  }\n\n  /** @override */\n  win() {\n    return this.win_;\n  }\n\n  /** @override */\n  pageConfig() {\n    return this.pageConfig_;\n  }\n\n  /** @override */\n  jserror() {\n    return this.jserror_;\n  }\n\n  /** @override */\n  activities() {\n    return this.activityPorts_;\n  }\n\n  /** @override */\n  payClient() {\n    return this.payClient_;\n  }\n\n  /** @override */\n  dialogManager() {\n    return this.dialogManager_;\n  }\n\n  /** @override */\n  entitlementsManager() {\n    return this.entitlementsManager_;\n  }\n\n  /** @override */\n  callbacks() {\n    return this.callbacks_;\n  }\n\n  /** @override */\n  storage() {\n    return this.storage_;\n  }\n\n  /** @override */\n  clientConfigManager() {\n    return this.clientConfigManager_;\n  }\n\n  /** @override */\n  analytics() {\n    return this.analyticsService_;\n  }\n\n  /** @override */\n  init() {\n    // Implemented by the `Runtime` class.\n  }\n\n  /** @override */\n  configure(config) {\n    // Indirected for constructor testing.\n    this.configure_(config);\n  }\n\n  /**\n   * @param {!../api/subscriptions.Config} config\n   * @private\n   */\n  configure_(config) {\n    // Validate first.\n    let error = '';\n    for (const key in config) {\n      const value = config[key];\n      switch (key) {\n        case 'windowOpenMode':\n          if (\n            value != WindowOpenMode.AUTO &&\n            value != WindowOpenMode.REDIRECT\n          ) {\n            error = 'Unknown windowOpenMode: ' + value;\n          }\n          break;\n        case 'experiments':\n          for (const experiment of value) {\n            setExperiment(this.win_, experiment, true);\n          }\n          if (this.analytics()) {\n            // If analytics service isn't set up yet, then it will get the\n            // experiments later.\n            this.analytics().addLabels(value);\n          }\n          break;\n        case 'analyticsMode':\n          if (\n            value != AnalyticsMode.DEFAULT &&\n            value != AnalyticsMode.IMPRESSIONS\n          ) {\n            error = 'Unknown analytics mode: ' + value;\n          }\n          break;\n        case 'enableSwgAnalytics':\n          if (!isBoolean(value)) {\n            error = 'Unknown enableSwgAnalytics value: ' + value;\n          }\n          break;\n        case 'enablePropensity':\n          if (!isBoolean(value)) {\n            error = 'Unknown enablePropensity value: ' + value;\n          }\n          break;\n        case 'skipAccountCreationScreen':\n          if (!isBoolean(value)) {\n            error = 'Unknown skipAccountCreationScreen value: ' + value;\n          }\n          break;\n        case 'publisherProvidedId':\n          if (\n            value != undefined &&\n            !(typeof value === 'string' && value != '')\n          ) {\n            error = 'publisherProvidedId must be a string, value: ' + value;\n          }\n          break;\n        default:\n          error = 'Unknown config property: ' + key;\n      }\n    }\n    // Throw error string if it's not null\n    assert(!error, error || undefined);\n    // Assign.\n    Object.assign(this.config_, config);\n  }\n\n  /** @override */\n  config() {\n    return this.config_;\n  }\n\n  /** @override */\n  reset() {\n    this.entitlementsManager_.reset();\n    this.closeDialog();\n  }\n\n  /** @override */\n  clear() {\n    this.entitlementsManager_.clear();\n    this.closeDialog();\n  }\n\n  /** Close dialog. */\n  closeDialog() {\n    this.dialogManager_.completeAll();\n  }\n\n  /** @override */\n  start() {\n    // No need to run entitlements without a product or for an unlocked page.\n    if (!this.pageConfig_.getProductId() || !this.pageConfig_.isLocked()) {\n      return Promise.resolve();\n    }\n    this.getEntitlements();\n  }\n\n  /** @override */\n  getEntitlements(params) {\n    if (params?.publisherProvidedId) {\n      params.publisherProvidedId = this.publisherProvidedId_;\n    }\n    return this.entitlementsManager_\n      .getEntitlements(params)\n      .then((entitlements) => {\n        // The swg user token is stored in the entitlements flow, so the analytics service is ready for logging.\n        this.analyticsService_.setReadyForLogging();\n        this.analyticsService_.start();\n        // Auto update internal things tracking the user's current SKU.\n        if (entitlements) {\n          try {\n            const skus = entitlements.entitlements.map(\n              (entitlement) =>\n                entitlement.getSku() || 'unknown subscriptionToken'\n            );\n            if (skus.length > 0) {\n              this.analyticsService_.setSku(skus.join(','));\n            }\n          } catch (ex) {}\n        }\n        return entitlements.clone();\n      });\n  }\n\n  /** @override */\n  setOnEntitlementsResponse(callback) {\n    this.callbacks_.setOnEntitlementsResponse(callback);\n  }\n\n  /** @override */\n  getOffers(options) {\n    return this.offersApi_.getOffers(options && options.productId);\n  }\n\n  /** @override */\n  showOffers(options) {\n    return this.documentParsed_.then(() => {\n      const errorMessage =\n        'The showOffers() method cannot be used to update a subscription. ' +\n        'Use the showUpdateOffers() method instead.';\n      assert(options ? !options['oldSku'] : true, errorMessage);\n      this.lastOffersFlow_ = new OffersFlow(this, options);\n      return this.lastOffersFlow_.start();\n    });\n  }\n\n  /** @override */\n  showUpdateOffers(options) {\n    assert(\n      isExperimentOn(this.win_, ExperimentFlags.REPLACE_SUBSCRIPTION),\n      'Not yet launched!'\n    );\n    return this.documentParsed_.then(() => {\n      const errorMessage =\n        'The showUpdateOffers() method cannot be used for new subscribers. ' +\n        'Use the showOffers() method instead.';\n      assert(options ? !!options['oldSku'] : false, errorMessage);\n      const flow = new OffersFlow(this, options);\n      return flow.start();\n    });\n  }\n\n  /** @override */\n  showSubscribeOption(options) {\n    return this.documentParsed_.then(() => {\n      const flow = new SubscribeOptionFlow(this, options);\n      return flow.start();\n    });\n  }\n\n  /** @override */\n  showAbbrvOffer(options) {\n    return this.documentParsed_.then(() => {\n      const flow = new AbbrvOfferFlow(this, options);\n      return flow.start();\n    });\n  }\n\n  /** @override */\n  showContributionOptions(options) {\n    return this.documentParsed_.then(() => {\n      this.lastContributionsFlow_ = new ContributionsFlow(this, options);\n      return this.lastContributionsFlow_.start();\n    });\n  }\n\n  /**\n   * Get the last contribution offers flow.\n   * @return {?ContributionsFlow}\n   */\n  getLastContributionsFlow() {\n    return this.lastContributionsFlow_;\n  }\n\n  /** @override */\n  waitForSubscriptionLookup(accountPromise) {\n    return this.documentParsed_.then(() => {\n      const wait = new WaitForSubscriptionLookupApi(this, accountPromise);\n      return wait.start();\n    });\n  }\n\n  /** @override */\n  setOnLoginRequest(callback) {\n    this.callbacks_.setOnLoginRequest(callback);\n  }\n\n  /** @override */\n  triggerLoginRequest(request) {\n    this.callbacks_.triggerLoginRequest(request);\n  }\n\n  /** @override */\n  setOnLinkComplete(callback) {\n    this.callbacks_.setOnLinkComplete(callback);\n  }\n\n  /** @override */\n  linkAccount(params = {}) {\n    return this.documentParsed_.then(() => {\n      return new LinkbackFlow(this).start(params);\n    });\n  }\n\n  /** @override */\n  saveSubscription(saveSubscriptionRequestCallback) {\n    return this.documentParsed_.then(() => {\n      return new LinkSaveFlow(this, saveSubscriptionRequestCallback).start();\n    });\n  }\n\n  /** @override */\n  showLoginPrompt() {\n    return this.documentParsed_.then(() => {\n      return new LoginPromptApi(this).start();\n    });\n  }\n\n  /** @override */\n  showLoginNotification() {\n    return this.documentParsed_.then(() => {\n      return new LoginNotificationApi(this).start();\n    });\n  }\n\n  /** @override */\n  setOnNativeSubscribeRequest(callback) {\n    this.callbacks_.setOnSubscribeRequest(callback);\n  }\n\n  /** @override */\n  setOnSubscribeResponse(callback) {\n    this.callbacks_.setOnSubscribeResponse(callback);\n  }\n\n  /** @override */\n  setOnPaymentResponse(callback) {\n    this.callbacks_.setOnPaymentResponse(callback);\n  }\n\n  /** @override */\n  subscribe(sku) {\n    const errorMessage =\n      'The subscribe() method can only take a sku as its parameter; ' +\n      'for subscription updates please use the updateSubscription() method';\n    assert(typeof sku === 'string', errorMessage);\n    return this.documentParsed_.then(() => {\n      return new PayStartFlow(this, {'skuId': sku}).start();\n    });\n  }\n\n  /** @override */\n  updateSubscription(subscriptionRequest) {\n    assert(\n      isExperimentOn(this.win_, ExperimentFlags.REPLACE_SUBSCRIPTION),\n      'Not yet launched!'\n    );\n    const errorMessage =\n      'The updateSubscription() method should be used for subscription ' +\n      'updates; for new subscriptions please use the subscribe() method';\n    assert(\n      subscriptionRequest ? subscriptionRequest['oldSku'] : false,\n      errorMessage\n    );\n    return this.documentParsed_.then(() => {\n      return new PayStartFlow(this, subscriptionRequest).start();\n    });\n  }\n\n  /** @override */\n  setOnContributionResponse(callback) {\n    this.callbacks_.setOnContributionResponse(callback);\n  }\n\n  /** @override */\n  contribute(skuOrSubscriptionRequest) {\n    /** @type {!../api/subscriptions.SubscriptionRequest} */\n    const request =\n      typeof skuOrSubscriptionRequest == 'string'\n        ? {'skuId': skuOrSubscriptionRequest}\n        : skuOrSubscriptionRequest;\n    return this.documentParsed_.then(() => {\n      return new PayStartFlow(\n        this,\n        request,\n        ProductType.UI_CONTRIBUTION\n      ).start();\n    });\n  }\n\n  /** @override */\n  completeDeferredAccountCreation(options) {\n    return this.documentParsed_.then(() => {\n      return new DeferredAccountFlow(this, options || null).start();\n    });\n  }\n\n  /** @override */\n  setOnFlowStarted(callback) {\n    this.callbacks_.setOnFlowStarted(callback);\n  }\n\n  /** @override */\n  setOnFlowCanceled(callback) {\n    this.callbacks_.setOnFlowCanceled(callback);\n  }\n\n  /** @override */\n  createButton(optionsOrCallback, callback) {\n    // This is a minor duplication to allow this code to be sync.\n    return this.buttonApi_.create(optionsOrCallback, callback);\n  }\n\n  /** @override */\n  attachButton(button, optionsOrCallback, callback) {\n    // This is a minor duplication to allow this code to be sync.\n    this.buttonApi_.attach(button, optionsOrCallback, callback);\n  }\n\n  /** @override */\n  attachSmartButton(button, optionsOrCallback, callback) {\n    assert(\n      isExperimentOn(this.win_, ExperimentFlags.SMARTBOX),\n      'Not yet launched!'\n    );\n    this.buttonApi_.attachSmartButton(\n      this,\n      button,\n      optionsOrCallback,\n      callback\n    );\n  }\n\n  /** @override */\n  getPropensityModule() {\n    return Promise.resolve(this.propensityModule_);\n  }\n\n  /**\n   * This one exists as an internal helper so SwG logging doesn't require a promise.\n   * @return {!ClientEventManager}\n   */\n  eventManager() {\n    return this.eventManager_;\n  }\n\n  /**\n   * Get the last subscription offers flow.\n   * @return {?OffersFlow}\n   */\n  getLastOffersFlow() {\n    return this.lastOffersFlow_;\n  }\n\n  /**\n   * This one exists as a public API so publishers can subscribe to SwG events.\n   * @override */\n  getEventManager() {\n    return Promise.resolve(this.eventManager_);\n  }\n\n  /** @override */\n  getLogger() {\n    return Promise.resolve(this.logger_);\n  }\n\n  /** @override */\n  setShowcaseEntitlement(entitlement) {\n    if (\n      !entitlement ||\n      !isSecure(this.win().location) ||\n      !queryStringHasFreshGaaParams(\n        this.win().location.search,\n        /*allowAllAccessTypes=*/ true\n      )\n    ) {\n      return Promise.resolve();\n    }\n\n    const eventsToLog =\n      showcaseEventToAnalyticsEvents(entitlement.entitlement) || [];\n    const params = new EventParams();\n    params.setIsUserRegistered(entitlement.isUserRegistered);\n    if (entitlement.subscriptionTimestamp) {\n      params.setSubscriptionTimestamp(\n        toTimestamp(\n          convertPotentialTimestampToMilliseconds(\n            entitlement.subscriptionTimestamp\n          )\n        )\n      );\n    }\n\n    for (let i = 0; i < eventsToLog.length; i++) {\n      this.eventManager().logEvent({\n        eventType: eventsToLog[i],\n        eventOriginator: EventOriginator.SHOWCASE_CLIENT,\n        isFromUserAction: false,\n        additionalParameters: params,\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  /** @override */\n  consumeShowcaseEntitlementJwt(showcaseEntitlementJwt, onCloseDialog) {\n    const entitlements = this.entitlementsManager().parseEntitlements({\n      signedEntitlements: showcaseEntitlementJwt,\n    });\n    entitlements.consume(onCloseDialog);\n  }\n\n  /** @override */\n  showBestAudienceAction() {\n    warn('Not implemented yet');\n  }\n\n  /** @override */\n  setPublisherProvidedId(publisherProvidedId) {\n    this.publisherProvidedId_ = publisherProvidedId;\n  }\n}\n\n/**\n * @param {!Runtime} runtime\n * @return {!SubscriptionsInterface}\n */\nfunction createPublicRuntime(runtime) {\n  return /** @type {!SubscriptionsInterface} */ ({\n    init: runtime.init.bind(runtime),\n    configure: runtime.configure.bind(runtime),\n    start: runtime.start.bind(runtime),\n    reset: runtime.reset.bind(runtime),\n    clear: runtime.clear.bind(runtime),\n    getEntitlements: runtime.getEntitlements.bind(runtime),\n    linkAccount: runtime.linkAccount.bind(runtime),\n    showLoginPrompt: runtime.showLoginPrompt.bind(runtime),\n    showLoginNotification: runtime.showLoginNotification.bind(runtime),\n    getOffers: runtime.getOffers.bind(runtime),\n    showOffers: runtime.showOffers.bind(runtime),\n    showUpdateOffers: runtime.showUpdateOffers.bind(runtime),\n    showAbbrvOffer: runtime.showAbbrvOffer.bind(runtime),\n    showSubscribeOption: runtime.showSubscribeOption.bind(runtime),\n    showContributionOptions: runtime.showContributionOptions.bind(runtime),\n    waitForSubscriptionLookup: runtime.waitForSubscriptionLookup.bind(runtime),\n    subscribe: runtime.subscribe.bind(runtime),\n    updateSubscription: runtime.updateSubscription.bind(runtime),\n    contribute: runtime.contribute.bind(runtime),\n    completeDeferredAccountCreation:\n      runtime.completeDeferredAccountCreation.bind(runtime),\n    setOnEntitlementsResponse: runtime.setOnEntitlementsResponse.bind(runtime),\n    setOnLoginRequest: runtime.setOnLoginRequest.bind(runtime),\n    triggerLoginRequest: runtime.triggerLoginRequest.bind(runtime),\n    setOnLinkComplete: runtime.setOnLinkComplete.bind(runtime),\n    setOnNativeSubscribeRequest:\n      runtime.setOnNativeSubscribeRequest.bind(runtime),\n    setOnPaymentResponse: runtime.setOnPaymentResponse.bind(runtime),\n    setOnSubscribeResponse: runtime.setOnSubscribeResponse.bind(runtime),\n    setOnContributionResponse: runtime.setOnContributionResponse.bind(runtime),\n    setOnFlowStarted: runtime.setOnFlowStarted.bind(runtime),\n    setOnFlowCanceled: runtime.setOnFlowCanceled.bind(runtime),\n    saveSubscription: runtime.saveSubscription.bind(runtime),\n    createButton: runtime.createButton.bind(runtime),\n    attachButton: runtime.attachButton.bind(runtime),\n    attachSmartButton: runtime.attachSmartButton.bind(runtime),\n    getPropensityModule: runtime.getPropensityModule.bind(runtime),\n    getLogger: runtime.getLogger.bind(runtime),\n    getEventManager: runtime.getEventManager.bind(runtime),\n    setShowcaseEntitlement: runtime.setShowcaseEntitlement.bind(runtime),\n    consumeShowcaseEntitlementJwt:\n      runtime.consumeShowcaseEntitlementJwt.bind(runtime),\n    showBestAudienceAction: runtime.showBestAudienceAction.bind(runtime),\n    setPublisherProvidedId: runtime.setPublisherProvidedId.bind(runtime),\n  });\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {addQueryParam, parseQueryString, parseUrl} from '../utils/url';\n\n/**\n * Have to put these in the map to avoid compiler optimization. Due to\n * optimization issues, this map only allows property-style keys. E.g. \"hr1\",\n * as opposed to \"1hr\".\n * @type {!Object<string, number>}\n * @package Visible for testing only.\n */\nexport const CACHE_KEYS = {\n  'zero': 0, //testing value\n  'nocache': 1,\n  'hr1': 3600000, // 1hr = 1000 * 60 * 60\n  'hr12': 43200000, // 12hr = 1000 * 60 * 60 * 12\n};\n\n/**\n * Default operating Mode\n */\nexport const DEFAULT = {\n  frontEnd: '$frontend$',\n  payEnv: '$payEnvironment$',\n  playEnv: '$playEnvironment$',\n  feCache: '$frontendCache$',\n};\n\n/**\n * Default operating Mode\n */\nconst PROD = {\n  frontEnd: 'https://news.google.com',\n  payEnv: 'PRODUCTION',\n  playEnv: 'PROD',\n  feCache: CACHE_KEYS.hr1,\n};\n\n/**\n * Default operating Mode\n */\nconst AUTOPUSH = {\n  frontEnd: 'https://subscribe-autopush.sandbox.google.com',\n  payEnv: 'PRODUCTION',\n  playEnv: 'AUTOPUSH',\n  feCache: CACHE_KEYS.nocache,\n};\n\n/**\n * Default operating Mode\n */\nconst QUAL = {\n  frontEnd: 'https://subscribe-qual.sandbox.google.com',\n  payEnv: 'SANDBOX',\n  playEnv: 'STAGING',\n  feCache: CACHE_KEYS.hr1,\n};\n\n/**\n * Operating modes, only runtime switchgable modes are here\n * build time modes set the default and are configured in prepare.sh\n *\n * IMPORTANT: modes other than prod will only work on google internal networks!\n * @type {!Object<Object>}\n * @package Visible for testing only.\n */\nexport const MODES = {\n  'default': DEFAULT,\n  'prod': PROD,\n  'autopush': AUTOPUSH,\n  'qual': QUAL,\n};\n\n/**\n * Check for swg.mode= in url fragemnet if it exists use it\n * otherwise use the default build mode.\n * @returns {Object}\n */\nexport function getSwgMode() {\n  const query = parseQueryString(self.location.hash);\n  const swgMode = query['swg.mode'];\n  if (swgMode && MODES[swgMode]) {\n    return MODES[swgMode];\n  }\n  return MODES['default'];\n}\n\n/**\n * @return {string}\n */\nexport function feOrigin() {\n  return parseUrl(getSwgMode().frontEnd).origin;\n}\n\n/**\n * @param {string} url Relative URL, e.g. \"/service1\".\n * @return {string} The complete URL.\n */\nexport function serviceUrl(url) {\n  // Allows us to make API calls with enabled experiments.\n  const query = parseQueryString(self.location.hash);\n  const experiments = query['swg.experiments'];\n  if (experiments !== undefined) {\n    url = addQueryParam(url, 'e', experiments);\n  }\n\n  return `${getSwgMode().frontEnd}/swg/_/api/v1` + url;\n}\n\n/**\n * @param {string} url  Relative URL, e.g. \"/service1\".\n * @return {string} The complete URL.\n */\nexport function adsUrl(url) {\n  return '$adsServer$' + url;\n}\n\n/**\n * @param {string} url Relative URL, e.g. \"/offersiframe\".\n * @param {string=} prefix\n * @param {Object<string, string>=} params List of extra params to append to the URL.\n * @return {string} The complete URL.\n */\nexport function feUrl(\n  url,\n  params = {},\n  usePrefixedHostPath = true,\n  prefix = ''\n) {\n  // Add cache param.\n  const prefixed = prefix\n    ? usePrefixedHostPath\n      ? `swg/${prefix}`\n      : `${prefix}/swg`\n    : 'swg';\n  url = feCached(`${getSwgMode().frontEnd}/${prefixed}/_/ui/v1${url}`);\n\n  // Optionally add jsmode param. This allows us to test against \"aggressively\" compiled Boq JS.\n  const query = parseQueryString(self.location.hash);\n  const boqJsMode = query['swg.boqjsmode'];\n  if (boqJsMode !== undefined) {\n    url = addQueryParam(url, 'jsmode', boqJsMode);\n  }\n\n  // Allows us to open iframes with enabled experiments.\n  const experiments = query['swg.experiments'];\n  if (experiments !== undefined) {\n    url = addQueryParam(url, 'e', experiments);\n  }\n\n  for (const param in params) {\n    url = addQueryParam(url, param, params[param]);\n  }\n\n  return url;\n}\n\n/**\n * @param {string} url FE URL.\n * @return {string} The complete URL including cache param.\n */\nexport function feCached(url) {\n  return addQueryParam(url, '_', cacheParam(getSwgMode().feCache));\n}\n\n/**\n * @param {!Object<string, ?>} args\n * @return {!Object<string, ?>}\n */\nexport function feArgs(args) {\n  return Object.assign(args, {\n    '_client': 'SwG $internalRuntimeVersion$',\n  });\n}\n\n/**\n * @param {string} cacheKey\n * @return {string}\n * @package Visible for testing only.\n */\nexport function cacheParam(cacheKey) {\n  let period = CACHE_KEYS[cacheKey];\n  if (period == null) {\n    period = 1;\n  }\n  if (period === 0) {\n    return '_';\n  }\n  const now = Date.now();\n  return String(period <= 1 ? now : Math.floor(now / period));\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {SmartBoxMessage} from '../proto/api_messages';\nimport {createElement} from '../utils/dom';\nimport {feArgs, feUrl} from './services';\nimport {setImportantStyles} from '../utils/style';\n\n/** @const {!Object<string, string>} */\nconst iframeAttributes = {\n  'frameborder': '0',\n  'scrolling': 'no',\n};\n\n/**\n * @enum {string}\n */\nexport const Theme = {\n  LIGHT: 'light',\n  DARK: 'dark',\n};\n\n/**\n * The class for Smart button Api.\n */\nexport class SmartSubscriptionButtonApi {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {!Element} button\n   * @param {!../api/subscriptions.SmartButtonOptions} options\n   * @param {function(!Event=)=} callback\n   */\n  constructor(deps, button, options, callback) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!Document} */\n    this.doc_ = this.win_.document;\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = /** @type {!HTMLIFrameElement} */ (\n      createElement(this.doc_, 'iframe', iframeAttributes)\n    );\n\n    /** @private @const {!Element} */\n    this.button_ = button;\n\n    /** @private {!../api/subscriptions.SmartButtonOptions} */\n    this.options_ = options;\n\n    /** @private @const */\n    this.callback_ = callback;\n\n    /** @private @const {string} */\n    this.src_ = feUrl('/smartboxiframe');\n\n    const frontendArguments = {\n      'productId': this.deps_.pageConfig().getProductId(),\n      'publicationId': this.deps_.pageConfig().getPublicationId(),\n      'theme': (this.options_ && this.options_.theme) || 'light',\n      'lang': (this.options_ && this.options_.lang) || 'en',\n    };\n    const messageTextColor = this.options_ && this.options_.messageTextColor;\n    if (messageTextColor) {\n      frontendArguments['messageTextColor'] = messageTextColor;\n    }\n\n    /** @private @const {!Object} */\n    this.args_ = feArgs(frontendArguments);\n  }\n\n  /**\n   * @param {SmartBoxMessage} smartBoxMessage\n   */\n  handleSmartBoxClick_(smartBoxMessage) {\n    if (smartBoxMessage && smartBoxMessage.getIsClicked()) {\n      this.callback_();\n    }\n  }\n\n  /**\n   * Make a call to build button content and listens for the 'click' message.\n   * @return {!Element}\n   */\n  start() {\n    setImportantStyles(this.iframe_, {\n      'opacity': 1,\n      'position': 'absolute',\n      'top': 0,\n      'bottom': 0,\n      'left': 0,\n      'height': '100%',\n      'right': 0,\n      'width': '100%',\n    });\n    this.button_.appendChild(this.iframe_);\n    const args = this.activityPorts_.addDefaultArguments(this.args_);\n    this.activityPorts_\n      .openIframe(this.iframe_, this.src_, args)\n      .then((port) => {\n        port.on(SmartBoxMessage, this.handleSmartBoxClick_.bind(this));\n      });\n    return this.iframe_;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst PREFIX = 'subscribe.google.com';\n\n/**\n * This class is responsible for the storage of data in session storage. If\n * you're looking to store data in local storage, see\n * src/runtime/local-storage.LocalStorage.\n */\nexport class Storage {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Object<string, !Promise<?string>>} */\n    this.values_ = {};\n  }\n\n  /**\n   * @param {string} key\n   * @param {boolean=} useLocalStorage\n   * @return {!Promise<?string>}\n   */\n  get(key, useLocalStorage = false) {\n    if (!this.values_[key]) {\n      this.values_[key] = new Promise((resolve) => {\n        const storage = useLocalStorage\n          ? this.win_.localStorage\n          : this.win_.sessionStorage;\n        if (storage) {\n          try {\n            resolve(storage.getItem(storageKey(key)));\n          } catch (e) {\n            // Ignore error.\n            resolve(null);\n          }\n        } else {\n          resolve(null);\n        }\n      });\n    }\n    return this.values_[key];\n  }\n\n  /**\n   * @param {string} key\n   * @param {string} value\n   * @param {boolean=} useLocalStorage\n   * @return {!Promise}\n   */\n  set(key, value, useLocalStorage = false) {\n    this.values_[key] = Promise.resolve(value);\n    return new Promise((resolve) => {\n      const storage = useLocalStorage\n        ? this.win_.localStorage\n        : this.win_.sessionStorage;\n      if (storage) {\n        try {\n          storage.setItem(storageKey(key), value);\n        } catch (e) {\n          // Ignore error.\n        }\n      }\n      resolve();\n    });\n  }\n\n  /**\n   * @param {string} key\n   * @param {boolean=} useLocalStorage\n   * @return {!Promise}\n   */\n  remove(key, useLocalStorage = false) {\n    delete this.values_[key];\n    return new Promise((resolve) => {\n      const storage = useLocalStorage\n        ? this.win_.localStorage\n        : this.win_.sessionStorage;\n      if (storage) {\n        try {\n          storage.removeItem(storageKey(key));\n        } catch (e) {\n          // Ignore error.\n        }\n      }\n      resolve();\n    });\n  }\n}\n\n/**\n * @param {string} key\n * @return {string}\n */\nfunction storageKey(key) {\n  return PREFIX + ':' + key;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {ActivityIframeView} from '../ui/activity-iframe-view';\nimport {DeferredAccountCreationResponse} from '../api/deferred-account-creation';\nimport {feArgs, feUrl} from './services';\n\nconst NO_PROMISE_ERR = 'No account promise provided';\n\nexport class WaitForSubscriptionLookupApi {\n  /**\n   * @param {!./deps.DepsDef} deps\n   * @param {?Promise} accountPromise\n   */\n  constructor(deps, accountPromise) {\n    /** @private @const {!./deps.DepsDef} */\n    this.deps_ = deps;\n\n    /** @private @const {!Window} */\n    this.win_ = deps.win();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {!../components/dialog-manager.DialogManager} */\n    this.dialogManager_ = deps.dialogManager();\n\n    /** @private {?Promise} */\n    this.openViewPromise_ = null;\n\n    /** @private {!Promise} */\n    this.accountPromise_ = accountPromise || Promise.reject(NO_PROMISE_ERR);\n\n    /** @private @const {!ActivityIframeView} */\n    this.activityIframeView_ = new ActivityIframeView(\n      this.win_,\n      this.activityPorts_,\n      feUrl('/waitforsubscriptionlookupiframe'),\n      feArgs({\n        publicationId: deps.pageConfig().getPublicationId(),\n        productId: deps.pageConfig().getProductId(),\n      }),\n      /* shouldFadeBody */ true,\n      /* hasLoadingIndicator */ true\n    );\n  }\n\n  /**\n   * Starts the Login Flow.\n   * @return {!Promise}\n   */\n  start() {\n    this.openViewPromise_ = this.dialogManager_.openView(\n      this.activityIframeView_\n    );\n\n    return this.accountPromise_.then(\n      (account) => {\n        // Account was found.\n        this.dialogManager_.completeView(this.activityIframeView_);\n        return account;\n      },\n      (reason) => {\n        this.dialogManager_.completeView(this.activityIframeView_);\n        throw reason;\n      }\n    );\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {View} from '../components/view';\nimport {acceptPortResultData} from '../utils/activity-utils';\nimport {createElement} from '../utils/dom';\nimport {isCancelError} from '../utils/errors';\n\n/** @const {!Object<string, string>} */\nconst iframeAttributes = {\n  'frameborder': '0',\n  'scrolling': 'no',\n};\n\n/**\n * Class to build and render Activity iframe view.\n */\nexport class ActivityIframeView extends View {\n  /**\n   * @param {!Window} win\n   * @param {!../components/activities.ActivityPorts} activityPorts\n   * @param {string} src\n   * @param {!Object<string, ?>=} args Additional data to be passed to the iframe.\n   * @param {boolean=} shouldFadeBody\n   * @param {boolean=} hasLoadingIndicator\n   */\n  constructor(\n    win,\n    activityPorts,\n    src,\n    args,\n    shouldFadeBody = false,\n    hasLoadingIndicator = false\n  ) {\n    super();\n\n    /** @private @const {!Window} */\n    this.win_ = win;\n\n    /** @private @const {!Document} */\n    this.doc_ = this.win_.document;\n\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = /** @type {!HTMLIFrameElement} */ (\n      createElement(this.doc_, 'iframe', iframeAttributes)\n    );\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = activityPorts;\n\n    /** @private @const {string} */\n    this.src_ = src;\n\n    /** @private @const {!Object<string, ?>} */\n    this.args_ = args || {};\n\n    /** @private @const {boolean} */\n    this.shouldFadeBody_ = shouldFadeBody;\n\n    /** @private @const {boolean} */\n    this.hasLoadingIndicator_ = hasLoadingIndicator;\n\n    /** @private {?../components/activities.ActivityIframePort} */\n    this.port_ = null;\n\n    /**\n     * @private\n     * {?function<!web-activities/activity-ports.ActivityIframePort|!Promise>}\n     */\n    this.portResolver_ = null;\n\n    /**\n     * @private @const\n     * {!Promise<!web-activities/activity-ports.ActivityIframePort>}\n     */\n    this.portPromise_ = new Promise((resolve) => {\n      this.portResolver_ = resolve;\n    });\n  }\n\n  /** @override */\n  getElement() {\n    return this.iframe_;\n  }\n\n  /** @override */\n  init(dialog) {\n    return this.activityPorts_\n      .openIframe(this.iframe_, this.src_, this.args_)\n      .then((port) => this.onOpenIframeResponse_(port, dialog));\n  }\n\n  /**\n   * Returns if document should fade for this view.\n   * @return {boolean}\n   */\n  shouldFadeBody() {\n    return this.shouldFadeBody_;\n  }\n\n  /**\n   * Returns if the view shows loading indicator.\n   * @return {boolean}\n   */\n  hasLoadingIndicator() {\n    return this.hasLoadingIndicator_;\n  }\n\n  /**\n   * @param {!../components/activities.ActivityIframePort} port\n   * @param {!../components/dialog.Dialog} dialog\n   * @return {!Promise}\n   */\n  onOpenIframeResponse_(port, dialog) {\n    this.port_ = port;\n    this.portResolver_(port);\n\n    this.port_.onResizeRequest((height) => {\n      dialog.resizeView(this, height);\n    });\n\n    return this.port_.whenReady();\n  }\n\n  /**\n   * @return {!Promise<!../components/activities.ActivityIframePort>}\n   * @private\n   */\n  getPortPromise_() {\n    return this.portPromise_;\n  }\n\n  /**\n   * @param {!function(new: T)}  message\n   * @param {function(?)} callback\n   * @template T\n   */\n  on(message, callback) {\n    this.getPortPromise_().then((port) => {\n      port.on(message, callback);\n    });\n  }\n\n  /**\n   * @param {!../proto/api_messages.Message} request\n   */\n  execute(request) {\n    this.getPortPromise_().then((port) => {\n      port.execute(request);\n    });\n  }\n\n  /**\n   * Accepts results from the caller.\n   * @return {!Promise<!web-activities/activity-ports.ActivityResult>}\n   */\n  acceptResult() {\n    return this.getPortPromise_().then((port) => port.acceptResult());\n  }\n\n  /**\n   * Accepts results from the caller and verifies origin.\n   * @param {string} requireOrigin\n   * @param {boolean} requireOriginVerified\n   * @param {boolean} requireSecureChannel\n   * @return {!Promise<!Object>}\n   */\n  acceptResultAndVerify(\n    requireOrigin,\n    requireOriginVerified,\n    requireSecureChannel\n  ) {\n    return this.getPortPromise_().then((port) => {\n      return acceptPortResultData(\n        port,\n        requireOrigin,\n        requireOriginVerified,\n        requireSecureChannel\n      );\n    });\n  }\n\n  /**\n   * Completes the flow.\n   * @return {!Promise}\n   */\n  whenComplete() {\n    return this.acceptResult();\n  }\n\n  /**\n   * @param {function()} callback\n   */\n  onCancel(callback) {\n    this.acceptResult().catch((reason) => {\n      if (isCancelError(reason)) {\n        callback();\n      }\n      throw reason;\n    });\n  }\n\n  /** @override */\n  resized() {\n    if (this.port_) {\n      this.port_.resized();\n    }\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createElement} from '../utils/dom';\n\n/**\n * Display configration options for the loading view.\n *\n * Properties:\n * - additionalClasses: List of CSS classes to apply to the loading container.\n *\n * @typedef {{\n *   additionalClasses: (!Array<string>|undefined),\n * }}\n */\nexport let LoadingViewConfig;\n\n/**\n * Loading indicator class. Builds the loading indicator view to be injected in\n * parent element <iframe class=\"swg-dialog\"> element. Provides methods to\n * show/hide loading indicator.\n */\nexport class LoadingView {\n  /**\n   * @param {!Document} doc\n   * @param {!LoadingViewConfig=} config\n   */\n  constructor(doc, config = {}) {\n    /** @private @const {!Document} */\n    this.doc_ = doc;\n\n    /** @private @const {!Element} */\n    this.loadingContainer_ = createElement(\n      this.doc_,\n      'swg-loading-container',\n      {}\n    );\n    if (config.additionalClasses) {\n      for (const additionalClass of config.additionalClasses) {\n        this.loadingContainer_.classList.add(additionalClass);\n      }\n    }\n\n    /** @private @const {!Element} */\n    this.loading_ = createElement(this.doc_, 'swg-loading', {});\n    this.loadingContainer_.appendChild(this.loading_);\n\n    this.loadingContainer_.style.setProperty('display', 'none', 'important');\n\n    // Build the animated loading indicator.\n    this.buildLoadingIndicator_();\n  }\n\n  /**\n   * Gets the populated loading container.\n   * @return {!Element}\n   */\n  getElement() {\n    return this.loadingContainer_;\n  }\n\n  /**\n   * Shows the loading indicator within the container element.\n   */\n  show() {\n    this.loadingContainer_.style.removeProperty('display');\n  }\n\n  /**\n   * Hides the loading indicator within the container element.\n   */\n  hide() {\n    this.loadingContainer_.style.setProperty('display', 'none', 'important');\n  }\n\n  /**\n   * Populates the loading indivicator. The populated element\n   * can be added in any view, when required.\n   * @private\n   */\n  buildLoadingIndicator_() {\n    const loadingContainer = this.loading_;\n\n    const loadingIndicatorTopContainer = createElement(\n      this.doc_,\n      'swg-loading-animate',\n      {}\n    );\n    loadingContainer.appendChild(loadingIndicatorTopContainer);\n\n    const loadingIndicatorChildContainer = createElement(\n      this.doc_,\n      'swg-loading-image',\n      {}\n    );\n    loadingIndicatorTopContainer.appendChild(loadingIndicatorChildContainer);\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createElement} from '../utils/dom';\nimport {resetStyles, setImportantStyles} from '../utils/style';\nimport {transition} from '../utils/animation';\n\n/** @const {!Object<string, string|number>} */\nexport const toastImportantStyles = {\n  'height': 0,\n};\n\n/** @typedef {{\n *    text: string,\n *    action: ({label: string, handler: function()}|undefined)\n *  }}\n */\nexport let ToastSpecDef;\n\n/** @const {!Object<string, string>} */\nconst iframeAttributes = {\n  'frameborder': '0',\n  'scrolling': 'no',\n  'class': 'swg-toast',\n};\n\n/**\n * The class Notification toast.\n */\nexport class Toast {\n  /**\n   * @param {!../runtime/deps.DepsDef} deps\n   * @param {string} src\n   * @param {?Object<string, ?>=} args\n   */\n  constructor(deps, src, args) {\n    /** @private @const {!../model/doc.Doc} */\n    this.doc_ = deps.doc();\n\n    /** @private @const {!../components/activities.ActivityPorts} */\n    this.activityPorts_ = deps.activities();\n\n    /** @private @const {string} */\n    this.src_ = src;\n\n    /** @private {?Object<string, ?>} */\n    this.args_ = args || {};\n\n    /** @private {?Promise} */\n    this.animating_ = null;\n\n    /** @private @const {!HTMLIFrameElement} */\n    this.iframe_ = /** @type {!HTMLIFrameElement} */ (\n      createElement(this.doc_.getWin().document, 'iframe', iframeAttributes)\n    );\n\n    setImportantStyles(this.iframe_, toastImportantStyles);\n\n    /** @private @const {!Promise} */\n    this.ready_ = new Promise((resolve) => {\n      this.iframe_.onload = resolve;\n    });\n  }\n\n  /**\n   * Returns the iframe element.\n   * @return {!HTMLIFrameElement}\n   */\n  getElement() {\n    return this.iframe_;\n  }\n\n  /**\n   * Opens the notification toast.\n   * @return {!Promise}\n   */\n  open() {\n    this.doc_.getBody().appendChild(this.iframe_); // Fires onload.\n    return this.buildToast_();\n  }\n\n  /**\n   * Builds the content of the iframe. On load, animates the toast.\n   */\n  buildToast_() {\n    const toastDurationSeconds = 7;\n    return this.activityPorts_\n      .openIframe(this.iframe_, this.src_, this.args_)\n      .then((port) => {\n        return port.whenReady();\n      })\n      .then(() => {\n        resetStyles(this.iframe_, ['height']);\n\n        this.animate_(() => {\n          setImportantStyles(this.iframe_, {\n            'transform': 'translateY(100%)',\n            'opactiy': 1,\n            'visibility': 'visible',\n          });\n          return transition(\n            this.iframe_,\n            {\n              'transform': 'translateY(0)',\n              'opacity': 1,\n              'visibility': 'visible',\n            },\n            400,\n            'ease-out'\n          );\n        });\n\n        // Close the Toast after the specified duration.\n        this.doc_.getWin().setTimeout(() => {\n          this.close();\n        }, (toastDurationSeconds + 1) * 1000);\n      });\n  }\n\n  /**\n   * @param {function():!Promise} callback\n   * @return {!Promise}\n   * @private\n   */\n  animate_(callback) {\n    const wait = this.animating_ || Promise.resolve();\n    return (this.animating_ = wait\n      .then(() => callback())\n      // Ignore errors to make sure animations don't get stuck.\n      .catch(() => {})\n      .then(() => {\n        this.animating_ = null;\n      }));\n  }\n\n  /**\n   * Closes the toast.\n   * @return {!Promise}\n   */\n  close() {\n    return this.animate_(() => {\n      // Remove the toast from the DOM after animation is complete.\n      this.doc_.getWin().setTimeout(() => {\n        this.doc_.getBody().removeChild(this.iframe_);\n        return Promise.resolve();\n      }, 500);\n\n      return transition(\n        this.iframe_,\n        {\n          'transform': 'translateY(100%)',\n          'opacity': 1,\n          'visibility': 'visible',\n        },\n        400,\n        'ease-out'\n      );\n    });\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @param {!../components/activities.ActivityPortDef} port\n * @param {string} requireOrigin\n * @param {boolean} requireOriginVerified\n * @param {boolean} requireSecureChannel\n * @return {!Promise<!Object>}\n */\nexport function acceptPortResultData(\n  port,\n  requireOrigin,\n  requireOriginVerified,\n  requireSecureChannel\n) {\n  return port.acceptResult().then((result) => {\n    if (\n      result.origin != requireOrigin ||\n      (requireOriginVerified && !result.originVerified) ||\n      (requireSecureChannel && !result.secureChannel)\n    ) {\n      throw new Error('channel mismatch');\n    }\n    return result.data;\n  });\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {setImportantStyles} from './style';\n\n/**\n * Returns a promise which is resolved after the given duration of animation\n * @param {!Element} el - Element to be observed.\n * @param {!Object<string, string|number>} props - properties to be animated.\n * @param {number} durationMillis - duration of animation.\n * @param {string} curve - transition function for the animation.\n * @return {!Promise} Promise which resolves once the animation is done playing.\n */\nexport function transition(el, props, durationMillis, curve) {\n  const win = el.ownerDocument.defaultView;\n  const previousTransitionValue = el.style.transition || '';\n  return new Promise((resolve) => {\n    win.setTimeout(() => {\n      win.setTimeout(resolve, durationMillis);\n      const tr = `${durationMillis}ms ${curve}`;\n      setImportantStyles(\n        el,\n        Object.assign(\n          {\n            'transition': `transform ${tr}, opacity ${tr}`,\n          },\n          props\n        )\n      );\n    });\n  }).then(() => {\n    setImportantStyles(el, {\n      'transition': previousTransitionValue,\n    });\n  });\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {assert} from './log';\n\n/**\n * Character mapping from base64url to base64.\n * @const {!Object<string, string>}\n */\nconst base64UrlDecodeSubs = {'-': '+', '_': '/'};\n\n/**\n * Character mapping from base64 to base64url.\n * @const {!Object<string, string>}\n */\nconst base64UrlEncodeSubs = {'+': '-', '/': '_', '=': ''};\n\n/**\n * Converts a string which holds 8-bit code points, such as the result of atob,\n * into a Uint8Array with the corresponding bytes.\n * If you have a string of characters, you probably want to be using utf8Encode.\n * @param {string} str\n * @return {!Uint8Array}\n */\nexport function stringToBytes(str) {\n  const bytes = new Uint8Array(str.length);\n  for (let i = 0; i < str.length; i++) {\n    const charCode = str.charCodeAt(i);\n    assert(charCode <= 255, 'Characters must be in range [0,255]');\n    bytes[i] = charCode;\n  }\n  return bytes;\n}\n\n/**\n * Converts a 8-bit bytes array into a string\n * @param {!Uint8Array} bytes\n * @return {string}\n */\nexport function bytesToString(bytes) {\n  // Intentionally avoids String.fromCharCode.apply so we don't suffer a\n  // stack overflow. #10495, https://jsperf.com/bytesToString-2\n  const array = new Array(bytes.length);\n  for (let i = 0; i < bytes.length; i++) {\n    array[i] = String.fromCharCode(bytes[i]);\n  }\n  return array.join('');\n}\n\n/**\n * Interpret a byte array as a UTF-8 string.\n * @param {!Uint8Array} bytes\n * @return {string}\n */\nexport function utf8DecodeSync(bytes) {\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder('utf-8').decode(bytes);\n  }\n  const asciiString = bytesToString(new Uint8Array(bytes));\n  return decodeURIComponent(escape(asciiString));\n}\n\n/**\n * Turn a string into UTF-8 bytes.\n * @param {string} string\n * @return {!Uint8Array}\n */\nexport function utf8EncodeSync(string) {\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder('utf-8').encode(string);\n  }\n  return stringToBytes(unescape(encodeURIComponent(string)));\n}\n\n/**\n * Converts a string which is in base64url encoding into a Uint8Array\n * containing the decoded value.\n * @param {string} str\n * @return {!Uint8Array}\n */\nexport function base64UrlDecodeToBytes(str) {\n  const encoded = atob(str.replace(/[-_]/g, (ch) => base64UrlDecodeSubs[ch]));\n  return stringToBytes(encoded);\n}\n\n/**\n * Converts a bytes array into base64url encoded string.\n * base64url is defined in RFC 4648. It is sometimes referred to as \"web safe\".\n * @param {!Uint8Array} bytes\n * @return {string}\n */\nexport function base64UrlEncodeFromBytes(bytes) {\n  const str = bytesToString(bytes);\n  return btoa(str).replace(/[+/=]/g, (ch) => base64UrlEncodeSubs[ch]);\n}\n","/**\n * Copyright 2021 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst Constants = {};\n\n/**\n * Local storage key for swgUserToken.\n *\n * @const {string}\n */\nConstants.USER_TOKEN = 'USER_TOKEN';\n\nConstants.READ_TIME = 'READ_TIME';\n\nexport {Constants};\n","/**\n * Copyright 2020 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Timestamp} from '../proto/api_messages';\n\n/**\n * @param {!number} millis\n * @return {!Timestamp}\n */\nexport function toTimestamp(millis) {\n  return new Timestamp(\n    [Math.floor(millis / 1000), (millis % 1000) * 1000000],\n    false\n  );\n}\n\n/**\n * This function is used for convert the timestamp provided by publisher to\n * milliseconds. Although we required publishers to provide timestamp in\n * milliseconds, but there's a chance they may not follow the instruction.\n * So this function supports the conversion of seconds, milliseconds and\n * microseconds.\n * @param {!number} timestamp represented as seconds, milliseconds or microseconds\n * @return {!number}\n */\nexport function convertPotentialTimestampToSeconds(timestamp) {\n  let timestampInSeconds;\n  if (timestamp >= 1e14 || timestamp <= -1e14) {\n    // Microseconds\n    timestampInSeconds = Math.floor(timestamp / 1e6);\n  } else if (timestamp >= 1e11 || timestamp <= -3e10) {\n    // Milliseconds\n    timestampInSeconds = Math.floor(timestamp / 1000);\n  } else {\n    // Seconds\n    timestampInSeconds = timestamp;\n  }\n  return timestampInSeconds;\n}\n\n/**\n * @param {!number} timestamp represented as seconds, milliseconds or microseconds\n * @return {!number}\n */\nexport function convertPotentialTimestampToMilliseconds(timestamp) {\n  let timestampInMilliseconds;\n  if (timestamp >= 1e14 || timestamp <= -1e14) {\n    // Microseconds\n    timestampInMilliseconds = Math.floor(timestamp / 1000);\n  } else if (timestamp >= 1e11 || timestamp <= -3e10) {\n    // Milliseconds\n    timestampInMilliseconds = timestamp;\n  } else {\n    // Seconds\n    timestampInMilliseconds = Math.floor(timestamp * 1000);\n  }\n  return timestampInMilliseconds;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @param {!Document} doc\n * @return {string}\n */\nfunction getReadyState(doc) {\n  return /** @type {string} */ (doc['readyState']);\n}\n\n/**\n * Whether the document is ready.\n * @param {!Document} doc\n * @return {boolean}\n */\nexport function isDocumentReady(doc) {\n  const readyState = getReadyState(doc);\n  return readyState != 'loading' && readyState != 'uninitialized';\n}\n\n/**\n * Whether the document has loaded all the css and sub-resources.\n * @param {!Document} doc\n * @return {boolean}\n */\nfunction isDocumentComplete(doc) {\n  return getReadyState(doc) == 'complete';\n}\n\n/**\n * Calls the callback when document is ready.\n * @param {!Document} doc\n * @param {function(!Document)} callback\n */\nexport function onDocumentReady(doc, callback) {\n  onDocumentState(doc, isDocumentReady, callback);\n}\n\n/**\n * Calls the callback once when document's state satisfies the condition.\n * @param {!Document} doc\n * @param {function(!Document):boolean} condition\n * @param {function(!Document)} callback\n */\nfunction onDocumentState(doc, condition, callback) {\n  if (condition(doc)) {\n    // Execute callback right now.\n    callback(doc);\n    return;\n  }\n\n  // Execute callback (once!) after condition is satisfied.\n  let callbackHasExecuted = false;\n  const readyListener = () => {\n    if (condition(doc) && !callbackHasExecuted) {\n      callback(doc);\n      callbackHasExecuted = true;\n      doc.removeEventListener('readystatechange', readyListener);\n    }\n  };\n  doc.addEventListener('readystatechange', readyListener);\n}\n\n/**\n * Returns a promise that is resolved when document is ready.\n * @param {!Document} doc\n * @return {!Promise<!Document>}\n */\nexport function whenDocumentReady(doc) {\n  return new Promise((resolve) => {\n    onDocumentReady(doc, resolve);\n  });\n}\n\n/**\n * Returns a promise that is resolved when document is complete.\n * @param {!Document} doc\n * @return {!Promise<!Document>}\n */\nexport function whenDocumentComplete(doc) {\n  return new Promise((resolve) => {\n    onDocumentState(doc, isDocumentComplete, resolve);\n  });\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {assert} from './log';\nimport {setStyles} from './style';\n\n/** @const @enum{string} */\nexport const styleLinkAttrs = {\n  'rel': 'stylesheet',\n  'type': 'text/css',\n};\n\n/** @const {string} */\nexport const styleType = 'text/css';\n\n/** @const {string} */\nexport const styleExistsQuerySelector = 'link[rel=stylesheet][href]';\n\n/**\n * Add attributes to an element.\n * @param {!Element} element\n * @param {!Object<string, string|number|boolean|!Object<string, string|number|boolean>>} attributes\n * @return {!Element} updated element.\n */\nexport function addAttributesToElement(element, attributes) {\n  for (const attr in attributes) {\n    if (attr == 'style') {\n      setStyles(\n        element,\n        /** @type {!Object<string, string|boolean|number>} */\n        (attributes[attr])\n      );\n    } else {\n      element.setAttribute(\n        attr,\n        /** @type {string|boolean|number} */ (attributes[attr])\n      );\n    }\n  }\n  return element;\n}\n\n/**\n * Create a new element on document with specified tagName and attributes.\n * @param {!Document} doc\n * @param {string} tagName\n * @param {!Object<string, string>} attributes\n * @param {?(string|!Node|!ArrayLike<!Node>|!Array<!Node>)=} content\n * @return {!Element} created element.\n */\nexport function createElement(doc, tagName, attributes, content) {\n  const element = doc.createElement(tagName);\n  addAttributesToElement(element, attributes);\n  if (content != null) {\n    if (typeof content == 'string') {\n      element.textContent = content;\n    } else if (content.nodeType) {\n      element.appendChild(/** @type {!Node} */ (content));\n    } else if ('length' in content) {\n      for (let i = 0; i < content.length; i++) {\n        element.appendChild(content[i]);\n      }\n    } else {\n      assert(false, 'Unsupported content: %s', content);\n    }\n  }\n  return element;\n}\n\n/**\n * Removes the element.\n * @param {!Element} element\n */\nexport function removeElement(element) {\n  if (element.parentElement) {\n    element.parentElement.removeChild(element);\n  }\n}\n\n/**\n * Removes all children from the parent element.\n * @param {!Element} parent\n */\nexport function removeChildren(parent) {\n  parent.textContent = '';\n}\n\n/**\n * Injects the provided styles in the HEAD section of the document.\n * @param {!../model/doc.Doc} doc The document object.\n * @param {string} styleText The style string.\n * @return {!Element}\n */\nexport function injectStyleSheet(doc, styleText) {\n  const styleElement = createElement(doc.getWin().document, 'style', {\n    'type': styleType,\n  });\n  styleElement.textContent = styleText;\n  doc.getHead().appendChild(styleElement);\n  return styleElement;\n}\n\n/**\n * Whether the element have a next node in the document order.\n * This means either:\n *  a. The element itself has a nextSibling.\n *  b. Any of the element ancestors has a nextSibling.\n * @param {!Element} element\n * @param {?Node=} stopNode\n * @return {boolean}\n */\nexport function hasNextNodeInDocumentOrder(element, stopNode) {\n  let currentElement = element;\n  do {\n    if (currentElement.nextSibling) {\n      return true;\n    }\n  } while (\n    (currentElement = currentElement.parentNode) &&\n    currentElement != stopNode\n  );\n  return false;\n}\n\n/**\n * Polyfill of the `Node.isConnected` API. See\n * https://developer.mozilla.org/en-US/docs/Web/API/Node/isConnected.\n * @param {!Node} node\n * @return {boolean}\n */\nexport function isConnected(node) {\n  // Ensure that node is attached if specified. This check uses a new and\n  // fast `isConnected` API and thus only checked on platforms that have it.\n  // See https://www.chromestatus.com/feature/5676110549352448.\n  if ('isConnected' in node) {\n    return node['isConnected'];\n  }\n  // Polyfill.\n  const root = node.ownerDocument && node.ownerDocument.documentElement;\n  return (root && root.contains(node)) || false;\n}\n\n/**\n * Returns true if current browser is a legacy version of Edge.\n *\n * Starting in January 2020, new versions of Edge will use the Chromium engine.\n * These versions won't include the word \"Edge\" in their useragent.\n * Instead, they'll include the word \"Edg\".\n * So far, it seems safe to avoid detecting these new versions of Edge.\n * @param {!Window} win\n * @return {boolean}\n */\nexport function isLegacyEdgeBrowser(win) {\n  const nav = win.navigator;\n  return /Edge/i.test(nav && nav.userAgent);\n}\n","/**\n * Copyright 2020 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Triple zero width space.\n *\n * This is added to user error messages, so that we can later identify\n * them, when the only thing that we have is the message. This is the\n * case in many browsers when the global exception handler is invoked.\n *\n * @const {string}\n */\nexport const AMP_USER_ERROR_SENTINEL = '\\u200B\\u200B\\u200B';\n\n/**\n * Some exceptions (DOMException, namely) have read-only message.\n * @param {!Error} error\n * @return {!Error}\n */\nfunction duplicateErrorIfNecessary(error) {\n  const messageProperty = Object.getOwnPropertyDescriptor(error, 'message');\n  if (messageProperty && messageProperty.writable) {\n    return error;\n  }\n\n  const {message, stack} = error;\n  const e = new Error(message);\n  // Copy all the extraneous things we attach.\n  for (const prop in error) {\n    e[prop] = error[prop];\n  }\n  // Ensure these are copied.\n  e.stack = stack;\n  return e;\n}\n\n/**\n * @param {...*} var_args\n * @return {!Error}\n */\nfunction createErrorVargs(var_args) {\n  let error = null;\n  let message = '';\n  for (let i = 0; i < arguments.length; i++) {\n    const arg = arguments[i];\n    if (arg instanceof Error && !error) {\n      error = duplicateErrorIfNecessary(arg);\n    } else {\n      if (message) {\n        message += ' ';\n      }\n      message += arg;\n    }\n  }\n\n  if (!error) {\n    error = new Error(message);\n  } else if (message) {\n    error.message = message + ': ' + error.message;\n  }\n  return error;\n}\n\n/** Helper class for throwing standardized errors. */\nexport class ErrorLogger {\n  /**\n   * Constructor.\n   *\n   * opt_suffix will be appended to error message to identify the type of the\n   * error message. We can't rely on the error object to pass along the type\n   * because some browsers do not have this param in its window.onerror API.\n   * See:\n   * https://blog.sentry.io/2016/01/04/client-javascript-reporting-window-onerror.html\n   *\n   * @param {string=} opt_suffix\n   */\n  constructor(opt_suffix = '') {\n    /** @private @const {string} */\n    this.suffix_ = opt_suffix;\n  }\n\n  /**\n   * Modifies an error before reporting, such as to add metadata.\n   * @param {!Error} error\n   * @private\n   */\n  prepareError_(error) {\n    if (this.suffix_) {\n      if (!error.message) {\n        error.message = this.suffix_;\n      } else if (error.message.indexOf(this.suffix_) === -1) {\n        error.message = this.suffix_;\n      }\n    }\n  }\n\n  /**\n   * Creates an error.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createError(var_args) {\n    const error = createErrorVargs.apply(\n      null,\n      Array.prototype.slice.call(arguments)\n    );\n    this.prepareError_(error);\n    return error;\n  }\n\n  /**\n   * Creates an error object with its expected property set to true. Used for\n   * expected failure states (ex. incorrect configuration, localStorage\n   * unavailable due to browser settings, etc.) as opposed to unexpected\n   * breakages/failures.\n   * @param {...*} var_args\n   * @return {!Error}\n   */\n  createExpectedError(var_args) {\n    const error = createErrorVargs.apply(\n      null,\n      Array.prototype.slice.call(arguments)\n    );\n    this.prepareError_(error);\n    error.expected = true;\n    return error;\n  }\n\n  /**\n   * Throws an error.\n   * @param {...*} var_args\n   * @throws {!Error}\n   */\n  error(var_args) {\n    throw this.createError.apply(this, arguments);\n  }\n\n  /**\n   * Throws an error and marks with an expected property.\n   * @param {...*} var_args\n   * @throws {!Error}\n   */\n  expectedError(var_args) {\n    throw this.createExpectedError.apply(this, arguments);\n  }\n}\n\nconst userLogger = new ErrorLogger(\n  self.__AMP_TOP ? AMP_USER_ERROR_SENTINEL : ''\n);\nconst devLogger = new ErrorLogger();\n\nexport const user = () => userLogger;\nexport const dev = () => devLogger;\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst {\n  createAbortError,\n  isAbortError,\n} = require('web-activities/activity-ports');\n\n/**\n * Whether the specified error is an AbortError type.\n * See https://heycam.github.io/webidl/#aborterror.\n * @param {*} error\n * @return {boolean}\n */\nexport function isCancelError(error) {\n  return isAbortError(error);\n}\n\n/**\n * Creates or emulates a DOMException of AbortError type.\n * See https://heycam.github.io/webidl/#aborterror.\n * @param {!Window} win\n * @param {string=} message\n * @return {!DOMException}\n */\nexport function createCancelError(win, message) {\n  return createAbortError(win, message);\n}\n\n/**\n * A set of error utilities combined in a class to allow easy stubbing in tests.\n */\nexport class ErrorUtils {\n  /**\n   * @param {!Error} error\n   */\n  static throwAsync(error) {\n    setTimeout(() => {\n      throw error;\n    });\n  }\n}\n","/**\n * Copyright 2020 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// PLEASE DO NOT HOST THIS FILE YOURSELF. DOING SO WILL BREAK THINGS.\n//\n// Publishers should load this file from:\n// https://news.google.com/swg/js/v1/swg-gaa.js\n//\n// Thanks!\n\nimport {I18N_STRINGS} from '../i18n/strings';\nimport {JwtHelper} from './jwt';\nimport {\n  ShowcaseEvent,\n  Subscriptions as SubscriptionsDef,\n} from '../api/subscriptions';\nimport {\n  addQueryParam,\n  parseQueryString,\n  parseUrl,\n  wasReferredByGoogle,\n} from './url';\nimport {debugLog, warn} from './log';\nimport {findInArray} from './object';\nimport {getLanguageCodeFromElement, msg} from './i18n';\nimport {parseJson} from './json';\nimport {setImportantStyles} from './style';\n\n// Load types for Closure compiler.\nimport {AnalyticsEvent, EventOriginator} from '../proto/api_messages';\nimport {convertPotentialTimestampToSeconds} from './date-utils';\nimport {createElement, injectStyleSheet} from './dom';\nimport {resolveDoc} from '../model/doc';\nimport {showcaseEventToAnalyticsEvents} from '../runtime/event-type-mapping';\n\n/** Stamp for post messages. */\nexport const POST_MESSAGE_STAMP = 'swg-gaa-post-message-stamp';\n\n/** Introduction command for post messages. */\nexport const POST_MESSAGE_COMMAND_INTRODUCTION = 'introduction';\n\n/** User command for post messages. */\nexport const POST_MESSAGE_COMMAND_USER = 'user';\n\n/** Error command for post messages. */\nexport const POST_MESSAGE_COMMAND_ERROR = 'error';\n\n/** Button click command for post messages. */\nexport const POST_MESSAGE_COMMAND_BUTTON_CLICK = 'button-click';\n\n/** 3P button click command for post messages. */\nexport const POST_MESSAGE_COMMAND_3P_BUTTON_CLICK = '3p-button-click';\n\n/** ID for the Google Sign-In iframe element. */\nexport const GOOGLE_SIGN_IN_IFRAME_ID = 'swg-google-sign-in-iframe';\n\n/** ID for the Google Sign-In button element. */\nexport const GOOGLE_SIGN_IN_BUTTON_ID = 'swg-google-sign-in-button';\n\n/** ID for the third party Google Sign-In button element.  */\nexport const GOOGLE_3P_SIGN_IN_BUTTON_ID = 'swg-google-3p-sign-in-button';\n\n/** ID for the Google Sign-In button element. */\nexport const SIGN_IN_WITH_GOOGLE_BUTTON_ID = 'swg-sign-in-with-google-button';\n\n/** ID for the Publisher sign-in button element. */\nconst PUBLISHER_SIGN_IN_BUTTON_ID = 'swg-publisher-sign-in-button';\n\n/** ID for the Regwall container element. */\nexport const REGISTRATION_BUTTON_CONTAINER_ID =\n  'swg-registration-button-container';\n\n/** ID for the Regwall container element. */\nexport const REGWALL_CONTAINER_ID = 'swg-regwall-container';\n\n/** ID for the Regwall dialog element. */\nexport const REGWALL_DIALOG_ID = 'swg-regwall-dialog';\n\n/** ID for the Regwall title element. */\nexport const REGWALL_TITLE_ID = 'swg-regwall-title';\n\n/** Delay used to log 3P button click before redirect */\nconst REDIRECT_DELAY = 10;\n\n/**\n * HTML for the metering regwall dialog, where users can sign in with Google.\n * The script creates a dialog based on this HTML.\n *\n * The HTML includes an iframe that loads the Google Sign-In button.\n * This iframe can live on a different origin.\n */\nconst REGWALL_HTML = `\n<style>\n  .gaa-metering-regwall--dialog-spacer,\n  .gaa-metering-regwall--dialog,\n  .gaa-metering-regwall--logo,\n  .gaa-metering-regwall--title,\n  .gaa-metering-regwall--description,\n  .gaa-metering-regwall--description strong,\n  .gaa-metering-regwall--iframe,\n  .gaa-metering-regwall--registration-button-container,\n  .gaa-metering-regwall--casl {\n    all: initial !important;\n    box-sizing: border-box !important;\n    font-family: Roboto, arial, sans-serif !important;\n  }\n\n  .gaa-metering-regwall--dialog-spacer {\n    background: linear-gradient(0, #808080, transparent) !important;\n    bottom: 0 !important;\n    display: block !important;\n    position: fixed !important;\n    width: 100% !important;\n  }\n\n  @keyframes slideUp {\n    from {transform: translate(0, 200px) !important;}\n    to {transform: translate(0, 0) !important;}\n  }\n\n  .gaa-metering-regwall--dialog {\n    animation: slideUp 0.5s !important;\n    background: white !important;\n    border-radius: 12px 12px 0 0 !important;\n    box-shadow: 0px -2px 6px rgba(0, 0, 0, 0.3) !important;\n    display: block !important;\n    margin: 0 auto !important;\n    max-width: 100% !important;\n    padding: 24px 20px !important;\n    pointer-events: auto !important;\n    width: 410px !important;\n  }\n\n  .gaa-metering-regwall--logo {\n    display: block !important;\n    margin: 0 auto 24px !important;\n  }\n\n  .gaa-metering-regwall--title {\n    color: #000 !important;\n    display: block !important;\n    font-size: 16px !important;\n    margin: 0 0 8px !important;\n    outline: none !important !important;\n  }\n\n  .gaa-metering-regwall--description {\n    color: #646464 !important;\n    display: block !important;\n    font-size: 14px !important;\n    line-height: 19px !important;\n    margin: 0 0 30px !important;\n  }\n\n  .gaa-metering-regwall--description strong {\n    color: #646464 !important;\n    font-size: 14px !important;\n    line-height: 19px !important;\n    font-weight: bold !important;\n  }\n\n  .gaa-metering-regwall--iframe {\n    border: none !important;\n    display: block !important;\n    height: 44px !important;\n    margin: 0 0 30px !important;\n    width: 100% !important;\n  }\n\n  .gaa-metering-regwall--registration-button-container {\n    border: none !important;\n    display: block !important;\n    height: 44px !important;\n    margin: 0 0 30px !important;\n    width: 100% !important;\n  }\n\n  .gaa-metering-regwall--casl {\n    color: #646464 !important;\n    display: block !important;\n    font-size: 12px !important;\n    text-align: center !important;\n    margin: -16px auto 32px !important;\n  }\n\n  .gaa-metering-regwall--casl a {\n    color: #1967d2 !important;\n  }\n\n  .gaa-metering-regwall--line {\n    background-color: #ddd !important;\n    display: block !important;\n    height: 1px !important;\n    margin: 0 0 24px !important;\n  }\n\n  .gaa-metering-regwall--publisher-sign-in-button {\n    color: #1967d2 !important;\n    cursor: pointer !important;\n    display: block !important;\n    font-size: 12px !important;\n    text-decoration: underline !important;\n  }\n\n  .gaa-metering-regwall--google-sign-in-button {\n    height: 36px !important;\n    margin: 0 auto 30px !important;\n  }\n\n  .gaa-metering-regwall--google-sign-in-button > div {\n    animation: swgGoogleSignInButtonfadeIn 0.32s !important;\n  }\n\n  @keyframes swgGoogleSignInButtonfadeIn {\n    from {\n      opacity: 0 !important;\n    }\n    to {\n      opacity: 1 !important;\n    }\n  }\n</style>\n\n<div class=\"gaa-metering-regwall--dialog-spacer\">\n  <div role=\"dialog\" aria-modal=\"true\" class=\"gaa-metering-regwall--dialog\" id=\"${REGWALL_DIALOG_ID}\" aria-labelledby=\"${REGWALL_TITLE_ID}\">\n    <img alt=\"Google\" class=\"gaa-metering-regwall--logo\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDc0IDI0Ij48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNOS4yNCA4LjE5djIuNDZoNS44OGMtLjE4IDEuMzgtLjY0IDIuMzktMS4zNCAzLjEtLjg2Ljg2LTIuMiAxLjgtNC41NCAxLjgtMy42MiAwLTYuNDUtMi45Mi02LjQ1LTYuNTRzMi44My02LjU0IDYuNDUtNi41NGMxLjk1IDAgMy4zOC43NyA0LjQzIDEuNzZMMTUuNCAyLjVDMTMuOTQgMS4wOCAxMS45OCAwIDkuMjQgMCA0LjI4IDAgLjExIDQuMDQuMTEgOXM0LjE3IDkgOS4xMyA5YzIuNjggMCA0LjctLjg4IDYuMjgtMi41MiAxLjYyLTEuNjIgMi4xMy0zLjkxIDIuMTMtNS43NSAwLS41Ny0uMDQtMS4xLS4xMy0xLjU0SDkuMjR6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTI1IDYuMTljLTMuMjEgMC01LjgzIDIuNDQtNS44MyA1LjgxIDAgMy4zNCAyLjYyIDUuODEgNS44MyA1LjgxczUuODMtMi40NiA1LjgzLTUuODFjMC0zLjM3LTIuNjItNS44MS01LjgzLTUuODF6bTAgOS4zM2MtMS43NiAwLTMuMjgtMS40NS0zLjI4LTMuNTIgMC0yLjA5IDEuNTItMy41MiAzLjI4LTMuNTJzMy4yOCAxLjQzIDMuMjggMy41MmMwIDIuMDctMS41MiAzLjUyLTMuMjggMy41MnoiLz48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNNTMuNTggNy40OWgtLjA5Yy0uNTctLjY4LTEuNjctMS4zLTMuMDYtMS4zQzQ3LjUzIDYuMTkgNDUgOC43MiA0NSAxMmMwIDMuMjYgMi41MyA1LjgxIDUuNDMgNS44MSAxLjM5IDAgMi40OS0uNjIgMy4wNi0xLjMyaC4wOXYuODFjMCAyLjIyLTEuMTkgMy40MS0zLjEgMy40MS0xLjU2IDAtMi41My0xLjEyLTIuOTMtMi4wN2wtMi4yMi45MmMuNjQgMS41NCAyLjMzIDMuNDMgNS4xNSAzLjQzIDIuOTkgMCA1LjUyLTEuNzYgNS41Mi02LjA1VjYuNDloLTIuNDJ2MXptLTIuOTMgOC4wM2MtMS43NiAwLTMuMS0xLjUtMy4xLTMuNTIgMC0yLjA1IDEuMzQtMy41MiAzLjEtMy41MiAxLjc0IDAgMy4xIDEuNSAzLjEgMy41NC4wMSAyLjAzLTEuMzYgMy41LTMuMSAzLjV6Ii8+PHBhdGggZmlsbD0iI0ZCQkMwNSIgZD0iTTM4IDYuMTljLTMuMjEgMC01LjgzIDIuNDQtNS44MyA1LjgxIDAgMy4zNCAyLjYyIDUuODEgNS44MyA1LjgxczUuODMtMi40NiA1LjgzLTUuODFjMC0zLjM3LTIuNjItNS44MS01LjgzLTUuODF6bTAgOS4zM2MtMS43NiAwLTMuMjgtMS40NS0zLjI4LTMuNTIgMC0yLjA5IDEuNTItMy41MiAzLjI4LTMuNTJzMy4yOCAxLjQzIDMuMjggMy41MmMwIDIuMDctMS41MiAzLjUyLTMuMjggMy41MnoiLz48cGF0aCBmaWxsPSIjMzRBODUzIiBkPSJNNTggLjI0aDIuNTF2MTcuNTdINTh6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTY4LjI2IDE1LjUyYy0xLjMgMC0yLjIyLS41OS0yLjgyLTEuNzZsNy43Ny0zLjIxLS4yNi0uNjZjLS40OC0xLjMtMS45Ni0zLjctNC45Ny0zLjctMi45OSAwLTUuNDggMi4zNS01LjQ4IDUuODEgMCAzLjI2IDIuNDYgNS44MSA1Ljc2IDUuODEgMi42NiAwIDQuMi0xLjYzIDQuODQtMi41N2wtMS45OC0xLjMyYy0uNjYuOTYtMS41NiAxLjYtMi44NiAxLjZ6bS0uMTgtNy4xNWMxLjAzIDAgMS45MS41MyAyLjIgMS4yOGwtNS4yNSAyLjE3YzAtMi40NCAxLjczLTMuNDUgMy4wNS0zLjQ1eiIvPjwvc3ZnPg==\" />\n\n    <div class=\"gaa-metering-regwall--title\" id=\"${REGWALL_TITLE_ID}\" tabindex=\"0\">$SHOWCASE_REGWALL_TITLE$</div>\n\n    <div class=\"gaa-metering-regwall--description\">\n      $SHOWCASE_REGWALL_DESCRIPTION$\n    </div>\n\n    $SHOWCASE_REGISTRATION_BUTTON$\n\n    $SHOWCASE_REGWALL_CASL$\n\n    <div class=\"gaa-metering-regwall--line\"></div>\n\n    <a\n        id=\"${PUBLISHER_SIGN_IN_BUTTON_ID}\"\n        class=\"gaa-metering-regwall--publisher-sign-in-button\"\n        tabindex=\"0\"\n        href=\"#\">\n      $SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON$\n    </a>\n  </div>\n</div>\n`;\n\n/**\n * HTML for iFrame to render registration widget.\n */\nconst REGISTRATION_WIDGET_IFRAME_HTML = `\n  <iframe\n      id=\"${GOOGLE_SIGN_IN_IFRAME_ID}\"\n      class=\"gaa-metering-regwall--iframe\"\n      src=\"$iframeUrl$\">\n  </iframe>\n`;\n\n/**\n * HTML for container of the registration button.\n */\nconst REGISTRATION_BUTTON_HTML = `\n  <div\n      id=\"${REGISTRATION_BUTTON_CONTAINER_ID}\"\n      class=\"gaa-metering-regwall--registration-button-container\">\n  </div>\n`;\n\n/**\n * HTML for the CASL blurb.\n * CASL stands for Canadian Anti-Spam Law.\n */\nconst CASL_HTML = `\n<div class=\"gaa-metering-regwall--casl\">\n  $SHOWCASE_REGWALL_CASL$\n</div>\n`;\n\n/** Base styles for both the Google and Google 3p Sign-In button iframes. */\nconst GOOGLE_SIGN_IN_BUTTON_STYLES = `\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID},\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID},\n  #${GOOGLE_SIGN_IN_BUTTON_ID} {\n    margin: 0 auto;\n  }\n\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID}{\n    width: 220px;\n  }\n\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} > div,\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID} > div,\n  #${GOOGLE_SIGN_IN_BUTTON_ID} > div {\n    animation: fadeIn 0.32s;\n  }\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue,\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID} .abcRioButton.abcRioButtonBlue,\n  #${GOOGLE_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue {\n    background-color: #1A73E8;\n    box-shadow: none;\n    -webkit-box-shadow: none;\n    border-radius: 4px;\n    width: 100% !important;\n  }\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonIcon,\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonIcon,\n  #${GOOGLE_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonIcon {\n    display: none;\n  }\n  /** Hides default \"Sign in with Google\" text. */\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID}  .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_],\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID}  .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_],\n  #${GOOGLE_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_] {\n    font-size: 0 !important;\n  }\n  /** Renders localized \"Sign in with Google\" text instead. */\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before,\n  #${SIGN_IN_WITH_GOOGLE_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before,\n  #${GOOGLE_SIGN_IN_BUTTON_ID} .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before {\n    content: '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$';\n    font-size: 15px;\n  }`;\nconst GOOGLE_SIGN_IN_IFRAME_STYLES = `\n  body {\n    margin: 0;\n    overflow: hidden;\n  }${GOOGLE_SIGN_IN_BUTTON_STYLES}\n`;\n\n/**\n * User object that Publisher JS receives after users sign in.\n * @typedef {{\n *   idToken: string,\n *   name: string,\n *   givenName: string,\n *   familyName: string,\n *   imageUrl: string,\n *   email: string,\n *   authorizationData: {\n *     access_token: string,\n *     id_token: string,\n *     scope: string,\n *     expires_in: number,\n *     first_issued_at: number,\n *     expires_at: number,\n *   },\n * }} GaaUserDef\n */\nexport let GaaUserDef;\n\n/**\n * Google Identity (V1) that Google Identity Services returns after someone signs in.\n * https://developers.google.com/identity/gsi/web/reference/js-reference#CredentialResponse\n * @typedef {{\n *   iss: string,\n *   nbf: number,\n *   aud: string,\n *   sub: string,\n *   hd: string,\n *   email: string,\n *   email_verified: boolean,\n *   azp: string,\n *   name: string,\n *   picture: string,\n *   given_name: string,\n *   family_name: string,\n *   iat: number,\n *   exp: number,\n *   jti: string,\n * }} GoogleIdentityV1\n */\nexport let GoogleIdentityV1;\n\n/**\n * GoogleUser object that Google Sign-In returns after users sign in.\n * https://developers.google.com/identity/sign-in/web/reference#googleusergetbasicprofile\n * @typedef {{\n *  getAuthResponse: function(boolean): {\n *     access_token: string,\n *     id_token: string,\n *     scope: string,\n *     expires_in: number,\n *     first_issued_at: number,\n *     expires_at: number,\n *   },\n *   getBasicProfile: function(): {\n *     getName: function(): string,\n *     getGivenName: function(): string,\n *     getFamilyName: function(): string,\n *     getImageUrl: function(): string,\n *     getEmail: function(): string,\n *   },\n * }} GoogleUserDef\n */\nexport let GoogleUserDef;\n\n/**\n * InitParams object that GaaMetering.init accepts\n * https://developers.google.com/news/subscribe/extended-access/overview\n * @typedef {{\n * allowedReferrers: (Array<string>|null),\n * googleApiClientId: string,\n * authorizationUrl: string,\n * handleLoginPromise: (Promise|null),\n * caslUrl: string,\n * handleSwGEntitlement: function(): ?,\n * publisherEntitlementPromise: (Promise|null),\n * registerUserPromise: (Promise|null),\n * showPaywall: function(): ?,\n * showcaseEntitlement: string,\n * unlockArticle: function(): ?,\n * rawJwt: (boolean|null),\n * userState: {\n *   paywallReason: string,\n *   grantReason: string,\n *   granted: boolean,\n *   id: string,\n *   registrationTimestamp: number,\n *   subscriptionTimestamp: number\n * }\n * }} InitParams\n */\nexport let InitParams;\n\n/**\n * Returns true if the query string contains fresh Google Article Access (GAA) params.\n * @param {string} queryString\n * @param {boolean} allowAllAccessTypes\n * @return {boolean}\n */\nexport function queryStringHasFreshGaaParams(\n  queryString,\n  allowAllAccessTypes = false\n) {\n  const params = parseQueryString(queryString);\n\n  // Verify GAA params exist.\n  if (\n    !params['gaa_at'] ||\n    !params['gaa_n'] ||\n    !params['gaa_sig'] ||\n    !params['gaa_ts']\n  ) {\n    return false;\n  }\n\n  if (!allowAllAccessTypes) {\n    // Verify access type.\n    const noAccess = params['gaa_at'] === 'na';\n    if (noAccess) {\n      return false;\n    }\n  }\n\n  // Verify timestamp isn't stale.\n  const expirationTimestamp = parseInt(params['gaa_ts'], 16);\n  const currentTimestamp = Date.now() / 1000;\n  if (expirationTimestamp < currentTimestamp) {\n    return false;\n  }\n\n  return true;\n}\n\n/** Renders Google Article Access (GAA) Metering Regwall. */\nexport class GaaMeteringRegwall {\n  /**\n   * Returns a promise for a Google user object.\n   * The user object will be a:\n   * - GaaUserDef, if you use the GaaGoogleSignInButton\n   * - GoogleIdentityV1, if you use the GaaSignInWithGoogleButton\n   * - Custom object, if you use the GaaGoogle3pSignInButton\n   *\n   * This method opens a metering regwall dialog,\n   * where users can sign in with Google.\n   * @nocollapse\n   * @param {{ iframeUrl: string, caslUrl: string }} params\n   * @return {!Promise<!GaaUserDef|!GoogleIdentityV1|!Object>}\n   */\n  static show({iframeUrl, caslUrl}) {\n    const queryString = GaaUtils.getQueryString();\n    if (!queryStringHasFreshGaaParams(queryString)) {\n      const errorMessage =\n        '[swg-gaa.js:GaaMeteringRegwall.show]: URL needs fresh GAA params.';\n      warn(errorMessage);\n      return Promise.reject(errorMessage);\n    }\n\n    logEvent({\n      showcaseEvent: ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL,\n      isFromUserAction: false,\n    });\n\n    GaaMeteringRegwall.render_({iframeUrl, caslUrl});\n    GaaMeteringRegwall.sendIntroMessageToGsiIframe_({iframeUrl});\n    GaaMeteringRegwall.logButtonClickEvents_();\n    return GaaMeteringRegwall.getGaaUser_()\n      .then((gaaUser) => {\n        GaaMeteringRegwall.remove();\n        return gaaUser;\n      })\n      .catch((err) => {\n        // Close the Regwall, since the flow failed.\n        GaaMeteringRegwall.remove();\n\n        // Rethrow error.\n        throw err;\n      });\n  }\n\n  /**\n   * Returns a promise for a Google user object.\n   * The user object will be a GoogleIdentityV1\n   *\n   * This method opens a metering regwall dialog,\n   * where users can sign in with Google.\n   * @nocollapse\n   * @param {{ caslUrl: string, googleApiClientId: string, rawJwt: (boolean|null) }} params\n   * @return {!Promise<!GoogleIdentityV1>}\n   */\n  static showWithNativeRegistrationButton({\n    caslUrl,\n    googleApiClientId,\n    rawJwt = true,\n  }) {\n    logEvent({\n      showcaseEvent: ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL,\n      isFromUserAction: false,\n    });\n\n    GaaMeteringRegwall.render_({\n      iframeUrl: '',\n      caslUrl,\n      useNativeMode: true,\n    });\n\n    return GaaMeteringRegwall.createNativeRegistrationButton({\n      googleApiClientId,\n    })\n      .then((jwt) => {\n        GaaMeteringRegwall.remove();\n        if (rawJwt) {\n          return jwt;\n        } else {\n          return new JwtHelper().decode(jwt.credential);\n        }\n      })\n      .catch((err) => {\n        // Close the Regwall, since the flow failed.\n        GaaMeteringRegwall.remove();\n\n        // Rethrow error.\n        debugLog(`Regwall failed: ${err}`);\n      });\n  }\n\n  /**\n   * This method opens a metering regwall dialog,\n   * where users can sign in with Google.\n   *\n   * @nocollapse\n   * @param {{ caslUrl: string, authorizationUrl: string }} params\n   * @return {boolean}\n   */\n  static showWithNative3PRegistrationButton({caslUrl, authorizationUrl}) {\n    logEvent({\n      showcaseEvent: ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL,\n      isFromUserAction: false,\n    });\n\n    GaaMeteringRegwall.render_({\n      iframeUrl: '',\n      caslUrl,\n      useNativeMode: true,\n    });\n    return GaaMeteringRegwall.createNative3PRegistrationButton({\n      authorizationUrl,\n    });\n  }\n\n  /**\n   * Removes the Regwall.\n   * @nocollapse\n   */\n  static remove() {\n    const regwallContainer = self.document.getElementById(REGWALL_CONTAINER_ID);\n    if (regwallContainer) {\n      regwallContainer.remove();\n    }\n  }\n\n  /**\n   * Signs out of Google Sign-In.\n   * This is useful for developers who are testing their\n   * SwG integrations.\n   * @nocollapse\n   * @return {!Promise}\n   */\n  static signOut() {\n    return configureGoogleSignIn().then(() =>\n      self.gapi.auth2.getAuthInstance().signOut()\n    );\n  }\n\n  /**\n   * Renders the Regwall.\n   * @private\n   * @nocollapse\n   * @param {{ iframeUrl: string, caslUrl: string, useNativeMode: (boolean|undefined)}} params\n   */\n  static render_({iframeUrl, caslUrl, useNativeMode = false}) {\n    const languageCode = getLanguageCodeFromElement(self.document.body);\n    const publisherName = GaaMeteringRegwall.getPublisherNameFromPageConfig_();\n    const placeholderPatternForPublication = /<ph name=\"PUBLICATION\".+?\\/ph>/g;\n    const placeholderPatternForLinkStart = /<ph name=\"LINK_START\".+?\\/ph>/g;\n    const placeholderPatternForLinkEnd = /<ph name=\"LINK_END\".+?\\/ph>/g;\n\n    // Create and style container element.\n    // TODO: Consider using a FriendlyIframe here, to avoid CSS conflicts.\n    const containerEl = createElement(self.document, 'div', {\n      id: REGWALL_CONTAINER_ID,\n    });\n    setImportantStyles(containerEl, {\n      'all': 'unset',\n      'background-color': 'rgba(32, 33, 36, 0.6)',\n      'border': 'none',\n      'bottom': '0',\n      'height': '100%',\n      'left': '0',\n      'opacity': '0',\n      'pointer-events': 'none',\n      'position': 'fixed',\n      'right': '0',\n      'transition': 'opacity 0.5s',\n      'top': '0',\n      'width': '100%',\n      'z-index': 2147483646,\n    });\n\n    // Optionally include CASL HTML.\n    let caslHtml = '';\n    if (caslUrl) {\n      caslHtml = CASL_HTML.replace(\n        '$SHOWCASE_REGWALL_CASL$',\n        msg(I18N_STRINGS['SHOWCASE_REGWALL_CASL'], languageCode)\n      )\n        // Update link.\n        .replace(\n          placeholderPatternForLinkStart,\n          `<a href=\"${encodeURI(caslUrl)}\" target=\"_blank\">`\n        )\n        .replace(placeholderPatternForLinkEnd, '</a>')\n        // Update publisher name.\n        .replace(\n          placeholderPatternForPublication,\n          `<strong>${publisherName}</strong>`\n        );\n    }\n\n    let registrationButtonHtml = '';\n    if (useNativeMode) {\n      registrationButtonHtml = REGISTRATION_BUTTON_HTML;\n    } else {\n      // Tell the iframe which language to render.\n      iframeUrl = addQueryParam(iframeUrl, 'lang', languageCode);\n      registrationButtonHtml = REGISTRATION_WIDGET_IFRAME_HTML.replace(\n        '$iframeUrl$',\n        iframeUrl\n      );\n    }\n\n    // Prepare HTML.\n    containerEl./*OK*/ innerHTML = REGWALL_HTML.replace(\n      '$SHOWCASE_REGISTRATION_BUTTON$',\n      registrationButtonHtml\n    )\n      .replace(\n        '$SHOWCASE_REGWALL_TITLE$',\n        msg(I18N_STRINGS['SHOWCASE_REGWALL_TITLE'], languageCode)\n      )\n      .replace(\n        '$SHOWCASE_REGWALL_DESCRIPTION$',\n        msg(I18N_STRINGS['SHOWCASE_REGWALL_DESCRIPTION'], languageCode)\n          // Update publisher name.\n          .replace(placeholderPatternForPublication, publisherName)\n      )\n      .replace(\n        '$SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON$',\n        msg(\n          I18N_STRINGS['SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON'],\n          languageCode\n        )\n      )\n      .replace('$SHOWCASE_REGWALL_CASL$', caslHtml);\n\n    // Add container to DOM.\n    self.document.body.appendChild(containerEl);\n\n    // Trigger a fade-in transition.\n    /** @suppress {suspiciousCode} */\n    containerEl.offsetHeight; // Trigger a repaint (to prepare the CSS transition).\n    setImportantStyles(containerEl, {'opacity': 1});\n\n    // Listen for clicks.\n    GaaMeteringRegwall.addClickListenerOnPublisherSignInButton_();\n\n    // Focus on the title after the dialog animates in.\n    // This helps people using screenreaders.\n    const dialogEl = self.document.getElementById(REGWALL_DIALOG_ID);\n    dialogEl.addEventListener('animationend', () => {\n      const titleEl = self.document.getElementById(REGWALL_TITLE_ID);\n      titleEl.focus();\n    });\n\n    return containerEl;\n  }\n\n  /**\n   * Gets publisher name from page config.\n   * @private\n   * @nocollapse\n   * @return {string}\n   */\n  static getPublisherNameFromPageConfig_() {\n    const jsonLdPageConfig =\n      GaaMeteringRegwall.getPublisherNameFromJsonLdPageConfig_();\n    if (jsonLdPageConfig) {\n      return jsonLdPageConfig;\n    }\n\n    const microdataPageConfig =\n      GaaMeteringRegwall.getPublisherNameFromMicrodataPageConfig_();\n    if (microdataPageConfig) {\n      return microdataPageConfig;\n    }\n\n    throw new Error(\n      'Showcase articles must define a publisher name with either JSON-LD or Microdata.'\n    );\n  }\n\n  /**\n   * Gets publisher name from JSON-LD page config.\n   * @private\n   * @nocollapse\n   * @return {string|undefined}\n   */\n  static getPublisherNameFromJsonLdPageConfig_() {\n    // Get JSON from ld+json scripts.\n    const ldJsonScripts = Array.prototype.slice.call(\n      self.document.querySelectorAll('script[type=\"application/ld+json\"]')\n    );\n    const jsonQueue = /** @type {!Array<*>} */ (\n      ldJsonScripts.map((script) => parseJson(script.textContent))\n    );\n\n    // Search for publisher name, breadth-first.\n    for (let i = 0; i < jsonQueue.length; i++) {\n      const json = /** @type {!Object<?,?>} */ (jsonQueue[i]);\n\n      // Return publisher name, if possible.\n      const publisherName = json?.publisher?.name;\n      if (publisherName) {\n        return publisherName;\n      }\n\n      // Explore JSON.\n      if (json && typeof json === 'object') {\n        jsonQueue.push(...Object.values(json));\n      }\n    }\n  }\n\n  /**\n   * Gets publisher name from Microdata page config.\n   * @private\n   * @nocollapse\n   * @return {string|undefined}\n   */\n  static getPublisherNameFromMicrodataPageConfig_() {\n    const publisherNameElements = self.document.querySelectorAll(\n      '[itemscope][itemtype][itemprop=\"publisher\"] [itemprop=\"name\"]'\n    );\n\n    for (const publisherNameElement of publisherNameElements) {\n      const publisherName = publisherNameElement.content;\n      if (publisherName) {\n        return publisherName;\n      }\n    }\n  }\n\n  /**\n   * Adds a click listener on the publisher sign-in button.\n   * @private\n   * @nocollapse\n   */\n  static addClickListenerOnPublisherSignInButton_() {\n    self.document\n      .getElementById(PUBLISHER_SIGN_IN_BUTTON_ID)\n      .addEventListener('click', (e) => {\n        e.preventDefault();\n\n        logEvent({\n          analyticsEvent:\n            AnalyticsEvent.ACTION_SHOWCASE_REGWALL_EXISTING_ACCOUNT_CLICK,\n          isFromUserAction: true,\n        });\n\n        callSwg((swg) => swg.triggerLoginRequest({linkRequested: false}));\n      });\n  }\n\n  /**\n   * Returns the GAA user, after the user signs in.\n   * @private\n   * @nocollapse\n   * @return {!Promise<!GoogleUserDef>}\n   */\n  static getGaaUser_() {\n    // Listen for GAA user.\n    return new Promise((resolve, reject) => {\n      self.addEventListener('message', (e) => {\n        if (e.data.stamp === POST_MESSAGE_STAMP) {\n          if (e.data.command === POST_MESSAGE_COMMAND_USER) {\n            // Pass along user details.\n            resolve(e.data.gaaUser || e.data.returnedJwt);\n          }\n\n          if (e.data.command === POST_MESSAGE_COMMAND_ERROR) {\n            // Reject promise due to Google Sign-In error.\n            reject('Google Sign-In could not render');\n          }\n        }\n      });\n    });\n  }\n\n  /**\n   * Logs button click events.\n   * @private\n   * @nocollapse\n   */\n  static logButtonClickEvents_() {\n    // Listen for button event messages.\n    self.addEventListener('message', (e) => {\n      if (\n        e.data.stamp === POST_MESSAGE_STAMP &&\n        e.data.command === POST_MESSAGE_COMMAND_BUTTON_CLICK\n      ) {\n        // Log button click event.\n        logEvent({\n          analyticsEvent: AnalyticsEvent.ACTION_SHOWCASE_REGWALL_GSI_CLICK,\n          isFromUserAction: true,\n        });\n      }\n      if (\n        e.data.stamp === POST_MESSAGE_STAMP &&\n        e.data.command === POST_MESSAGE_COMMAND_3P_BUTTON_CLICK\n      ) {\n        // Log button click event.\n        logEvent({\n          analyticsEvent:\n            AnalyticsEvent.ACTION_SHOWCASE_REGWALL_3P_BUTTON_CLICK,\n          isFromUserAction: true,\n        });\n      }\n    });\n  }\n\n  /**\n   * Sends intro post message to Google Sign-In iframe.\n   * @private\n   * @nocollapse\n   * @param {{ iframeUrl: string }} params\n   */\n  static sendIntroMessageToGsiIframe_({iframeUrl}) {\n    // Introduce this window to the publisher's Google Sign-In iframe.\n    // This lets the iframe send post messages back to this window.\n    // Without the introduction, the iframe wouldn't have a reference to this window.\n    const googleSignInIframe = /** @type {!HTMLIFrameElement} */ (\n      self.document.getElementById(GOOGLE_SIGN_IN_IFRAME_ID)\n    );\n    googleSignInIframe.onload = () => {\n      googleSignInIframe.contentWindow.postMessage(\n        {\n          stamp: POST_MESSAGE_STAMP,\n          command: POST_MESSAGE_COMMAND_INTRODUCTION,\n        },\n        new URL(iframeUrl).origin\n      );\n    };\n  }\n\n  static createNativeRegistrationButton({googleApiClientId}) {\n    const languageCode = getLanguageCodeFromElement(self.document.body);\n    const parentElement = self.document.getElementById(\n      REGISTRATION_BUTTON_CONTAINER_ID\n    );\n    if (!parentElement) {\n      return false;\n    }\n    // Apply iframe styles.\n    const styleText = GOOGLE_SIGN_IN_BUTTON_STYLES.replace(\n      '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$',\n      msg(I18N_STRINGS['SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON'], languageCode)\n    );\n    injectStyleSheet(resolveDoc(self.document), styleText);\n\n    // Create and append button to regwall\n    const buttonEl = createElement(self.document, 'div', {\n      id: SIGN_IN_WITH_GOOGLE_BUTTON_ID,\n      tabIndex: 0,\n    });\n    parentElement.appendChild(buttonEl);\n\n    // Track button clicks.\n    buttonEl.addEventListener('click', () => {\n      logEvent({\n        analyticsEvent: AnalyticsEvent.ACTION_SHOWCASE_REGWALL_SWIG_CLICK,\n        isFromUserAction: true,\n      });\n    });\n\n    return new Promise((resolve) => {\n      self.google.accounts.id.initialize({\n        /* eslint-disable google-camelcase/google-camelcase */\n        client_id: googleApiClientId,\n        callback: resolve,\n        /* eslint-enable google-camelcase/google-camelcase */\n      });\n      self.google.accounts.id.renderButton(buttonEl, {\n        'type': 'standard',\n        'theme': 'outline',\n        'text': 'continue_with',\n        'logo_alignment': 'center',\n      });\n    });\n  }\n\n  static createNative3PRegistrationButton({authorizationUrl}) {\n    const languageCode = getLanguageCodeFromElement(self.document.body);\n    const parentElement = self.document.getElementById(\n      REGISTRATION_BUTTON_CONTAINER_ID\n    );\n    if (!parentElement) {\n      return false;\n    }\n    // Apply iframe styles.\n    const styleText = GOOGLE_3P_SIGN_IN_IFRAME_STYLES.replace(\n      '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$',\n      msg(I18N_STRINGS['SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON'], languageCode)\n    );\n    injectStyleSheet(resolveDoc(self.document), styleText);\n\n    // Render the third party Google Sign-In button.\n    const buttonEl = createElement(self.document, 'div', {\n      id: GOOGLE_3P_SIGN_IN_BUTTON_ID,\n      tabIndex: 0,\n    });\n    buttonEl./*OK*/ innerHTML = GOOGLE_3P_SIGN_IN_BUTTON_HTML;\n    parentElement.appendChild(buttonEl);\n\n    buttonEl.addEventListener('click', () => {\n      // Track button clicks.\n      logEvent({\n        analyticsEvent: AnalyticsEvent.ACTION_SHOWCASE_REGWALL_3P_BUTTON_CLICK,\n        isFromUserAction: true,\n      });\n      // Redirect user using the parent window.\n      // TODO(b/242998655): Fix the downstream calls for logEvent to be chained to remove the need of delaying redirect.\n      self.setTimeout(() => {\n        self.open(authorizationUrl, '_parent');\n      }, REDIRECT_DELAY);\n    });\n\n    return buttonEl;\n  }\n}\n\nexport class GaaGoogleSignInButton {\n  /**\n   * Renders the Google Sign-In button.\n   * @nocollapse\n   * @param {{ allowedOrigins: !Array<string> }} params\n   */\n  static show({allowedOrigins}) {\n    // Optionally grab language code from URL.\n    const queryString = GaaUtils.getQueryString();\n    const queryParams = parseQueryString(queryString);\n    const languageCode = queryParams['lang'] || 'en';\n\n    // Apply iframe styles.\n    const styleText = GOOGLE_SIGN_IN_IFRAME_STYLES.replace(\n      '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$',\n      msg(I18N_STRINGS['SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON'], languageCode)\n    );\n    injectStyleSheet(resolveDoc(self.document), styleText);\n\n    // Promise a function that sends messages to the parent frame.\n    // Note: A function is preferable to a reference to the parent frame\n    // because referencing the parent frame outside of the 'message' event\n    // handler throws an Error. A function defined within the handler can\n    // effectively save a reference to the parent frame though.\n    const sendMessageToParentFnPromise = new Promise((resolve) => {\n      self.addEventListener('message', (e) => {\n        if (\n          allowedOrigins.indexOf(e.origin) !== -1 &&\n          e.data.stamp === POST_MESSAGE_STAMP &&\n          e.data.command === POST_MESSAGE_COMMAND_INTRODUCTION\n        ) {\n          resolve((message) => {\n            e.source.postMessage(message, e.origin);\n          });\n        }\n      });\n    });\n\n    function sendErrorMessageToParent() {\n      sendMessageToParentFnPromise.then((sendMessageToParent) => {\n        sendMessageToParent({\n          stamp: POST_MESSAGE_STAMP,\n          command: POST_MESSAGE_COMMAND_ERROR,\n        });\n      });\n    }\n\n    // Validate origins.\n    for (const allowedOrigin of allowedOrigins) {\n      const url = new URL(allowedOrigin);\n\n      const isOrigin = url.origin === allowedOrigin;\n      const protocolIsValid =\n        url.protocol === 'http:' || url.protocol === 'https:';\n      const isValidOrigin = isOrigin && protocolIsValid;\n\n      if (!isValidOrigin) {\n        warn(\n          `[swg-gaa.js:GaaGoogleSignInButton.show]: You specified an invalid origin: ${allowedOrigin}`\n        );\n        sendErrorMessageToParent();\n        return;\n      }\n    }\n\n    // Render the Google Sign-In button.\n    configureGoogleSignIn()\n      .then(\n        // Promise credentials.\n        () =>\n          new Promise((resolve) => {\n            // Render the Google Sign-In button.\n            const buttonEl = createElement(self.document, 'div', {\n              id: GOOGLE_SIGN_IN_BUTTON_ID,\n              tabIndex: 0,\n            });\n            self.document.body.appendChild(buttonEl);\n            self.gapi.signin2.render(GOOGLE_SIGN_IN_BUTTON_ID, {\n              'longtitle': true,\n              'onsuccess': resolve,\n              'prompt': 'select_account',\n              'scope': 'profile email',\n              'theme': 'dark',\n            });\n\n            // Track button clicks.\n            buttonEl.addEventListener('click', () => {\n              // Tell parent frame about button click.\n              sendMessageToParentFnPromise.then((sendMessageToParent) => {\n                sendMessageToParent({\n                  stamp: POST_MESSAGE_STAMP,\n                  command: POST_MESSAGE_COMMAND_BUTTON_CLICK,\n                });\n              });\n            });\n          })\n      )\n      .then((googleUser) => {\n        // Gather GAA user details.\n        const basicProfile = /** @type {!GoogleUserDef} */ (\n          googleUser\n        ).getBasicProfile();\n        // Gather authorization response.\n        const authorizationData = /** @type {!GoogleUserDef} */ (\n          googleUser\n        ).getAuthResponse(true);\n        /** @type {!GaaUserDef} */\n        const gaaUser = {\n          idToken: authorizationData.id_token,\n          name: basicProfile.getName(),\n          givenName: basicProfile.getGivenName(),\n          familyName: basicProfile.getFamilyName(),\n          imageUrl: basicProfile.getImageUrl(),\n          email: basicProfile.getEmail(),\n          authorizationData,\n        };\n\n        // Send GAA user to parent frame.\n        sendMessageToParentFnPromise.then((sendMessageToParent) => {\n          sendMessageToParent({\n            stamp: POST_MESSAGE_STAMP,\n            command: POST_MESSAGE_COMMAND_USER,\n            gaaUser,\n          });\n        });\n      })\n      .catch(sendErrorMessageToParent);\n  }\n}\n\nexport class GaaSignInWithGoogleButton {\n  /**\n   * Renders the Google Sign-In button.\n   * @nocollapse\n   * @param {{ clientId: string, allowedOrigins: !Array<string>, rawJwt: boolean }} params\n   */\n  static show({clientId, allowedOrigins, rawJwt = false}) {\n    // Optionally grab language code from URL.\n    const queryString = GaaUtils.getQueryString();\n    const queryParams = parseQueryString(queryString);\n    const languageCode = queryParams['lang'] || 'en';\n\n    // Apply iframe styles.\n    const styleText = GOOGLE_SIGN_IN_IFRAME_STYLES.replace(\n      '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$',\n      msg(I18N_STRINGS['SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON'], languageCode)\n    );\n    injectStyleSheet(resolveDoc(self.document), styleText);\n\n    // Promise a function that sends messages to the parent frame.\n    // Note: A function is preferable to a reference to the parent frame\n    // because referencing the parent frame outside of the 'message' event\n    // handler throws an Error. A function defined within the handler can\n    // effectively save a reference to the parent frame though.\n    const sendMessageToParentFnPromise = new Promise((resolve) => {\n      self.addEventListener('message', (e) => {\n        if (\n          allowedOrigins.indexOf(e.origin) !== -1 &&\n          e.data.stamp === POST_MESSAGE_STAMP &&\n          e.data.command === POST_MESSAGE_COMMAND_INTRODUCTION\n        ) {\n          resolve((message) => {\n            e.source.postMessage(message, e.origin);\n          });\n        }\n      });\n    });\n\n    function sendErrorMessageToParent() {\n      sendMessageToParentFnPromise.then((sendMessageToParent) => {\n        sendMessageToParent({\n          stamp: POST_MESSAGE_STAMP,\n          command: POST_MESSAGE_COMMAND_ERROR,\n        });\n      });\n    }\n\n    // Validate origins.\n    for (let i = 0; i < allowedOrigins.length; i++) {\n      const allowedOrigin = allowedOrigins[i];\n      const url = new URL(allowedOrigin);\n\n      const isOrigin = url.origin === allowedOrigin;\n      const protocolIsValid =\n        url.protocol === 'http:' || url.protocol === 'https:';\n      const isValidOrigin = isOrigin && protocolIsValid;\n\n      if (!isValidOrigin) {\n        warn(\n          `[swg-gaa.js:GaaSignInWithGoogleButton.show]: You specified an invalid origin: ${allowedOrigin}`\n        );\n        sendErrorMessageToParent();\n        return;\n      }\n    }\n\n    new Promise((resolve) => {\n      const buttonEl = createElement(self.document, 'div', {\n        id: SIGN_IN_WITH_GOOGLE_BUTTON_ID,\n        tabIndex: 0,\n      });\n      self.document.body.appendChild(buttonEl);\n\n      self.google.accounts.id.initialize({\n        /* eslint-disable google-camelcase/google-camelcase */\n        client_id: clientId,\n        callback: resolve,\n        allowed_parent_origin: allowedOrigins,\n        /* eslint-enable google-camelcase/google-camelcase */\n      });\n      self.google.accounts.id.renderButton(\n        self.document.getElementById(SIGN_IN_WITH_GOOGLE_BUTTON_ID),\n        {\n          'type': 'standard',\n          'theme': 'outline',\n          'text': 'continue_with',\n          'logo_alignment': 'center',\n          'width': buttonEl.offsetWidth,\n          'height': buttonEl.offsetHeight,\n        }\n      );\n\n      // Track button clicks.\n      buttonEl.addEventListener('click', () => {\n        // Tell parent frame about button click.\n        sendMessageToParentFnPromise.then((sendMessageToParent) => {\n          sendMessageToParent({\n            stamp: POST_MESSAGE_STAMP,\n            command: POST_MESSAGE_COMMAND_BUTTON_CLICK,\n          });\n        });\n      });\n    })\n      .then((jwt) => {\n        const jwtPayload = /** @type {!GoogleIdentityV1} */ (\n          new JwtHelper().decode(jwt.credential)\n        );\n        const returnedJwt = rawJwt ? jwt : jwtPayload;\n\n        // Send GAA user to parent frame.\n        sendMessageToParentFnPromise.then((sendMessageToParent) => {\n          sendMessageToParent({\n            stamp: POST_MESSAGE_STAMP,\n            command: POST_MESSAGE_COMMAND_USER,\n            // Note: jwtPayload is deprecated in favor of returnedJwt.\n            jwtPayload,\n            returnedJwt,\n          });\n        });\n      })\n      .catch(sendErrorMessageToParent);\n  }\n}\n\n/**\n * Loads the Google Sign-In API.\n *\n * This function is used in two places.\n * 1. The publisher's Google Sign-In iframe.\n * 2. (Optional) Demos that allow users to sign out.\n *\n * @return {!Promise}\n */\nfunction configureGoogleSignIn() {\n  // Wait for Google Sign-In API.\n  return (\n    new Promise((resolve) => {\n      const apiCheckInterval = setInterval(() => {\n        if (!!self.gapi) {\n          clearInterval(apiCheckInterval);\n          resolve();\n        }\n      }, 50);\n    })\n      // Load Auth2 module.\n      .then(() => new Promise((resolve) => self.gapi.load('auth2', resolve)))\n      // Specify \"redirect\" mode. It plays nicer with webviews.\n      .then(\n        () =>\n          // Only initialize Google Sign-In once.\n          self.gapi.auth2.getAuthInstance() || self.gapi.auth2.init()\n      )\n  );\n}\n\n/**\n * Calls Swgjs.\n * @param { function(!SubscriptionsDef) } callback\n */\nfunction callSwg(callback) {\n  (self.SWG = self.SWG || []).push(callback);\n}\n\n/** Styles for the third party Google Sign-In button iframe. */\nconst GOOGLE_3P_SIGN_IN_IFRAME_STYLES =\n  GOOGLE_SIGN_IN_IFRAME_STYLES +\n  `\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButtonContents {\n    font-family: Roboto,arial,sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    letter-spacing: .21px;\n    margin-left: 6px;\n    margin-right: 6px;\n    vertical-align: top;\n  }\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButton {\n    border-radius: 1px;\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 25%);\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    -webkit-transition: background-color .218s,border-color .218s,box-shadow .218s;\n    transition: background-color .218s,border-color .218s,box-shadow .218s;\n    -webkit-user-select: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    background-image: none;\n    color: #262626;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    position: relative;\n    text-align: center;\n    vertical-align: middle;\n    white-space: nowrap;\n    width: auto;\n  }\n  #${GOOGLE_3P_SIGN_IN_BUTTON_ID} .abcRioButtonBlue {\n    border: none;\n    color: #fff;\n  }\n  `;\n\nconst GOOGLE_3P_SIGN_IN_BUTTON_HTML = `\n<div style=\"height:36px;width:180px;\" class=\"abcRioButton abcRioButtonBlue\">\n  <span style=\"font-size:15px;line-height:34px;\" class=\"abcRioButtonContents\">\n    <span id=\"not_signed_in\">Sign in with Google</span>\n  </span>\n</div>\n`;\n\nexport class GaaGoogle3pSignInButton {\n  /**\n   * Renders the third party Google Sign-In button for external authentication.\n   * @nocollapse\n   * @param {{\n   *    allowedOrigins: !Array<string>,\n   *    authorizationUrl: string,\n   *    redirectMode: boolean,\n   * }} params GaaGoogle3pSignInButton operates in two modes: redirect and\n   * popup. The default mode is pop-up mode which opens the authorizationUrl\n   * in a new window. To use a redirect mode and open the authorizationUrl in\n   * the same window, set redirectMode to true. For webview applications\n   * redirectMode is recommended.\n   */\n  static show({allowedOrigins, authorizationUrl, redirectMode = false}) {\n    // Optionally grab language code from URL.\n    const queryString = GaaUtils.getQueryString();\n    const queryParams = parseQueryString(queryString);\n    const languageCode = queryParams['lang'] || 'en';\n\n    // Apply iframe styles.\n    const styleText = GOOGLE_3P_SIGN_IN_IFRAME_STYLES.replace(\n      '$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$',\n      msg(I18N_STRINGS['SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON'], languageCode)\n    );\n    injectStyleSheet(resolveDoc(self.document), styleText);\n\n    // Render the third party Google Sign-In button.\n    const buttonEl = createElement(self.document, 'div', {\n      id: GOOGLE_3P_SIGN_IN_BUTTON_ID,\n      tabIndex: 0,\n    });\n    buttonEl./*OK*/ innerHTML = GOOGLE_3P_SIGN_IN_BUTTON_HTML;\n    buttonEl.onclick = () => {\n      sendMessageToParentFnPromise.then((sendMessageToParent) => {\n        sendMessageToParent({\n          stamp: POST_MESSAGE_STAMP,\n          command: POST_MESSAGE_COMMAND_3P_BUTTON_CLICK,\n        });\n      });\n      if (redirectMode) {\n        // TODO(b/242998655): Fix the downstream calls for logEvent to be chained to remove the need of delaying redirect.\n        self.setTimeout(() => {\n          self.open(authorizationUrl, '_parent');\n        }, REDIRECT_DELAY);\n        self.open(authorizationUrl, '_parent');\n      } else {\n        self.open(authorizationUrl);\n      }\n    };\n    self.document.body.appendChild(buttonEl);\n\n    // Promise a function that sends messages to the parent frame.\n    // Note: A function is preferable to a reference to the parent frame\n    // because referencing the parent frame outside of the 'message' event\n    // handler throws an Error. A function defined within the handler can\n    // effectively save a reference to the parent frame though.\n    const sendMessageToParentFnPromise = new Promise((resolve) => {\n      self.addEventListener('message', (e) => {\n        if (\n          allowedOrigins.indexOf(e.origin) !== -1 &&\n          e.data.stamp === POST_MESSAGE_STAMP &&\n          e.data.command === POST_MESSAGE_COMMAND_INTRODUCTION\n        ) {\n          resolve((message) => {\n            e.source.postMessage(message, e.origin);\n          });\n        }\n      });\n    });\n\n    function sendErrorMessageToParent() {\n      sendMessageToParentFnPromise.then((sendMessageToParent) => {\n        sendMessageToParent({\n          stamp: POST_MESSAGE_STAMP,\n          command: POST_MESSAGE_COMMAND_ERROR,\n        });\n      });\n    }\n\n    // Validate origins.\n    for (let i = 0; i < allowedOrigins.length; i++) {\n      const allowedOrigin = allowedOrigins[i];\n      const url = new URL(allowedOrigin);\n\n      const isOrigin = url.origin === allowedOrigin;\n      const protocolIsValid =\n        url.protocol === 'http:' || url.protocol === 'https:';\n      const isValidOrigin = isOrigin && protocolIsValid;\n\n      if (!isValidOrigin) {\n        warn(\n          `[swg-gaa.js:GaaGoogle3pSignInButton.show]: You specified an invalid origin: ${allowedOrigin}`\n        );\n        sendErrorMessageToParent();\n        return;\n      }\n    }\n\n    // Relay message to the parent frame (GAA Intervention).\n    self.addEventListener('message', (e) => {\n      if (\n        allowedOrigins.indexOf(e.origin) !== -1 &&\n        e.data.stamp === POST_MESSAGE_STAMP &&\n        e.data.command === POST_MESSAGE_COMMAND_USER\n      ) {\n        self.parent.postMessage(e.data, e.origin);\n      }\n    });\n  }\n  /**\n   * Notify Google Intervention of a complete sign-in event.\n   * @nocollapse\n   * @param {{ gaaUser: GaaUserDef}} params\n   */\n  static gaaNotifySignIn({gaaUser}) {\n    self.opener.postMessage({\n      stamp: POST_MESSAGE_STAMP,\n      command: POST_MESSAGE_COMMAND_USER,\n      gaaUser,\n    });\n  }\n}\n\n/**\n * Logs Showcase events.\n * @param {{\n *   analyticsEvent: (AnalyticsEvent|undefined),\n *   showcaseEvent: (ShowcaseEvent|undefined),\n *   isFromUserAction: boolean,\n * }} params\n */\nfunction logEvent({analyticsEvent, showcaseEvent, isFromUserAction} = {}) {\n  callSwg((swg) => {\n    // Get reference to event manager.\n    swg.getEventManager().then((eventManager) => {\n      // Get list of analytics events.\n      const eventTypes = showcaseEvent\n        ? showcaseEventToAnalyticsEvents(showcaseEvent)\n        : [analyticsEvent];\n\n      // Log each analytics event.\n      for (const eventType of eventTypes) {\n        eventManager.logEvent({\n          eventType,\n          eventOriginator: EventOriginator.SWG_CLIENT,\n          isFromUserAction,\n          additionalParameters: null,\n        });\n      }\n    });\n  });\n}\n\nexport class GaaUtils {\n  /**\n   * Returns query string from current URL.\n   * Tests can override this method to return different URLs.\n   * @return {string}\n   */\n  static getQueryString() {\n    return self.location.search;\n  }\n}\n\n/**\n * Types of grantReason that can be specified by the user as part of\n * the userState object\n * @enum {string}\n */\nexport const GrantReasonType = {\n  FREE: 'FREE',\n  SUBSCRIBER: 'SUBSCRIBER',\n  METERING: 'METERING',\n};\n\n/**\n * Types of paywallReason that can be specified by the user as part of\n * the userState object\n * @enum {string}\n */\nexport const PaywallReasonType = {\n  RESERVED_USER: 'RESERVED_USER',\n};\n\nexport class GaaMetering {\n  constructor() {\n    this.userState = {};\n    this.gaaUserPromiseResolve_ = function () {};\n    this.loginPromiseResolve_ = function () {};\n  }\n\n  /**\n   * Returns a promise that resolves with a gaaUser.\n   * @nocollapse\n   * @return {!Promise}\n   */\n  static getGaaUserPromise() {\n    return new Promise((resolve) => {\n      GaaMetering.gaaUserPromiseResolve_ = resolve;\n    });\n  }\n\n  static setGaaUser(jwt) {\n    GaaMetering.gaaUserPromiseResolve_(jwt);\n  }\n\n  /**\n   * Returns a promise that resolves when the user clicks \"Already registered? Sign in\".\n   * @nocollapse\n   * @return {!Promise}\n   */\n  static getLoginPromise() {\n    return new Promise((resolve) => {\n      GaaMetering.loginPromiseResolve_ = resolve;\n    });\n  }\n\n  static resolveLogin() {\n    GaaMetering.loginPromiseResolve_();\n  }\n\n  /**\n   * Initialize GaaMetering flow\n   * @nocollapse\n   * @param {InitParams} params\n   */\n  static init(params) {\n    // Validate GaaMetering parameters\n    if (!params || !GaaMetering.validateParameters(params)) {\n      debugLog('[gaa.js:GaaMetering.init]: Invalid params.');\n      return false;\n    }\n\n    // Register publisher's callbacks, promises, and parameters\n    const productId = GaaMetering.getProductIDFromPageConfig_();\n    const {\n      googleApiClientId,\n      authorizationUrl,\n      allowedReferrers,\n      showcaseEntitlement,\n      caslUrl,\n      showPaywall,\n      userState,\n      unlockArticle,\n      handleSwGEntitlement,\n      registerUserPromise,\n      handleLoginPromise,\n      publisherEntitlementPromise,\n      rawJwt,\n    } = params;\n\n    // Set class variables\n    GaaMetering.userState = userState;\n    GaaMetering.publisherEntitlementPromise = publisherEntitlementPromise;\n\n    // Validate gaa parameters and referrer\n    if (!GaaMetering.isGaa(allowedReferrers)) {\n      debugLog('Extended Access - Invalid gaa parameters or referrer.');\n      return false;\n    }\n\n    callSwg((subscriptions) => {\n      subscriptions.init(productId);\n\n      logEvent({\n        analyticsEvent: AnalyticsEvent.EVENT_SHOWCASE_METERING_INIT,\n        isFromUserAction: false,\n      });\n\n      subscriptions.setOnLoginRequest(() =>\n        GaaMetering.handleLoginRequest(\n          handleLoginPromise,\n          unlockArticleIfGranted\n        )\n      );\n\n      subscriptions.setOnNativeSubscribeRequest(() => showPaywall());\n\n      subscriptions.setOnEntitlementsResponse((googleEntitlementsPromise) =>\n        GaaMetering.setEntitlements(\n          googleEntitlementsPromise,\n          allowedReferrers,\n          unlockArticle,\n          handleSwGEntitlement,\n          showGoogleRegwall,\n          showPaywall\n        )\n      );\n\n      if ('granted' in userState && 'grantReason' in userState) {\n        unlockArticleIfGranted();\n      } else if (GaaMetering.isArticleFreeFromPageConfig_()) {\n        GaaMetering.userState.grantReason = GrantReasonType.FREE;\n        GaaMetering.userState.granted = true;\n        debugLog('Article free from markup.');\n        unlockArticleIfGranted();\n      } else if (showcaseEntitlement) {\n        debugLog(showcaseEntitlement);\n        subscriptions.consumeShowcaseEntitlementJwt(showcaseEntitlement);\n      } else {\n        debugLog('resolving publisherEntitlement');\n        publisherEntitlementPromise.then((fetchedPublisherEntitlements) => {\n          if (GaaMetering.validateUserState(fetchedPublisherEntitlements)) {\n            GaaMetering.userState = fetchedPublisherEntitlements;\n\n            unlockArticleIfGranted();\n          } else {\n            debugLog(\"Publisher entitlement isn't valid\");\n          }\n        });\n      }\n    });\n\n    // Show the Google registration intervention.\n    function showGoogleRegwall() {\n      debugLog('show Google Regwall');\n      // Don't render the regwall until the window has loaded.\n      GaaMetering.getOnReadyPromise().then(() => {\n        if (googleApiClientId) {\n          GaaMeteringRegwall.showWithNativeRegistrationButton({\n            caslUrl,\n            googleApiClientId,\n            rawJwt,\n          }).then((jwt) => {\n            // Handle registration for new users\n            // Save credentials object so that registerUserPromise can use it using getGaaUser.\n            GaaMetering.setGaaUser(jwt);\n            registerUserPromise.then((registerUserUserState) => {\n              debugLog('registerUserPromise resolved');\n              if (GaaMetering.validateUserState(registerUserUserState)) {\n                GaaMetering.userState = registerUserUserState;\n\n                unlockArticleIfGranted();\n              }\n            });\n          });\n        } else {\n          GaaMeteringRegwall.showWithNative3PRegistrationButton({\n            caslUrl,\n            authorizationUrl,\n          });\n        }\n      });\n    }\n\n    function unlockArticleIfGranted() {\n      if (!GaaMetering.validateUserState(GaaMetering.userState)) {\n        debugLog('Invalid userState object');\n        return false;\n      } else if (GaaMetering.userState.granted === true) {\n        const grantReasonToShowCaseEventMap = {\n          [GrantReasonType.SUBSCRIBER]:\n            ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION,\n          [GrantReasonType.FREE]:\n            ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_FREE_PAGE,\n          [GrantReasonType.METERING]:\n            ShowcaseEvent.EVENT_SHOWCASE_UNLOCKED_BY_METER,\n        };\n\n        if (GrantReasonType[GaaMetering.userState.grantReason] !== undefined) {\n          callSwg((subscriptions) => {\n            subscriptions.setShowcaseEntitlement({\n              entitlement:\n                grantReasonToShowCaseEventMap[\n                  GaaMetering.userState.grantReason\n                ],\n              isUserRegistered: GaaMetering.isCurrentUserRegistered(),\n              subscriptionTimestamp: GaaMetering.getSubscriptionTimestamp(),\n            });\n            debugLog('unlocked for ' + GaaMetering.userState.grantReason);\n          });\n        }\n        // User has access from publisher so unlock article\n        unlockArticle();\n      } else {\n        checkShowcaseEntitlement(GaaMetering.userState);\n      }\n    }\n\n    function checkShowcaseEntitlement(userState) {\n      if (userState.registrationTimestamp) {\n        // Send userState to Google\n        callSwg((subscriptions) => {\n          debugLog('getting entitlements from Google');\n          debugLog(GaaMetering.newUserStateToUserState(userState));\n          subscriptions.getEntitlements(\n            GaaMetering.newUserStateToUserState(userState)\n          );\n        });\n      } else {\n        // If userState is undefined, it’s likely the user isn’t\n        // logged in. Do not send an empty userState to Google in\n        // this case.\n        showGoogleRegwall();\n      }\n    }\n  }\n\n  static handleLoginRequest(handleLoginPromise, unlockArticleIfGranted) {\n    GaaMetering.resolveLogin();\n    handleLoginPromise.then((handleLoginUserState) => {\n      if (GaaMetering.validateUserState(handleLoginUserState)) {\n        GaaMetering.userState = handleLoginUserState;\n        GaaMeteringRegwall.remove();\n        debugLog('GaaMeteringRegwall removed');\n        unlockArticleIfGranted();\n      } else {\n        debugLog('invalid handleLoginUserState');\n        return false;\n      }\n    });\n  }\n\n  static setEntitlements(\n    googleEntitlementsPromise,\n    allowedReferrers,\n    unlockArticle,\n    handleSwGEntitlement,\n    showGoogleRegwall,\n    showPaywall\n  ) {\n    // Wait for Google check to finish\n    googleEntitlementsPromise.then((googleEntitlement) => {\n      // Determine Google response from publisher response.\n      if (googleEntitlement.enablesThisWithGoogleMetering()) {\n        // Google returned metering entitlement so grant access\n        googleEntitlement.consume(() => {\n          // Consume the entitlement and trigger a dialog that lets the user\n          // know Google provided them with a free read.\n          unlockArticle();\n        });\n      } else if (googleEntitlement.enablesThis()) {\n        // Google returned a non-metering entitlement\n        // This is only relevant for publishers doing SwG\n        handleSwGEntitlement();\n      } else if (\n        !GaaMetering.isCurrentUserRegistered() &&\n        GaaMetering.isGaa(allowedReferrers)\n      ) {\n        // This is an anonymous user so show the Google registration intervention\n        showGoogleRegwall();\n      } else {\n        // User does not any access from publisher or Google so show the standard paywall\n        callSwg((subscriptions) => {\n          switch (GaaMetering.userState.paywallReason) {\n            case PaywallReasonType.RESERVED_USER:\n              subscriptions.setShowcaseEntitlement({\n                entitlement: ShowcaseEvent.EVENT_SHOWCASE_INELIGIBLE_PAYWALL,\n                isUserRegistered: GaaMetering.isCurrentUserRegistered(),\n                subscriptionTimestamp: GaaMetering.getSubscriptionTimestamp(),\n              });\n              break;\n            default:\n              subscriptions.setShowcaseEntitlement({\n                entitlement:\n                  ShowcaseEvent.EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL,\n                isUserRegistered: GaaMetering.isCurrentUserRegistered(),\n                subscriptionTimestamp: GaaMetering.getSubscriptionTimestamp(),\n              });\n          }\n        });\n        // Show the paywall\n        showPaywall();\n      }\n    });\n  }\n\n  static isCurrentUserRegistered() {\n    return GaaMetering.isUserRegistered(GaaMetering.userState);\n  }\n\n  static isUserRegistered(userState) {\n    return userState.id !== undefined && userState.id != '';\n  }\n\n  /**\n   * Validates parameters for GaaMetering.init flow\n   * @nocollapse\n   * @param {InitParams} params\n   */\n  static validateParameters(params) {\n    let noIssues = true;\n    if (\n      ('googleApiClientId' in params && 'authorizationUrl' in params) ||\n      (!('googleApiClientId' in params) && !('authorizationUrl' in params))\n    ) {\n      debugLog(\n        'Either googleApiClientId or authorizationUrl should be supplied but not both.'\n      );\n      noIssues = false;\n    } else if ('authorizationUrl' in params) {\n      if (\n        !(typeof params.authorizationUrl === 'string') ||\n        parseUrl(params.authorizationUrl).href !== params.authorizationUrl\n      ) {\n        debugLog('authorizationUrl is not a valid URL');\n        noIssues = false;\n      }\n    } else if (\n      !(typeof params.googleApiClientId === 'string') ||\n      params.googleApiClientId.indexOf('.apps.googleusercontent.com') == -1\n    ) {\n      debugLog(\n        'Missing googleApiClientId, or it is not a string, or it is not in a correct format'\n      );\n      noIssues = false;\n    }\n\n    if (\n      !('allowedReferrers' in params && Array.isArray(params.allowedReferrers))\n    ) {\n      debugLog('Missing allowedReferrers or it is not an array');\n      noIssues = false;\n    }\n\n    const reqFunc = ['unlockArticle', 'showPaywall'];\n\n    for (let reqFuncNo = 0; reqFuncNo < reqFunc.length; reqFuncNo++) {\n      if (\n        !(\n          reqFunc[reqFuncNo] in params &&\n          typeof params[reqFunc[reqFuncNo]] === 'function'\n        )\n      ) {\n        debugLog(`Missing ${reqFunc[reqFuncNo]} or it is not a function`);\n        noIssues = false;\n      }\n    }\n\n    if (\n      'handleSwGEntitlement' in params &&\n      typeof params.handleSwGEntitlement != 'function'\n    ) {\n      debugLog('handleSwGEntitlement is provided but it is not a function');\n      noIssues = false;\n    }\n\n    const reqPromise =\n      'authorizationUrl' in params\n        ? ['handleLoginPromise']\n        : ['handleLoginPromise', 'registerUserPromise'];\n\n    for (\n      let reqPromiseNo = 0;\n      reqPromiseNo < reqPromise.length;\n      reqPromiseNo++\n    ) {\n      if (\n        !(\n          reqPromise[reqPromiseNo] in params &&\n          GaaMetering.isPromise(params[reqPromise[reqPromiseNo]])\n        )\n      ) {\n        debugLog(`Missing ${reqPromise[reqPromiseNo]} or it is not a promise`);\n        noIssues = false;\n      }\n    }\n\n    if (\n      'publisherEntitlementPromise' in params &&\n      !GaaMetering.isPromise(params.publisherEntitlementPromise)\n    ) {\n      debugLog(\n        'publisherEntitlementPromise is provided but it is not a promise'\n      );\n      noIssues = false;\n    }\n\n    // Check userState is an 'object'\n    if (\n      !('userState' in params) &&\n      !('publisherEntitlementPromise' in params)\n    ) {\n      debugLog(`userState or publisherEntitlementPromise needs to be provided`);\n      noIssues = false;\n    } else if ('userState' in params && typeof params.userState != 'object') {\n      debugLog(`userState is not an object`);\n      noIssues = false;\n    } else {\n      const userState = params.userState;\n      if (\n        (!('granted' in userState) ||\n          (userState.granted &&\n            !GaaMetering.isArticleFreeFromPageConfig_() &&\n            !('grantReason' in userState))) &&\n        !('publisherEntitlementPromise' in params)\n      ) {\n        debugLog(\n          'Either granted and grantReason have to be supplied or you have to provide pubisherEntitlementPromise'\n        );\n        noIssues = false;\n      }\n    }\n\n    return noIssues;\n  }\n\n  static isGaa(publisherReferrers = []) {\n    // Validate GAA params.\n    const queryString = GaaUtils.getQueryString();\n    if (!queryStringHasFreshGaaParams(queryString, true)) {\n      return false;\n    }\n\n    // Validate referrer.\n    const referrer = parseUrl(self.document.referrer);\n    if (\n      !wasReferredByGoogle(referrer) &&\n      publisherReferrers.indexOf(referrer.hostname) == -1\n    ) {\n      // Real publications should bail if this referrer check fails.\n      // This script is only logging a warning for metering demo purposes.\n      debugLog(\n        `This page's referrer (\"${referrer.origin}\") can't grant Google Article Access.`\n      );\n\n      return false;\n    }\n\n    return true;\n  }\n\n  static getProductIDFromPageConfig_() {\n    const jsonLdPageConfig = GaaMetering.getProductIDFromJsonLdPageConfig_();\n    if (jsonLdPageConfig) {\n      return jsonLdPageConfig;\n    }\n\n    const microdataPageConfig =\n      GaaMetering.getProductIDFromMicrodataPageConfig_();\n    if (microdataPageConfig) {\n      return microdataPageConfig;\n    }\n\n    throw new Error(\n      'Showcase articles must define a publisher ID with either JSON-LD or Microdata.'\n    );\n  }\n\n  /**\n   * Gets publisher ID from JSON-LD page config.\n   * @private\n   * @nocollapse\n   * @return {string|undefined}\n   */\n  static getProductIDFromJsonLdPageConfig_() {\n    const ldJsonElements = self.document.querySelectorAll(\n      'script[type=\"application/ld+json\"]'\n    );\n\n    for (let i = 0; i < ldJsonElements.length; i++) {\n      const ldJsonElement = ldJsonElements[i];\n      let ldJson = /** @type {*} */ (parseJson(ldJsonElement.textContent));\n\n      if (!Array.isArray(ldJson)) {\n        ldJson = [ldJson];\n      }\n\n      const productId = findInArray(\n        ldJson,\n        (entry) => entry?.isPartOf?.productID\n      )?.isPartOf.productID;\n\n      if (productId) {\n        return productId;\n      }\n    }\n  }\n\n  /**\n   * Gets product ID from Microdata page config.\n   * @private\n   * @nocollapse\n   * @return {string|undefined}\n   */\n  static getProductIDFromMicrodataPageConfig_() {\n    const productIdElements = self.document.querySelectorAll(\n      '[itemscope][itemtype][itemprop=\"isPartOf\"] [itemprop=\"productID\"]'\n    );\n\n    for (let i = 0; i < productIdElements.length; i++) {\n      const productIdElement = productIdElements[i];\n      const productId = productIdElement.content;\n      if (productId) {\n        return productId;\n      }\n    }\n  }\n\n  static isArticleFreeFromPageConfig_() {\n    return (\n      GaaMetering.isArticleFreeFromJsonLdPageConfig_() ||\n      GaaMetering.isArticleFreeFromMicrodataPageConfig_() ||\n      false\n    );\n  }\n\n  /**\n   * @private\n   * @nocollapse\n   * @return {boolean}\n   */\n  static isArticleFreeFromJsonLdPageConfig_() {\n    const ldJsonElements = [\n      ...self.document.querySelectorAll('script[type=\"application/ld+json\"]'),\n    ];\n\n    for (const ldJsonElement of ldJsonElements) {\n      let ldJson = /** @type {*} */ (parseJson(ldJsonElement.textContent));\n\n      if (!Array.isArray(ldJson)) {\n        ldJson = [ldJson];\n      }\n\n      const accessibleForFree = findInArray(\n        ldJson,\n        (entry) => entry?.isAccessibleForFree\n      )?.isAccessibleForFree;\n\n      if (typeof accessibleForFree === 'boolean') {\n        return accessibleForFree;\n      }\n\n      if (typeof accessibleForFree === 'string') {\n        return accessibleForFree.toLowerCase() === 'true';\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * @private\n   * @nocollapse\n   * @return {boolean}\n   */\n  static isArticleFreeFromMicrodataPageConfig_() {\n    const accessibleForFreeElements = self.document.querySelectorAll(\n      '[itemscope][itemtype] [itemprop=\"isAccessibleForFree\"]'\n    );\n\n    for (let i = 0; i < accessibleForFreeElements.length; i++) {\n      const accessibleForFreeElement = accessibleForFreeElements[i];\n      const accessibleForFree = accessibleForFreeElement.content;\n      debugLog(typeof accessibleForFree);\n      if (accessibleForFree) {\n        const lowercase = accessibleForFree.toLowerCase();\n        return lowercase == 'true';\n      }\n    }\n\n    return false;\n  }\n\n  static isPromise(p) {\n    return p && Object.prototype.toString.call(p) === '[object Promise]';\n  }\n\n  static newUserStateToUserState(newUserState) {\n    // Convert registrationTimestamp to seconds\n    const registrationTimestampSeconds = convertPotentialTimestampToSeconds(\n      newUserState.registrationTimestamp\n    );\n\n    return {\n      'metering': {\n        'state': {\n          'id': newUserState.id,\n          'standardAttributes': {\n            'registered_user': {\n              'timestamp': registrationTimestampSeconds,\n            },\n          },\n        },\n      },\n    };\n  }\n\n  static validateUserState(newUserState) {\n    if (!newUserState) {\n      return false;\n    }\n\n    let noIssues = true;\n\n    if (\n      !('granted' in newUserState && typeof newUserState.granted === 'boolean')\n    ) {\n      debugLog(\n        'userState.granted is missing or invalid (must be true or false)'\n      );\n\n      noIssues = false;\n    }\n\n    if (\n      newUserState.granted === true &&\n      GrantReasonType[newUserState.grantReason] === undefined\n    ) {\n      debugLog(\n        'if userState.granted is true then userState.grantReason has to be either METERING, or SUBSCRIBER'\n      );\n\n      noIssues = false;\n    }\n\n    if (\n      newUserState.granted === true &&\n      newUserState.grantReason === GrantReasonType.SUBSCRIBER\n    ) {\n      if (\n        !('id' in newUserState) ||\n        !('registrationTimestamp' in newUserState)\n      ) {\n        debugLog(\n          'Missing user ID or registrationTimestamp in userState object'\n        );\n        noIssues = false;\n      } else {\n        // Check if the provided timestamp is an integer\n        if (\n          !(\n            typeof newUserState.registrationTimestamp === 'number' &&\n            newUserState.registrationTimestamp % 1 === 0\n          )\n        ) {\n          debugLog(\n            'userState.registrationTimestamp invalid, userState.registrationTimestamp needs to be an integer and in seconds'\n          );\n\n          noIssues = false;\n        } else if (\n          convertPotentialTimestampToSeconds(\n            newUserState.registrationTimestamp\n          ) >\n          Date.now() / 1000\n        ) {\n          debugLog('userState.registrationTimestamp is in the future');\n\n          noIssues = false;\n        }\n\n        if (newUserState.grantReason === GrantReasonType.SUBSCRIBER) {\n          if (!('subscriptionTimestamp' in newUserState)) {\n            debugLog(\n              'subscriptionTimestamp is required if userState.grantReason is SUBSCRIBER'\n            );\n\n            noIssues = false;\n          } else if (\n            // Check if the provided timestamp is an integer\n            !(\n              typeof newUserState.subscriptionTimestamp === 'number' &&\n              newUserState.subscriptionTimestamp % 1 === 0\n            )\n          ) {\n            debugLog(\n              'userState.subscriptionTimestamp invalid, userState.subscriptionTimestamp needs to be an integer and in seconds'\n            );\n\n            noIssues = false;\n          } else if (\n            convertPotentialTimestampToSeconds(\n              newUserState.subscriptionTimestamp\n            ) >\n            Date.now() / 1000\n          ) {\n            debugLog('userState.subscriptionTimestamp is in the future');\n            noIssues = false;\n          }\n        }\n      }\n    }\n\n    if ('id' in newUserState || 'registrationTimestamp' in newUserState) {\n      if (!('id' in newUserState)) {\n        debugLog('Missing user ID in userState object');\n        return false;\n      }\n\n      if (!('registrationTimestamp' in newUserState)) {\n        debugLog('Missing registrationTimestamp in userState object');\n        return false;\n      }\n    }\n\n    if ('paywallReason' in newUserState) {\n      if (newUserState.granted) {\n        debugLog(\n          'userState.granted must be false when paywallReason is supplied.'\n        );\n        noIssues = false;\n      }\n\n      if (PaywallReasonType[newUserState.paywallReason] === undefined) {\n        debugLog(\n          'userState.paywallReason has to be empty or set to RESERVED_USER.'\n        );\n        noIssues = false;\n      }\n    }\n    return noIssues;\n  }\n\n  static getOnReadyPromise() {\n    return new Promise((resolve) => {\n      if (self.document.readyState === 'complete') {\n        resolve();\n      } else {\n        self.window.addEventListener('load', () => {\n          resolve();\n        });\n      }\n    });\n  }\n\n  static getSubscriptionTimestamp() {\n    return GaaMetering?.userState?.subscriptionTimestamp || null;\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** English is the default language. */\nconst DEFAULT_LANGUAGE_CODE = 'en';\n\n/**\n * Gets a message for a given language code, from a map of messages.\n * @param {!Object<string, string>} map\n * @param {?string|?Element} languageCodeOrElement\n * @return {?string}\n */\nexport function msg(map, languageCodeOrElement) {\n  const defaultMsg = map[DEFAULT_LANGUAGE_CODE];\n\n  // Verify params.\n  if (typeof map !== 'object' || !languageCodeOrElement) {\n    return defaultMsg;\n  }\n\n  // Get language code.\n  let languageCode =\n    typeof languageCodeOrElement === 'string'\n      ? languageCodeOrElement\n      : getLanguageCodeFromElement(languageCodeOrElement);\n\n  // Normalize language code.\n  languageCode = languageCode.toLowerCase();\n  languageCode = languageCode.replace(/_/g, '-');\n\n  // Search for a message matching the language code.\n  // If a message can't be found, try again with a less specific language code.\n  const languageCodeSegments = languageCode.split('-');\n  while (languageCodeSegments.length) {\n    const key = languageCodeSegments.join('-');\n    if (key in map) {\n      return map[key];\n    }\n\n    // Simplify language code.\n    // Ex: \"en-US-SF\" => \"en-US\"\n    languageCodeSegments.pop();\n  }\n\n  // There was an attempt.\n  return defaultMsg;\n}\n\n/**\n * Gets a language code (ex: \"en-US\") from a given Element.\n * @param {!Element} element\n * @return {string}\n */\nexport function getLanguageCodeFromElement(element) {\n  if (element.lang) {\n    // Get language from element itself.\n    return element.lang;\n  }\n\n  if (element.ownerDocument && element.ownerDocument.documentElement.lang) {\n    // Get language from element's document.\n    return element.ownerDocument.documentElement.lang;\n  }\n\n  // There was an attempt.\n  return DEFAULT_LANGUAGE_CODE;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview This module declares JSON types as defined in the\n * {@link http://json.org/}.\n */\n\n/**\n * Simple wrapper around JSON.parse that casts the return value\n * to JsonObject.\n * Create a new wrapper if an array return value is desired.\n * @param {*} json JSON string to parse\n * @return {?JsonObject|undefined} May be extend to parse arrays.\n */\nexport function parseJson(json) {\n  return /** @type {?JsonObject} */ (JSON.parse(/** @type {string} */ (json)));\n}\n\n/**\n * Parses the given `json` string without throwing an exception if not valid.\n * Returns `undefined` if parsing fails.\n * Returns the `Object` corresponding to the JSON string when parsing succeeds.\n * @param {*} json JSON string to parse\n * @param {function(!Error)=} onFailed Optional function that will be called\n *     with the error if parsing fails.\n * @return {?JsonObject|undefined} May be extend to parse arrays.\n */\nexport function tryParseJson(json, onFailed) {\n  try {\n    return parseJson(json);\n  } catch (e) {\n    if (onFailed) {\n      onFailed(e);\n    }\n    return undefined;\n  }\n}\n\n/**\n * Converts the passed string into a JSON object (if possible) and returns the\n * value of the propertyName on that object.\n * @param {string} jsonString\n * @param {string} propertyName\n * @return {*}\n */\nexport function getPropertyFromJsonString(jsonString, propertyName) {\n  const json = tryParseJson(jsonString);\n  return (json && json[propertyName]) || null;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {base64UrlDecodeToBytes, utf8DecodeSync} from './bytes';\nimport {tryParseJson} from './json';\n\n/**\n * @typedef {{\n *   header: (?JsonObject|undefined),\n *   payload: (?JsonObject|undefined),\n *   verifiable: string,\n *   sig: string,\n * }}\n */\nlet JwtTokenInternalDef;\n\n/**\n * Provides helper methods to decode and verify JWT tokens.\n */\nexport class JwtHelper {\n  constructor() {}\n\n  /**\n   * Decodes JWT token and returns its payload.\n   * @param {string} encodedToken\n   * @return {?JsonObject|undefined}\n   */\n  decode(encodedToken) {\n    return this.decodeInternal_(encodedToken).payload;\n  }\n\n  /**\n   * @param {string} encodedToken\n   * @return {!JwtTokenInternalDef}\n   * @private\n   */\n  decodeInternal_(encodedToken) {\n    // See https://jwt.io/introduction/\n    /**\n     * Throws error about invalid token.\n     */\n    function invalidToken() {\n      throw new Error(`Invalid token: \"${encodedToken}\"`);\n    }\n\n    // Encoded token has three parts: header.payload.sig\n    // Note! The padding is not allowed by JWT spec:\n    // http://self-issued.info/docs/draft-goland-json-web-token-00.html#rfc.section.5\n    const parts = encodedToken.split('.');\n    if (parts.length != 3) {\n      invalidToken();\n    }\n    const headerUtf8Bytes = base64UrlDecodeToBytes(parts[0]);\n    const payloadUtf8Bytes = base64UrlDecodeToBytes(parts[1]);\n    return {\n      header: tryParseJson(utf8DecodeSync(headerUtf8Bytes), invalidToken),\n      payload: tryParseJson(utf8DecodeSync(payloadUtf8Bytes), invalidToken),\n      verifiable: `${parts[0]}.${parts[1]}`,\n      sig: parts[2],\n    };\n  }\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Debug logger, only log message if #swg.log=1\n * @param {...*} var_args [decription]\n */\n\n/* eslint-disable */\n\nexport function debugLog(var_args) {\n  if (/swg.debug=1/.test(self.location.hash)) {\n    const logArgs = Array.prototype.slice.call(arguments, 0);\n    logArgs.unshift('[Subscriptions]');\n    log.apply(log, logArgs);\n  }\n}\n\n/**\n * @param  {...*} var_args [description]\n */\nexport function log(var_args) {\n  console.log.apply(console, arguments);\n}\n\n/**\n * @param  {...*} var_args [description]\n */\nexport function warn(var_args) {\n  console.warn.apply(console, arguments);\n}\n\n/**\n * Throws an error if the first argument isn't trueish.\n *\n * Supports argument substitution into the message via %s placeholders.\n *\n * Throws an error object that has two extra properties:\n * - associatedElement: This is the first element provided in the var args.\n *   It can be used for improved display of error messages.\n * - messageArray: The elements of the substituted message as non-stringified\n *   elements in an array. When e.g. passed to console.error this yields\n *   native displays of things like HTML elements.\n *\n * @param {T} shouldBeTrueish The value to assert. The assert fails if it does\n *     not evaluate to true.\n * @param {string=} message The assertion message\n * @param {...*} var_args Arguments substituted into %s in the message.\n * @return {T} The value of shouldBeTrueish.\n * @template T\n */\nexport function assert(shouldBeTrueish, message, var_args) {\n  let firstElement;\n  if (!shouldBeTrueish) {\n    message = message || 'Assertion failed';\n    const splitMessage = message.split('%s');\n    const first = splitMessage.shift();\n    let formatted = first;\n    const messageArray = [];\n    pushIfNonEmpty(messageArray, first);\n    for (let i = 2; i < arguments.length; i++) {\n      const val = arguments[i];\n      if (val && val.tagName) {\n        firstElement = val;\n      }\n      const nextConstant = splitMessage.shift();\n      messageArray.push(val);\n      pushIfNonEmpty(messageArray, nextConstant.trim());\n      formatted += toString(val) + nextConstant;\n    }\n    const e = new Error(formatted);\n    e.fromAssert = true;\n    e.associatedElement = firstElement;\n    e.messageArray = messageArray;\n    throw e;\n  }\n  return shouldBeTrueish;\n}\n\n/**\n * @param {!Array} array\n * @param {*} val\n */\nfunction pushIfNonEmpty(array, val) {\n  if (val != '') {\n    array.push(val);\n  }\n}\n\nfunction toString(val) {\n  // Do check equivalent to `val instanceof Element` without cross-window bug\n  if (val && val.nodeType == 1) {\n    return val.tagName.toLowerCase() + (val.id ? '#' + val.id : '');\n  }\n  return /** @type {string} */ (val);\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns a map-like object.\n * If initial is provided, copies its own properties into the\n * newly created object.\n * @param {Object=} initial This should typically be an object literal.\n * @return {!Object}\n * @template T\n */\nexport function map(initial) {\n  const obj = Object.create(null);\n  if (initial) {\n    Object.assign(obj, initial);\n  }\n  return obj;\n}\n\n/**\n * Implements `Array.find()` method that's not yet available in all browsers.\n *\n * @param {?Array<T>} array\n * @param {function(T, number, !Array<T>):boolean} predicate\n * @return {?T}\n * @template T\n */\nexport function findInArray(array, predicate) {\n  if (!array) {\n    return null;\n  }\n  const len = array.length || 0;\n  if (len > 0) {\n    for (let i = 0; i < len; i++) {\n      const other = array[i];\n      if (predicate(other, i, array)) {\n        return other;\n      }\n    }\n  }\n  return null;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createElement} from './dom';\n\nexport class Preconnect {\n  /**\n   * @param {!Document} doc\n   */\n  constructor(doc) {\n    /** @private @const {!Document} */\n    this.doc_ = doc;\n  }\n\n  /**\n   * @param {string} url\n   */\n  preconnect(url) {\n    this.pre_(url, 'preconnect');\n  }\n\n  /**\n   * @param {string} url\n   */\n  dnsPrefetch(url) {\n    this.pre_(url, 'dns-prefetch');\n  }\n\n  /**\n   * @param {string} url\n   */\n  prefetch(url) {\n    this.pre_(url, 'preconnect prefetch');\n  }\n\n  /**\n   * @param {string} url\n   * @param {string} as\n   */\n  preload(url, as) {\n    this.pre_(url, 'preconnect preload', as);\n  }\n\n  /**\n   * @param {string} url\n   * @param {string} rel\n   * @param {?string=} as\n   * @private\n   */\n  pre_(url, rel, as) {\n    // <link rel=\"prefetch\" href=\"...\" as=\"\">\n    const linkEl = createElement(this.doc_, 'link', {\n      'rel': rel,\n      'href': url,\n    });\n    if (as) {\n      linkEl.setAttribute('as', as);\n    }\n    this.doc_.head.appendChild(linkEl);\n  }\n}\n","/**\n * Copyright 2019 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Returns an array of random values.  The length of the array is numInts.  Each\n * int will be >= 0 and < maxVal.\n * @param {!number} numInts\n * @param {!number} maxVal\n */\nexport function getRandomInts(numInts, maxVal) {\n  // Ensure array type is appropriate for the max value (performance)\n  const arr =\n    maxVal < 256\n      ? new Uint8Array(numInts)\n      : maxVal < 32768\n      ? new Uint16Array(numInts)\n      : new Uint32Array(numInts);\n\n  const isIE = !!self['msCrypto'];\n  const localCrypto = isIE ? self['msCrypto'] : self.crypto;\n  if (localCrypto && localCrypto.getRandomValues) {\n    localCrypto.getRandomValues(arr);\n    for (let i = arr.length - 1; i > -1; i--) {\n      arr[i] = arr[i] % maxVal;\n    }\n  } else {\n    // For older browsers\n    for (let i = arr.length - 1; i > -1; i--) {\n      arr[i] = Math.floor(Math.random() * maxVal);\n    }\n  }\n\n  return arr;\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {getRandomInts} from './random';\nimport {utf8EncodeSync} from './bytes';\nimport {warn} from './log';\n\nconst CHARS = '0123456789ABCDEF';\n\n/**\n * @param {string} _match\n * @param {string} character\n * @return {string}\n */\nfunction toUpperCase(_match, character) {\n  return character.toUpperCase();\n}\n\n/**\n * @param {string} name Attribute name with dashes\n * @return {string} Dashes removed and character after to upper case.\n * visibleForTesting\n */\nexport function dashToCamelCase(name) {\n  return name.replace(/-([a-z])/g, toUpperCase);\n}\n\n/**\n * @param {string} name Attribute name with dashes\n * @return {string} Dashes replaced by underlines.\n */\nexport function dashToUnderline(name) {\n  return name.replace('-', '_');\n}\n\n/**\n * Polyfill for String.prototype.endsWith.\n * @param {string} string\n * @param {string} suffix\n * @return {boolean}\n */\nexport function endsWith(string, suffix) {\n  const index = string.length - suffix.length;\n  return index >= 0 && string.indexOf(suffix, index) == index;\n}\n\n/**\n * Polyfill for String.prototype.startsWith.\n * @param {string} string\n * @param {string} prefix\n * @return {boolean}\n */\nexport function startsWith(string, prefix) {\n  if (prefix.length > string.length) {\n    return false;\n  }\n  return string.lastIndexOf(prefix, 0) == 0;\n}\n\n/**\n * Expands placeholders in a given template string with values.\n *\n * Placeholders use ${key-name} syntax and are replaced with the value\n * returned from the given getter function.\n *\n * @param {string} template The template string to expand.\n * @param {!function(string):*} getter Function used to retrieve a value for a\n *   placeholder. Returns values will be coerced into strings.\n * @param {number=} maxIterations Number of times to expand the template.\n *   Defaults to 1, but should be set to a larger value your placeholder tokens\n *   can be expanded to other placeholder tokens. Take caution with large values\n *   as recursively expanding a string can be exponentially expensive.\n */\nexport function expandTemplate(template, getter, maxIterations = 1) {\n  for (let i = 0; i < maxIterations; i++) {\n    let matches = 0;\n    template = template.replace(/\\${([^}]*)}/g, (_a, b) => {\n      matches++;\n      return getter(b);\n    });\n    if (!matches) {\n      break;\n    }\n  }\n  return template;\n}\n\n/**\n * Hash function djb2a\n * This is intended to be a simple, fast hashing function using minimal code.\n * It does *not* have good cryptographic properties.\n * @param {string} str\n * @return {string} 32-bit unsigned hash of the string\n */\nexport function stringHash32(str) {\n  const length = str.length;\n  let hash = 5381;\n  for (let i = 0; i < length; i++) {\n    hash = (hash * 33) ^ str.charCodeAt(i);\n  }\n  // Convert from 32-bit signed to unsigned.\n  return String(hash >>> 0);\n}\n\n/**\n * Ensures the passed value is safe to use for character 19 per rfc4122,\n * sec. 4.1.5.  \"Sets the high bits of clock sequence\".\n * @param {!number} v\n */\nfunction getChar19(v) {\n  return CHARS[(v & 0x3) | 0x8];\n}\n\n/**\n * The returned identifier will always be an 8 digit valid hexidecimal number\n * and will be unique for each MS within a given month.\n * @return {string}\n */\nfunction getMonthlyTimeIdentifier() {\n  const hexTime = Date.now().toString(16);\n  return hexTime.substring(hexTime.length - 8).toUpperCase();\n}\n\n/**\n * Generates a RFC 4122 V4 UUID. Ex: \"92329D39-6F5C-4520-ABFC-AAB64544E172\"\n * The first 8 digits are unique for the millisecond of the month.  The rest\n * are randomly generated.\n */\nexport function getUuid() {\n  let uuid = getMonthlyTimeIdentifier() + '-';\n  let rIndex = 0;\n  const rands = getRandomInts(23, 16);\n  for (let i = 9; i < 36; i++) {\n    switch (i) {\n      case 13:\n      case 18:\n      case 23:\n        uuid += '-';\n        break;\n      case 14:\n        uuid += '4';\n        break;\n      case 19:\n        uuid += getChar19(rands[rIndex++]);\n        break;\n      default:\n        uuid += CHARS[rands[rIndex++]];\n        break;\n    }\n  }\n  return uuid;\n}\n\nexport function getSwgTransactionId() {\n  return getUuid() + '.swg';\n}\n\n/**\n * Returns a string whose length matches the length of format.\n * @param {string} str\n * @param {string} format\n * @return {string}\n */\nfunction padString(str, format) {\n  return (format + str).slice(-format.length);\n}\n\nconst PADDING = '00000000';\nfunction toHex(buffer) {\n  const hexCodes = [];\n  const view = new DataView(buffer);\n  for (let i = 0; i < view.byteLength; i += 4) {\n    // toString(16) will give the hex representation of the number without padding\n    const stringValue = view.getUint32(i).toString(16);\n    hexCodes.push(padString(stringValue, PADDING));\n  }\n  return hexCodes.join('');\n}\n\n/**\n * Returns a hexadecimal 128 character string that is the\n * SHA-512 hash of the passed string.\n * @param {string} stringToHash\n * @return {!Promise<string>}\n */\nexport function hash(stringToHash) {\n  const crypto = self.crypto || self.msCrypto;\n  const subtle = crypto?.subtle;\n\n  if (!subtle) {\n    const message = 'Swgjs only works on secure (HTTPS or localhost) pages.';\n    warn(message);\n    return Promise.reject(message);\n  }\n\n  return subtle\n    .digest('SHA-512', utf8EncodeSync(stringToHash))\n    .then((digest) => toHex(digest));\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Note: loaded by 3p system. Cannot rely on babel polyfills.\nimport {map} from './object.js';\nimport {startsWith} from './string';\n\n/** @type {Object<string, string>} */\nlet propertyNameCache;\n\n/** @const {!Array<string>} */\nconst vendorPrefixes = ['Webkit', 'webkit', 'Moz', 'moz', 'ms', 'O', 'o'];\n\n/**\n * Default styles to be set for top level friendly iframe.\n * Some attributes are not included such as height, left, margin-left; since\n * these attributes are updated by @media queries and having these values\n * defined here as !important does not work on IE/edge browsers.\n * @const {!Object<string, string|number>}\n */\nexport const defaultStyles = {\n  'align-content': 'normal',\n  'animation': 'none',\n  'align-items': 'normal',\n  'align-self': 'auto',\n  'alignment-baseline': 'auto',\n  'backface-visibility': 'hidden',\n  'background-clip': 'border-box',\n  'background-image': 'none',\n  'baseline-shift': '0',\n  'block-size': 'auto',\n  'border': 'none',\n  'border-collapse': 'separate',\n  'bottom': '0',\n  'box-sizing': 'border-box',\n  'break-after': 'auto',\n  'break-before': 'auto',\n  'break-inside': 'auto',\n  'buffered-rendering': 'auto',\n  'caption-side': 'top',\n  'caret-color': 'rgb(51, 51, 51)',\n  'clear': 'none',\n  'color': 'rgb(51, 51, 51)',\n  'color-rendering': 'auto',\n  'column-count': 'auto',\n  'column-fill': 'balance',\n  'column-gap': 'normal',\n  'column-rule-color': 'rgb(51, 51, 51)',\n  'column-rule-style': 'none',\n  'column-rule-width': '0',\n  'column-span': 'none',\n  'column-width': 'auto',\n  'contain': 'none',\n  'counter-increment': 'none',\n  'counter-reset': 'none',\n  'cursor': 'auto',\n  'direction': 'inherit',\n  'display': 'block',\n  'empty-cells': 'show',\n  'filter': 'none',\n  'flex': 'none', // flex-grow, flex-shrink, and flex-basis.\n  'flex-flow': 'row nowrap', // flex-direction, flex-wrap.\n  'float': 'none',\n  'flood-color': 'rgb(0, 0, 0)',\n  'flood-opacity': '1',\n  'font': 'none',\n  'font-size': 'medium',\n  'font-family': '',\n  'height': 'auto',\n  'hyphens': 'manual',\n  'image-rendering': 'auto',\n  'inline-size': '', // Setting to 'auto' will not allow override.\n  'isolation': 'auto',\n  'justify-content': 'normal',\n  'justify-items': 'normal',\n  'justify-self': 'auto',\n  'letter-spacing': 'normal',\n  'lighting-color': 'rgb(255, 255, 255)',\n  'line-break': 'auto',\n  'line-height': 'normal',\n  'margin-bottom': '0',\n  'mask': 'none',\n  'max-block-size': 'none',\n  'max-height': 'none',\n  'max-inline-size': 'none',\n  'max-width': 'none',\n  'min-block-size': 'none',\n  'min-height': '0',\n  'min-inline-size': '0',\n  'min-width': '0',\n  'mix-blend-mode': 'normal',\n  'object-fit': 'fill', // Important for Safari browser.\n  'offset-distance': 'none', // Chrome only (Experimental).\n  'offset-path': 'none', // Chrome only (Experimental).\n  'offset-rotate': 'auto 0deg', // Chrome only (Experimental).\n  'opacity': '1',\n  'order': '0',\n  'orphans': '2',\n  'outline': 'none',\n  'overflow-anchor': 'auto',\n  'overflow-wrap': 'normal',\n  'overflow': 'visible',\n  'padding': '0',\n  'page': '',\n  'perspective': 'none',\n  'pointer-events': 'auto',\n  'position': 'static',\n  'quotes': '',\n  'resize': 'none',\n  'right': '0',\n  'scroll-behavior': 'auto',\n  'tab-size': '8', // Only Chrome, Safari (Experimental).\n  'table-layout': 'auto',\n  'text-align': 'start',\n  'text-align-last': 'auto',\n  'text-anchor': 'start',\n  'text-combine-upright': 'none',\n  'text-decoration': 'none',\n  'text-indent': '0',\n  'text-orientation': 'mixed',\n  'text-overflow': 'clip',\n  'text-rendering': 'auto',\n  'text-shadow': 'none',\n  'text-size-adjust': 'auto',\n  'text-transform': 'none',\n  'text-underline-position': 'auto',\n  'top': 'auto',\n  'touch-action': 'auto',\n  'transform': 'none',\n  'transition': 'none 0s ease 0s',\n  'unicode-bidi': 'normal',\n  'user-select': 'auto',\n  'vector-effect': 'none',\n  'vertical-align': 'baseline',\n  'visibility': 'visible',\n  'white-space': 'normal',\n  'widows': '2',\n  'word-break': 'normal',\n  'word-spacing': '0',\n  'word-wrap': 'normal',\n  'writing-mode': 'horizontal-tb',\n  'zoom': '1',\n  'z-index': 'auto',\n};\n\n/** @const {string} */\nexport const googleFontsUrl =\n  'https://fonts.googleapis.com/css?family=Google+Sans';\n\n/**\n * @param {string} camelCase camel cased string\n * @return {string} title cased string\n */\nexport function camelCaseToTitleCase(camelCase) {\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n}\n\n/**\n * Checks the style if a prefixed version of a property exists and returns\n * it or returns an empty string.\n * @private\n * @param {!Object} style\n * @param {string} titleCase the title case version of a css property name\n * @return {string} the prefixed property name or null.\n */\nfunction getVendorJsPropertyName_(style, titleCase) {\n  for (let i = 0; i < vendorPrefixes.length; i++) {\n    const propertyName = vendorPrefixes[i] + titleCase;\n    if (style[propertyName] !== undefined) {\n      return propertyName;\n    }\n  }\n  return '';\n}\n\n/**\n * Returns the possibly prefixed JavaScript property name of a style property\n * (ex. WebkitTransitionDuration) given a camelCase'd version of the property\n * (ex. transitionDuration).\n * @param {!Object} style\n * @param {string} camelCase the camel cased version of a css property name\n * @param {boolean=} bypassCache bypass the memoized cache of property\n *   mapping\n * @return {string}\n */\nexport function getVendorJsPropertyName(style, camelCase, bypassCache) {\n  if (startsWith(camelCase, '--')) {\n    // CSS vars are returned as is.\n    return camelCase;\n  }\n  if (!propertyNameCache) {\n    propertyNameCache = map();\n  }\n  let propertyName = propertyNameCache[camelCase];\n  if (!propertyName || bypassCache) {\n    propertyName = camelCase;\n    if (style[camelCase] === undefined) {\n      const titleCase = camelCaseToTitleCase(camelCase);\n      const prefixedPropertyName = getVendorJsPropertyName_(style, titleCase);\n\n      if (style[prefixedPropertyName] !== undefined) {\n        propertyName = prefixedPropertyName;\n      }\n    }\n    if (!bypassCache) {\n      propertyNameCache[camelCase] = propertyName;\n    }\n  }\n  return propertyName;\n}\n\n/**\n * Sets the CSS styles of the specified element with !important. The styles\n * are specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, string|number>} styles\n */\nexport function setImportantStyles(element, styles) {\n  for (const k in styles) {\n    element.style.setProperty(\n      getVendorJsPropertyName(styles, k),\n      styles[k].toString(),\n      'important'\n    );\n  }\n}\n\n/**\n * Sets the CSS style of the specified element with optional units, e.g. \"px\".\n * @param {Element} element\n * @param {string} property\n * @param {?string|number|boolean} value\n * @param {string=} units\n * @param {boolean=} bypassCache\n */\nexport function setStyle(element, property, value, units, bypassCache) {\n  const propertyName = getVendorJsPropertyName(\n    element.style,\n    property,\n    bypassCache\n  );\n  if (propertyName) {\n    element.style[propertyName] = /** @type {string} */ (\n      units ? value + units : value\n    );\n  }\n}\n\n/**\n * Returns the value of the CSS style of the specified element.\n * @param {!Element} element\n * @param {string} property\n * @param {boolean=} bypassCache\n * @return {*}\n */\nexport function getStyle(element, property, bypassCache) {\n  const propertyName = getVendorJsPropertyName(\n    element.style,\n    property,\n    bypassCache\n  );\n  if (!propertyName) {\n    return undefined;\n  }\n  return element.style[propertyName];\n}\n\n/**\n * Sets the CSS styles of the specified element. The styles\n * a specified as a map from CSS property names to their values.\n * @param {!Element} element\n * @param {!Object<string, ?string|number|boolean>} styles\n */\nexport function setStyles(element, styles) {\n  for (const k in styles) {\n    setStyle(element, k, styles[k]);\n  }\n}\n\n/**\n * Shows or hides the specified element.\n * @param {!Element} element\n * @param {boolean=} display\n */\nexport function toggle(element, display) {\n  if (display === undefined) {\n    display = getStyle(element, 'display') == 'none';\n  }\n  setStyle(element, 'display', display ? '' : 'none');\n}\n\n/**\n * Returns a pixel value.\n * @param {number} value\n * @return {string}\n */\nexport function px(value) {\n  return value + 'px';\n}\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function translateX(value) {\n  if (typeof value == 'string') {\n    return `translateX(${value})`;\n  }\n  return `translateX(${px(value)})`;\n}\n\n/**\n * Returns a \"translateX\" for CSS \"transform\" property.\n * @param {number|string} x\n * @param {(number|string)=} y\n * @return {string}\n */\nexport function translate(x, y) {\n  if (typeof x == 'number') {\n    x = px(x);\n  }\n  if (y === undefined) {\n    return `translate(${x})`;\n  }\n  if (typeof y == 'number') {\n    y = px(y);\n  }\n  return `translate(${x}, ${y})`;\n}\n\n/**\n * Returns a \"scale\" for CSS \"transform\" property.\n * @param {number|string} value\n * @return {string}\n */\nexport function scale(value) {\n  return `scale(${value})`;\n}\n\n/**\n * Remove alpha value from a rgba color value.\n * Return the new color property with alpha equals if has the alpha value.\n * Caller needs to make sure the input color value is a valid rgba/rgb value\n * @param {string} rgbaColor\n * @return {string}\n */\nexport function removeAlphaFromColor(rgbaColor) {\n  return rgbaColor.replace(\n    /\\(([^,]+),([^,]+),([^,)]+),[^)]+\\)/g,\n    '($1,$2,$3, 1)'\n  );\n}\n\n/**\n * Gets the computed style of the element. The helper is necessary to enforce\n * the possible `null` value returned by a buggy Firefox.\n *\n * @param {!Window} win\n * @param {!Element} el\n * @return {!Object<string, string>}\n */\nexport function computedStyle(win, el) {\n  const style = /** @type {?CSSStyleDeclaration} */ (win.getComputedStyle(el));\n  return /** @type {!Object<string, string>} */ (style) || map();\n}\n\n/**\n * Resets styles that were set dynamically (i.e. inline)\n * @param {!Element} element\n * @param {!Array<string>} properties\n */\nexport function resetStyles(element, properties) {\n  const styleObj = {};\n  for (const property of properties) {\n    styleObj[property] = null;\n  }\n  setStyles(element, styleObj);\n}\n\n/**\n * Resets all the styles of an element to a given value. Defaults to null.\n * The valid values are 'inherit', 'initial', 'unset' or null.\n * @param {!Element} element\n */\nexport function resetAllStyles(element) {\n  setImportantStyles(element, defaultStyles);\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Determines if value is actually an Object.\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject(value) {\n  const str = Object.prototype.toString.call(value);\n  return str === '[object Object]';\n}\n\n/**\n * Checks whether `s` is a valid value of `enumObj`.\n *\n * @param {!Object<T>} enumObj\n * @param {T} s\n * @return {boolean}\n * @template T\n */\nexport function isEnumValue(enumObj, s) {\n  for (const k in enumObj) {\n    if (enumObj[k] === s) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * True if the value is a function.\n * @param {*} value\n * @return {boolean}\n */\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * True if the value is either true or false.\n * @param {?*} value\n * @return {boolean}\n */\nexport function isBoolean(value) {\n  return typeof value === 'boolean';\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {warn} from './log';\n\n// NOTE: This regex was copied from SwG's AMP extension. https://github.com/ampproject/amphtml/blob/c23bf281f817a2ee5df73f6fd45e9f4b71bb68b6/extensions/amp-subscriptions-google/0.1/amp-subscriptions-google.js#L56\nconst GOOGLE_DOMAIN_RE = /(^|\\.)google\\.(com?|[a-z]{2}|com?\\.[a-z]{2}|cat)$/;\n\n/**\n  @typedef {{\n    href: string,\n    protocol: string,\n    host: string,\n    hostname: string,\n    port: string,\n    pathname: string,\n    search: string,\n    hash: string,\n    origin: string,\n  }}\n  */\nlet LocationDef;\n\n/**\n * Cached a-tag to avoid memory allocation during URL parsing.\n * @type {HTMLAnchorElement}\n */\nlet a;\n\n/**\n * We cached all parsed URLs. As of now there are no use cases\n * of AMP docs that would ever parse an actual large number of URLs,\n * but we often parse the same one over and over again.\n * @type {Object<string, !LocationDef>}\n */\nlet cache;\n\n/**\n * Serializes the passed parameter map into a query string with both keys\n * and values encoded.\n * @param {!JsonObject} params\n * @return {string}\n */\nexport function serializeQueryString(params) {\n  const s = [];\n  for (const k in params) {\n    const v = params[k];\n    if (v == null) {\n      continue;\n    } else if (Array.isArray(v)) {\n      for (let i = 0; i < v.length; i++) {\n        const sv = /** @type {string} */ (v[i]);\n        s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n      }\n    } else {\n      const sv = /** @type {string} */ (v);\n      s.push(`${encodeURIComponent(k)}=${encodeURIComponent(sv)}`);\n    }\n  }\n  return s.join('&');\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * Consider the returned object immutable. This is enforced during\n * testing by freezing the object.\n * @param {string} url\n * @return {!LocationDef}\n */\nexport function parseUrl(url) {\n  if (!a) {\n    a = /** @type {!HTMLAnchorElement} */ (self.document.createElement('a'));\n    cache = self.UrlCache || (self.UrlCache = Object.create(null));\n  }\n\n  const fromCache = cache[url];\n  if (fromCache) {\n    return fromCache;\n  }\n\n  const info = parseUrlWithA(a, url);\n\n  return (cache[url] = info);\n}\n\n/**\n * Returns a Location-like object for the given URL. If it is relative,\n * the URL gets resolved.\n * @param {!HTMLAnchorElement} a\n * @param {string} url\n * @return {!LocationDef}\n */\nfunction parseUrlWithA(a, url) {\n  a.href = url;\n\n  /** @type {!LocationDef} */\n  const info = {\n    href: a.href,\n    protocol: a.protocol,\n    host: a.host,\n    hostname: a.hostname,\n    port: a.port == '0' ? '' : a.port,\n    pathname: a.pathname,\n    search: a.search,\n    hash: a.hash,\n    origin: a.protocol + '//' + a.host,\n  };\n\n  // For data URI a.origin is equal to the string 'null' which is not useful.\n  // We instead return the actual origin which is the full URL.\n  if (a.origin && a.origin !== 'null') {\n    info.origin = a.origin;\n  } else if (info.protocol === 'data:' || !info.host) {\n    info.origin = info.href;\n  }\n  return info;\n}\n\n/**\n * Parses and builds Object of URL query string.\n * @param {string} query The URL query string.\n * @return {!Object<string, string>}\n */\nexport function parseQueryString(query) {\n  if (!query) {\n    return {};\n  }\n  return (/^[?#]/.test(query) ? query.slice(1) : query)\n    .split('&')\n    .reduce((params, param) => {\n      const item = param.split('=');\n      try {\n        const key = decodeURIComponent(item[0] || '');\n        const value = decodeURIComponent(item[1] || '');\n        if (key) {\n          params[key] = value;\n        }\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        warn(`SwG could not parse a URL query param: ${item[0]}`);\n      }\n      return params;\n    }, {});\n}\n\n/**\n * Adds a parameter to a query string.\n * @param {string} url\n * @param {string} param\n * @param {string} value\n * @return {string}\n */\nexport function addQueryParam(url, param, value) {\n  const queryIndex = url.indexOf('?');\n  const fragmentIndex = url.indexOf('#');\n  let fragment = '';\n  if (fragmentIndex != -1) {\n    fragment = url.substring(fragmentIndex);\n    url = url.substring(0, fragmentIndex);\n  }\n  if (queryIndex == -1) {\n    url += '?';\n  } else if (queryIndex < url.length - 1) {\n    url += '&';\n  }\n  url += encodeURIComponent(param) + '=' + encodeURIComponent(value);\n  return url + fragment;\n}\n\n/**\n * @param {!../proto/api_messages.Message} message\n * @return {string}\n */\nexport function serializeProtoMessageForUrl(message) {\n  return JSON.stringify(message.toArray(false));\n}\n\n/**\n * Returns the Url including the path and search, without fregment.\n * @param {string} url\n * @return {string}\n */\nexport function getHostUrl(url) {\n  const locationHref = parseUrl(url);\n  return locationHref.origin + locationHref.pathname + locationHref.search;\n}\n\n/**\n * @param {!../model/doc.Doc} doc\n * @return {string}\n */\nexport function getCanonicalUrl(doc) {\n  const node = doc.getRootNode().querySelector(\"link[rel='canonical']\");\n  return (node && node.href) || '';\n}\n\nconst PARSED_URL = parseUrl(self.window.location.href);\nconst PARSED_REFERRER = parseUrl(self.document.referrer);\n\n/**\n * True for Google domains\n * @param {LocationDef=} parsedUrl Defaults to the current page's URL\n * @return {boolean}\n */\nfunction isGoogleDomain(parsedUrl) {\n  parsedUrl = parsedUrl || PARSED_URL;\n  return GOOGLE_DOMAIN_RE.test(parsedUrl.hostname);\n}\n\n/**\n * True for HTTPS URLs\n * @param {LocationDef=} parsedUrl Defaults to the current page's URL\n * @return {boolean}\n */\nexport function isSecure(parsedUrl) {\n  parsedUrl = parsedUrl || PARSED_URL;\n  return parsedUrl.protocol === 'https' || parsedUrl.protocol === 'https:';\n}\n\n/**\n * True when the page is rendered within a secure Google application or\n * was linked to from a secure Google domain.\n * @param {LocationDef=} parsedReferrer Defaults to the current page's referrer\n * @return {boolean}\n */\nexport function wasReferredByGoogle(parsedReferrer) {\n  parsedReferrer = parsedReferrer || PARSED_REFERRER;\n  return isSecure(parsedReferrer) && isGoogleDomain(parsedReferrer);\n}\n","/**\n * Copyright 2018 The Subscribe with Google Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {assert} from './log';\nimport {parseJson} from './json';\nimport {parseUrl} from './url';\nimport {utf8EncodeSync} from './bytes';\n\n/**\n * The \"init\" argument of the Fetch API. Currently, only \"credentials: include\"\n * is implemented.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch\n *\n * @typedef {{\n *   body: (!FormData|string|undefined),\n *   credentials: (string|undefined),\n *   headers: (!Object|undefined),\n *   method: (string|undefined),\n *   responseType: (string)\n * }}\n */\nexport let FetchInitDef;\n\n/** @private @const {!Array<string>} */\nconst allowedMethods_ = ['GET', 'POST'];\n\n/** @private @enum {number} Allowed fetch responses. */\nconst allowedFetchTypes_ = {\n  document: 1,\n  text: 2,\n};\n\n/**\n * A class that polyfills Fetch API.\n */\nexport class Xhr {\n  /**\n   * @param {!Window} win\n   */\n  constructor(win) {\n    /** @const {!Window} */\n    this.win = win;\n  }\n\n  /**\n   * We want to call `fetch_` unbound from any context since it could\n   * be either the native fetch or our polyfill.\n   *\n   * @param {string} input\n   * @param {!FetchInitDef} init\n   * @return {!Promise<!FetchResponse>|!Promise<!Response>}\n   * @private\n   */\n  fetch_(input, init) {\n    // TODO(avimehta): Should the requests go through when page is not visible?\n    assert(typeof input == 'string', 'Only URL supported: %s', input);\n    // In particular, Firefox does not tolerate `null` values for\n    // `credentials`.\n    const creds = init.credentials;\n    assert(\n      creds === undefined || creds == 'include' || creds == 'omit',\n      'Only credentials=include|omit support: %s',\n      creds\n    );\n    // Fallback to xhr polyfill since `fetch` api does not support\n    // responseType = 'document'. We do this so we don't have to do any parsing\n    // and document construction on the UI thread which would be expensive.\n    if (init.responseType == 'document') {\n      return fetchPolyfill(input, init);\n    }\n    return (this.win.fetch || fetchPolyfill).apply(null, arguments);\n  }\n\n  /**\n   * @param {string} input URL\n   * @param {?FetchInitDef} init Fetch options object.\n   * @return {!Promise<!FetchResponse>}\n   */\n  fetch(input, init) {\n    init = setupInit(init);\n    return this.fetch_(input, init)\n      .catch((reason) => {\n        /*\n         * If the domain is not valid for SwG we return 404 without\n         * CORS headers and the browser throws a CORS error.\n         * We include some helpful text in the message to point the\n         * publisher towards the real problem.\n         */\n        const targetOrigin = parseUrl(input).origin;\n        throw new Error(\n          `XHR Failed fetching (${targetOrigin}/...): (Note: a CORS error above may indicate that this publisher or domain is not configured in Publisher Center. The CORS error happens becasue 4xx responses do not set CORS headers.)`,\n          reason && reason.message\n        );\n      })\n      .then((response) => assertSuccess(response));\n  }\n}\n\n/**\n * Normalized method name by uppercasing.\n * @param {string|undefined} method\n * @return {string}\n * @private\n */\nfunction normalizeMethod_(method) {\n  if (method === undefined) {\n    return 'GET';\n  }\n  method = method.toUpperCase();\n\n  assert(\n    allowedMethods_.includes(method),\n    'Only one of %s is currently allowed. Got %s',\n    allowedMethods_.join(', '),\n    method\n  );\n\n  return method;\n}\n\n/**\n * Sets up and normalizes the FetchInitDef\n *\n * @param {?FetchInitDef=} init Fetch options object.\n * @param {string=} accept The HTTP Accept header value.\n * @return {!FetchInitDef}\n */\nfunction setupInit(init, accept) {\n  init = init || /** @type {FetchInitDef} */ ({});\n  init.method = normalizeMethod_(init.method);\n  init.headers = init.headers || {};\n  if (accept) {\n    init.headers['Accept'] = accept;\n  }\n  return init;\n}\n\n/**\n * A minimal polyfill of Fetch API. It only polyfills what we currently use.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch\n *\n * Notice that the \"fetch\" method itself is not exported as that would require\n * us to immediately support a much wide API.\n *\n * @param {string} input\n * @param {!FetchInitDef} init\n * @return {!Promise<!FetchResponse>}\n * @private Visible for testing\n */\nexport function fetchPolyfill(input, init) {\n  return new Promise(function (resolve, reject) {\n    const xhr = createXhrRequest(init.method || 'GET', input);\n\n    if (init.credentials == 'include') {\n      xhr.withCredentials = true;\n    }\n\n    if (init.responseType in allowedFetchTypes_) {\n      xhr.responseType = init.responseType;\n    }\n\n    if (init.headers) {\n      for (const header of Object.keys(init.headers)) {\n        xhr.setRequestHeader(header, init.headers[header]);\n      }\n    }\n\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState < /* STATUS_RECEIVED */ 2) {\n        return;\n      }\n      if (xhr.status < 100 || xhr.status > 599) {\n        xhr.onreadystatechange = null;\n        reject(new Error(`Unknown HTTP status ${xhr.status}`));\n        return;\n      }\n\n      // TODO(dvoytenko): This is currently simplified: we will wait for the\n      // whole document loading to complete. This is fine for the use cases\n      // we have now, but may need to be reimplemented later.\n      if (xhr.readyState == /* COMPLETE */ 4) {\n        resolve(new FetchResponse(xhr));\n      }\n    };\n    xhr.onerror = () => {\n      reject(new Error('Network failure'));\n    };\n    xhr.onabort = () => {\n      reject(new Error('Request aborted'));\n    };\n\n    if (init.method == 'POST') {\n      xhr.send(init.body);\n    } else {\n      xhr.send();\n    }\n  });\n}\n\n/**\n * @param {string} method\n * @param {string} url\n * @return {!XMLHttpRequest}\n * @private\n */\nfunction createXhrRequest(method, url) {\n  const xhr = new XMLHttpRequest();\n  if ('withCredentials' in xhr) {\n    xhr.open(method, url, true);\n  } else {\n    throw new Error('CORS is not supported');\n  }\n  return xhr;\n}\n\n/**\n * If 415 or in the 5xx range.\n * @param {number} status\n */\nfunction isRetriable(status) {\n  return status == 415 || (status >= 500 && status < 600);\n}\n\n/**\n * Returns the response if successful or otherwise throws an error.\n * @param {!FetchResponse} response\n * @return {!Promise<!FetchResponse>}\n * @private Visible for testing\n */\nexport function assertSuccess(response) {\n  return new Promise((resolve) => {\n    if (response.ok) {\n      return resolve(response);\n    }\n\n    const {status} = response;\n    const err = new Error(`HTTP error ${status}`);\n    err.retriable = isRetriable(status);\n    // TODO(@jridgewell, #9448): Callers who need the response should\n    // skip processing.\n    err.response = response;\n    throw err;\n  });\n}\n\n/**\n * Response object in the Fetch API.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/GlobalFetch/fetch\n */\nexport class FetchResponse {\n  /**\n   * @param {!XMLHttpRequest} xhr\n   */\n  constructor(xhr) {\n    /** @private @const {!XMLHttpRequest} */\n    this.xhr_ = xhr;\n\n    /** @const {number} */\n    this.status = this.xhr_.status;\n\n    /** @const {boolean} */\n    this.ok = this.status >= 200 && this.status < 300;\n\n    /** @const {!FetchResponseHeaders} */\n    this.headers = new FetchResponseHeaders(xhr);\n\n    /** @type {boolean} */\n    this.bodyUsed = false;\n\n    /** @type {?ReadableStream} */\n    this.body = null;\n  }\n\n  /**\n   * Create a copy of the response and return it.\n   * @return {!FetchResponse}\n   */\n  clone() {\n    assert(!this.bodyUsed, 'Body already used');\n    return new FetchResponse(this.xhr_);\n  }\n\n  /**\n   * Drains the response and returns the text.\n   * @return {!Promise<string>}\n   * @private\n   */\n  drainText_() {\n    assert(!this.bodyUsed, 'Body already used');\n    this.bodyUsed = true;\n    return Promise.resolve(this.xhr_.responseText);\n  }\n\n  /**\n   * Drains the response and returns a promise that resolves with the response\n   * text.\n   * @return {!Promise<string>}\n   */\n  text() {\n    return this.drainText_();\n  }\n\n  /**\n   * Drains the response and returns the JSON object.\n   * @return {!Promise<!JsonObject>}\n   */\n  json() {\n    return /** @type {!Promise<!JsonObject>} */ (\n      this.drainText_().then(parseJson)\n    );\n  }\n\n  /**\n   * Drains the response and returns a promise that resolves with the response\n   * ArrayBuffer.\n   * @return {!Promise<!ArrayBuffer>}\n   */\n  arrayBuffer() {\n    return /** @type {!Promise<!ArrayBuffer>} */ (\n      this.drainText_().then(utf8EncodeSync)\n    );\n  }\n}\n\n/**\n * Provides access to the response headers as defined in the Fetch API.\n * @private Visible for testing.\n */\nexport class FetchResponseHeaders {\n  /**\n   * @param {!XMLHttpRequest} xhr\n   */\n  constructor(xhr) {\n    /** @private @const {!XMLHttpRequest} */\n    this.xhr_ = xhr;\n  }\n\n  /**\n   * @param {string} name\n   * @return {?string}\n   */\n  get(name) {\n    return this.xhr_.getResponseHeader(name);\n  }\n\n  /**\n   * @param {string} name\n   * @return {boolean}\n   */\n  has(name) {\n    return this.xhr_.getResponseHeader(name) != null;\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst MAX_Z_INDEX = 2147483647;\n\nconst Constants = {};\n\n/**\n * Supported environments.\n *\n * @enum {string}\n */\nConstants.Environment = {\n  LOCAL: 'LOCAL',\n  PREPROD: 'PREPROD',\n  PRODUCTION: 'PRODUCTION',\n  SANDBOX: 'SANDBOX',\n  TEST: 'TEST',\n  TIN: 'TIN',\n};\n\n/**\n * Supported payment methods.\n *\n * @enum {string}\n */\nConstants.PaymentMethod = {\n  CARD: 'CARD',\n  TOKENIZED_CARD: 'TOKENIZED_CARD',\n  UPI: 'UPI',\n};\n\n/**\n * Auth methods.\n *\n * @enum {string}\n */\nConstants.AuthMethod = {\n  CRYPTOGRAM_3DS: 'CRYPTOGRAM_3DS',\n  PAN_ONLY: 'PAN_ONLY',\n};\n\n/**\n * Returned result status.\n *\n * @enum {string}\n */\nConstants.ResponseStatus = {\n  CANCELED: 'CANCELED',\n  DEVELOPER_ERROR: 'DEVELOPER_ERROR',\n};\n\n/**\n * Supported total price status.\n *\n * @enum {string}\n */\nConstants.TotalPriceStatus = {\n  ESTIMATED: 'ESTIMATED',\n  FINAL: 'FINAL',\n  NOT_CURRENTLY_KNOWN: 'NOT_CURRENTLY_KNOWN',\n};\n\n/**\n * Supported Google Pay payment button type.\n *\n * @enum {string}\n */\nConstants.ButtonType = {\n  SHORT: 'short',\n  LONG: 'long',\n};\n\n/**\n * Supported button colors.\n *\n * @enum {string}\n */\nConstants.ButtonColor = {\n  DEFAULT: 'default',  // Currently defaults to black.\n  BLACK: 'black',\n  WHITE: 'white',\n};\n\n/**\n * Id attributes.\n *\n * @enum {string}\n */\nConstants.Id = {\n  POPUP_WINDOW_CONTAINER: 'popup-window-container',\n};\n\n/** @const {string} */\nConstants.STORAGE_KEY_PREFIX = 'google.payments.api.storage';\n\n/** @const {string} */\nConstants.IS_READY_TO_PAY_RESULT_KEY =\n    Constants.STORAGE_KEY_PREFIX + '.isreadytopay.result';\n\n/** @const {string} */\nConstants.UPI_CAN_MAKE_PAYMENT_CACHE_KEY =\n    Constants.STORAGE_KEY_PREFIX + '.upi.canMakePaymentCache';\n\n\nConstants.CLASS_PREFIX = 'google-payments-';\nConstants.IFRAME_ACTIVE_CONTAINER_CLASS =\n    `${Constants.CLASS_PREFIX}activeContainer`;\nConstants.IFRAME_CONTAINER_CLASS = `${Constants.CLASS_PREFIX}dialogContainer`;\nConstants.IFRAME_STYLE_CENTER_CLASS = `${Constants.CLASS_PREFIX}dialogCenter`;\nConstants.IFRAME_STYLE_CLASS = `${Constants.CLASS_PREFIX}dialog`;\n\nConstants.IFRAME_STYLE = `\n.${Constants.IFRAME_STYLE_CLASS} {\n    animation: none 0s ease 0s 1 normal none running;\n    background: none 0 0 / auto repeat scroll padding-box border-box #fff;\n    background-blend-mode: normal;\n    border: 0 none #333;\n    border-radius: 8px 8px 0 0;\n    border-collapse: separate;\n    bottom: 0;\n    box-shadow: #808080 0 3px 0 0, #808080 0 0 22px;\n    box-sizing: border-box;\n    letter-spacing: normal;\n    max-height: 100%;\n    overflow: visible;\n    position: fixed;\n    width: 100%;\n    z-index: ${MAX_Z_INDEX};\n    -webkit-appearance: none;\n    left: 0;\n}\n@media (min-width: 480px) {\n  .${Constants.IFRAME_STYLE_CLASS} {\n    width: 480px !important;\n    left: -240px !important;\n    margin-left: calc(100vw - 100vw / 2) !important;\n  }\n}\n.${Constants.IFRAME_CONTAINER_CLASS} {\n  background-color: rgba(0,0,0,0.26);\n  bottom: 0;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n}\n.iframeContainer {\n  -webkit-overflow-scrolling: touch;\n}\n`;\n\nConstants.IFRAME_STYLE_CENTER = `\n.${Constants.IFRAME_STYLE_CENTER_CLASS} {\n  animation: none 0s ease 0s 1 normal none running;\n  background-blend-mode: normal;\n  background: none 0 0 / auto repeat scroll padding-box border-box #fff;\n  border-collapse: separate;\n  border-radius: 8px;\n  border: 0px none #333;\n  bottom: auto;\n  box-shadow: #808080 0 0 22px;\n  box-sizing: border-box;\n  left: -240px;\n  letter-spacing: normal;\n  margin-left: calc(100vw - 100vw / 2) !important;\n  max-height: 90%;\n  overflow: visible;\n  position: absolute;\n  top: 100%;\n  transform: scale(0.8);\n  width: 480px;\n  z-index: ${MAX_Z_INDEX};\n  -webkit-appearance: none;\n}\n@media (min-height: 667px) {\n  .${Constants.IFRAME_STYLE_CENTER_CLASS} {\n    max-height: 600px;\n  }\n}\n.${Constants.IFRAME_ACTIVE_CONTAINER_CLASS} {\n  top: 50%;\n  transform: scale(1.0) translateY(-50%);\n}\n`;\n\nConstants.GPAY_BUTTON_WITH_CARD_INFO_IMAGE =\n    'background-image: url(https://pay.google.com/gp/p/generate_gpay_btn_img);';\n\nConstants.BUTTON_LOCALE_TO_MIN_WIDTH = {\n  'en': 152,\n  'bg': 163,\n  'cs': 192,\n  'de': 183,\n  'es': 183,\n  'fr': 183,\n  'hr': 157,\n  'id': 186,\n  'ja': 148,\n  'ko': 137,\n  'ms': 186,\n  'nl': 167,\n  'pl': 182,\n  'pt': 193,\n  'ru': 206,\n  'sk': 157,\n  'sl': 211,\n  'sr': 146,\n  'tr': 161,\n  'uk': 207,\n  'zh': 156,\n};\n\n/**\n * Name of the graypane.\n *\n * @const {string}\n */\nConstants.GPAY_GRAYPANE = 'gpay-graypane';\n\n/**\n * Class used for the gpay button.\n *\n * @const {string}\n */\nConstants.GPAY_BUTTON_CLASS = 'gpay-button';\n\nConstants.BUTTON_STYLE = `\n.${Constants.GPAY_BUTTON_CLASS} {\n  background-origin: content-box;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  border: 0px;\n  border-radius: 4px;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 1px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n  cursor: pointer;\n  height: 40px;\n  min-height: 40px;\n  padding: 11px 24px;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.black {\n  background-color: #000;\n  box-shadow: none;\n  padding: 12px 24px 10px;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.white {\n  background-color: #fff;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.short {\n  min-width: 90px;\n  width: 160px;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.black.short {\n  background-image: url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg);\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.white.short {\n  background-image: url(https://www.gstatic.com/instantbuy/svg/light_gpay.svg);\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.black.active {\n  background-color: #5f6368;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.black.hover {\n  background-color: #3c4043;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.white.active {\n  background-color: #fff;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.white.focus {\n  box-shadow: #e8e8e8 0 1px 1px 0, #e8e8e8 0 1px 3px;\n}\n\n.${Constants.GPAY_BUTTON_CLASS}.white.hover {\n  background-color: #f8f8f8;\n}\n`;\n\nConstants.GPAY_BUTTON_WITH_OFFER_ICON_ADDITIONAL_STYLE = 'position: relative;';\n\nConstants.GPAY_OFFER_ICON_CLASS = 'gpay-offer-icon';\n\nConstants.GPAY_OFFER_ICON_SVG =\n    \"<svg width=\\\"20px\\\" height=\\\"20px\\\" viewBox=\\\"0 0 20 20\\\" \" +\n    \"version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\" +\n    \"\\\"http://www.w3.org/1999/xlink\\\" class=\\\"gpay-offer-icon\\\"><defs><path d=\\\"M19.41,9.58 L10.41,0.58 \" +\n    \"C10.05,0.22 9.55,0 9,0 L2,0 C0.9,0 0,0.9 0,2 L0,9 C0,9.55 0.22,10.05 \" +\n    \"0.59,10.42 L9.59,19.42 C9.95,19.78 10.45,20 11,20 C11.55,20 12.05,19.78 \" +\n    \"12.41,19.41 L19.41,12.41 C19.78,12.05 20,11.55 20,11 C20,10.45 19.77,\" +\n    \"9.94 19.41,9.58 Z\\\" id=\\\"path-1\\\"></path></defs><g id=\\\"buttons_10.05\\\"\" +\n    \" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\" +\n    \"<g id=\\\"Artboard\\\" transform=\\\"translate(-40.000000, -43.000000)\\\">\" +\n    \"<g id=\\\"Group-3\\\" transform=\\\"translate(40.000000, 43.000000)\\\">\" +\n    \"<g id=\\\"Group-2-Copy-2\\\"><g id=\\\"Group-Copy\\\"><g id=\\\"ic_loyalty_24px\\\">\" +\n    \"<mask id=\\\"mask-2\\\" fill=\\\"white\\\"><use xlink:href=\\\"#path-1\\\"></use>\" +\n    \"</mask><use id=\\\"gpay-Shape\\\" fill=\\\"#FF6100\\\" fill-rule=\\\"nonzero\\\" \" +\n    \"xlink:href=\\\"#path-1\\\"></use><path d=\\\"M3.5,5 C2.67,5 2,4.33 2,3.5 C2,\" +\n    \"2.67 2.67,2 3.5,2 C4.33,2 5,2.67 5,3.5 C5,4.33 4.33,5 3.5,5 Z\\\" \" +\n    \"id=\\\"Path\\\" fill=\\\"#FFFFFF\\\" fill-rule=\\\"nonzero\\\" mask=\\\"url(#mask-2)\\\">\" +\n    \"</path></g></g></g><g id=\\\"Group-13-Copy-7\\\" transform=\\\"translate\" +\n    \"(6.000000, 6.000000)\\\" fill=\\\"#FFFFFF\\\" fill-rule=\\\"nonzero\\\">\" +\n    \"<g id=\\\"Group-13-Copy-2\\\"><path d=\\\"M2.15217391,4.55172414 C0.963561082,\" +\n    \"4.55172414 1.99840144e-14,3.53278598 1.99840144e-14,2.27586207 \" +\n    \"C1.99840144e-14,1.01893816 0.963561082,6.30606678e-14 2.15217391,6.\" +\n    \"30606678e-14 C3.34078674,6.30606678e-14 4.30434783,1.01893816 4.30434783,\" +\n    \"2.27586207 C4.30434783,3.53278598 3.34078674,4.55172414 2.15217391,\" +\n    \"4.55172414 Z M2.15217391,3.31034483 C2.69245247,3.31034483 3.13043478,2.\" +\n    \"84719112 3.13043478,2.27586207 C3.13043478,1.70453302 2.69245247,\" +\n    \"1.24137931 2.15217391,1.24137931 C1.61189535,1.24137931 1.17391304,1\" +\n    \".70453302 1.17391304,2.27586207 C1.17391304,2.84719112 1.61189535,3.\" +\n    \"31034483 2.15217391,3.31034483 Z\\\" id=\\\"Combined-Shape\\\"></path>\" +\n    \"<path d=\\\"M6.84782609,9 C5.65921326,9 4.69565217,7.98106184 4.69565217,\" +\n    \"6.72413793 C4.69565217,5.46721402 5.65921326,4.44827586 6.84782609,\" +\n    \"4.44827586 C8.03643892,4.44827586 9,5.46721402 9,6.72413793 C9,7.98106184\" +\n    \" 8.03643892,9 6.84782609,9 Z M6.84782609,7.75862069 C7.38810465,\" +\n    \"7.75862069 7.82608696,7.29546698 7.82608696,6.72413793 C7.82608696\" +\n    \",6.15280888 7.38810465,5.68965517 6.84782609,5.68965517 C6.30754753,\" +\n    \"5.68965517 5.86956522,6.15280888 5.86956522,6.72413793 C5.86956522,\" +\n    \"7.29546698 6.30754753,7.75862069 6.84782609,7.75862069 Z\\\" \" +\n    \"id=\\\"Combined-Shape\\\"></path><polygon id=\\\"Rectangle\\\" \" +\n    \"transform=\\\"translate(4.497720, 4.541938) rotate(34.000000) \" +\n    \"translate(-4.497720, -4.541938) \\\" points=\\\"3.77901778 -0.202295978 \" +\n    \"4.9740273 -0.171019161 5.21642263 9.28617278 4.02141311 9.25489596\\\">\" +\n    \"</polygon></g></g></g></g></g></svg>\";\n\nConstants.GPAY_OFFER_ICON_STYLE = `\n.${Constants.GPAY_OFFER_ICON_CLASS} {\n  position: absolute;\n  right: -5px;\n  top: -5px;\n}\n\n#ic_loyalty_24px use.hover {\n  fill: #FC853B;\n}\n`;\n\nConstants.GPAY_OFFER_DESCRIPTION_CLASS = 'gpay-offer-description';\n\nConstants.GPAY_OFFER_DESCRIPTION_STYLE = `\n@import url(//fonts.googleapis.com/css?family=Google+Sans:500);\n.${Constants.GPAY_OFFER_DESCRIPTION_CLASS} {\n  text-align: center;\n  font: 10px 'Google Sans';\n  margin-top: 2px;\n  margin-bottom: 0px;\n}\n\n.${Constants.GPAY_OFFER_DESCRIPTION_CLASS}.gpay-btn-clicked {\n  color: #3C4043;\n}\n\n.${Constants.GPAY_OFFER_DESCRIPTION_CLASS}.short {\n  min-width: 90px;\n  width: 160px;\n}\n\n.${Constants.GPAY_OFFER_DESCRIPTION_CLASS}.long {\n  min-width: 152px;\n  width: 240px;\n}\n`;\n\n/**\n * Class used for the new gpay button with card info (last 4 digits, card net).\n *\n * @const {string}\n */\nConstants.GPAY_BUTTON_CARD_INFO_CLASS = 'gpay-card-info-btn';\n\nConstants.GPAY_BUTTON_CARD_INFO_BUTTON_STYLE = `\n  .${Constants.GPAY_BUTTON_CARD_INFO_CLASS} {\n    background-origin: content-box;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    border: 0px;\n    border-radius: 4px;\n    box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 1px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n    cursor: pointer;\n    height: 40px;\n    min-height: 40px;\n    padding: 11px 24px;\n    background-color: #000;\n    box-shadow: none;\n    padding: 9px 24px 10px;\n    min-width: 190px;\n    width: 240px;\n  }\n\n  .${Constants.GPAY_BUTTON_CARD_INFO_CLASS}.active {\n    background-color: #5f6368;\n  }\n\n  .${Constants.GPAY_BUTTON_CARD_INFO_CLASS}.hover {\n    background-color: #3c4043;\n  }\n  `;\n\n\n/**\n * Trusted domain for secure context validation\n *\n * @const {string}\n */\nConstants.TRUSTED_DOMAIN = '.google.com';\n\nexport {Constants};\n\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Constants} from './constants.js';\n\n/**\n * Injects the provided style sheet to the document head.\n * @param {string} styleText The stylesheet to be injected.\n * @return {!Element}\n */\nfunction injectStyleSheet(styleText) {\n  const styleElement = document.createElement('style');\n  styleElement.type = 'text/css';\n  styleElement.textContent = styleText;\n  document.head.appendChild(styleElement);\n  return styleElement;\n}\n\n/**\n * Injects the pay with google iframe.\n * @param {string} iframeClassName The classname of the iFrame wrapper.\n * @return {!{container: !Element, iframe:!HTMLIFrameElement}}\n */\nfunction injectIframe(iframeClassName) {\n  const container = document.createElement('div');\n  container.classList.add(Constants.IFRAME_CONTAINER_CLASS);\n  const iframeContainer = document.createElement('div');\n  iframeContainer.classList.add('iframeContainer');\n  /** @private @const {!HTMLIFrameElement} */\n  const iframe =\n      /** @type {!HTMLIFrameElement} */ (document.createElement('iframe'));\n  iframe.classList.add(iframeClassName);\n  iframe.setAttribute('frameborder', '0');\n  iframe.setAttribute('scrolling', 'no');\n  iframeContainer.appendChild(iframe);\n  container.appendChild(iframeContainer);\n  document.body.appendChild(container);\n  return {'container': container, 'iframe': iframe};\n}\n\nexport {\n  injectStyleSheet,\n  injectIframe,\n};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Constants} from './constants.js';\n\nconst MAX_Z_INDEX = 2147483647;\n\n\nclass Graypane {\n\n  /**\n   * @param {!Document} doc\n   */\n  constructor(doc) {\n    /** @private @const {!Document} */\n    this.doc_ = doc;\n\n    /** @private @const {!Element} */\n    this.element_ = doc.createElement(Constants.GPAY_GRAYPANE);\n    setImportantStyles(this.element_, {\n      'z-index': MAX_Z_INDEX,\n      'display': 'none',\n      'position': 'fixed',\n      'top': 0,\n      'right': 0,\n      'bottom': 0,\n      'left': 0,\n      'background-color': 'rgba(32, 33, 36, .6)',\n    });\n\n    /** @private {?Window} */\n    this.popupWindow_ = null;\n\n    this.element_.addEventListener('click', () => {\n      if (this.popupWindow_) {\n        try {\n          this.popupWindow_.focus();\n        } catch (e) {\n          // Ignore error.\n        }\n      }\n    });\n  }\n\n  /**\n   * Shows the graypane.\n   * @param {?Window|undefined} popupWindow\n   * @return {!Promise}\n   */\n  show(popupWindow) {\n    this.popupWindow_ = popupWindow || null;\n    this.doc_.body.appendChild(this.element_);\n    setImportantStyles(this.element_, {\n      'display': 'block',\n      'opacity': 0,\n    });\n    return transition(this.element_, {\n      'opacity': 1,\n    }, 300, 'ease-out');\n  }\n\n  /**\n   * Hides the graypane.\n   * @return {!Promise|undefined}\n   */\n  hide() {\n    this.popupWindow_ = null;\n    if (!this.element_.parentElement) {\n      // Has already been removed or haven't been even added to DOM.\n      // This could be possible after redirect.\n      return;\n    }\n    return transition(this.element_, {\n      'opacity': 0,\n    }, 300, 'ease-out').then(() => {\n      setImportantStyles(this.element_, {'display': 'none'});\n      this.doc_.body.removeChild(this.element_);\n    });\n  }\n}\n\n\n/**\n * Sets the CSS styles of the specified element with !important. The styles\n * are specified as a map from CSS property names to their values.\n *\n * The `!important` styles are used to avoid accidental specificity overrides\n * from the 3p page's stylesheet.\n *\n * @param {!Element} element\n * @param {!Object<string, string|number>} styles\n */\nfunction setImportantStyles(element, styles) {\n  for (const k in styles) {\n    element.style.setProperty(k, styles[k].toString(), 'important');\n  }\n}\n\n\n/**\n * Returns a promise which is resolved after the given duration of animation\n * @param {!Element} el - Element to be observed.\n * @param {!Object<string, string|number>} props - properties to be animated.\n * @param {number} durationMillis - duration of animation.\n * @param {string} curve - transition function for the animation.\n * @return {!Promise} Promise which resolves once the animation is done playing.\n */\nfunction transition(el, props, durationMillis, curve) {\n  const win = el.ownerDocument.defaultView;\n  const previousTransitionValue = el.style.transition || '';\n  return new Promise(resolve => {\n    win.setTimeout(() => {\n      win.setTimeout(resolve, durationMillis);\n      const tr = `${durationMillis}ms ${curve}`;\n      setImportantStyles(el, Object.assign({\n        'transition': `transform ${tr}, opacity ${tr}`,\n      }, props));\n    });\n  }).then(() => {\n    // Stop transition and make sure that the final properties get set.\n    setImportantStyles(el, Object.assign({\n      'transition': previousTransitionValue,\n    }, props));\n  });\n}\n\n\nexport {Graypane};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Constants} from './constants.js';\nimport {PostMessageService} from './post_message_service.js';\n\n/**\n * Supported interactions between iframe and merchant page.\n *\n * @enum {number}\n */\n// Next Id: 10\nconst PostMessageEventType = {\n  IS_READY_TO_PAY: 6,\n  LOG_BUTTON_CLICK: 5,\n  LOG_IS_READY_TO_PAY_API: 0,\n  LOG_LOAD_PAYMENT_DATA_API: 1,\n  LOG_RENDER_BUTTON: 2,\n  LOG_INITIALIZE_PAYMENTS_CLIENT: 9,\n  LOG_PAY_FRAME_REQUESTED: 15,\n  LOG_PAY_FRAME_LOADED: 16,\n  LOG_PAY_FRAME_LOADED_WITH_ALL_JS: 17,\n  LOG_INLINE_PAYMENT_WIDGET_INITIALIZE: 4,\n  LOG_INLINE_PAYMENT_WIDGET_SUBMIT: 3,\n  LOG_INLINE_PAYMENT_WIDGET_DISPLAYED: 7,\n  LOG_INLINE_PAYMENT_WIDGET_HIDDEN: 8,\n};\n\n/**\n * Types of buy flow activity modes.\n *\n * @enum {number}\n */\nconst BuyFlowActivityMode = {\n  UNKNOWN_MODE: 0,\n  IFRAME: 1,\n  POPUP: 2,\n  REDIRECT: 3,\n  ANDROID_NATIVE: 4,\n  PAYMENT_HANDLER: 5,\n};\n\n/**\n * Types of buy flow activity modes.\n *\n * @enum {number}\n */\nconst PublicErrorCode = {\n  UNKNOWN_ERROR_TYPE: 0,\n  INTERNAL_ERROR: 1,\n  DEVELOPER_ERROR: 2,\n  BUYER_ACCOUNT_ERROR: 3,\n  MERCHANT_ACCOUNT_ERROR: 4,\n  UNSUPPORTED_API_VERSION: 5,\n  BUYER_CANCEL: 6,\n};\n\n/**\n * The presentation mode of the buy flow\n *\n * @enum {number}\n */\nconst BuyFlowMode = {\n  PAY_WITH_GOOGLE: 5,\n  SUBSCRIBE_WITH_GOOGLE: 6,\n};\n\n/**\n * Iframe used for logging and prefetching.\n *\n * @type {?Element}\n */\nlet iframe = null;\n\n/** @type {?PostMessageService} */\nlet postMessageService = null;\n\n/** @type {?string} */\nlet environment = null;\n\n/** @type {?string} */\nlet googleTransactionId = null;\n\n/** @type {number} */\nlet originTimeMs = Date.now();\n\n/** @type {?BuyFlowActivityMode} */\nlet buyFlowActivityMode = null;\n\n/** @type {boolean} */\nlet iframeLoaded = false;\n\n/** @type {!Array<!Object>} */\nlet buffer = [];\n\nclass PayFrameHelper {\n  /**\n   * Creates a hidden iframe for logging and appends it to the top level\n   * document.\n   */\n  static load() {\n    if (iframe) {\n      return;\n    }\n    const initOptions =\n        /** @type {!PaymentOptions} */ (window['gpayInitParams']) || {};\n    environment = initOptions.environment || Constants.Environment.PRODUCTION;\n    iframe = document.createElement('iframe');\n    // Pass in origin because document.referrer inside iframe is empty in\n    // certain cases\n    // Can be replaced by iframe.src=... in non Google context.\n    iframe.src = PayFrameHelper.getIframeUrl_(\n            window.location.origin,\n            initOptions.merchantInfo && initOptions.merchantInfo.merchantId);\n    PayFrameHelper.postMessage({\n      'eventType': PostMessageEventType.LOG_PAY_FRAME_REQUESTED,\n      'clientLatencyStartMs': Date.now(),\n    });\n    iframe.height = '0';\n    iframe.width = '0';\n    iframe.style.display = 'none';\n    iframe.style.visibility = 'hidden';\n    iframe.onload = function() {\n      PayFrameHelper.postMessage({\n        'eventType': PostMessageEventType.LOG_PAY_FRAME_LOADED_WITH_ALL_JS,\n        'clientLatencyStartMs': Date.now(),\n      });\n      PayFrameHelper.iframeLoaded();\n    };\n    // If the body is already loaded, just append the iframe. Otherwise, we wait\n    // until the DOM has loaded to append the iframe, otherwise document.body is\n    // null.\n    if (document.body) {\n      PayFrameHelper.initialize_();\n    } else {\n      document.addEventListener(\n          'DOMContentLoaded', () => PayFrameHelper.initialize_());\n    }\n  }\n\n  /**\n   * Appends the iframe to the DOM and updates the post message service.\n   * @private\n   */\n  static initialize_() {\n    document.body.appendChild(iframe);\n    postMessageService = new PostMessageService(iframe.contentWindow);\n  }\n\n  /**\n   * Sends a message to the iframe and wait for a response.\n   * Uses the responseHandler specified only if the responseType is a match.\n   *\n   * @param {!Object} data\n   * @param {!PostMessageEventType} eventType\n   * @param {string} responseType\n   * @param {function(!Event)} responseHandler\n   */\n  static sendAndWaitForResponse(\n      data, eventType, responseType, responseHandler) {\n    function callback(event) {\n      if (event.data[responseType]) {\n        responseHandler(event);\n        // We only want to process the response from the payframe once.\n        // so stop listening to the event once processed.\n        PayFrameHelper.removeMessageEventListener_(callback);\n      }\n    }\n\n    PayFrameHelper.addMessageEventListener_(callback);\n\n    const postMessageData = Object.assign({'eventType': eventType}, data);\n    PayFrameHelper.postMessage(postMessageData);\n  }\n\n  /**\n   * Add an event listener for listening to messages received.\n   *\n   * @param {function(!Event)} callback\n   * @private\n   */\n  static addMessageEventListener_(callback) {\n    window.addEventListener('message', callback);\n  }\n\n  /**\n   * Remove the event listener for listening to messages.\n   *\n   * @param {function(!Event)} callback\n   * @private\n   */\n  static removeMessageEventListener_(callback) {\n    window.removeEventListener('message', callback);\n  }\n\n  /**\n   * Posts a message to the iframe with the given data.\n   *\n   * @param {!Object} data\n   */\n  static postMessage(data) {\n    if (!iframeLoaded) {\n      buffer.push(data);\n      return;\n    }\n    const postMessageData = Object.assign(\n        {\n          'buyFlowActivityMode': buyFlowActivityMode,\n          'googleTransactionId': googleTransactionId,\n          'originTimeMs': originTimeMs,\n        },\n        data);\n    postMessageService.postMessage(\n        postMessageData, PayFrameHelper.getIframeOrigin_());\n  }\n\n  /**\n   * Sets the activity mode.\n   *\n   * @param {!BuyFlowActivityMode} mode\n   */\n  static setBuyFlowActivityMode(mode) {\n    buyFlowActivityMode = mode;\n  }\n\n  /**\n   * Sets the google transaction id.\n   *\n   * @param {string} txnId\n   */\n  static setGoogleTransactionId(txnId) {\n    googleTransactionId = txnId;\n  }\n\n  /**\n   * Sets the originTimeMs. To be used only for tests.\n   *\n   * @param {number} originTimeMsTemp\n   */\n  static setOriginTimeMs(originTimeMsTemp) {\n    originTimeMs = originTimeMsTemp;\n  }\n\n  /**\n   * Override postMessageService for testing.\n   *\n   * @param {!PostMessageService} messageService\n   */\n  static setPostMessageService(messageService) {\n    postMessageService = messageService;\n  }\n\n  /**\n   * Clears the singleton variables.\n   */\n  static reset() {\n    iframe = null;\n    buffer.length = 0;\n    iframeLoaded = false;\n    buyFlowActivityMode = null;\n  }\n\n  /**\n   * Sets whether the iframe has been loaded or not.\n   *\n   * @param {boolean} loaded\n   */\n  static setIframeLoaded(loaded) {\n    iframeLoaded = loaded;\n  }\n\n  /**\n   * Called whenever the iframe is loaded.\n   */\n  static iframeLoaded() {\n    iframeLoaded = true;\n    buffer.forEach(function(data) {\n      PayFrameHelper.postMessage(data);\n    });\n    buffer.length = 0;\n  }\n\n  /**\n   * Returns the events that have been buffered.\n   *\n   * @return {!Array<!Object>}\n   */\n  static getBuffer() {\n    return buffer;\n  }\n\n  /**\n   * Mocks the iframe as an arbitrary html element instead of actually injecting\n   * it for testing.\n   */\n  static injectIframeForTesting() {\n    PayFrameHelper.reset();\n    iframe = document.createElement('p');\n    PayFrameHelper.iframeLoaded();\n  }\n\n  /**\n   * Returns the payframe origin based on the environment.\n   *\n   * @return {string}\n   * @private\n   */\n  static getIframeOrigin_() {\n    let iframeUrl = 'https://pay';\n    if (environment == Constants.Environment.SANDBOX) {\n      iframeUrl += '.sandbox';\n    } else if (environment == Constants.Environment.PREPROD) {\n      iframeUrl += '-preprod.sandbox';\n    }\n    return iframeUrl + '.google.com';\n  }\n\n  /**\n   * Returns the payframe URL based on the environment.\n   *\n   * @param {string} origin The origin that is opening the payframe.\n   * @param {string|null=} merchantId The merchant id.\n   * @return {string}\n   * @private\n   */\n  static getIframeUrl_(origin, merchantId) {\n    // TrustedResourceUrl header needs to start with https or '//'.\n    const iframeUrl = `https://pay${environment == Constants.Environment.PREPROD ?\n             '-preprod.sandbox' :\n             environment == Constants.Environment.SANDBOX ? '.sandbox' : ''}.google.com/gp/p/ui/payframe?origin=${origin}&mid=%{merchantId}`;\n    return iframeUrl;\n  }\n}\n\nexport {\n  BuyFlowActivityMode,\n  BuyFlowMode,\n  PayFrameHelper,\n  PostMessageEventType,\n  PublicErrorCode,\n};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BuyFlowActivityMode,\n  BuyFlowMode,\n  PayFrameHelper,\n  PostMessageEventType,\n  PublicErrorCode,\n} from './pay_frame_helper.js';\nimport {Constants} from './constants.js';\nimport {PaymentsClientDelegateInterface} from './payments_client_delegate_interface.js';\nimport {PaymentsRequestDelegate} from './payments_request_delegate.js';\nimport {PaymentsWebActivityDelegate} from './payments_web_activity_delegate.js';\nimport {UpiHandler} from './upi_handler.js';\nimport {\n  apiV2DoesMerchantSupportSpecifiedCardType,\n  chromeSupportsPaymentHandler,\n  chromeSupportsPaymentRequest,\n  doesMerchantSupportOnlyTokenizedCards,\n  getUpiPaymentMethod,\n  validateIsReadyToPayRequest,\n  validatePaymentDataRequest,\n  validatePaymentOptions,\n  validateSecureContext,\n} from './validator.js';\n\nconst {ActivityPorts} = require('web-activities/activity-ports');\n\nimport {createGoogleTransactionId} from './utils.js';\n\nconst TRUSTED_DOMAINS = [\n  'actions.google.com',\n  'amp-actions.sandbox.google.com',\n  'amp-actions-staging.sandbox.google.com',\n  'amp-actions-autopush.sandbox.google.com',\n  'payments.developers.google.com',\n  'payments.google.com',\n];\n\n/**\n * The client for interacting with the Google Payment APIs.\n * <p>\n * The async refers to the fact that this client supports redirects\n * when using webactivties.\n * <p>\n * If you are using this be sure that this is what you want.\n * <p>\n * In almost all cases PaymentsClient is the better client to use because\n * it exposes a promises based api which is easier to deal with.\n * @final\n */\nclass PaymentsAsyncClient {\n  /**\n   * @param {!PaymentOptions} paymentOptions\n   * @param {function(!Promise<!PaymentData>)} onPaymentResponse\n   * @param {boolean=} useIframe\n   * @param {!ActivityPorts=} activities Can be used to provide a shared\n   *   activities manager. By default, the new manager is created.\n   */\n  constructor(paymentOptions, onPaymentResponse, useIframe, activities) {\n    this.onPaymentResponse_ = onPaymentResponse;\n\n    validatePaymentOptions(paymentOptions);\n\n    /** @private {?number} */\n    this.loadPaymentDataApiStartTimeMs_ = null;\n\n    /** @private @const {string} */\n    this.environment_ =\n      paymentOptions.environment || Constants.Environment.TEST;\n    if (!PaymentsAsyncClient.googleTransactionId_) {\n      PaymentsAsyncClient.googleTransactionId_ = /** @type {string} */ (this.isInTrustedDomain_() &&\n      paymentOptions['i'] &&\n      paymentOptions['i']['googleTransactionId']\n        ? paymentOptions['i']['googleTransactionId']\n        : createGoogleTransactionId(this.environment_));\n    }\n\n    /** @private @const {!PaymentOptions} */\n    this.paymentOptions_ = paymentOptions;\n\n    /** @private @const {!PaymentsClientDelegateInterface} */\n    this.webActivityDelegate_ = new PaymentsWebActivityDelegate(\n      this.environment_,\n      PaymentsAsyncClient.googleTransactionId_,\n      useIframe,\n      activities,\n      paymentOptions['i'] && paymentOptions['i']['redirectKey']\n    );\n\n    /** @private {number} */\n    this.buyFlowMode_ = BuyFlowMode.PAY_WITH_GOOGLE;\n\n    const paymentRequestSupported = chromeSupportsPaymentRequest();\n    // TODO: Remove the temporary hack that disable payments\n    // request for inline flow.\n    /** @private @const {?PaymentsClientDelegateInterface} */\n    this.delegate_ =\n      paymentRequestSupported && !useIframe\n        ? new PaymentsRequestDelegate(this.environment_)\n        : this.webActivityDelegate_;\n\n    this.upiHandler_ = new UpiHandler();\n\n    this.webActivityDelegate_.onResult(this.onResult_.bind(this));\n    this.delegate_.onResult(this.onResult_.bind(this));\n\n    // Load PayFrameHelper upon client construction.\n    PayFrameHelper.load();\n\n    // If web delegate is used anyway then this is overridden in the web\n    // activity delegate when load payment data is called.\n    if (chromeSupportsPaymentHandler()) {\n      PayFrameHelper.setBuyFlowActivityMode(\n        BuyFlowActivityMode.PAYMENT_HANDLER\n      );\n    } else if (paymentRequestSupported) {\n      PayFrameHelper.setBuyFlowActivityMode(BuyFlowActivityMode.ANDROID_NATIVE);\n    }\n\n    PayFrameHelper.setGoogleTransactionId(\n      PaymentsAsyncClient.googleTransactionId_\n    );\n    PayFrameHelper.postMessage({\n      'eventType': PostMessageEventType.LOG_INITIALIZE_PAYMENTS_CLIENT,\n      'clientLatencyStartMs': Date.now(),\n    });\n\n    window.addEventListener('message', (event) =>\n      this.handleMessageEvent_(event)\n    );\n  }\n\n  /**\n   * Check whether the user can make payments using the Payment API.\n   *\n   * @param {!IsReadyToPayRequest} isReadyToPayRequest\n   * @return {!Promise} The promise will contain the boolean result and error\n   *     message when possible.\n   */\n  isReadyToPay(isReadyToPayRequest) {\n    // Merge with paymentOptions, preferring values from isReadyToPayRequest\n    if (isReadyToPayRequest) {\n      isReadyToPayRequest = Object.assign(\n        {},\n        this.paymentOptions_,\n        isReadyToPayRequest\n      );\n    }\n    const startTimeMs = Date.now();\n    /** @type {?string} */\n    const errorMessage =\n      validateSecureContext() ||\n      validateIsReadyToPayRequest(isReadyToPayRequest);\n    if (errorMessage) {\n      return new Promise((resolve, reject) => {\n        PaymentsAsyncClient.logDevErrorToConsole_('isReadyToPay', errorMessage);\n        PayFrameHelper.postMessage({\n          'eventType': PostMessageEventType.LOG_IS_READY_TO_PAY_API,\n          'error': PublicErrorCode.DEVELOPER_ERROR,\n        });\n        reject({\n          'statusCode': Constants.ResponseStatus.DEVELOPER_ERROR,\n          'statusMessage': errorMessage,\n        });\n      });\n    }\n\n    const isReadyToPayPromise = this.isReadyToPay_(isReadyToPayRequest);\n\n    isReadyToPayPromise.then((response) => {\n      PayFrameHelper.postMessage({\n        'eventType': PostMessageEventType.LOG_IS_READY_TO_PAY_API,\n        'clientLatencyStartMs': startTimeMs,\n        'isReadyToPayApiResponse': response,\n      });\n      return response;\n    });\n    return isReadyToPayPromise;\n  }\n\n  /**\n   * Actual implementation of isReadyToPay in a private method so that\n   * we can add callbacks to the promise to measure latencies.\n   *\n   * @param {!IsReadyToPayRequest} isReadyToPayRequest\n   * @return {!Promise} The promise will contain the boolean result and error\n   *     message when possible.\n   * @private\n   */\n  isReadyToPay_(isReadyToPayRequest) {\n    if (this.upiHandler_.isUpiRequest(isReadyToPayRequest)) {\n      return this.upiHandler_.isReadyToPay(isReadyToPayRequest);\n    }\n    if (\n      chromeSupportsPaymentRequest() &&\n      !isNativeDisabledInRequest(isReadyToPayRequest)\n    ) {\n      if (isReadyToPayRequest.apiVersion >= 2) {\n        return this.isReadyToPayApiV2ForChromePaymentRequest_(\n          isReadyToPayRequest\n        );\n      } else {\n        // This is the apiVersion 1 branch.\n        // If the merchant supports only Tokenized cards then just rely on\n        // delegate to give us the result.\n        // This will need to change once b/78519188 is fixed.\n        const webPromise = this.webActivityDelegate_.isReadyToPay(\n          isReadyToPayRequest\n        );\n        const nativePromise = this.delegate_.isReadyToPay(isReadyToPayRequest);\n        if (\n          doesMerchantSupportOnlyTokenizedCards(isReadyToPayRequest) &&\n          !chromeSupportsPaymentHandler()\n        ) {\n          return nativePromise;\n        }\n        // Return webIsReadyToPay only if delegateIsReadyToPay has been\n        // executed.\n        return nativePromise.then(() => webPromise);\n      }\n    }\n    const webPromise = this.webActivityDelegate_.isReadyToPay(\n      isReadyToPayRequest\n    );\n    return webPromise;\n  }\n\n  /**\n   * Handle is ready to pay for api v2.\n   *\n   * @param {!IsReadyToPayRequest} isReadyToPayRequest\n   * @return {!Promise} The promise will contain the boolean result and error\n   *     message when possible.\n   * @private\n   */\n  isReadyToPayApiV2ForChromePaymentRequest_(isReadyToPayRequest) {\n    let defaultPromise = Promise.resolve({'result': false});\n    if (isReadyToPayRequest.existingPaymentMethodRequired) {\n      defaultPromise = Promise.resolve({\n        'result': false,\n        'paymentMethodPresent': false,\n      });\n    }\n\n    let nativePromise = defaultPromise;\n    if (\n      apiV2DoesMerchantSupportSpecifiedCardType(\n        isReadyToPayRequest,\n        Constants.AuthMethod.CRYPTOGRAM_3DS\n      )\n    ) {\n      // If the merchant supports tokenized cards.\n      // Make a separate call to gms core to check if the user isReadyToPay\n      // with just tokenized cards. We can't pass in PAN_ONLY here\n      // because gms core always returns true for PAN_ONLY.\n      // Leave other payment methods as is.\n      const nativeRtpRequest /** @type {!IsReadyToPayRequest} */ = JSON.parse(\n        JSON.stringify(isReadyToPayRequest)\n      );\n      for (let i = 0; i < nativeRtpRequest.allowedPaymentMethods.length; i++) {\n        if (\n          nativeRtpRequest.allowedPaymentMethods[i].type ==\n          Constants.PaymentMethod.CARD\n        ) {\n          nativeRtpRequest.allowedPaymentMethods[i].parameters[\n            'allowedAuthMethods'\n          ] = [Constants.AuthMethod.CRYPTOGRAM_3DS];\n        }\n      }\n\n      nativePromise = this.delegate_.isReadyToPay(nativeRtpRequest);\n    }\n\n    let webPromise = defaultPromise;\n    if (\n      apiV2DoesMerchantSupportSpecifiedCardType(\n        isReadyToPayRequest,\n        Constants.AuthMethod.PAN_ONLY\n      )\n    ) {\n      webPromise = this.webActivityDelegate_.isReadyToPay(isReadyToPayRequest);\n    }\n\n    // Update session storage with payment handler canMakePayment result but\n    // rely on web delegate for actual response\n    if (chromeSupportsPaymentHandler()) {\n      return nativePromise.then(() => webPromise);\n    }\n\n    return nativePromise.then((nativeResult) => {\n      if ((nativeResult && nativeResult['result']) == true) {\n        return nativeResult;\n      }\n      return webPromise;\n    });\n  }\n\n  /**\n   * Prefetch paymentData to speed up loadPaymentData call. Note the provided\n   * paymentDataRequest should exactly be the same as provided in\n   * loadPaymentData to make the loadPaymentData call fast since current\n   * web flow prefetching is based on the full request parameters.\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   */\n  prefetchPaymentData(paymentDataRequest) {\n    /** @type {?string} */\n    const errorMessage =\n      validateSecureContext() || validatePaymentDataRequest(paymentDataRequest);\n    if (errorMessage) {\n      PaymentsAsyncClient.logDevErrorToConsole_(\n        'prefetchPaymentData',\n        errorMessage\n      );\n      return;\n    }\n    this.assignInternalParams_(paymentDataRequest);\n    if (\n      chromeSupportsPaymentRequest() &&\n      !isNativeDisabledInRequest(paymentDataRequest)\n    ) {\n      this.delegate_.prefetchPaymentData(paymentDataRequest);\n    } else {\n      // For non chrome supports always use the hosting page.\n      this.webActivityDelegate_.prefetchPaymentData(paymentDataRequest);\n    }\n  }\n\n  /**\n   * Request PaymentData, which contains necessary infomartion to complete a\n   * payment.\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   */\n  loadPaymentData(paymentDataRequest) {\n    PayFrameHelper.postMessage({\n      'eventType': PostMessageEventType.LOG_BUTTON_CLICK,\n    });\n    const errorMessage =\n      validateSecureContext() || validatePaymentDataRequest(paymentDataRequest);\n    this.buyFlowMode_ =\n      paymentDataRequest && paymentDataRequest.swg\n        ? BuyFlowMode.SUBSCRIBE_WITH_GOOGLE\n        : BuyFlowMode.PAY_WITH_GOOGLE;\n    if (errorMessage) {\n      this.onPaymentResponse_(\n        new Promise((resolve, reject) => {\n          PayFrameHelper.postMessage({\n            'eventType': PostMessageEventType.LOG_LOAD_PAYMENT_DATA_API,\n            'error': PublicErrorCode.DEVELOPER_ERROR,\n            'buyFlowMode': this.buyFlowMode_,\n          });\n          PaymentsAsyncClient.logDevErrorToConsole_(\n            'loadPaymentData',\n            errorMessage\n          );\n          reject({\n            'statusCode': Constants.ResponseStatus.DEVELOPER_ERROR,\n            'statusMessage': errorMessage,\n          });\n        })\n      );\n      return;\n    }\n\n    // Handler for UPI PaymentMethod\n    // Currently we don't support UPI along with other payment methods, if\n    // UPI is in payment methods then we assume it is UPI only.\n    const upiPaymentMethod = getUpiPaymentMethod(paymentDataRequest);\n    if (upiPaymentMethod) {\n      this.upiHandler_.loadPaymentData(\n        paymentDataRequest,\n        upiPaymentMethod,\n        this.onResult_.bind(this)\n      );\n      return;\n    }\n\n    this.loadPaymentDataApiStartTimeMs_ = Date.now();\n    this.assignInternalParams_(paymentDataRequest);\n    // We want to fall back to the web delegate if payment handler is supported\n    // and isReadyToPay bit is not explicitly set to true (fallback to web if\n    // isReadyToPay wasn't called for PH)\n    if (\n      chromeSupportsPaymentHandler() ||\n      isNativeDisabledInRequest(paymentDataRequest)\n    ) {\n      this.webActivityDelegate_.loadPaymentData(paymentDataRequest);\n    } else {\n      this.delegate_.loadPaymentData(paymentDataRequest);\n    }\n  }\n\n  /**\n   * Log developer error to console.\n   *\n   * @param {string} apiName\n   * @param {?string} errorMessage\n   * @private\n   */\n  static logDevErrorToConsole_(apiName, errorMessage) {\n    console.error('DEVELOPER_ERROR in ' + apiName + ' : ' + errorMessage);\n  }\n\n  /**\n   * Return a <div> element containing a Google Pay payment button.\n   *\n   * @param {!ButtonOptions=} options\n   * @return {!Element}\n   */\n  createButton(options = {}) {\n    const button = null;\n    // Only log if button was created successfully\n    const startTimeMs = Date.now();\n    PayFrameHelper.postMessage({\n      'eventType': PostMessageEventType.LOG_RENDER_BUTTON,\n      'clientLatencyStartMs': startTimeMs,\n    });\n    return button;\n  }\n\n  /**\n   * @param {!Event} e postMessage event from the AMP page.\n   * @private\n   */\n  handleMessageEvent_(e) {\n    if (this.isInTrustedDomain_()) {\n      // Only handles the event right now if loaded in trusted domain.\n      if (e.data['name'] === 'logPaymentData') {\n        PayFrameHelper.postMessage(e.data['data']);\n      }\n    }\n  }\n\n  /**\n   * @private\n   * @return {boolean}\n   */\n  isInTrustedDomain_() {\n    return TRUSTED_DOMAINS.indexOf(window.location.hostname) != -1;\n  }\n\n  /**\n   * Called when load payment data result is returned. This triggers the payment\n   * response callback passed to the client.\n   *\n   * @private\n   */\n  onResult_(response) {\n    response\n      .then((result) => {\n        PayFrameHelper.postMessage({\n          'eventType': PostMessageEventType.LOG_LOAD_PAYMENT_DATA_API,\n          'clientLatencyStartMs': this.loadPaymentDataApiStartTimeMs_,\n          'buyFlowMode': this.buyFlowMode_,\n        });\n      })\n      .catch((result) => {\n        if (result['errorCode']) {\n          PayFrameHelper.postMessage({\n            'eventType': PostMessageEventType.LOG_LOAD_PAYMENT_DATA_API,\n            'error': /** @type {!PublicErrorCode} */ (result['errorCode']),\n            'buyFlowMode': this.buyFlowMode_,\n          });\n        } else {\n          // If user closes window we don't get a error code\n          PayFrameHelper.postMessage({\n            'eventType': PostMessageEventType.LOG_LOAD_PAYMENT_DATA_API,\n            'error': PublicErrorCode.BUYER_CANCEL,\n            'buyFlowMode': this.buyFlowMode_,\n          });\n        }\n      });\n    this.onPaymentResponse_(response);\n  }\n\n  /**\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @return {!PaymentDataRequest}\n   * @private\n   */\n  assignInternalParams_(paymentDataRequest) {\n    const internalParam = {\n      'startTimeMs': Date.now(),\n      'googleTransactionId': PaymentsAsyncClient.googleTransactionId_,\n    };\n    paymentDataRequest['i'] = paymentDataRequest['i']\n      ? Object.assign(internalParam, paymentDataRequest['i'])\n      : internalParam;\n    return paymentDataRequest;\n  }\n}\n\n/** @type {?string} */\nPaymentsAsyncClient.googleTransactionId_;\n\n/**\n * Whether the request specifies that the native support has to be disabled.\n *\n * @param {!IsReadyToPayRequest|!PaymentDataRequest} request\n * @return {boolean}\n */\nfunction isNativeDisabledInRequest(request) {\n  return (request['i'] && request['i']['disableNative']) === true;\n}\n\nexport {PaymentsAsyncClient};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * An interface which captures what we need to start up buyflow across surfaces.\n * @interface\n */\nclass PaymentsClientDelegateInterface {\n  /**\n   * Check whether the user can make payments using the Payment API.\n   *\n   * @param {!IsReadyToPayRequest} isReadyToPayRequest\n   * @return {!Promise} The promise will contain the boolean result and error\n   *     message when possible.\n   */\n  isReadyToPay(isReadyToPayRequest) {}\n\n  /**\n   * Prefetch paymentData to speed up loadPaymentData call. Note the provided\n   * paymentDataRequest should exactly be the same as provided in\n   * loadPaymentData to make the loadPaymentData call fast.\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   */\n  prefetchPaymentData(paymentDataRequest) {}\n\n  /**\n   * Request PaymentData, which contains necessary infomartion to complete a\n   * payment.\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   */\n  loadPaymentData(paymentDataRequest) {}\n\n  /**\n   * @param {function(!Promise<!PaymentData>)} callback\n   */\n  onResult(callback) {}\n}\n\nexport {PaymentsClientDelegateInterface};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Description of this file.\n */\nimport {Constants} from './constants.js';\nimport {PaymentsClientDelegateInterface} from './payments_client_delegate_interface.js';\n\n/**\n * An implementation of PaymentsClientDelegateInterface that leverages payment\n * request.\n * @implements {PaymentsClientDelegateInterface}\n */\nclass PaymentsRequestDelegate {\n  /**\n   * @param {string} environment\n   */\n  constructor(environment) {\n    this.environment_ = environment;\n\n    /** @private {?function(!Promise<!PaymentData>)} */\n    this.callback_ = null;\n  }\n\n  /** @override */\n  onResult(callback) {\n    this.callback_ = callback;\n  }\n\n  /** @override */\n  isReadyToPay(isReadyToPayRequest) {\n    /** @type{!PaymentRequest} */\n    const paymentRequest = this.createPaymentRequest_(isReadyToPayRequest);\n    return new Promise((resolve, reject) => {\n      paymentRequest.canMakePayment()\n          .then(result => {\n            window.sessionStorage.setItem(\n                Constants.IS_READY_TO_PAY_RESULT_KEY, result.toString());\n            const response = {'result': result};\n            if (isReadyToPayRequest.apiVersion >= 2 &&\n                isReadyToPayRequest.existingPaymentMethodRequired) {\n              // For apiVersion 2, we always use native to only check for\n              // tokenized cards.\n              // For tokenized cards native always does a presence check so\n              // we can say that if canMakePayment is true for native for\n              // tokenizedCards then the user has a payment method which is\n              // present.\n              response['paymentMethodPresent'] = result;\n            }\n            resolve(response);\n          })\n          .catch(function(err) {\n            if (window.sessionStorage.getItem(\n                    Constants.IS_READY_TO_PAY_RESULT_KEY)) {\n              resolve({\n                'result': window.sessionStorage.getItem(\n                              Constants.IS_READY_TO_PAY_RESULT_KEY) == 'true'\n              });\n            } else {\n              resolve({'result': false});\n            }\n          });\n    });\n  }\n\n  /** @override */\n  prefetchPaymentData(paymentDataRequest) {\n    // Creating PaymentRequest instance will call\n    // Gcore isReadyToPay internally which will prefetch tempaltes.\n    this.createPaymentRequest_(\n        paymentDataRequest, this.environment_,\n        paymentDataRequest.transactionInfo.currencyCode,\n        paymentDataRequest.transactionInfo.totalPrice);\n  }\n\n  /** @override */\n  loadPaymentData(paymentDataRequest) {\n    this.loadPaymentDataThroughPaymentRequest_(paymentDataRequest);\n  }\n\n  /**\n   * Create PaymentRequest instance.\n   *\n   * @param {!IsReadyToPayRequest|!PaymentDataRequest} request The necessary information to check if user is\n   *     ready to pay or to support a payment from merchants.\n   * @param {?string=} environment (optional)\n   * @param {?string=} currencyCode (optional)\n   * @param {?string=} totalPrice (optional)\n   * @return {!PaymentRequest} PaymentRequest instance.\n   * @private\n   */\n  createPaymentRequest_(request, environment, currencyCode, totalPrice) {\n    let data = {};\n    if (request) {\n      data = JSON.parse(JSON.stringify(request));\n    }\n\n    // Only set the apiVersion if the merchant doesn't set it.\n    if (!data['apiVersion']) {\n      data['apiVersion'] = 1;\n    }\n\n    // Add allowedPaymentMethods for swg to get through gms core validation.\n    if (data['swg']) {\n      data['allowedPaymentMethods'] = [Constants.PaymentMethod.CARD];\n    }\n\n    if (environment && environment == Constants.Environment.TEST) {\n      data['environment'] = environment;\n    }\n\n    const supportedInstruments = [{\n      'supportedMethods': ['https://google.com/pay'],\n      'data': data,\n    }];\n\n    const details = {\n      'total': {\n        'label': 'Estimated Total Price',\n        'amount': {\n          // currency and value are required fields in PaymentRequest, but these\n          // fields will never be used since PaymentRequest UI is skipped when\n          // we're the only payment method, so default to some value to by pass\n          // this requirement.\n          'currency': currencyCode || 'USD',\n          'value': totalPrice || '0',\n        }\n      }\n    };\n\n    return new PaymentRequest(supportedInstruments, details);\n  }\n\n  /**\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   * @private\n   */\n  loadPaymentDataThroughPaymentRequest_(paymentDataRequest) {\n    const currencyCode = (paymentDataRequest.transactionInfo &&\n                          paymentDataRequest.transactionInfo.currencyCode) ||\n        undefined;\n    const totalPrice = (paymentDataRequest.transactionInfo &&\n                        paymentDataRequest.transactionInfo.totalPrice) ||\n        undefined;\n    const paymentRequest = this.createPaymentRequest_(\n        paymentDataRequest, this.environment_, currencyCode, totalPrice);\n    this.callback_(\n        /** @type{!Promise<!PaymentData>} */\n        (paymentRequest.show()\n             .then(\n                 /**\n                  * @param {!PaymentResponse} paymentResponse\n                  * @return {!PaymentData}\n                  */\n                 (paymentResponse) => {\n                   // Should be called to dismiss any remaining UI\n                   paymentResponse.complete('success');\n                   return paymentResponse.details;\n                 })\n             .catch(function(err) {\n               err['statusCode'] = Constants.ResponseStatus.CANCELED;\n               throw err;\n             })));\n  }\n}\n\nexport {PaymentsRequestDelegate};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BuyFlowActivityMode,\n  PayFrameHelper,\n  PostMessageEventType,\n} from './pay_frame_helper.js';\nimport {Constants} from './constants.js';\nimport {Graypane} from './graypane.js';\nimport {PaymentsClientDelegateInterface} from './payments_client_delegate_interface.js';\nimport {doesMerchantSupportOnlyTokenizedCards} from './validator.js';\nimport {injectIframe, injectStyleSheet} from './element_injector.js';\n\nconst {\n  ActivityPort,\n  ActivityPorts,\n  ActivityIframePort,\n} = require('web-activities/activity-ports');\n\nconst GPAY_ACTIVITY_REQUEST = 'GPAY';\nconst IFRAME_CLOSE_DURATION_IN_MS = 250;\nconst IFRAME_SHOW_UP_DURATION_IN_MS = 250;\nconst IFRAME_SMOOTH_HEIGHT_TRANSITION = `height ${IFRAME_SHOW_UP_DURATION_IN_MS}ms`;\nconst ERROR_PREFIX = 'Error: ';\n\n/**\n * Supported browser user agent keys.\n *\n * @enum {string}\n */\nconst BrowserUserAgent = {\n  CHROME: 'Chrome',\n  FIREFOX: 'Firefox',\n  SAFARI: 'Safari',\n};\n\n/**\n * Resizing payload including resize height and transition style.\n *\n * @typedef {{\n *   height: string,\n *   transition: string,\n * }}\n */\nlet ResizePayload;\n\n/**\n * An implementation of PaymentsClientDelegateInterface that uses the custom\n * hosting page along with web activities to actually get to the hosting page.\n * @implements {PaymentsClientDelegateInterface}\n */\nclass PaymentsWebActivityDelegate {\n  /**\n   * @param {string} environment\n   * @param {string} googleTransactionId\n   * @param {boolean=} useIframe\n   * @param {!ActivityPorts=} activities Can be used to provide a shared\n   *   activities manager. By default, the new manager is created.\n   * @param {?string=} redirectKey The redirect key used for redirect mode.\n   */\n  constructor(\n    environment,\n    googleTransactionId,\n    useIframe,\n    activities,\n    redirectKey\n  ) {\n    this.environment_ = environment;\n    /** @private @const {boolean} */\n\n    /** @const {!ActivityPorts} */\n    this.activities = activities || new ActivityPorts(window);\n    /** @const @private {!Graypane} */\n    this.graypane_ = new Graypane(window.document);\n    /** @private {?function(!Promise<!PaymentData>)} */\n    this.callback_ = null;\n    /**\n     * @private {?{\n     *             container: !Element,\n     *             iframe:!HTMLIFrameElement,\n     *             request:!PaymentDataRequest,\n     *             dataPromise:?Promise<!PaymentData>}}\n     */\n    this.prefetchedObjects_ = null;\n    /** @private {boolean} */\n    this.shouldHandleResizing_ = false;\n    /** @private {?ActivityIframePort} */\n    this.port_ = null;\n    /** @private {?function(!Promise<void>)} */\n    this.dismissPromiseResolver_ = null;\n    /** @const @private {string} */\n    this.googleTransactionId_ = googleTransactionId;\n    /** @const @private {?string} */\n    this.redirectKey_ = redirectKey || null;\n\n    /**\n     * @private {?ResizePayload}\n     */\n    this.savedResizePayload_ = null;\n\n    // Only install dialog styles when iframing is allowed.\n    if (null) {\n      injectStyleSheet(Constants.IFRAME_STYLE);\n      if (null) {\n        injectStyleSheet(Constants.IFRAME_STYLE_CENTER);\n      }\n    }\n  }\n\n  /** @override */\n  onResult(callback) {\n    if (this.callback_) {\n      return;\n    }\n    this.callback_ = callback;\n    this.activities.onResult(\n      GPAY_ACTIVITY_REQUEST,\n      this.onActivityResult_.bind(this)\n    );\n  }\n\n  /**\n   * @param {!ActivityPort} port\n   * @private\n   */\n  onActivityResult_(port) {\n    // Hide the graypane.\n    this.graypane_.hide();\n    // Only verified origins are allowed.\n    this.callback_(\n      port.acceptResult().then(\n        (result) => {\n          // Origin must always match: popup, iframe or redirect.\n          if (result.origin != this.getOrigin_()) {\n            throw new Error('channel mismatch');\n          }\n          const data = /** @type {!PaymentData} */ (result.data);\n          if (data['redirectEncryptedCallbackData']) {\n            PayFrameHelper.setBuyFlowActivityMode(BuyFlowActivityMode.REDIRECT);\n            return this.fetchRedirectResponse_(\n              data['redirectEncryptedCallbackData']\n            ).then((decrypedJson) => {\n              // Merge other non-encrypted fields into the final response.\n              const clone = Object.assign({}, data);\n              delete clone['redirectEncryptedCallbackData'];\n              return Object.assign(clone, decrypedJson);\n            });\n          }\n          // Unencrypted data supplied: must be a verified and secure channel.\n          if (!result.originVerified || !result.secureChannel) {\n            throw new Error('channel mismatch');\n          }\n          return data;\n        },\n        (error) => {\n          // TODO: Log the original and the inferred error to eye3.\n          const originalError = error['message'];\n          let inferredError = error['message'];\n          try {\n            // Try to parse the error message to a structured error, if it's\n            // not possible, fallback to use the error message string.\n            inferredError = JSON.parse(\n              originalError.substring(ERROR_PREFIX.length)\n            );\n          } catch (e) {}\n          if (\n            inferredError['statusCode'] &&\n            ['DEVELOPER_ERROR', 'MERCHANT_ACCOUNT_ERROR'].indexOf(\n              inferredError['statusCode']\n            ) == -1\n          ) {\n            inferredError = {\n              'statusCode': 'CANCELED',\n            };\n          }\n          if (inferredError == 'AbortError') {\n            inferredError = {\n              'statusCode': 'CANCELED',\n            };\n          }\n          return Promise.reject(inferredError);\n        }\n      )\n    );\n  }\n\n  /**\n   * @param {string} redirectEncryptedCallbackData\n   * @return {!PaymentData}\n   * @private\n   */\n  fetchRedirectResponse_(redirectEncryptedCallbackData) {\n    // This method has to rely on the legacy XHR API because the redirect\n    // functionality is, in part, aimed at older browsers.\n    return new Promise((resolve, reject) => {\n      const url = this.getDecryptionUrl_();\n      const xhr = new XMLHttpRequest();\n      xhr.open('POST', url, true);\n      if ('withCredentials' in xhr) {\n        // It's fine to proceed in a non-redirect mode because redirectVerifier\n        // plays the part of CORS propagation.\n        xhr.withCredentials = true;\n      }\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState < /* STATUS_RECEIVED */ 2) {\n          return;\n        }\n        if (xhr.status < 100 || xhr.status > 599) {\n          xhr.onreadystatechange = null;\n          reject(new Error(`Unknown HTTP status ${xhr.status}`));\n          return;\n        }\n        if (xhr.readyState == /* COMPLETE */ 4) {\n          try {\n            resolve(JSON.parse(xhr.responseText));\n          } catch (e) {\n            // JSON parsing error is expected here.\n            reject(e);\n          }\n        }\n      };\n      xhr.onerror = () => {\n        reject(new Error('Network failure'));\n      };\n      xhr.onabort = () => {\n        reject(new Error('Request aborted'));\n      };\n\n      // Send POST.\n      xhr.send(redirectEncryptedCallbackData);\n    });\n  }\n\n  /** @override */\n  isReadyToPay(isReadyToPayRequest) {\n    return new Promise((resolve, reject) => {\n      if (doesMerchantSupportOnlyTokenizedCards(isReadyToPayRequest)) {\n        resolve({'result': false});\n        return;\n      }\n      const userAgent = window.navigator.userAgent;\n      const isIosGsa =\n        userAgent.indexOf('GSA/') > 0 &&\n        userAgent.indexOf(BrowserUserAgent.SAFARI) > 0;\n      // pop up in IGSA doesn't work.\n      if (isIosGsa && !null) {\n        resolve({'result': false});\n        return;\n      }\n      const isFirefoxIos = userAgent.indexOf('FxiOS') > 0;\n      if (isFirefoxIos) {\n        resolve({'result': false});\n        return;\n      }\n      const isSupported =\n        userAgent.indexOf(BrowserUserAgent.CHROME) > 0 ||\n        userAgent.indexOf(BrowserUserAgent.FIREFOX) > 0 ||\n        userAgent.indexOf(BrowserUserAgent.SAFARI) > 0;\n      if (\n        isSupported &&\n        isReadyToPayRequest.apiVersion >= 2 &&\n        isReadyToPayRequest.existingPaymentMethodRequired\n      ) {\n        isReadyToPayRequest.environment = this.environment_;\n        PayFrameHelper.sendAndWaitForResponse(\n          isReadyToPayRequest,\n          PostMessageEventType.IS_READY_TO_PAY,\n          'isReadyToPayResponse',\n          function (event) {\n            const response = {\n              'result': isSupported,\n            };\n            if (isReadyToPayRequest.existingPaymentMethodRequired) {\n              response['paymentMethodPresent'] =\n                event.data['isReadyToPayResponse'] == 'READY_TO_PAY';\n            }\n            resolve(response);\n          }\n        );\n      } else {\n        resolve({'result': isSupported});\n      }\n    });\n  }\n\n  /** @override */\n  prefetchPaymentData(paymentDataRequest) {\n    // Only handles prefetch for iframe for now.\n    if (!null) {\n      return;\n    }\n    const containerAndFrame = this.injectIframe_(paymentDataRequest);\n    const paymentDataPromise = this.openIframe_(\n      containerAndFrame['container'],\n      containerAndFrame['iframe'],\n      paymentDataRequest\n    );\n    this.prefetchedObjects_ = {\n      'container': containerAndFrame['container'],\n      'iframe': containerAndFrame['iframe'],\n      'request': paymentDataRequest,\n      'dataPromise': paymentDataPromise,\n    };\n  }\n\n  /** @override */\n  loadPaymentData(paymentDataRequest) {\n    if (!paymentDataRequest.swg) {\n      // Only set the apiVersion if the merchant is not setting it.\n      if (!paymentDataRequest.apiVersion) {\n        paymentDataRequest.apiVersion = 1;\n      }\n    }\n    paymentDataRequest.environment = this.environment_;\n    if (null) {\n      PayFrameHelper.setBuyFlowActivityMode(BuyFlowActivityMode.IFRAME);\n      // TODO: Compare the request with prefetched request.\n      let containerAndFrame;\n      let paymentDataPromise;\n      if (this.prefetchedObjects_) {\n        // Rendering prefetched frame and container.\n        containerAndFrame = this.prefetchedObjects_;\n        paymentDataPromise = this.prefetchedObjects_['dataPromise'];\n        this.prefetchedObjects_ = null;\n      } else {\n        containerAndFrame = this.injectIframe_(paymentDataRequest);\n        paymentDataPromise = this.openIframe_(\n          containerAndFrame['container'],\n          containerAndFrame['iframe'],\n          paymentDataRequest\n        );\n      }\n      this.showContainerAndIframeWithAnimation_(\n        containerAndFrame['container'],\n        containerAndFrame['iframe'],\n        paymentDataRequest\n      );\n      history.pushState({}, '', '');\n      const onPopState = (e) => {\n        e.preventDefault();\n        this.backButtonHandler_(containerAndFrame);\n        window.removeEventListener('popstate', onPopState);\n      };\n      window.addEventListener('popstate', onPopState);\n      const dismissPromise = new Promise((resolve) => {\n        this.dismissPromiseResolver_ = resolve;\n      });\n      this.callback_(Promise.race([paymentDataPromise, dismissPromise]));\n      return;\n    }\n    PayFrameHelper.setBuyFlowActivityMode(\n      paymentDataRequest['forceRedirect']\n        ? BuyFlowActivityMode.REDIRECT\n        : BuyFlowActivityMode.POPUP\n    );\n    const opener = this.activities.open(\n      GPAY_ACTIVITY_REQUEST,\n      this.getHostingPageUrl_(),\n      this.getRenderMode_(paymentDataRequest),\n      paymentDataRequest,\n      {'width': 600, 'height': 600}\n    );\n    this.graypane_.show(opener && opener.targetWin);\n  }\n\n  /**\n   * Returns the render mode whether need to force redirect.\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @return {string}\n   * @private\n   */\n  getRenderMode_(paymentDataRequest) {\n    return paymentDataRequest['forceRedirect'] ? '_top' : 'gp-js-popup';\n  }\n\n  /**\n   * Returns the server origin based on the environment.\n   *\n   * @private\n   * @return {string}\n   */\n  getOrigin_() {\n    if (this.environment_ == Constants.Environment.LOCAL) {\n      return '';\n    }\n\n    let baseDomain;\n    if (this.environment_ == Constants.Environment.PREPROD) {\n      baseDomain = 'pay-preprod.sandbox';\n    } else if (this.environment_ == Constants.Environment.SANDBOX) {\n      baseDomain = 'pay.sandbox';\n    } else {\n      baseDomain = 'pay';\n    }\n    return 'https://' + baseDomain + '.google.com';\n  }\n\n  /**\n   * Returns the base path based on the environment.\n   *\n   * @private\n   * @return {string} The base path\n   */\n  getBasePath_() {\n    return this.getOrigin_() + '/gp/p';\n  }\n\n  /**\n   * Returns the decryption url to be used to decrypt the encrypted payload.\n   *\n   * @private\n   * @return {string} The decryption url\n   */\n  getDecryptionUrl_() {\n    let url = this.getBasePath_() + '/apis/buyflow/process';\n    if (this.redirectKey_) {\n      url += '?rk=' + encodeURIComponent(this.redirectKey_);\n    }\n    return url;\n  }\n\n  /**\n   * Returns the hosting page url.\n   *\n   * @private\n   * @return {string} The hosting page url\n   */\n  getHostingPageUrl_() {\n    // In Tin tests, the hosting page is requested from\n    // /testing/buyflow/merchantdemo.html and is accessed relatively since the\n    // base path is unknown ahead of time.\n    if (this.environment_ == Constants.Environment.TIN) {\n      // There is no /gp/p prefix since multilogin prefixes is broken in Tin:\n      // http://yaqs/4912322941550592\n      return '/ui/pay';\n    }\n    return this.getBasePath_() + '/ui/pay';\n  }\n\n  /**\n   * Returns the iframe pwg url to be used to be used for amp.\n   *\n   * @param {string} environment\n   * @param {string} origin\n   * @return {string} The iframe url\n   */\n  getIframeUrl(environment, origin) {\n    // TODO: These should be compile time constants and not dependent\n    // on the environment.\n    let iframeUrl = `https://pay.google.com/gp/p/ui/pay?origin=${origin}`;\n    if (\n      environment == Constants.Environment.SANDBOX ||\n      environment == Constants.Environment.PREPROD\n    ) {\n      iframeUrl = `https://pay'+  (environment == Constants.Environment.PREPROD ? '-preprod' : '')+  '.sandbox.google.com/gp/p/ui/pay?origin=${origin}`;\n    }\n    return iframeUrl;\n  }\n\n  /**\n   * Close iframe with animation.\n   *\n   * @param {!Element} container\n   * @param {!HTMLIFrameElement} iframe\n   * @private\n   */\n  removeIframeAndContainer_(container, iframe) {\n    const transitionStyle = 'all ' + IFRAME_CLOSE_DURATION_IN_MS + 'ms ease 0s';\n    this.setTransition_(iframe, transitionStyle);\n    iframe.height = '0px';\n    // TODO: This should be replaced by listening to TransitionEnd event\n    setTimeout(() => {\n      if (container.parentNode) {\n        container.parentNode.removeChild(container);\n      }\n    }, IFRAME_CLOSE_DURATION_IN_MS);\n  }\n\n  /**\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @return {{container: !Element, iframe:!HTMLIFrameElement}}\n   * @private\n   */\n  injectIframe_(paymentDataRequest) {\n    const containerAndFrame = injectIframe(\n      this.isVerticalCenterExperimentEnabled_(paymentDataRequest)\n        ? Constants.IFRAME_STYLE_CENTER_CLASS\n        : Constants.IFRAME_STYLE_CLASS\n    );\n    const iframe = containerAndFrame['iframe'];\n    const container = containerAndFrame['container'];\n    container.addEventListener(\n      'click',\n      this.closeActionHandler_.bind(this, containerAndFrame)\n    );\n    // Hide iframe and disable resize at initialize.\n    container.style.display = 'none';\n    iframe.style.display = 'none';\n    iframe.height = '0px';\n    const transitionStyle =\n      'all ' + IFRAME_SHOW_UP_DURATION_IN_MS + 'ms ease 0s';\n    this.setTransition_(iframe, transitionStyle);\n    this.shouldHandleResizing_ = false;\n    return containerAndFrame;\n  }\n\n  /**\n   * Handler when back button is triggered, should dismiss iframe if present.\n   * @param {{container: !Element, iframe:!HTMLIFrameElement}} containerAndFrame\n   * @private\n   */\n  backButtonHandler_(containerAndFrame) {\n    this.dismissIframe_(containerAndFrame);\n  }\n\n  /**\n   * Handler when close action is triggered, will pop history state to close\n   * the iframe.\n   * @param {{container: !Element, iframe:!HTMLIFrameElement}} containerAndFrame\n   * @private\n   */\n  closeActionHandler_(containerAndFrame) {\n    if (containerAndFrame['container'].parentNode) {\n      // Close action only when container is still attached to the page.\n      history.back();\n    }\n  }\n\n  /**\n   * @param {{container: !Element, iframe:!HTMLIFrameElement}} containerAndFrame\n   * @private\n   */\n  dismissIframe_(containerAndFrame) {\n    // Dismiss iframe only when container is still attached in the page.\n    if (containerAndFrame['container'].parentNode) {\n      // TODO: Think about whether this could be just hide instead of\n      // disconnect and remove, the tricky part is how to handle the case where\n      // payment data request is not the same.\n      this.dismissPromiseResolver_(Promise.reject({'errorCode': 'CANCELED'}));\n      this.removeIframeAndContainer_(\n        containerAndFrame['container'],\n        containerAndFrame['iframe']\n      );\n      this.port_ && this.port_.disconnect();\n    }\n  }\n\n  /**\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @return {boolean}\n   * @private\n   */\n  isVerticalCenterExperimentEnabled_(paymentDataRequest) {\n    return (\n      null &&\n      paymentDataRequest['i'] &&\n      paymentDataRequest['i'].renderContainerCenter\n    );\n  }\n\n  /**\n   * @param {!Element} container\n   * @param {!HTMLIFrameElement} iframe\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @private\n   */\n  showContainerAndIframeWithAnimation_(container, iframe, paymentDataRequest) {\n    container.style.display = 'block';\n    iframe.style.display = 'block';\n    setTimeout(() => {\n      // Hard code the apprx height here, it will be resize to expected height\n      // later.\n      iframe.height = '280px';\n      if (this.isVerticalCenterExperimentEnabled_(paymentDataRequest)) {\n        iframe.classList.add(Constants.IFRAME_ACTIVE_CONTAINER_CLASS);\n      }\n      // TODO: This should be handles properly by listening to\n      // TransitionEnd event.\n      setTimeout(() => {\n        this.shouldHandleResizing_ = true;\n        // TODO: Add browser test that catches this.\n        if (this.savedResizePayload_) {\n          this.setTransition_(iframe, this.savedResizePayload_['transition']);\n          iframe.height = this.savedResizePayload_['height'];\n          this.savedResizePayload_ = null;\n        }\n      }, IFRAME_SHOW_UP_DURATION_IN_MS);\n    }, 1);\n  }\n\n  /**\n   * @param {!HTMLIFrameElement} iframe\n   * @param {string} transitionStyle\n   * @private\n   */\n  setTransition_(iframe, transitionStyle) {\n    iframe.style.setProperty('transition', transitionStyle);\n    // For safari.\n    iframe.style.setProperty('-webkit-transition', transitionStyle);\n  }\n\n  /**\n   * Use WebActivitiy to open iframe that's in given container.\n   *\n   * @param {!Element} container\n   * @param {!HTMLIFrameElement} iframe\n   * @param {!PaymentDataRequest} paymentDataRequest\n   * @return {!Promise<!PaymentData>}\n   * @private\n   */\n  openIframe_(container, iframe, paymentDataRequest) {\n    if (!paymentDataRequest.swg) {\n      if (!paymentDataRequest.apiVersion) {\n        paymentDataRequest.apiVersion = 1;\n      }\n    }\n    paymentDataRequest.environment = this.environment_;\n    let iframeLoadStartTime;\n    const trustedUrl = this.getIframeUrl(\n      this.environment_,\n      window.location.origin\n    );\n    return this.activities\n      .openIframe(iframe, trustedUrl, paymentDataRequest)\n      .then((port) => {\n        // Handle custom resize message.\n        this.port_ = port;\n        port.onMessage((payload) => {\n          if (payload['type'] !== 'resize' || !this.shouldHandleResizing_) {\n            // Save the resize event later after initial animation is finished\n            this.savedResizePayload_ = {\n              'height': payload['height'],\n              'transition': payload['transition'],\n            };\n            return;\n          }\n          // b/111310899: Smooth out initial iFrame loading\n          if (!iframeLoadStartTime) {\n            iframeLoadStartTime = Date.now();\n          }\n          if (\n            Date.now() <\n            iframeLoadStartTime + IFRAME_SHOW_UP_DURATION_IN_MS\n          ) {\n            this.setTransition_(\n              iframe,\n              payload['transition'] + ', ' + IFRAME_SMOOTH_HEIGHT_TRANSITION\n            );\n          } else {\n            this.setTransition_(iframe, payload['transition']);\n          }\n          iframe.height = payload['height'];\n        });\n        return /** @type {!Promise<!Object>} */ (port.acceptResult());\n      })\n      .then(\n        /**\n         * @param {!Object} result\n         * @return {!PaymentData}\n         */\n        (result) => {\n          this.removeIframeAndContainer_(container, iframe);\n          // This is only for popping the state we pushed earlier.\n          history.back();\n          const data = /** @type {!PaymentData} */ (result['data']);\n          return data;\n        },\n        (error) => {\n          this.removeIframeAndContainer_(container, iframe);\n          // This is only for popping the state we pushed earlier.\n          history.back();\n          return Promise.reject(error);\n        }\n      );\n  }\n}\n\nexport {PaymentsWebActivityDelegate};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Service wrapping window.parent.postMessage. This enables\n * window.postMessage to be swapped out in unit tests.\n */\nclass PostMessageService {\n  constructor(window) {\n    /** @private @const {!Window} */\n    this.window_ = window;\n  }\n\n  /**\n   * Passthrough to Window#postMessage. See Window#postMessage DOM API\n   * documentation for more information about arguments.\n   *\n   * @param {!Object} message\n   * @param {string} targetOrigin\n   */\n  postMessage(message, targetOrigin) {\n    this.window_.postMessage(message, targetOrigin);\n  }\n}\n\nexport {PostMessageService};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Constants} from './constants.js';\nimport {PublicErrorCode} from './pay_frame_helper.js';\nimport {getUpiPaymentMethod} from './validator.js';\n\nclass UpiHandler {\n  constructor() {}\n\n  /**\n   * Returns upi payment method object if it exists in allowed payment methods\n   * or null if it doesn't\n   *\n   * @param {!IsReadyToPayRequest|!PaymentDataRequest} request\n   * @return {boolean}\n   */\n  isUpiRequest(request) {\n    return !!getUpiPaymentMethod(request);\n  }\n\n  /**\n   * Returns upi payment method object if it exists in allowed payment methods\n   * or null if it doesn't\n   *\n   * @param {!IsReadyToPayRequest|!PaymentDataRequest} request\n   * @return {!Promise} The promise will contain the boolean result and error\n   *     message when possible.\n   */\n  isReadyToPay(request) {\n    // Always return true for UPI if api version is 2 and chrome supports\n    // payment request\n    if (getUpiPaymentMethod(request)) {\n      if (request.existingPaymentMethodRequired) {\n        return Promise.resolve({'result': true, 'paymentMethodPresent': true});\n      } else {\n        return Promise.resolve({'result': true});\n      }\n    }\n    throw new Error('No Upi payment method found in handler');\n  }\n\n  /**\n   * Request payment data when payment method is UPI\n   *\n   * @param {!PaymentDataRequest} paymentDataRequest Provides necessary\n   *     information to support a payment.\n   * @param {!Object} upiPaymentMethod UPI paymentmethod in\n   *     allowedPaymentMethods array.\n   * @param {!Function} onResultCallback Function to call when everything is\n   *     done.\n   */\n  loadPaymentData(paymentDataRequest, upiPaymentMethod, onResultCallback) {\n    const parameters = upiPaymentMethod['parameters'];\n    const transactionInfo = paymentDataRequest['transactionInfo'];\n    const supportedInstruments = null ?\n        [{\n          // This is the url for Tez teamfood release.\n          'supportedMethods': ['https://pwp-server.appspot.com/pay-teamfood'],\n          'data': {\n            'pa': 'redbus@axisbank',\n            'pn': parameters['payeeName'],\n            'tr': parameters['transactionReferenceId'],\n            'url': parameters['referenceUrl'],\n            'mc': '4131',\n            'tn': 'Purchase in Merchant',\n          },\n        }] :\n        [{\n          'supportedMethods': ['https://tez.google.com/pay'],\n          'data': {\n            'pa': parameters['payeeVpa'],\n            'pn': parameters['payeeName'],\n            'tr': parameters['transactionReferenceId'],\n            'url': parameters['referenceUrl'],\n            'mc': parameters['mcc'],\n            'tn': transactionInfo['transactionNote'],\n          },\n        }];\n\n    if (parameters['transactionId']) {\n      supportedInstruments[0]['data']['tid'] = parameters['transactionId'];\n    }\n\n    const details = {\n      'total': {\n        'label': 'Total',\n        'amount': {\n          'currency': transactionInfo['currencyCode'],\n          'value': transactionInfo['totalPrice'],\n        },\n      },\n      'displayItems': [{\n        'label': 'Original Amount',\n        'amount': {\n          'currency': transactionInfo['currencyCode'],\n          'value': transactionInfo['totalPrice'],\n        },\n      }],\n    };\n\n    let request = new PaymentRequest(supportedInstruments, details);\n\n    onResultCallback(\n        this.checkCanMakePayment_(request)\n            .then(result => {\n              if (result) {\n                return this.showUi_(request);\n              } else {\n                return this.redirectToGooglePlay_();\n              }\n            })\n            .then(paymentData => {\n              return this.processData_(\n                  paymentData, paymentDataRequest, upiPaymentMethod);\n            })\n            .catch(error => {\n              error['statusCode'] = Constants.ResponseStatus.CANCELED;\n              return Promise.reject(error);\n            }));\n  }\n\n  /**\n   * Show the Tez payment request UI.\n   *\n   * @private\n   * @param {!PaymentRequest} request The payment request object.\n   * @return {!Promise<!PaymentData>} A promise containing payment response.\n   */\n  showUi_(request) {\n    return request.show().then(paymentResponse => {\n      paymentResponse.complete('success');\n      return paymentResponse.details;\n    });\n  }\n\n  /**\n   * Checks whether can make a payment with Tez on this device.\n   *\n   * @private\n   * @param {!PaymentRequest} request The payment request object.\n   * @return {!Promise<boolean>} a promise containing the result of whether can\n   *     make payment.\n   */\n  checkCanMakePayment_(request) {\n    // Checks canMakePayment cache, and use the cache result if it exists.\n    const cacheResult =\n        window.sessionStorage.getItem(Constants.UPI_CAN_MAKE_PAYMENT_CACHE_KEY);\n    if (cacheResult) {\n      return Promise.resolve(cacheResult === 'true');\n    }\n\n    // Feature detect canMakePayment().\n    if (!request.canMakePayment) {\n      return Promise.resolve(true);\n    }\n\n    let canMakePaymentPromise = request.canMakePayment();\n\n    return canMakePaymentPromise.then(result => {\n      // Store the result in cache if the result is true to avoid quota error\n      // caused by querying multiple times with different data.\n      // Doesn't store false because if we do so, user will be redirected to\n      // Google Play again after installing Google Pay if Chrome is not closed.\n      if (result) {\n        window.sessionStorage.setItem(\n            Constants.UPI_CAN_MAKE_PAYMENT_CACHE_KEY, result.toString());\n      }\n      return result;\n    });\n  }\n\n  /**\n   * Redirect user to Google Pay app in Google Play store\n   *\n   * @private\n   * @returns {!Promise<!Object>} Rejected promise with error message\n   */\n  redirectToGooglePlay_() {\n    window.location.replace(\n        null ?\n            'https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user.teamfood ' :  // NOLINT\n            'https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user');  // NOLINT\n    return Promise.reject(\n        {'errorMessage': 'Cannot redirect to Tez page in Google Play.'});\n  }\n\n  /**\n   * Convert Tez payment data to GPay payment data if payment succeeded, or\n   * reject if payment failed\n   *\n   * @private\n   * @param {!PaymentData} tezPaymentData The payment data object from Tez.\n   * @param {!PaymentDataRequest} paymentDataRequest The payment data request.\n   * @param {!Object} upiPaymentMethod UPI paymentmethod in\n   * allowedPaymentMethods array\n   * @returns {!Promise<PaymentData>} A promise containing payment data or\n   *     error message.\n   */\n  processData_(tezPaymentData, paymentDataRequest, upiPaymentMethod) {\n    const tezResponse = JSON.parse(tezPaymentData['tezResponse']);\n    if (tezResponse['Status'] === 'FAILURE') {\n      let error;\n      switch (tezResponse['responseCode']) {\n        case 'ZM':\n          // payment failure due to invalid MPIN\n          error = {\n            'errorCode': PublicErrorCode.BUYER_ACCOUNT_ERROR,\n            'errorMessage': 'Payment failure due to invalid MPIN.'\n          };\n          break;\n        case 'Z9':\n          // payment failure due to insufficient funds\n          error = {\n            'errorCode': PublicErrorCode.BUYER_ACCOUNT_ERROR,\n            'errorMessage': 'Payment failure due to insufficient funds.'\n          };\n          break;\n        case '91':\n          // payment failure due to transaction timeout or connection issue\n          error = {\n            'errorCode': PublicErrorCode.INTERNAL_ERROR,\n            'errorMessage':\n                'Payment failure due to transaction timeout or connection' +\n                ' issue.'\n          };\n          break;\n        default:\n          // payment failure due to user cancel or other issues\n          error = {'errorMessage': 'Payment cancelled.'};\n      }\n      return Promise.reject(error);\n    }\n\n    const signedMessage = {\n      'paymentMethodType': 'UPI',\n      'payeeVpa': upiPaymentMethod['parameters']['payeeVpa'],\n      'status': tezResponse['Status'],\n      'transactionReferenceId':\n          upiPaymentMethod['parameters']['transactionReferenceId'],\n      'transactionId': upiPaymentMethod['parameters']['transactionId'] ?\n          upiPaymentMethod['parameters']['transactionId'] :\n          tezResponse['txnId'],\n      'transactionInfo': paymentDataRequest['transactionInfo'],\n    };\n\n    let paymentData = {\n      'apiVersion': paymentDataRequest['apiVersion'],\n      'apiVersionMinor': paymentDataRequest['apiVersionMinor'],\n      'paymentMethodData': {\n        'type': upiPaymentMethod['type'],\n        'tokenizationData': {\n          'type': 'DIRECT',\n          'token': {\n            'protocolVersion': 'ECv1',\n            // TODO: Verify that response comes from tez and\n            // add signature and encrypt signed message here\n            'signature': '',\n            'signedMessage': signedMessage\n          }\n        }\n      }\n    };\n    return Promise.resolve(paymentData);\n  }\n}\n\nexport {UpiHandler};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport uuid from '../third_party/random_uuid/Random.uuid.js';\n\n/**\n * Returns a google transaction id.\n *\n * @param {string} environment\n * @return {string}\n */\nfunction createGoogleTransactionId(environment) {\n  return uuid.uuidFast() + '.' + environment;\n}\n\nexport {createGoogleTransactionId};\n","/**\n * @license\n * Copyright 2018 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Constants} from './constants.js';\n\n/**\n * @return {boolean} true if this version of Chrome supports PaymentHandler.\n */\nfunction chromeSupportsPaymentHandler() {\n  // Check if feature is enabled for user\n  if (typeof google == 'undefined' ||\n      !null) {\n    return false;\n  }\n\n  // Payment handler isn't supported on mobile\n  const mobilePlatform = window.navigator.userAgent.match(\n      /Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i);\n  if (mobilePlatform != null) {\n    return false;\n  }\n\n  const chromeVersion = window.navigator.userAgent.match(/Chrome\\/([0-9]+)\\./i);\n  return 'PaymentRequest' in window && chromeVersion != null &&\n      Number(chromeVersion[1]) >= 68 &&\n      window.navigator.vendor == 'Google Inc.';\n}\n\n/**\n * @return {boolean} true if this version of Chrome supports PaymentRequest.\n */\nfunction chromeSupportsPaymentRequest() {\n  // Opera uses chrome as rendering engine and sends almost the exact same\n  // user agent as chrome thereby fooling us on android.\n  const isOpera = window.navigator.userAgent.indexOf('OPR/') != -1;\n  if (isOpera) {\n    return false;\n  }\n  if (chromeSupportsPaymentHandler()) {\n    return true;\n  }\n\n  const androidPlatform = window.navigator.userAgent.match(/Android/i);\n  const chromeVersion = window.navigator.userAgent.match(/Chrome\\/([0-9]+)\\./i);\n  return androidPlatform != null && 'PaymentRequest' in window &&\n      // Make sure skipping PaymentRequest UI when only one PaymentMethod is\n      // supported (starts on Google Chrome 59).\n      window.navigator.vendor == 'Google Inc.' && chromeVersion != null &&\n      Number(chromeVersion[1]) >= 59;\n}\n\n/**\n * @param {!IsReadyToPayRequest} isReadyToPayRequest\n *\n * @return {boolean} true if the merchant only supports tokenized cards.\n */\nfunction doesMerchantSupportOnlyTokenizedCards(isReadyToPayRequest) {\n  if (isReadyToPayRequest.apiVersion >= 2) {\n    const allowedAuthMethods =\n        extractAllowedAuthMethodsForCards_(isReadyToPayRequest);\n    if (allowedAuthMethods && allowedAuthMethods.length == 1 &&\n        allowedAuthMethods[0] == Constants.AuthMethod.CRYPTOGRAM_3DS) {\n      return true;\n    }\n  }\n  return isReadyToPayRequest.allowedPaymentMethods.length == 1 &&\n      isReadyToPayRequest.allowedPaymentMethods[0] ==\n      Constants.PaymentMethod.TOKENIZED_CARD;\n}\n\n/**\n * @param {!IsReadyToPayRequest} isReadyToPayRequest\n * @param {Constants.AuthMethod} apiV2AuthMethod\n *\n * @return {boolean} true if the merchant supports pan cards.\n */\nfunction apiV2DoesMerchantSupportSpecifiedCardType(\n    isReadyToPayRequest, apiV2AuthMethod) {\n  if (isReadyToPayRequest.apiVersion >= 2) {\n    const allowedAuthMethods =\n        extractAllowedAuthMethodsForCards_(isReadyToPayRequest);\n    if (allowedAuthMethods && allowedAuthMethods.includes(apiV2AuthMethod)) {\n      return true;\n    }\n    return false;\n  }\n  return false;\n}\n\n/**\n * Validate if is secure context. Returns null if context is secure, otherwise\n * return error message.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\n *\n * @return {?string} null if current context is secure, otherwise return error\n * message.\n */\nfunction validateSecureContext() {\n  if (window.location.hostname.endsWith(Constants.TRUSTED_DOMAIN)) {\n    // This is for local development.\n    return null;\n  }\n  if (window.isSecureContext === undefined) {\n    // Browser not support isSecureContext, figure out a way to validate this\n    // for the unsupported browser.\n    return null;\n  }\n  return window.isSecureContext ?\n      null :\n      'Google Pay APIs should be called in secure context!';\n}\n\n/**\n * Validate PaymentOptions.\n *\n * @param {!PaymentOptions} paymentOptions\n */\nfunction validatePaymentOptions(paymentOptions) {\n  if (paymentOptions.environment &&\n      !Object.values(Constants.Environment)\n           .includes(paymentOptions.environment)) {\n    throw new Error(\n        'Parameter environment in PaymentOptions can optionally be set to ' +\n        'PRODUCTION, otherwise it defaults to TEST. ' + paymentOptions.environment);\n  }\n}\n\n/**\n * Validate IsReadyToPayRequest.\n *\n * @param {!IsReadyToPayRequest} isReadyToPayRequest\n * @return {?string} errorMessage if the request is invalid.\n */\nfunction validateIsReadyToPayRequest(isReadyToPayRequest) {\n  if (!isReadyToPayRequest) {\n    return 'isReadyToPayRequest must be set!';\n  } else if (isReadyToPayRequest.apiVersion >= 2) {\n    if (!('apiVersionMinor' in isReadyToPayRequest)) {\n      return 'apiVersionMinor must be set!';\n    }\n    if (!isReadyToPayRequest.allowedPaymentMethods ||\n        !Array.isArray(isReadyToPayRequest.allowedPaymentMethods) ||\n        isReadyToPayRequest.allowedPaymentMethods.length == 0) {\n      return 'for v2 allowedPaymentMethods must be set to an array containing a list of accepted payment methods';\n    }\n    for (var i = 0; i < isReadyToPayRequest.allowedPaymentMethods.length; i++) {\n      let allowedPaymentMethod = isReadyToPayRequest.allowedPaymentMethods[i];\n      if (allowedPaymentMethod['type'] == Constants.PaymentMethod.CARD) {\n        if (!allowedPaymentMethod['parameters']) {\n          return 'Field parameters must be setup in each allowedPaymentMethod';\n        }\n        var allowedCardNetworks =\n            allowedPaymentMethod['parameters']['allowedCardNetworks'];\n        if (!allowedCardNetworks || !Array.isArray(allowedCardNetworks) ||\n            allowedCardNetworks.length == 0) {\n          return 'allowedCardNetworks must be setup in parameters for type CARD';\n        }\n        var allowedAuthMethods =\n            allowedPaymentMethod['parameters']['allowedAuthMethods'];\n        if (!allowedAuthMethods || !Array.isArray(allowedAuthMethods) ||\n            allowedAuthMethods.length == 0 ||\n            !allowedAuthMethods.every(isAuthMethodValid)) {\n          return 'allowedAuthMethods must be setup in parameters for type \\'CARD\\' ' +\n              ' and must contain \\'CRYPTOGRAM_3DS\\' and/or \\'PAN_ONLY\\'';\n        }\n      }\n    }\n    return null;\n  } else if (\n      !isReadyToPayRequest.allowedPaymentMethods ||\n      !Array.isArray(isReadyToPayRequest.allowedPaymentMethods) ||\n      isReadyToPayRequest.allowedPaymentMethods.length == 0 ||\n      !isReadyToPayRequest.allowedPaymentMethods.every(isPaymentMethodValid)) {\n    return 'allowedPaymentMethods must be set to an array containing \\'CARD\\' ' +\n        'and/or \\'TOKENIZED_CARD\\'!';\n  }\n  return null;\n}\n\n/**\n * Validate the payment method.\n *\n * @param {string} paymentMethod\n * @return {boolean} if the current payment method is valid.\n */\nfunction isPaymentMethodValid(paymentMethod) {\n  return Object.values(Constants.PaymentMethod).includes(paymentMethod);\n}\n\n/**\n * Validate the auth method.\n *\n * @param {string} authMethod\n * @return {boolean} if the current auth method is valid.\n */\nfunction isAuthMethodValid(authMethod) {\n  return Object.values(Constants.AuthMethod).includes(authMethod);\n}\n\n/**\n * Validate PaymentDataRequest.\n *\n * @param {!PaymentDataRequest} paymentDataRequest\n * @return {?string} errorMessage if the request is invalid.\n */\nfunction validatePaymentDataRequest(paymentDataRequest) {\n  if (!paymentDataRequest) {\n    return 'paymentDataRequest must be set!';\n  }\n  if (paymentDataRequest.swg) {\n    return validatePaymentDataRequestForSwg(paymentDataRequest.swg);\n  } else if (!paymentDataRequest.transactionInfo) {\n    return 'transactionInfo must be set!';\n  } else if (!paymentDataRequest.transactionInfo.currencyCode) {\n    return 'currencyCode in transactionInfo must be set!';\n  } else if (\n      !paymentDataRequest.transactionInfo.totalPriceStatus ||\n      !Object.values(Constants.TotalPriceStatus)\n           .includes(paymentDataRequest.transactionInfo.totalPriceStatus)) {\n    return 'totalPriceStatus in transactionInfo must be set to one of' +\n        ' NOT_CURRENTLY_KNOWN, ESTIMATED or FINAL!';\n  } else if (\n      paymentDataRequest.transactionInfo.totalPriceStatus !==\n          'NOT_CURRENTLY_KNOWN' &&\n      !paymentDataRequest.transactionInfo.totalPrice) {\n    return 'totalPrice in transactionInfo must be set when' +\n        ' totalPriceStatus is ESTIMATED or FINAL!';\n  }\n\n  // Validate payment data request for UPI payment method\n  const allowedPaymentMethod = getUpiPaymentMethod(paymentDataRequest);\n  if (allowedPaymentMethod) {\n    if (!allowedPaymentMethod['parameters']) {\n      return 'parameters must be set in allowedPaymentMethod!';\n    }\n\n    var parameters = allowedPaymentMethod['parameters'];\n    if (!parameters['payeeVpa']) {\n      return 'payeeVpa in allowedPaymentMethod parameters must be set!';\n    } else if (!parameters['payeeName']) {\n      return 'payeeName in allowedPaymentMethod parameters must be set!';\n    } else if (!parameters['referenceUrl']) {\n      return 'referenceUrl in allowedPaymentMethod parameters must be set!';\n    } else if (!parameters['mcc']) {\n      return 'mcc in allowedPaymentMethod parameters must be set!';\n    } else if (!parameters['transactionReferenceId']) {\n      return 'transactionReferenceId in allowedPaymentMethod parameters' +\n          ' must be set!';\n    }\n\n    if (paymentDataRequest['transactionInfo']['currencyCode'] !== 'INR') {\n      return 'currencyCode in transactionInfo must be set to INR!';\n    } else if (\n        paymentDataRequest['transactionInfo']['totalPriceStatus'] !== 'FINAL') {\n      return 'totalPriceStatus in transactionInfo must be set to FINAL!';\n    } else if (!paymentDataRequest['transactionInfo']['transactionNote']) {\n      return 'transactionNote in transactionInfo must be set!';\n    }\n  }\n  return null;\n}\n\n/**\n * Returns upi payment method object if it exists in allowed payment methods\n * or null if it doesn't\n *\n * @param {!IsReadyToPayRequest|!PaymentDataRequest} request\n * @return {?Object}\n */\nfunction getUpiPaymentMethod(request) {\n  if (!chromeSupportsPaymentRequest() || request.apiVersion < 2 ||\n      !request.allowedPaymentMethods) {\n    return null;\n  }\n  return getAllowedPaymentMethodForType_(request, Constants.PaymentMethod.UPI);\n}\n\n/**\n * Validate parameters for swg.\n *\n * @param {?SwgParameters} swgParameters\n * @return {?string} errorMessage if the request is invalid.\n */\nfunction validatePaymentDataRequestForSwg(swgParameters) {\n  if (!swgParameters) {\n    return 'Swg parameters must be provided';\n  }\n  if (!swgParameters.skuId || !swgParameters.publicationId) {\n    return 'Both skuId and publicationId must be provided';\n  }\n  return null;\n}\n\n/**\n * Returns the allowedAuthMethods for a card from the request.\n *\n * @param {!IsReadyToPayRequest} isReadyToPayRequest\n * @return {?Array<string>}\n * @private\n */\nfunction extractAllowedAuthMethodsForCards_(isReadyToPayRequest) {\n  if (isReadyToPayRequest.allowedPaymentMethods) {\n    const allowedPaymentMethod = getAllowedPaymentMethodForType_(\n        isReadyToPayRequest, Constants.PaymentMethod.CARD);\n    if (allowedPaymentMethod && allowedPaymentMethod.parameters) {\n      return allowedPaymentMethod.parameters['allowedAuthMethods'];\n    }\n  }\n  return null;\n}\n\n/**\n * @param {!IsReadyToPayRequest} isReadyToPayRequest\n * @param {string} paymentMethodType\n * @return {?PaymentMethod} Return first payment method for the given type,\n *     return null if not found.\n * @private\n */\nfunction getAllowedPaymentMethodForType_(\n    isReadyToPayRequest, paymentMethodType) {\n  for (var i = 0; i < isReadyToPayRequest.allowedPaymentMethods.length; i++) {\n    const allowedPaymentMethod = isReadyToPayRequest.allowedPaymentMethods[i];\n    if (allowedPaymentMethod.type == paymentMethodType) {\n      return allowedPaymentMethod;\n    }\n  }\n  return null;\n}\n\nexport {\n  apiV2DoesMerchantSupportSpecifiedCardType,\n  chromeSupportsPaymentHandler,\n  chromeSupportsPaymentRequest,\n  doesMerchantSupportOnlyTokenizedCards,\n  getUpiPaymentMethod,\n  isPaymentMethodValid,\n  validateIsReadyToPayRequest,\n  validatePaymentOptions,\n  validatePaymentDataRequest,\n  validateSecureContext\n};\n","/** @license\nMath.uuid.js (v1.4)\nhttp://www.broofa.com\nmailto:robert@broofa.com\nCopyright (c) 2010 Robert Kieffer\nDual licensed under the MIT and GPL licenses.\n*/\n\n/*\n * Generate a random uuid.\n *\n * USAGE: Math.uuid(length, radix)\n *   length - the desired number of characters\n *   radix  - the number of allowable values for each character.\n *\n * EXAMPLES:\n *   // No arguments  - returns RFC4122, version 4 ID\n *   >>> Math.uuid()\n *   \"92329D39-6F5C-4520-ABFC-AAB64544E172\"\n *\n *   // One argument - returns ID of the specified length\n *   >>> Math.uuid(15)     // 15 character ID (default base=62)\n *   \"VcydxgltxrVZSTV\"\n *\n *   // Two arguments - returns ID of the specified length, and radix. (Radix must be <= 62)\n *   >>> Math.uuid(8, 2)  // 8 character ID (base=2)\n *   \"01001010\"\n *   >>> Math.uuid(8, 10) // 8 character ID (base=10)\n *   \"47473046\"\n *   >>> Math.uuid(8, 16) // 8 character ID (base=16)\n *   \"098F4D35\"\n */\n\nexport default class Random_uuid {};\n  // Private array of chars to use\n  var CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\n\n  Random_uuid.uuid = function (len, radix) {\n    var chars = CHARS, uuid = [], i;\n    radix = radix || chars.length;\n\n    if (len) {\n      // Compact form\n      for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random()*radix];\n    } else {\n      // rfc4122, version 4 form\n      var r;\n\n      // rfc4122 requires these characters\n      uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n      uuid[14] = '4';\n\n      // Fill in random data.  At i==19 set the high bits of clock sequence as\n      // per rfc4122, sec. 4.1.5\n      for (i = 0; i < 36; i++) {\n        if (!uuid[i]) {\n          r = 0 | Math.random()*16;\n          uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n        }\n      }\n    }\n\n    return uuid.join('');\n  };\n\n  // A more performant, but slightly bulkier, RFC4122v4 solution.  We boost performance\n  // by minimizing calls to random()\n  Random_uuid.uuidFast = function() {\n    var chars = CHARS, uuid = new Array(36), rnd=0, r;\n    for (var i = 0; i < 36; i++) {\n      if (i==8 || i==13 ||  i==18 || i==23) {\n        uuid[i] = '-';\n      } else if (i==14) {\n        uuid[i] = '4';\n      } else {\n        if (rnd <= 0x02) rnd = 0x2000000 + (Math.random()*0x1000000)|0;\n        r = rnd & 0xf;\n        rnd = rnd >> 4;\n        uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n      }\n    }\n    return uuid.join('');\n  };\n\n  // A more compact, but less performant, RFC4122v4 solution:\n  Random_uuid.uuidCompact = function() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n      return v.toString(16);\n    });\n  };\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9jc3MvY29tcG9uZW50cy9kaWFsb2cuY3NzLmpzIiwiYnVpbGQvY3NzL3VpL3VpLmNzcy5qcyIsIm5vZGVfbW9kdWxlcy93ZWItYWN0aXZpdGllcy9hY3Rpdml0eS1wb3J0cy5qcyIsInNyYy9hcGkvYmFzaWMtc3Vic2NyaXB0aW9ucy5qcyIsInNyYy9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLmpzIiwic3JjL2FwaS9kZWZlcnJlZC1hY2NvdW50LWNyZWF0aW9uLmpzIiwic3JjL2FwaS9lbnRpdGxlbWVudHMuanMiLCJzcmMvYXBpL2xvZ2dlci1hcGkuanMiLCJzcmMvYXBpL21ldGVyaW5nLmpzIiwic3JjL2FwaS9vZmZlci5qcyIsInNyYy9hcGkvcHJvcGVuc2l0eS1hcGkuanMiLCJzcmMvYXBpL3N1YnNjcmliZS1yZXNwb25zZS5qcyIsInNyYy9hcGkvc3Vic2NyaXB0aW9ucy5qcyIsInNyYy9hcGkvdXNlci1kYXRhLmpzIiwic3JjL2NvbXBvbmVudHMvYWN0aXZpdGllcy5qcyIsInNyYy9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLmpzIiwic3JjL2NvbXBvbmVudHMvZGlhbG9nLmpzIiwic3JjL2NvbXBvbmVudHMvZnJpZW5kbHktaWZyYW1lLmpzIiwic3JjL2NvbXBvbmVudHMvZ3JheXBhbmUuanMiLCJzcmMvY29tcG9uZW50cy92aWV3LmpzIiwic3JjL2kxOG4vc3RyaW5ncy5qcyIsInNyYy9pMThuL3N3Zy1zdHJpbmdzLmpzIiwic3JjL21haW4uanMiLCJzcmMvbW9kZWwvYXR0cmlidXRpb24tcGFyYW1zLmpzIiwic3JjL21vZGVsL2F1dG8tcHJvbXB0LWNvbmZpZy5qcyIsInNyYy9tb2RlbC9jbGllbnQtY29uZmlnLmpzIiwic3JjL21vZGVsL2RvYy5qcyIsInNyYy9tb2RlbC9wYWdlLWNvbmZpZy1yZXNvbHZlci5qcyIsInNyYy9tb2RlbC9wYWdlLWNvbmZpZy5qcyIsInNyYy9wcm90by9hcGlfbWVzc2FnZXMuanMiLCJzcmMvcnVudGltZS9hbmFseXRpY3Mtc2VydmljZS5qcyIsInNyYy9ydW50aW1lL2J1dHRvbi1hcGkuanMiLCJzcmMvcnVudGltZS9jYWxsYmFja3MuanMiLCJzcmMvcnVudGltZS9jbGllbnQtY29uZmlnLW1hbmFnZXIuanMiLCJzcmMvcnVudGltZS9jbGllbnQtZXZlbnQtbWFuYWdlci5qcyIsInNyYy9ydW50aW1lL2NvbnRyaWJ1dGlvbnMtZmxvdy5qcyIsInNyYy9ydW50aW1lL2RlZmVycmVkLWFjY291bnQtZmxvdy5qcyIsInNyYy9ydW50aW1lL2RlcHMuanMiLCJzcmMvcnVudGltZS9lbnRpdGxlbWVudHMtbWFuYWdlci5qcyIsInNyYy9ydW50aW1lL2V2ZW50LXR5cGUtbWFwcGluZy5qcyIsInNyYy9ydW50aW1lL2V4cGVyaW1lbnQtZmxhZ3MuanMiLCJzcmMvcnVudGltZS9leHBlcmltZW50cy5qcyIsInNyYy9ydW50aW1lL2ZldGNoZXIuanMiLCJzcmMvcnVudGltZS9nb29nbGUtYW5hbHl0aWNzLWV2ZW50LWxpc3RlbmVyLmpzIiwic3JjL3J1bnRpbWUvanNlcnJvci5qcyIsInNyYy9ydW50aW1lL2xpbmstYWNjb3VudHMtZmxvdy5qcyIsInNyYy9ydW50aW1lL2xvZ2dlci5qcyIsInNyYy9ydW50aW1lL2xvZ2luLW5vdGlmaWNhdGlvbi1hcGkuanMiLCJzcmMvcnVudGltZS9sb2dpbi1wcm9tcHQtYXBpLmpzIiwic3JjL3J1bnRpbWUvbWV0ZXItdG9hc3QtYXBpLmpzIiwic3JjL3J1bnRpbWUvb2ZmZXJzLWFwaS5qcyIsInNyYy9ydW50aW1lL29mZmVycy1mbG93LmpzIiwic3JjL3J1bnRpbWUvcGF5LWNsaWVudC5qcyIsInNyYy9ydW50aW1lL3BheS1mbG93LmpzIiwic3JjL3J1bnRpbWUvcHJvcGVuc2l0eS1zZXJ2ZXIuanMiLCJzcmMvcnVudGltZS9wcm9wZW5zaXR5LmpzIiwic3JjL3J1bnRpbWUvcnVudGltZS5qcyIsInNyYy9ydW50aW1lL3NlcnZpY2VzLmpzIiwic3JjL3J1bnRpbWUvc21hcnQtYnV0dG9uLWFwaS5qcyIsInNyYy9ydW50aW1lL3N0b3JhZ2UuanMiLCJzcmMvcnVudGltZS93YWl0LWZvci1zdWJzY3JpcHRpb24tbG9va3VwLWFwaS5qcyIsInNyYy91aS9hY3Rpdml0eS1pZnJhbWUtdmlldy5qcyIsInNyYy91aS9sb2FkaW5nLXZpZXcuanMiLCJzcmMvdWkvdG9hc3QuanMiLCJzcmMvdXRpbHMvYWN0aXZpdHktdXRpbHMuanMiLCJzcmMvdXRpbHMvYW5pbWF0aW9uLmpzIiwic3JjL3V0aWxzL2J5dGVzLmpzIiwic3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsInNyYy91dGlscy9kYXRlLXV0aWxzLmpzIiwic3JjL3V0aWxzL2RvY3VtZW50LXJlYWR5LmpzIiwic3JjL3V0aWxzL2RvbS5qcyIsInNyYy91dGlscy9lcnJvci1sb2dnZXIuanMiLCJzcmMvdXRpbHMvZXJyb3JzLmpzIiwic3JjL3V0aWxzL2dhYS5qcyIsInNyYy91dGlscy9pMThuLmpzIiwic3JjL3V0aWxzL2pzb24uanMiLCJzcmMvdXRpbHMvand0LmpzIiwic3JjL3V0aWxzL2xvZy5qcyIsInNyYy91dGlscy9vYmplY3QuanMiLCJzcmMvdXRpbHMvcHJlY29ubmVjdC5qcyIsInNyYy91dGlscy9yYW5kb20uanMiLCJzcmMvdXRpbHMvc3RyaW5nLmpzIiwic3JjL3V0aWxzL3N0eWxlLmpzIiwic3JjL3V0aWxzL3R5cGVzLmpzIiwic3JjL3V0aWxzL3VybC5qcyIsInNyYy91dGlscy94aHIuanMiLCJ0aGlyZF9wYXJ0eS9ncGF5L3NyYy9jb25zdGFudHMuanMiLCJ0aGlyZF9wYXJ0eS9ncGF5L3NyYy9lbGVtZW50X2luamVjdG9yLmpzIiwidGhpcmRfcGFydHkvZ3BheS9zcmMvZ3JheXBhbmUuanMiLCJ0aGlyZF9wYXJ0eS9ncGF5L3NyYy9wYXlfZnJhbWVfaGVscGVyLmpzIiwidGhpcmRfcGFydHkvZ3BheS9zcmMvcGF5anNfYXN5bmMuanMiLCJ0aGlyZF9wYXJ0eS9ncGF5L3NyYy9wYXltZW50c19jbGllbnRfZGVsZWdhdGVfaW50ZXJmYWNlLmpzIiwidGhpcmRfcGFydHkvZ3BheS9zcmMvcGF5bWVudHNfcmVxdWVzdF9kZWxlZ2F0ZS5qcyIsInRoaXJkX3BhcnR5L2dwYXkvc3JjL3BheW1lbnRzX3dlYl9hY3Rpdml0eV9kZWxlZ2F0ZS5qcyIsInRoaXJkX3BhcnR5L2dwYXkvc3JjL3Bvc3RfbWVzc2FnZV9zZXJ2aWNlLmpzIiwidGhpcmRfcGFydHkvZ3BheS9zcmMvdXBpX2hhbmRsZXIuanMiLCJ0aGlyZF9wYXJ0eS9ncGF5L3NyYy91dGlscy5qcyIsInRoaXJkX3BhcnR5L2dwYXkvc3JjL3ZhbGlkYXRvci5qcyIsInRoaXJkX3BhcnR5L2dwYXkvdGhpcmRfcGFydHkvcmFuZG9tX3V1aWQvUmFuZG9tLnV1aWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBTyxNQUFNLEdBQUcsR0FBRyx1eUNBQXV5QztBQUFDOzs7Ozs7Ozs7QUNBcHpDLE1BQU0sR0FBRyxHQUFHLHFnREFBcWdEO0FBQUM7OztBQ0F6aEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUM5d0RBO0FBQ0E7QUFqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNLGtCQUFrQixDQUFDO0VBQzlCO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDOztFQUVkO0FBQ0Y7QUFD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QUksQ0FBQyxJQUFJLENBQUM7O0lBRTdEO0lBQ0EsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRXBFO0lBQ0EsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFdEU7SUFDQSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFaEU7SUFDQSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFbEU7SUFDQSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFaEU7SUFDQSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFMUQ7SUFDQSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7SUFFakU7SUFDQSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFD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QUEyRTtBQUUvRSxTQUFTLENBQUMsMEJBQTBCLEdBQUc7RUFDckMsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRSxHQUFHO0VBQ1QsSUFBSSxFQUFFLEdBQUc7RUFDVCxJQUFJLEVBQUUsR0FBRztFQUNULElBQUksRUFBRTtBQUNSLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsQ0FBQyxhQUFhLEdBQUcsZUFBZTs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsQ0FBQyxpQkFBaUIsR0FBRyxhQUFhO0FBRTNDLFNBQVMsQ0FBQyxZQUFZLEdBQUk7QUFDMUIsR0FBRyxTQUFTLENBQUMsaUJBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxTQUFTLENBQUMsaUJBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLFNBQVMsQ0FBQyxpQkFBa0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsR0FBRyxTQUFTLENBQUMsaUJBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxTQUFTLENBQUMsaUJBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUcsU0FBUyxDQUFD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Q3BDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHO0lBQ2YsQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFFLEVBQUUsRUFBRTtNQUNoQixJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRztJQUNmLENBQUMsTUFBTTtNQUNMLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxTQUFVLEdBQUMsQ0FBQztNQUM5RCxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUc7TUFDYixHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUM7TUFDZCxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFFLENBQUMsSUFBSSxFQUFFLEdBQUssQ0FBQyxHQUFHLEdBQUcsR0FBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ2xEO0VBQ0Y7RUFDQSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ3RCLENBQUM7O0FBRUQ7QUFDQSxXQUFXLENBQUMsV0FBVyxHQUFHLFlBQVc7RUFDbkMsT0FBTyxzQ0FBc0MsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLFVBQVMsQ0FBQyxFQUFFO0lBQ3pFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxFQUFFLEdBQUMsQ0FBQztNQUFFLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsR0FBSSxDQUFDLEdBQUMsR0FBRyxHQUFDLEdBQUk7SUFDMUQsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztFQUN2QixDQUFDLENBQUM7QUFDSixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0IGNvbnN0IENTUyA9IFwiLnN3Zy1kaWFsb2csLnN3Zy10b2FzdHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uc3dnLXRvYXN0e2JvcmRlcjpub25lIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7bWF4LWhlaWdodDo0NnB4IWltcG9ydGFudDtwb3NpdGlvbjpmaXhlZCFpbXBvcnRhbnQ7ei1pbmRleDoyMTQ3NDgzNjQ3IWltcG9ydGFudH1AbWVkaWEgKG1pbi13aWR0aDo4NzFweCkgYW5kIChtaW4taGVpZ2h0OjY0MXB4KXsuc3dnLWRpYWxvZy5zd2ctd2lkZS1kaWFsb2d7bGVmdDotNDM1cHghaW1wb3J0YW50O3dpZHRoOjg3MHB4IWltcG9ydGFudH19QG1lZGlhIChtYXgtaGVpZ2h0OjY0MHB4KSwobWF4LXdpZHRoOjY0MHB4KXsuc3dnLWRpYWxvZywuc3dnLXRvYXN0e2JvcmRlci10b3AtbGVmdC1yYWRpdXM6OHB4IWltcG9ydGFudDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo4cHghaW1wb3J0YW50O2JveC1zaGFkb3c6MCAxcHggMXB4IHJnYmEoNjAsNjQsNjcsLjMpLDAgMXB4IDRweCAxcHggcmdiYSg2MCw2NCw2NywuMTUpIWltcG9ydGFudDtsZWZ0Oi0yNDBweCFpbXBvcnRhbnQ7bWFyZ2luLWxlZnQ6NTB2dyFpbXBvcnRhbnQ7d2lkdGg6NDgwcHghaW1wb3J0YW50fX1AbWVkaWEgKG1pbi13aWR0aDo2NDFweCkgYW5kIChtaW4taGVpZ2h0OjY0MXB4KXsuc3dnLWRpYWxvZ3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7bGVmdDotMzE1cHghaW1wb3J0YW50O21hcmdpbi1sZWZ0OjUwdnchaW1wb3J0YW50O3dpZHRoOjYzMHB4IWltcG9ydGFudH0uc3dnLXRvYXN0e2JvcmRlci1yYWRpdXM6NHB4IWltcG9ydGFudDtib3R0b206OHB4IWltcG9ydGFudDtib3gtc2hhZG93OjAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsLjIpLDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjE0KSwwIDFweCA1cHggMCByZ2JhKDAsMCwwLC4xMikhaW1wb3J0YW50O2xlZnQ6OHB4IWltcG9ydGFudH19QG1lZGlhIChtYXgtd2lkdGg6NDgwcHgpey5zd2ctZGlhbG9nLC5zd2ctdG9hc3R7bGVmdDowIWltcG9ydGFudDttYXJnaW4tbGVmdDowIWltcG9ydGFudDtyaWdodDowIWltcG9ydGFudDt3aWR0aDoxMDAlIWltcG9ydGFudH19aHRtbD5ib2R5LnN3Zy1kaXNhYmxlLXNjcm9sbHtoZWlnaHQ6MTAwdmghaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9aHRtbD5ib2R5LnN3Zy1kaXNhYmxlLXNjcm9sbCAqe292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9XFxuLyojIHNvdXJjZVVSTD0vLi9zcmMvY29tcG9uZW50cy9kaWFsb2cuY3NzKi9cXG5cIjsiLCJleHBvcnQgY29uc3QgQ1NTID0gXCJib2R5e21hcmdpbjowO3BhZGRpbmc6MH1zd2ctY29udGFpbmVyLHN3Zy1sb2FkaW5nLHN3Zy1sb2FkaW5nLWFuaW1hdGUsc3dnLWxvYWRpbmctaW1hZ2V7ZGlzcGxheTpibG9ja31zd2ctbG9hZGluZy1jb250YWluZXJ7LW1zLWZsZXgtYWxpZ246Y2VudGVyIWltcG9ydGFudDstbXMtZmxleC1wYWNrOmNlbnRlciFpbXBvcnRhbnQ7YWxpZ24taXRlbXM6Y2VudGVyIWltcG9ydGFudDtib3R0b206MCFpbXBvcnRhbnQ7ZGlzcGxheTotbXMtZmxleGJveCFpbXBvcnRhbnQ7ZGlzcGxheTpmbGV4IWltcG9ydGFudDtoZWlnaHQ6MTAwJSFpbXBvcnRhbnQ7anVzdGlmeS1jb250ZW50OmNlbnRlciFpbXBvcnRhbnQ7bWFyZ2luLXRvcDo1cHghaW1wb3J0YW50O21pbi1oZWlnaHQ6MTQ4cHghaW1wb3J0YW50O3dpZHRoOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6MjE0NzQ4MzY0NyFpbXBvcnRhbnR9QG1lZGlhIChtaW4taGVpZ2h0OjYzMHB4KSwobWluLXdpZHRoOjYzMHB4KXtzd2ctbG9hZGluZy1jb250YWluZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjhweCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6OHB4IWltcG9ydGFudDtib3gtc2hhZG93OjAgMXB4IDFweCByZ2JhKDYwLDY0LDY3LC4zKSwwIDFweCA0cHggMXB4IHJnYmEoNjAsNjQsNjcsLjE1KSFpbXBvcnRhbnQ7bWFyZ2luLWxlZnQ6YXV0byFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OmF1dG8haW1wb3J0YW50O3dpZHRoOjU2MHB4IWltcG9ydGFudH1zd2ctbG9hZGluZy1jb250YWluZXIuY2VudGVyZWQtb24tZGVza3RvcHtib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7aGVpZ2h0OjEyMHB4IWltcG9ydGFudDttaW4taGVpZ2h0OjEyMHB4IWltcG9ydGFudH19c3dnLWxvYWRpbmd7YW5pbWF0aW9uOm1zcGluLXJvdGF0ZSAxNTY4LjYzbXMgbGluZWFyIGluZmluaXRlO2hlaWdodDozNnB4O292ZXJmbG93OmhpZGRlbjt3aWR0aDozNnB4O3otaW5kZXg6MjE0NzQ4MzY0NyFpbXBvcnRhbnR9c3dnLWxvYWRpbmctYW5pbWF0ZXthbmltYXRpb246bXNwaW4tcmV2cm90IDUzMzJtcyBzdGVwcyg0KSBpbmZpbml0ZX1zd2ctbG9hZGluZy1pbWFnZXthbmltYXRpb246c3dnLWxvYWRpbmctZmlsbSA1MzMybXMgc3RlcHMoMzI0KSBpbmZpbml0ZTtiYWNrZ3JvdW5kLWltYWdlOnVybCgkYXNzZXRzJC9sb2FkZXIuc3ZnKTtiYWNrZ3JvdW5kLXNpemU6MTAwJTtoZWlnaHQ6MzZweDt3aWR0aDoxMTY2NHB4fUBrZXlmcmFtZXMgc3dnLWxvYWRpbmctZmlsbXswJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX10b3t0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTE2NjRweCl9fUBrZXlmcmFtZXMgbXNwaW4tcm90YXRlezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fUBrZXlmcmFtZXMgbXNwaW4tcmV2cm90ezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgtMXR1cm4pfX1cXG4vKiMgc291cmNlVVJMPS8uL3NyYy91aS91aS5jc3MqL1xcblwiOyIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IFRoZSBXZWIgQWN0aXZpdGllcyBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAvKiogVmVyc2lvbjogMS4yNCAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludCBuby11bnVzZWQtdmFyczogMCovXG5cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5jb25zdCBBY3Rpdml0eU1vZGUgPSB7XG4gIElGUkFNRTogJ2lmcmFtZScsXG4gIFBPUFVQOiAncG9wdXAnLFxuICBSRURJUkVDVDogJ3JlZGlyZWN0Jyxcbn07XG5cblxuLyoqXG4gKiBUaGUgcmVzdWx0IGNvZGUgdXNlZCBmb3IgYEFjdGl2aXR5UmVzdWx0YC5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmNvbnN0IEFjdGl2aXR5UmVzdWx0Q29kZSA9IHtcbiAgT0s6ICdvaycsXG4gIENBTkNFTEVEOiAnY2FuY2VsZWQnLFxuICBGQUlMRUQ6ICdmYWlsZWQnLFxufTtcblxuXG4vKipcbiAqIFRoZSByZXN1bHQgb2YgYW4gYWN0aXZpdHkuIFRoZSBhY3Rpdml0eSBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIHRoaXMgb2JqZWN0XG4gKiBmb3IgYSBzdWNjZXNzZnVsIHJlc3VsdCwgYSBjYW5jZWxhdGlvbiBvciBhIGZhaWx1cmUuXG4gKiBAc3RydWN0XG4gKi9cbmNsYXNzIEFjdGl2aXR5UmVzdWx0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFjdGl2aXR5UmVzdWx0Q29kZX0gY29kZVxuICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICogQHBhcmFtIHshQWN0aXZpdHlNb2RlfSBtb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcmlnaW5cbiAgICogQHBhcmFtIHtib29sZWFufSBvcmlnaW5WZXJpZmllZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNlY3VyZUNoYW5uZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvZGUsIGRhdGEsIG1vZGUsIG9yaWdpbiwgb3JpZ2luVmVyaWZpZWQsIHNlY3VyZUNoYW5uZWwpIHtcbiAgICAvKiogQGNvbnN0IHshQWN0aXZpdHlSZXN1bHRDb2RlfSAqL1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgLyoqIEBjb25zdCB7Kn0gKi9cbiAgICB0aGlzLmRhdGEgPSBjb2RlID09IEFjdGl2aXR5UmVzdWx0Q29kZS5PSyA/IGRhdGEgOiBudWxsO1xuICAgIC8qKiBAY29uc3QgeyFBY3Rpdml0eU1vZGV9ICovXG4gICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5vcmlnaW4gPSBvcmlnaW47XG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLm9yaWdpblZlcmlmaWVkID0gb3JpZ2luVmVyaWZpZWQ7XG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnNlY3VyZUNoYW5uZWwgPSBzZWN1cmVDaGFubmVsO1xuICAgIC8qKiBAY29uc3Qge2Jvb2xlYW59ICovXG4gICAgdGhpcy5vayA9IGNvZGUgPT0gQWN0aXZpdHlSZXN1bHRDb2RlLk9LO1xuICAgIC8qKiBAY29uc3Qgez9FcnJvcn0gKi9cbiAgICB0aGlzLmVycm9yID0gY29kZSA9PSBBY3Rpdml0eVJlc3VsdENvZGUuRkFJTEVEID9cbiAgICAgICAgbmV3IEVycm9yKFN0cmluZyhkYXRhKSB8fCAnJykgOlxuICAgICAgICBudWxsO1xuICB9XG59XG5cblxuLyoqXG4gKiBUaGUgYWN0aXZpdHkgcmVxdWVzdCB0aGF0IGRpZmZlcmVudCB0eXBlcyBvZiBob3N0cyBjYW4gYmUgc3RhcnRlZCB3aXRoLlxuICogQHR5cGVkZWYge3tcbiAqICAgcmVxdWVzdElkOiBzdHJpbmcsXG4gKiAgIHJldHVyblVybDogc3RyaW5nLFxuICogICBhcmdzOiA/T2JqZWN0LFxuICogICBvcmlnaW46IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgb3JpZ2luVmVyaWZpZWQ6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5sZXQgQWN0aXZpdHlSZXF1ZXN0O1xuXG5cbi8qKlxuICogVGhlIGFjdGl2aXR5IFwib3BlblwiIG9wdGlvbnMgdXNlZCBmb3IgcG9wdXBzIGFuZCByZWRpcmVjdHMuXG4gKlxuICogLSByZXR1cm5Vcmw6IG92ZXJyaWRlIHRoZSByZXR1cm4gVVJMLiBCeSBkZWZhdWx0LCB0aGUgY3VycmVudCBVUkwgd2lsbCBiZVxuICogICB1c2VkLlxuICogLSBza2lwUmVxdWVzdEluVXJsOiByZW1vdmVzIHRoZSBhY3Rpdml0eSByZXF1ZXN0IGZyb20gdGhlIFVSTCwgaW4gY2FzZVxuICogICByZWRpcmVjdCBpcyB1c2VkLiBCeSBkZWZhdWx0LCB0aGUgYWN0aXZpdHkgcmVxdWVzdCBpcyBhcHBlbmRlZCB0byB0aGVcbiAqICAgYWN0aXZpdHkgVVJMLiBUaGlzIG9wdGlvbiBjYW4gYmUgdXNlZCBpZiB0aGUgYWN0aXZpdHkgcmVxdWVzdCBpcyBwYXNzZWRcbiAqICAgdG8gdGhlIGFjdGl2aXR5IGJ5IHNvbWUgYWx0ZXJuYXRpdmUgbWVhbnMuXG4gKiAtIGRpc2FibGVSZWRpcmVjdEZhbGxiYWNrOiBkaXNhbGxvd3MgcG9wdXAgZmFsbGJhY2sgdG8gcmVkaXJlY3QuIEJ5IGRlZmF1bHRcbiAqICAgdGhlIHJlZGlyZWN0IGZhbGxiYWNrIGlzIGFsbG93ZWQuIFRoaXMgb3B0aW9uIGhhcyB0byBiZSB1c2VkIHZlcnkgY2FyZWZ1bGx5XG4gKiAgIGJlY2F1c2UgdGhlcmUgYXJlIG1hbnkgdXNlciBhZ2VudHMgdGhhdCBtYXkgZmFpbCB0byBvcGVuIGEgcG9wdXAgYW5kIGl0XG4gKiAgIHdvbid0IGJlIGFsd2F5cyBwb3NzaWJsZSBmb3IgdGhlIG9wZW5lciB3aW5kb3cgdG8gZXZlbiBiZSBhd2FyZSBvZiBzdWNoXG4gKiAgIGZhaWx1cmVzLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHJldHVyblVybDogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBza2lwUmVxdWVzdEluVXJsOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogICBkaXNhYmxlUmVkaXJlY3RGYWxsYmFjazogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgd2lkdGg6IChudW1iZXJ8dW5kZWZpbmVkKSxcbiAqICAgaGVpZ2h0OiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5sZXQgQWN0aXZpdHlPcGVuT3B0aW9ucztcblxuXG4vKipcbiAqIEFjdGl2aXR5IGNsaWVudC1zaWRlIGJpbmRpbmcuIFRoZSBwb3J0IHByb3ZpZGVzIGxpbWl0ZWQgd2F5cyB0byBjb21tdW5pY2F0ZVxuICogd2l0aCB0aGUgYWN0aXZpdHkgYW5kIHJlY2VpdmUgc2lnbmFscyBhbmQgcmVzdWx0cyBmcm9tIGl0LiBOb3QgZXZlcnkgdHlwZVxuICogb2YgYWN0aXZpdHkgZXhwb3NlcyBhIHBvcnQuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5jbGFzcyBBY3Rpdml0eVBvcnQge1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtb2RlIG9mIHRoZSBhY3Rpdml0eTogaWZyYW1lLCBwb3B1cCBvciByZWRpcmVjdC5cbiAgICogQHJldHVybiB7IUFjdGl2aXR5TW9kZX1cbiAgICovXG4gIGdldE1vZGUoKSB7fVxuXG4gIC8qKlxuICAgKiBBY2NlcHRzIHRoZSByZXN1bHQgd2hlbiByZWFkeS4gVGhlIGNsaWVudCBzaG91bGQgdmVyaWZ5IHRoZSBhY3Rpdml0eSdzXG4gICAqIG1vZGUsIG9yaWdpbiwgdmVyaWZpY2F0aW9uIGFuZCBzZWN1cmUgY2hhbm5lbCBmbGFncyBiZWZvcmUgZGVjaWRpbmdcbiAgICogd2hldGhlciBvciBub3QgdG8gdHJ1c3QgdGhlIHJlc3VsdC5cbiAgICpcbiAgICogUmV0dXJucyB0aGUgcHJvbWlzZSB0aGF0IHlpZWxkcyB3aGVuIHRoZSBhY3Rpdml0eSBoYXMgYmVlbiBjb21wbGV0ZWQgYW5kXG4gICAqIGVpdGhlciBhIHJlc3VsdCwgYSBjYW5jZWxhdGlvbiBvciBhIGZhaWx1cmUgaGFzIGJlZW4gcmV0dXJuZWQuXG4gICAqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFBY3Rpdml0eVJlc3VsdD59XG4gICAqL1xuICBhY2NlcHRSZXN1bHQoKSB7fVxufVxuXG5cbi8qKlxuICogQWN0aXZpdHkgY2xpZW50LXNpZGUgYmluZGluZyBmb3IgbWVzc2FnaW5nLlxuICpcbiAqIFdoZXRoZXIgdGhlIGhvc3QgY2FuIG9yIGNhbm5vdCByZWNlaXZlIGEgbWVzc2FnZSBkZXBlbmRzIG9uIHRoZSB0eXBlIG9mXG4gKiBob3N0IGFuZCBpdHMgc3RhdGUuIEVuc3VyZSB0aGF0IHRoZSBjb2RlIGhhcyBhbiBhbHRlcm5hdGl2ZSBwYXRoIGlmXG4gKiBtZXNzYWdpbmcgaXMgbm90IGF2YWlsYWJsZS5cbiAqXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmNsYXNzIEFjdGl2aXR5TWVzc2FnaW5nUG9ydCB7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRhcmdldCB3aW5kb3cgd2hlcmUgaG9zdCBpcyBsb2FkZWQuIE1heSBiZSB1bmF2YWlsYWJsZS5cbiAgICogQHJldHVybiB7P1dpbmRvd31cbiAgICovXG4gIGdldFRhcmdldFdpbigpIHt9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgaG9zdC5cbiAgICogQHBhcmFtIHshT2JqZWN0fSBwYXlsb2FkXG4gICAqL1xuICBtZXNzYWdlKHBheWxvYWQpIHt9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIHJlY2VpdmUgbWVzc2FnZXMgZnJvbSB0aGUgaG9zdC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbighT2JqZWN0KX0gY2FsbGJhY2tcbiAgICovXG4gIG9uTWVzc2FnZShjYWxsYmFjaykge31cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb21tdW5pY2F0aW9uIGNoYW5uZWwgb3IgcmV0dXJucyBhbiBleGlzdGluZyBvbmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X25hbWVcbiAgICogQHJldHVybiB7IVByb21pc2U8IU1lc3NhZ2VQb3J0Pn1cbiAgICovXG4gIG1lc3NhZ2VDaGFubmVsKG9wdF9uYW1lKSB7fVxufVxuXG5cblxuLyoqIERPTUV4Y2VwdGlvbi5BQk9SVF9FUlIgbmFtZSAqL1xuY29uc3QgQUJPUlRfRVJSX05BTUUgPSAnQWJvcnRFcnJvcic7XG5cbi8qKiBET01FeGNlcHRpb24uQUJPUlRfRVJSID0gMjAgKi9cbmNvbnN0IEFCT1JUX0VSUl9DT0RFID0gMjA7XG5cbi8qKiBAdHlwZSB7P0hUTUxBbmNob3JFbGVtZW50fSAqL1xubGV0IGFSZXNvbHZlcjtcblxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxTdHJpbmdcbiAqIEByZXR1cm4geyFIVE1MQW5jaG9yRWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gcGFyc2VVcmwodXJsU3RyaW5nKSB7XG4gIGlmICghYVJlc29sdmVyKSB7XG4gICAgYVJlc29sdmVyID0gLyoqIEB0eXBlIHshSFRNTEFuY2hvckVsZW1lbnR9ICovIChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykpO1xuICB9XG4gIGFSZXNvbHZlci5ocmVmID0gdXJsU3RyaW5nO1xuICByZXR1cm4gLyoqIEB0eXBlIHshSFRNTEFuY2hvckVsZW1lbnR9ICovIChhUmVzb2x2ZXIpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshTG9jYXRpb258IVVSTHwhSFRNTEFuY2hvckVsZW1lbnR9IGxvY1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRPcmlnaW4obG9jKSB7XG4gIGlmIChsb2Mub3JpZ2luKSB7XG4gICAgcmV0dXJuIGxvYy5vcmlnaW47XG4gIH1cbiAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIG9yaWdpbiBpcyBub3JtYWxpemVkLiBTcGVjaWZpY2FsbHkgb24gSUUsIGhvc3Qgc29tZXRpbWVzXG4gIC8vIGluY2x1ZGVzIHRoZSBkZWZhdWx0IHBvcnQsIHdoaWNoIGlzIG5vdCBwZXIgc3RhbmRhcmQuXG4gIGNvbnN0IHByb3RvY29sID0gbG9jLnByb3RvY29sO1xuICBsZXQgaG9zdCA9IGxvYy5ob3N0O1xuICBpZiAocHJvdG9jb2wgPT0gJ2h0dHBzOicgJiYgaG9zdC5pbmRleE9mKCc6NDQzJykgPT0gaG9zdC5sZW5ndGggLSA0KSB7XG4gICAgaG9zdCA9IGhvc3QucmVwbGFjZSgnOjQ0MycsICcnKTtcbiAgfSBlbHNlIGlmIChwcm90b2NvbCA9PSAnaHR0cDonICYmIGhvc3QuaW5kZXhPZignOjgwJykgPT0gaG9zdC5sZW5ndGggLSAzKSB7XG4gICAgaG9zdCA9IGhvc3QucmVwbGFjZSgnOjgwJywgJycpO1xuICB9XG4gIHJldHVybiBwcm90b2NvbCArICcvLycgKyBob3N0O1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRPcmlnaW5Gcm9tVXJsKHVybFN0cmluZykge1xuICByZXR1cm4gZ2V0T3JpZ2luKHBhcnNlVXJsKHVybFN0cmluZykpO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVGcmFnbWVudCh1cmxTdHJpbmcpIHtcbiAgY29uc3QgaW5kZXggPSB1cmxTdHJpbmcuaW5kZXhPZignIycpO1xuICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICByZXR1cm4gdXJsU3RyaW5nO1xuICB9XG4gIHJldHVybiB1cmxTdHJpbmcuc3Vic3RyaW5nKDAsIGluZGV4KTtcbn1cblxuXG4vKipcbiAqIFBhcnNlcyBhbmQgYnVpbGRzIE9iamVjdCBvZiBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IFRoZSBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnkpIHtcbiAgaWYgKCFxdWVyeSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gKC9eWz8jXS8udGVzdChxdWVyeSkgPyBxdWVyeS5zbGljZSgxKSA6IHF1ZXJ5KVxuICAgICAgLnNwbGl0KCcmJylcbiAgICAgIC5yZWR1Y2UoKHBhcmFtcywgcGFyYW0pID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHBhcmFtLnNwbGl0KCc9Jyk7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChpdGVtWzBdIHx8ICcnKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoaXRlbVsxXSB8fCAnJyk7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICB9LCB7fSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmcgIEEgcXVlcnkgc3RyaW5nIGluIHRoZSBmb3JtIG9mIFwiYT1iJmM9ZFwiLiBDb3VsZFxuICogICBiZSBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggXCI/XCIgb3IgXCIjXCIuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0gVGhlIHBhcmFtIHRvIGdldCBmcm9tIHRoZSBxdWVyeSBzdHJpbmcuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRRdWVyeVBhcmFtKHF1ZXJ5U3RyaW5nLCBwYXJhbSkge1xuICByZXR1cm4gcGFyc2VRdWVyeVN0cmluZyhxdWVyeVN0cmluZylbcGFyYW1dO1xufVxuXG5cbi8qKlxuICogQWRkIGEgcXVlcnktbGlrZSBwYXJhbWV0ZXIgdG8gdGhlIGZyYWdtZW50IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGFkZEZyYWdtZW50UGFyYW0odXJsLCBwYXJhbSwgdmFsdWUpIHtcbiAgcmV0dXJuIHVybCArXG4gICAgICAodXJsLmluZGV4T2YoJyMnKSA9PSAtMSA/ICcjJyA6ICcmJykgK1xuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmcgIEEgcXVlcnkgc3RyaW5nIGluIHRoZSBmb3JtIG9mIFwiYT1iJmM9ZFwiLiBDb3VsZFxuICogICBiZSBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggXCI/XCIgb3IgXCIjXCIuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0gVGhlIHBhcmFtIHRvIHJlbW92ZSBmcm9tIHRoZSBxdWVyeSBzdHJpbmcuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVRdWVyeVBhcmFtKHF1ZXJ5U3RyaW5nLCBwYXJhbSkge1xuICBpZiAoIXF1ZXJ5U3RyaW5nKSB7XG4gICAgcmV0dXJuIHF1ZXJ5U3RyaW5nO1xuICB9XG4gIGNvbnN0IHNlYXJjaCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbSkgKyAnPSc7XG4gIGxldCBpbmRleCA9IC0xO1xuICBkbyB7XG4gICAgaW5kZXggPSBxdWVyeVN0cmluZy5pbmRleE9mKHNlYXJjaCwgaW5kZXgpO1xuICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgY29uc3QgcHJldiA9IGluZGV4ID4gMCA/IHF1ZXJ5U3RyaW5nLnN1YnN0cmluZyhpbmRleCAtIDEsIGluZGV4KSA6ICcnO1xuICAgICAgaWYgKHByZXYgPT0gJycgfHwgcHJldiA9PSAnPycgfHwgcHJldiA9PSAnIycgfHwgcHJldiA9PSAnJicpIHtcbiAgICAgICAgbGV0IGVuZCA9IHF1ZXJ5U3RyaW5nLmluZGV4T2YoJyYnLCBpbmRleCArIDEpO1xuICAgICAgICBpZiAoZW5kID09IC0xKSB7XG4gICAgICAgICAgZW5kID0gcXVlcnlTdHJpbmcubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXJ5U3RyaW5nID1cbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nLnN1YnN0cmluZygwLCBpbmRleCkgK1xuICAgICAgICAgICAgcXVlcnlTdHJpbmcuc3Vic3RyaW5nKGVuZCArIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gIH0gd2hpbGUgKGluZGV4ICE9IC0xICYmIGluZGV4IDwgcXVlcnlTdHJpbmcubGVuZ3RoKTtcbiAgcmV0dXJuIHF1ZXJ5U3RyaW5nO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIHshQWN0aXZpdHlSZXF1ZXN0fSByZXF1ZXN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZVJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCBtYXAgPSB7XG4gICAgJ3JlcXVlc3RJZCc6IHJlcXVlc3QucmVxdWVzdElkLFxuICAgICdyZXR1cm5VcmwnOiByZXF1ZXN0LnJldHVyblVybCxcbiAgICAnYXJncyc6IHJlcXVlc3QuYXJncyxcbiAgfTtcbiAgaWYgKHJlcXVlc3Qub3JpZ2luICE9PSB1bmRlZmluZWQpIHtcbiAgICBtYXBbJ29yaWdpbiddID0gcmVxdWVzdC5vcmlnaW47XG4gIH1cbiAgaWYgKHJlcXVlc3Qub3JpZ2luVmVyaWZpZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIG1hcFsnb3JpZ2luVmVyaWZpZWQnXSA9IHJlcXVlc3Qub3JpZ2luVmVyaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1hcCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyp9IGVycm9yXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0Fib3J0RXJyb3IoZXJyb3IpIHtcbiAgaWYgKCFlcnJvciB8fCB0eXBlb2YgZXJyb3IgIT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChlcnJvclsnbmFtZSddID09PSBBQk9SVF9FUlJfTkFNRSk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIG9yIGVtdWxhdGVzIGEgRE9NRXhjZXB0aW9uIG9mIEFib3J0RXJyb3IgdHlwZS5cbiAqIFNlZSBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNhYm9ydGVycm9yLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2VcbiAqIEByZXR1cm4geyFET01FeGNlcHRpb259XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFib3J0RXJyb3Iod2luLCBvcHRfbWVzc2FnZSkge1xuICBjb25zdCBtZXNzYWdlID0gJ0Fib3J0RXJyb3InICsgKG9wdF9tZXNzYWdlID8gJzogJyArIG9wdF9tZXNzYWdlIDogJycpO1xuICBsZXQgZXJyb3IgPSBudWxsO1xuICBpZiAodHlwZW9mIHdpblsnRE9NRXhjZXB0aW9uJ10gPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFRPRE8oZHZveXRlbmtvKTogcmVtb3ZlIHR5cGVjYXN0IG9uY2UgZXh0ZXJucyBhcmUgZml4ZWQuXG4gICAgY29uc3QgY29uc3RyID0gLyoqIEB0eXBlIHtmdW5jdGlvbihuZXc6RE9NRXhjZXB0aW9uLCBzdHJpbmcsIHN0cmluZyl9ICovIChcbiAgICAgICAgd2luWydET01FeGNlcHRpb24nXSk7XG4gICAgdHJ5IHtcbiAgICAgIGVycm9yID0gbmV3IGNvbnN0cihtZXNzYWdlLCBBQk9SVF9FUlJfTkFNRSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlLiBJbiBwYXJ0aWN1bGFyLCBgbmV3IERPTUV4Y2VwdGlvbigpYCBmYWlscyBpbiBFZGdlLlxuICAgIH1cbiAgfVxuICBpZiAoIWVycm9yKSB7XG4gICAgLy8gVE9ETyhkdm95dGVua28pOiByZW1vdmUgdHlwZWNhc3Qgb25jZSBleHRlcm5zIGFyZSBmaXhlZC5cbiAgICBjb25zdCBjb25zdHIgPSAvKiogQHR5cGUge2Z1bmN0aW9uKG5ldzpET01FeGNlcHRpb24sIHN0cmluZyl9ICovIChcbiAgICAgICAgRXJyb3IpO1xuICAgIGVycm9yID0gbmV3IGNvbnN0cihtZXNzYWdlKTtcbiAgICBlcnJvci5uYW1lID0gQUJPUlRfRVJSX05BTUU7XG4gICAgZXJyb3IuY29kZSA9IEFCT1JUX0VSUl9DT0RFO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuXG4vKipcbiAqIFJlc29sdmVzIHRoZSBhY3Rpdml0eSByZXN1bHQgYXMgYSBwcm9taXNlOlxuICogIC0gYE9LYCByZXN1bHQgaXMgeWllbGRlZCBhcyB0aGUgcHJvbWlzZSdzIHBheWxvYWQ7XG4gKiAgLSBgQ0FOQ0VMYCByZXN1bHQgaXMgcmVqZWN0ZWQgd2l0aCB0aGUgYEFib3J0RXJyb3JgO1xuICogIC0gYEZBSUxFRGAgcmVzdWx0IGlzIHJlamVjdGVkIHdpdGggdGhlIGVtYmVkZGVkIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0geyFBY3Rpdml0eVJlc3VsdH0gcmVzdWx0XG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCghQWN0aXZpdHlSZXN1bHR8IVByb21pc2UpKX0gcmVzb2x2ZXJcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlc3VsdCh3aW4sIHJlc3VsdCwgcmVzb2x2ZXIpIHtcbiAgaWYgKHJlc3VsdC5vaykge1xuICAgIHJlc29sdmVyKHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZXJyb3IgPSByZXN1bHQuZXJyb3IgfHwgY3JlYXRlQWJvcnRFcnJvcih3aW4pO1xuICAgIGVycm9yLmFjdGl2aXR5UmVzdWx0ID0gcmVzdWx0O1xuICAgIHJlc29sdmVyKFByb21pc2UucmVqZWN0KGVycm9yKSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0llQnJvd3Nlcih3aW4pIHtcbiAgLy8gTVNJRSBhbmQgVHJpZGVudCBhcmUgdHlwaWNhbCB1c2VyIGFnZW50cyBmb3IgSUUgYnJvd3NlcnMuXG4gIGNvbnN0IG5hdiA9IHdpbi5uYXZpZ2F0b3I7XG4gIHJldHVybiAvVHJpZGVudHxNU0lFfElFTW9iaWxlL2kudGVzdChuYXYgJiYgbmF2LnVzZXJBZ2VudCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNFZGdlQnJvd3Nlcih3aW4pIHtcbiAgY29uc3QgbmF2ID0gd2luLm5hdmlnYXRvcjtcbiAgcmV0dXJuIC9FZGdlL2kudGVzdChuYXYgJiYgbmF2LnVzZXJBZ2VudCk7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0geyFFcnJvcn0gZVxuICovXG5mdW5jdGlvbiB0aHJvd0FzeW5jKGUpIHtcbiAgc2V0VGltZW91dCgoKSA9PiB7dGhyb3cgZTt9KTtcbn1cblxuXG4vKipcbiAqIFBvbHlmaWxsIG9mIHRoZSBgTm9kZS5pc0Nvbm5lY3RlZGAgQVBJLiBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2lzQ29ubmVjdGVkLlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOb2RlQ29ubmVjdGVkKG5vZGUpIHtcbiAgLy8gRW5zdXJlIHRoYXQgbm9kZSBpcyBhdHRhY2hlZCBpZiBzcGVjaWZpZWQuIFRoaXMgY2hlY2sgdXNlcyBhIG5ldyBhbmRcbiAgLy8gZmFzdCBgaXNDb25uZWN0ZWRgIEFQSSBhbmQgdGh1cyBvbmx5IGNoZWNrZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBpdC5cbiAgLy8gU2VlIGh0dHBzOi8vd3d3LmNocm9tZXN0YXR1cy5jb20vZmVhdHVyZS81Njc2MTEwNTQ5MzUyNDQ4LlxuICBpZiAoJ2lzQ29ubmVjdGVkJyBpbiBub2RlKSB7XG4gICAgcmV0dXJuIG5vZGVbJ2lzQ29ubmVjdGVkJ107XG4gIH1cbiAgLy8gUG9seWZpbGwuXG4gIGNvbnN0IHJvb3QgPSBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgcmV0dXJuIChyb290ICYmIHJvb3QuY29udGFpbnMobm9kZSkpIHx8IGZhbHNlO1xufVxuXG5cblxuY29uc3QgU0VOVElORUwgPSAnX19BQ1RJVklUSUVTX18nO1xuXG5cbi8qKlxuICogVGhlIG1lc3NlbmdlciBoZWxwZXIgZm9yIGFjdGl2aXR5J3MgcG9ydCBhbmQgaG9zdC5cbiAqL1xuY2xhc3MgTWVzc2VuZ2VyIHtcblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshV2luZG93fGZ1bmN0aW9uKCk6P1dpbmRvd30gdGFyZ2V0T3JDYWxsYmFja1xuICAgKiBAcGFyYW0gez9zdHJpbmd9IHRhcmdldE9yaWdpblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcXVpcmVUYXJnZXRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgdGFyZ2V0T3JDYWxsYmFjaywgdGFyZ2V0T3JpZ2luLCByZXF1aXJlVGFyZ2V0KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fGZ1bmN0aW9uKCk6P1dpbmRvd30gKi9cbiAgICB0aGlzLnRhcmdldE9yQ2FsbGJhY2tfID0gdGFyZ2V0T3JDYWxsYmFjaztcblxuICAgIC8qKlxuICAgICAqIE1heSBzdGFydCBhcyB1bmtub3duIChgbnVsbGApIHVudGlsIHJlY2VpdmVkIGluIHRoZSBmaXJzdCBtZXNzYWdlLlxuICAgICAqIEBwcml2YXRlIHs/c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0T3JpZ2luXyA9IHRhcmdldE9yaWdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge2Jvb2xlYW59ICovXG4gICAgdGhpcy5yZXF1aXJlVGFyZ2V0XyA9IHJlcXVpcmVUYXJnZXQ7XG5cbiAgICAvKiogQHByaXZhdGUgez9XaW5kb3d9ICovXG4gICAgdGhpcy50YXJnZXRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmFjY2VwdHNDaGFubmVsXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/TWVzc2FnZVBvcnR9ICovXG4gICAgdGhpcy5wb3J0XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbihzdHJpbmcsID9PYmplY3QpfSAqL1xuICAgIHRoaXMub25Db21tYW5kXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbighT2JqZWN0KX0gKi9cbiAgICB0aGlzLm9uQ3VzdG9tTWVzc2FnZV8gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgez9PYmplY3Q8c3RyaW5nLCAhQ2hhbm5lbEhvbGRlcj59XG4gICAgICovXG4gICAgdGhpcy5jaGFubmVsc18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuYm91bmRIYW5kbGVFdmVudF8gPSB0aGlzLmhhbmRsZUV2ZW50Xy5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdGhlIHBvcnQgdG8gdGhlIGhvc3Qgb3IgdmljZSB2ZXJzYS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsID9PYmplY3QpfSBvbkNvbW1hbmRcbiAgICovXG4gIGNvbm5lY3Qob25Db21tYW5kKSB7XG4gICAgaWYgKHRoaXMub25Db21tYW5kXykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbHJlYWR5IGNvbm5lY3RlZCcpO1xuICAgIH1cbiAgICB0aGlzLm9uQ29tbWFuZF8gPSBvbkNvbW1hbmQ7XG4gICAgdGhpcy53aW5fLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLmJvdW5kSGFuZGxlRXZlbnRfKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IG1lc3Nlbmdlci5cbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMub25Db21tYW5kXykge1xuICAgICAgdGhpcy5vbkNvbW1hbmRfID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLnBvcnRfKSB7XG4gICAgICAgIGNsb3NlUG9ydCh0aGlzLnBvcnRfKTtcbiAgICAgICAgdGhpcy5wb3J0XyA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLndpbl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuYm91bmRIYW5kbGVFdmVudF8pO1xuICAgICAgaWYgKHRoaXMuY2hhbm5lbHNfKSB7XG4gICAgICAgIGZvciAoY29uc3QgayBpbiB0aGlzLmNoYW5uZWxzXykge1xuICAgICAgICAgIGNvbnN0IGNoYW5uZWxPYmogPSB0aGlzLmNoYW5uZWxzX1trXTtcbiAgICAgICAgICBpZiAoY2hhbm5lbE9iai5wb3J0MSkge1xuICAgICAgICAgICAgY2xvc2VQb3J0KGNoYW5uZWxPYmoucG9ydDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2hhbm5lbE9iai5wb3J0Mikge1xuICAgICAgICAgICAgY2xvc2VQb3J0KGNoYW5uZWxPYmoucG9ydDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYW5uZWxzXyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgbWVzc2VuZ2VyIGhhcyBiZWVuIGNvbm5lY3RlZCBhbHJlYWR5LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0T3JpZ2luXyAhPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1lc3NhZ2luZyB0YXJnZXQuIE9ubHkgYXZhaWxhYmxlIHdoZW4gY29ubmVjdGlvbiBoYXMgYmVlblxuICAgKiBlc3RhYmxpaHNlZC5cbiAgICogQHJldHVybiB7IVdpbmRvd31cbiAgICovXG4gIGdldFRhcmdldCgpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzLmdldE9wdGlvbmFsVGFyZ2V0XygpO1xuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/V2luZG93fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0T3B0aW9uYWxUYXJnZXRfKCkge1xuICAgIGlmICh0aGlzLm9uQ29tbWFuZF8gJiYgIXRoaXMudGFyZ2V0Xykge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnRhcmdldE9yQ2FsbGJhY2tfID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy50YXJnZXRfID0gdGhpcy50YXJnZXRPckNhbGxiYWNrXygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50YXJnZXRfID0gLyoqIEB0eXBlIHshV2luZG93fSAqLyAodGhpcy50YXJnZXRPckNhbGxiYWNrXyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRhcmdldF87XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWVzc2FnaW5nIG9yaWdpbi4gT25seSBhdmFpbGFibGUgd2hlbiBjb25uZWN0aW9uIGhhcyBiZWVuXG4gICAqIGVzdGFibGloc2VkLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBnZXRUYXJnZXRPcmlnaW4oKSB7XG4gICAgaWYgKHRoaXMudGFyZ2V0T3JpZ2luXyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBjb25uZWN0ZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0T3JpZ2luXztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgaG9zdCBzZW5kcyB0aGlzIG1lc3NhZ2UgdG8gdGhlIGNsaWVudCB0byBpbmRpY2F0ZSB0aGF0IGl0J3MgcmVhZHkgdG9cbiAgICogc3RhcnQgY29tbXVuaWNhdGluZy4gVGhlIGNsaWVudCBpcyBleHBlY3RlZCB0byByZXNwb25kIGJhY2sgd2l0aCB0aGVcbiAgICogXCJzdGFydFwiIGNvbW1hbmQuIFNlZSBgc2VuZFN0YXJ0Q29tbWFuZGAgbWV0aG9kLlxuICAgKi9cbiAgc2VuZENvbm5lY3RDb21tYW5kKCkge1xuICAgIC8vIFRPRE8oZHZveXRlbmtvKTogTWVzc2FnZUNoYW5uZWwgaXMgY3JpdGljYWxseSBuZWNlc3NhcnkgZm9yIElFL0VkZ2UsXG4gICAgLy8gc2luY2Ugd2luZG93IG1lc3NhZ2luZyBkb2Vzbid0IGFsd2F5cyB3b3JrLiBJdCdzIGFsc28gcHJlZmVycmVkIGFzIGFuIEFQSVxuICAgIC8vIGZvciBvdGhlciBicm93c2VyczogaXQncyBuZXdlciwgY2xlYW5lciBhbmQgYXJndWFibHkgbW9yZSBzZWN1cmUuXG4gICAgLy8gVW5mb3J0dW5hdGVseSwgYnJvd3NlcnMgY3VycmVudGx5IGRvIG5vdCBwcm9wYWdhdGUgdXNlciBnZXN0dXJlcyB2aWFcbiAgICAvLyBNZXNzYWdlQ2hhbm5lbCwgb25seSB2aWEgd2luZG93IG1lc3NhZ2luZy4gVGhpcyBzaG91bGQgYmUgcmUtZW5hYmxlZFxuICAgIC8vIG9uY2UgYnJvd3NlcnMgZml4IHVzZXIgZ2VzdHVyZSBwcm9wYWdhdGlvbi5cbiAgICAvLyBTZWU6XG4gICAgLy8gU2FmYXJpOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTg2NTkzXG4gICAgLy8gQ2hyb21lOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04NTE0OTNcbiAgICAvLyBGaXJlZm94OiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDY5NDIyXG4gICAgY29uc3QgYWNjZXB0c0NoYW5uZWwgPSBpc0llQnJvd3Nlcih0aGlzLndpbl8pIHx8IGlzRWRnZUJyb3dzZXIodGhpcy53aW5fKTtcbiAgICB0aGlzLnNlbmRDb21tYW5kKCdjb25uZWN0JywgeydhY2NlcHRzQ2hhbm5lbCc6IGFjY2VwdHNDaGFubmVsfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNsaWVudCBzZW5kcyB0aGlzIG1lc3NhZ2UgdG8gdGhlIGhvc3QgdXBvbiByZWNlaXZpbmcgdGhlIFwiY29ubmVjdFwiXG4gICAqIG1lc3NhZ2UgdG8gc3RhcnQgdGhlIG1haW4gY29tbXVuaWNhdGlvbiBjaGFubmVsLiBBcyBhIHBheWxvYWQsIHRoZSBtZXNzYWdlXG4gICAqIHdpbGwgY29udGFpbiB0aGUgcHJvdmlkZWQgc3RhcnQgYXJndW1lbnRzLlxuICAgKiBAcGFyYW0gez9PYmplY3R9IGFyZ3NcbiAgICovXG4gIHNlbmRTdGFydENvbW1hbmQoYXJncykge1xuICAgIGxldCBjaGFubmVsID0gbnVsbDtcbiAgICBpZiAodGhpcy5hY2NlcHRzQ2hhbm5lbF8gJiYgdHlwZW9mIHRoaXMud2luXy5NZXNzYWdlQ2hhbm5lbCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjaGFubmVsID0gbmV3IHRoaXMud2luXy5NZXNzYWdlQ2hhbm5lbCgpO1xuICAgIH1cbiAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgdGhpcy5zZW5kQ29tbWFuZCgnc3RhcnQnLCBhcmdzLCBbY2hhbm5lbC5wb3J0Ml0pO1xuICAgICAgLy8gSXQncyBjcml0aWNhbCB0byBzd2l0Y2ggdG8gcG9ydCBtZXNzYWdpbmcgb25seSBhZnRlciBcInN0YXJ0XCIgaGFzIGJlZW5cbiAgICAgIC8vIHNlbnQuIE90aGVyd2lzZSwgaXQgd29uJ3QgYmUgZGVsaXZlcmVkLlxuICAgICAgdGhpcy5zd2l0Y2hUb0NoYW5uZWxfKGNoYW5uZWwucG9ydDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbmRDb21tYW5kKCdzdGFydCcsIGFyZ3MpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyB0aGUgc3BlY2lmaWVkIGNvbW1hbmQgZnJvbSB0aGUgcG9ydCB0byB0aGUgaG9zdCBvciB2aWNlIHZlcnNhLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY21kXG4gICAqIEBwYXJhbSB7P09iamVjdD19IG9wdF9wYXlsb2FkXG4gICAqIEBwYXJhbSB7P0FycmF5PX0gb3B0X3RyYW5zZmVyXG4gICAqL1xuICBzZW5kQ29tbWFuZChjbWQsIG9wdF9wYXlsb2FkLCBvcHRfdHJhbnNmZXIpIHtcbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgJ3NlbnRpbmVsJzogU0VOVElORUwsXG4gICAgICAnY21kJzogY21kLFxuICAgICAgJ3BheWxvYWQnOiBvcHRfcGF5bG9hZCB8fCBudWxsLFxuICAgIH07XG4gICAgaWYgKHRoaXMucG9ydF8pIHtcbiAgICAgIHRoaXMucG9ydF8ucG9zdE1lc3NhZ2UoZGF0YSwgb3B0X3RyYW5zZmVyIHx8IHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuZ2V0VGFyZ2V0KCk7XG4gICAgICAvLyBPbmx5IFwiY29ubmVjdFwiIGNvbW1hbmQgaXMgYWxsb3dlZCB0byB1c2UgYHRhcmdldE9yaWdpbiA9PSAnKidgXG4gICAgICBjb25zdCB0YXJnZXRPcmlnaW4gPVxuICAgICAgICAgIGNtZCA9PSAnY29ubmVjdCcgP1xuICAgICAgICAgICh0aGlzLnRhcmdldE9yaWdpbl8gIT0gbnVsbCA/IHRoaXMudGFyZ2V0T3JpZ2luXyA6ICcqJykgOlxuICAgICAgICAgIHRoaXMuZ2V0VGFyZ2V0T3JpZ2luKCk7XG4gICAgICB0YXJnZXQucG9zdE1lc3NhZ2UoZGF0YSwgdGFyZ2V0T3JpZ2luLCBvcHRfdHJhbnNmZXIgfHwgdW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gcGF5bG9hZFxuICAgKi9cbiAgY3VzdG9tTWVzc2FnZShwYXlsb2FkKSB7XG4gICAgdGhpcy5zZW5kQ29tbWFuZCgnbXNnJywgcGF5bG9hZCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG8gcmVjZWl2ZSBtZXNzYWdlcyBmcm9tIHRoZSBjbGllbnQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIU9iamVjdCl9IGNhbGxiYWNrXG4gICAqL1xuICBvbkN1c3RvbU1lc3NhZ2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLm9uQ3VzdG9tTWVzc2FnZV8gPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9uYW1lXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFNZXNzYWdlUG9ydD59XG4gICAqL1xuICBzdGFydENoYW5uZWwob3B0X25hbWUpIHtcbiAgICBjb25zdCBuYW1lID0gb3B0X25hbWUgfHwgJyc7XG4gICAgY29uc3QgY2hhbm5lbE9iaiA9IHRoaXMuZ2V0Q2hhbm5lbE9ial8obmFtZSk7XG4gICAgaWYgKCFjaGFubmVsT2JqLnBvcnQxKSB7XG4gICAgICBjb25zdCBjaGFubmVsID0gbmV3IHRoaXMud2luXy5NZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgY2hhbm5lbE9iai5wb3J0MSA9IGNoYW5uZWwucG9ydDE7XG4gICAgICBjaGFubmVsT2JqLnBvcnQyID0gY2hhbm5lbC5wb3J0MjtcbiAgICAgIGNoYW5uZWxPYmoucmVzb2x2ZXIoY2hhbm5lbE9iai5wb3J0MSk7XG4gICAgfVxuICAgIGlmIChjaGFubmVsT2JqLnBvcnQyKSB7XG4gICAgICAvLyBOb3QgeWV0IHNlbnQuXG4gICAgICB0aGlzLnNlbmRDb21tYW5kKCdjbnNldCcsIHsnbmFtZSc6IG5hbWV9LCBbY2hhbm5lbE9iai5wb3J0Ml0pO1xuICAgICAgY2hhbm5lbE9iai5wb3J0MiA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjaGFubmVsT2JqLnByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbmFtZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhTWVzc2FnZVBvcnQ+fVxuICAgKi9cbiAgYXNrQ2hhbm5lbChvcHRfbmFtZSkge1xuICAgIGNvbnN0IG5hbWUgPSBvcHRfbmFtZSB8fCAnJztcbiAgICBjb25zdCBjaGFubmVsT2JqID0gdGhpcy5nZXRDaGFubmVsT2JqXyhuYW1lKTtcbiAgICBpZiAoIWNoYW5uZWxPYmoucG9ydDEpIHtcbiAgICAgIHRoaXMuc2VuZENvbW1hbmQoJ2NuZ2V0JywgeyduYW1lJzogbmFtZX0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hhbm5lbE9iai5wcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7IU1lc3NhZ2VQb3J0fSBwb3J0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZWNlaXZlQ2hhbm5lbF8obmFtZSwgcG9ydCkge1xuICAgIGNvbnN0IGNoYW5uZWxPYmogPSB0aGlzLmdldENoYW5uZWxPYmpfKG5hbWUpO1xuICAgIGNoYW5uZWxPYmoucG9ydDEgPSBwb3J0O1xuICAgIGNoYW5uZWxPYmoucmVzb2x2ZXIocG9ydCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7IUNoYW5uZWxIb2xkZXJ9XG4gICAqL1xuICBnZXRDaGFubmVsT2JqXyhuYW1lKSB7XG4gICAgaWYgKCF0aGlzLmNoYW5uZWxzXykge1xuICAgICAgdGhpcy5jaGFubmVsc18gPSB7fTtcbiAgICB9XG4gICAgbGV0IGNoYW5uZWxPYmogPSB0aGlzLmNoYW5uZWxzX1tuYW1lXTtcbiAgICBpZiAoIWNoYW5uZWxPYmopIHtcbiAgICAgIGxldCByZXNvbHZlcjtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgcmVzb2x2ZXIgPSByZXNvbHZlO1xuICAgICAgfSk7XG4gICAgICBjaGFubmVsT2JqID0ge1xuICAgICAgICBwb3J0MTogbnVsbCxcbiAgICAgICAgcG9ydDI6IG51bGwsXG4gICAgICAgIHJlc29sdmVyLFxuICAgICAgICBwcm9taXNlLFxuICAgICAgfTtcbiAgICAgIHRoaXMuY2hhbm5lbHNfW25hbWVdID0gY2hhbm5lbE9iajtcbiAgICB9XG4gICAgcmV0dXJuIGNoYW5uZWxPYmo7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshTWVzc2FnZVBvcnR9IHBvcnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN3aXRjaFRvQ2hhbm5lbF8ocG9ydCkge1xuICAgIGlmICh0aGlzLnBvcnRfKSB7XG4gICAgICBjbG9zZVBvcnQodGhpcy5wb3J0Xyk7XG4gICAgfVxuICAgIHRoaXMucG9ydF8gPSBwb3J0O1xuICAgIHRoaXMucG9ydF8ub25tZXNzYWdlID0gZXZlbnQgPT4ge1xuICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICBjb25zdCBjbWQgPSBkYXRhICYmIGRhdGFbJ2NtZCddO1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGRhdGEgJiYgZGF0YVsncGF5bG9hZCddIHx8IG51bGw7XG4gICAgICBpZiAoY21kKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZF8oY21kLCBwYXlsb2FkLCBldmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBFdmVuIHRob3VnaCBhbGwgbWVzc2FnaW5nIHdpbGwgc3dpdGNoIHRvIHBvcnRzLCB0aGUgd2luZG93LWJhc2VkIG1lc3NhZ2VcbiAgICAvLyBsaXN0ZW5lciB3aWxsIGJlIHByZXNlcnZlZCBqdXN0IGluIGNhc2UgdGhlIGhvc3QgaXMgcmVmcmVzaGVkIGFuZCBuZWVkc1xuICAgIC8vIGFub3RoZXIgY29ubmVjdGlvbi5cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFNZXNzYWdlRXZlbnR9IGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVFdmVudF8oZXZlbnQpIHtcbiAgICBpZiAodGhpcy5yZXF1aXJlVGFyZ2V0XyAmJiB0aGlzLmdldE9wdGlvbmFsVGFyZ2V0XygpICE9IGV2ZW50LnNvdXJjZSkge1xuICAgICAgLy8gV2hlbiB0YXJnZXQgaXMgcmVxdWlyZWQsIGNvbmZpcm0gaXQgYWdhaW5zdCB0aGUgZXZlbnQuc291cmNlLiBUaGlzXG4gICAgICAvLyBpcyBub3JtYWxseSBvbmx5IG5lZWRlZCBmb3IgcG9ydHMgd2hlcmUgYSBzaW5nbGUgd2luZG93IGNhbiBpbmNsdWRlXG4gICAgICAvLyBtdWx0aXBsZSBpZnJhbWVzIHRvIG1hdGNoIHRoZSBldmVudCB0byBhIHNwZWNpZmljIGlmcmFtZS4gT3RoZXJ3aXNlLFxuICAgICAgLy8gdGhlIG9yaWdpbiBjaGVja3MgYmVsb3cgYXJlIHN1ZmZpY2llbnQuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhO1xuICAgIGlmICghZGF0YSB8fCBkYXRhWydzZW50aW5lbCddICE9IFNFTlRJTkVMKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNtZCA9IGRhdGFbJ2NtZCddO1xuICAgIGlmICh0aGlzLnBvcnRfICYmIGNtZCAhPSAnY29ubmVjdCcgJiYgY21kICE9ICdzdGFydCcpIHtcbiAgICAgIC8vIE1lc3NhZ2luZyBjaGFubmVsIGhhcyBhbHJlYWR5IHRha2VuIG92ZXIuIEhvd2V2ZXIsIHRoZSBcImNvbm5lY3RcIiBhbmRcbiAgICAgIC8vIFwic3RhcnRcIiBjb21tYW5kcyBhcmUgYWxsb3dlZCB0byBwcm9jZWVkIGluIGNhc2UgcmUtY29ubmVjdGlvbiBpc1xuICAgICAgLy8gcmVxdWVzdGVkLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW4gPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKGV2ZW50Lm9yaWdpbik7XG4gICAgY29uc3QgcGF5bG9hZCA9IGRhdGFbJ3BheWxvYWQnXSB8fCBudWxsO1xuICAgIGlmICh0aGlzLnRhcmdldE9yaWdpbl8gPT0gbnVsbCAmJiBjbWQgPT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy50YXJnZXRPcmlnaW5fID0gb3JpZ2luO1xuICAgIH1cbiAgICBpZiAodGhpcy50YXJnZXRPcmlnaW5fID09IG51bGwgJiYgZXZlbnQuc291cmNlKSB7XG4gICAgICBpZiAodGhpcy5nZXRPcHRpb25hbFRhcmdldF8oKSA9PSBldmVudC5zb3VyY2UpIHtcbiAgICAgICAgdGhpcy50YXJnZXRPcmlnaW5fID0gb3JpZ2luO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBOb3RpY2UgdGhhdCBldmVudC5zb3VyY2UgbWF5IGRpZmZlciBmcm9tIHRoZSB0YXJnZXQgYmVjYXVzZSBvZlxuICAgIC8vIGZyaWVuZGx5LWlmcmFtZSBpbnRlcm1lZGlhcmllcy5cbiAgICBpZiAob3JpZ2luICE9IHRoaXMudGFyZ2V0T3JpZ2luXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZUNvbW1hbmRfKGNtZCwgcGF5bG9hZCwgZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbWRcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwYXJhbSB7IU1lc3NhZ2VFdmVudH0gZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUNvbW1hbmRfKGNtZCwgcGF5bG9hZCwgZXZlbnQpIHtcbiAgICBpZiAoY21kID09ICdjb25uZWN0Jykge1xuICAgICAgaWYgKHRoaXMucG9ydF8pIHtcbiAgICAgICAgLy8gSW4gY2FzZSB0aGUgcG9ydCBoYXMgYWxyZWFkeSBiZWVuIG9wZW4gLSBjbG9zZSBpdCB0byByZW9wZW4gaXRcbiAgICAgICAgLy8gYWdhaW4gbGF0ZXIuXG4gICAgICAgIGNsb3NlUG9ydCh0aGlzLnBvcnRfKTtcbiAgICAgICAgdGhpcy5wb3J0XyA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmFjY2VwdHNDaGFubmVsXyA9IHBheWxvYWQgJiYgcGF5bG9hZFsnYWNjZXB0c0NoYW5uZWwnXSB8fCBmYWxzZTtcbiAgICAgIHRoaXMub25Db21tYW5kXyhjbWQsIHBheWxvYWQpO1xuICAgIH0gZWxzZSBpZiAoY21kID09ICdzdGFydCcpIHtcbiAgICAgIGNvbnN0IHBvcnQgPSBldmVudC5wb3J0cyAmJiBldmVudC5wb3J0c1swXTtcbiAgICAgIGlmIChwb3J0KSB7XG4gICAgICAgIHRoaXMuc3dpdGNoVG9DaGFubmVsXyhwb3J0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMub25Db21tYW5kXyhjbWQsIHBheWxvYWQpO1xuICAgIH0gZWxzZSBpZiAoY21kID09ICdtc2cnKSB7XG4gICAgICBpZiAodGhpcy5vbkN1c3RvbU1lc3NhZ2VfICE9IG51bGwgJiYgcGF5bG9hZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMub25DdXN0b21NZXNzYWdlXyhwYXlsb2FkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNtZCA9PSAnY25nZXQnKSB7XG4gICAgICBjb25zdCBuYW1lID0gcGF5bG9hZFsnbmFtZSddO1xuICAgICAgdGhpcy5zdGFydENoYW5uZWwobmFtZSk7XG4gICAgfSBlbHNlIGlmIChjbWQgPT0gJ2Nuc2V0Jykge1xuICAgICAgY29uc3QgbmFtZSA9IHBheWxvYWRbJ25hbWUnXTtcbiAgICAgIGNvbnN0IHBvcnQgPSBldmVudC5wb3J0c1swXTtcbiAgICAgIHRoaXMucmVjZWl2ZUNoYW5uZWxfKG5hbWUsIC8qKiBAdHlwZSB7IU1lc3NhZ2VQb3J0fSAqLyAocG9ydCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uQ29tbWFuZF8oY21kLCBwYXlsb2FkKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IU1lc3NhZ2VQb3J0fSBwb3J0XG4gKi9cbmZ1bmN0aW9uIGNsb3NlUG9ydChwb3J0KSB7XG4gIHRyeSB7XG4gICAgcG9ydC5jbG9zZSgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gSWdub3JlLlxuICB9XG59XG5cblxuXG5cbi8qKlxuICogVGhlIGBBY3Rpdml0eVBvcnRgIGltcGxlbWVudGF0aW9uIGZvciB0aGUgaWZyYW1lIGNhc2UuIFVubGlrZSBvdGhlciB0eXBlc1xuICogb2YgYWN0aXZpdGllcywgaWZyYW1lLWJhc2VkIGFjdGl2aXRpZXMgYXJlIGFsd2F5cyBjb25uZWN0ZWQgYW5kIGNhbiByZWFjdFxuICogdG8gc2l6ZSByZXF1ZXN0cy5cbiAqXG4gKiBAaW1wbGVtZW50cyB7QWN0aXZpdHlQb3J0fVxuICogQGltcGxlbWVudHMge0FjdGl2aXR5TWVzc2FnaW5nUG9ydH1cbiAqL1xuY2xhc3MgQWN0aXZpdHlJZnJhbWVQb3J0IHtcblxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7P09iamVjdD19IG9wdF9hcmdzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihpZnJhbWUsIHVybCwgb3B0X2FyZ3MpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSFRNTElGcmFtZUVsZW1lbnR9ICovXG4gICAgdGhpcy5pZnJhbWVfID0gaWZyYW1lO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnVybF8gPSB1cmw7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7P09iamVjdH0gKi9cbiAgICB0aGlzLmFyZ3NfID0gb3B0X2FyZ3MgfHwgbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gLyoqIEB0eXBlIHshV2luZG93fSAqLyAodGhpcy5pZnJhbWVfLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMudGFyZ2V0T3JpZ2luXyA9IGdldE9yaWdpbkZyb21VcmwodXJsKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbm5lY3RlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCl9ICovXG4gICAgdGhpcy5jb25uZWN0ZWRSZXNvbHZlcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy5jb25uZWN0ZWRQcm9taXNlXyA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0ZWRSZXNvbHZlcl8gPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLnJlYWR5UmVzb2x2ZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucmVhZHlQcm9taXNlXyA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5yZWFkeVJlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigoIUFjdGl2aXR5UmVzdWx0fCFQcm9taXNlKSl9ICovXG4gICAgdGhpcy5yZXN1bHRSZXNvbHZlcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IUFjdGl2aXR5UmVzdWx0Pn0gKi9cbiAgICB0aGlzLnJlc3VsdFByb21pc2VfID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnJlc3VsdFJlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbihudW1iZXIpfSAqL1xuICAgIHRoaXMub25SZXNpemVSZXF1ZXN0XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9udW1iZXJ9ICovXG4gICAgdGhpcy5yZXF1ZXN0ZWRIZWlnaHRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFNZXNzZW5nZXJ9ICovXG4gICAgdGhpcy5tZXNzZW5nZXJfID0gbmV3IE1lc3NlbmdlcihcbiAgICAgICAgdGhpcy53aW5fLFxuICAgICAgICAoKSA9PiB0aGlzLmlmcmFtZV8uY29udGVudFdpbmRvdyxcbiAgICAgICAgdGhpcy50YXJnZXRPcmlnaW5fLFxuICAgICAgICAvKiByZXF1aXJlVGFyZ2V0ICovIHRydWUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRNb2RlKCkge1xuICAgIHJldHVybiBBY3Rpdml0eU1vZGUuSUZSQU1FO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXRzIHVudGlsIHRoZSBhY3Rpdml0eSBwb3J0IGlzIGNvbm5lY3RlZCB0byB0aGUgaG9zdC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBjb25uZWN0KCkge1xuICAgIGlmICghaXNOb2RlQ29ubmVjdGVkKHRoaXMuaWZyYW1lXykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaWZyYW1lIG11c3QgYmUgaW4gRE9NJyk7XG4gICAgfVxuICAgIHRoaXMubWVzc2VuZ2VyXy5jb25uZWN0KHRoaXMuaGFuZGxlQ29tbWFuZF8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5pZnJhbWVfLnNyYyA9IHRoaXMudXJsXztcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWRQcm9taXNlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IHRoZSBhY3Rpdml0eSBiaW5kaW5nIGFuZCBjbGVhbnVwIGxpc3RlbmVycy5cbiAgICovXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5jb25uZWN0ZWRfID0gZmFsc2U7XG4gICAgdGhpcy5tZXNzZW5nZXJfLmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0UmVzdWx0KCkge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdFByb21pc2VfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRUYXJnZXRXaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZyYW1lXy5jb250ZW50V2luZG93IHx8IG51bGw7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1lc3NhZ2UocGF5bG9hZCkge1xuICAgIHRoaXMubWVzc2VuZ2VyXy5jdXN0b21NZXNzYWdlKHBheWxvYWQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvbk1lc3NhZ2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLm1lc3Nlbmdlcl8ub25DdXN0b21NZXNzYWdlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbWVzc2FnZUNoYW5uZWwob3B0X25hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzZW5nZXJfLmFza0NoYW5uZWwob3B0X25hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgeWllbGRzIHdoZW4gdGhlIGlmcmFtZSBpcyByZWFkeSB0byBiZSBpbnRlcmFjdGVkXG4gICAqIHdpdGguXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgd2hlblJlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5UHJvbWlzZV87XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayB0byBoYW5kbGUgcmVzaXplIHJlcXVlc3RzLiBPbmNlIHN1Y2Nlc3NmdWxseSByZXNpemVkLFxuICAgKiBlbnN1cmUgdG8gY2FsbCBgcmVzaXplZCgpYCBtZXRob2QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyKX0gY2FsbGJhY2tcbiAgICovXG4gIG9uUmVzaXplUmVxdWVzdChjYWxsYmFjaykge1xuICAgIHRoaXMub25SZXNpemVSZXF1ZXN0XyA9IGNhbGxiYWNrO1xuICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucmVxdWVzdGVkSGVpZ2h0XyAhPSBudWxsKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMucmVxdWVzdGVkSGVpZ2h0Xyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyBiYWNrIHRvIHRoZSBhY3Rpdml0eSBpbXBsZW1lbnRhdGlvbiB0aGF0IHRoZSBjbGllbnQgaGFzIHVwZGF0ZWRcbiAgICogdGhlIGFjdGl2aXR5J3Mgc2l6ZS5cbiAgICovXG4gIHJlc2l6ZWQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZF8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5pZnJhbWVfLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLm1lc3Nlbmdlcl8uc2VuZENvbW1hbmQoJ3Jlc2l6ZWQnLCB7J2hlaWdodCc6IGhlaWdodH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbWRcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDb21tYW5kXyhjbWQsIHBheWxvYWQpIHtcbiAgICBpZiAoY21kID09ICdjb25uZWN0Jykge1xuICAgICAgLy8gRmlyc3QgZXZlciBtZXNzYWdlLiBJbmRpY2F0ZXMgdGhhdCB0aGUgcmVjZWl2ZXIgaXMgbGlzdGVuaW5nLlxuICAgICAgdGhpcy5jb25uZWN0ZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMubWVzc2VuZ2VyXy5zZW5kU3RhcnRDb21tYW5kKHRoaXMuYXJnc18pO1xuICAgICAgdGhpcy5jb25uZWN0ZWRSZXNvbHZlcl8oKTtcbiAgICB9IGVsc2UgaWYgKGNtZCA9PSAncmVzdWx0Jykge1xuICAgICAgLy8gVGhlIGxhc3QgbWVzc2FnZS4gSW5kaWNhdGVzIHRoYXQgdGhlIHJlc3VsdCBoYXMgYmVlbiByZWNlaXZlZC5cbiAgICAgIGlmICh0aGlzLnJlc3VsdFJlc29sdmVyXykge1xuICAgICAgICBjb25zdCBjb2RlID0gLyoqIEB0eXBlIHshQWN0aXZpdHlSZXN1bHRDb2RlfSAqLyAocGF5bG9hZFsnY29kZSddKTtcbiAgICAgICAgY29uc3QgZGF0YSA9XG4gICAgICAgICAgICBjb2RlID09IEFjdGl2aXR5UmVzdWx0Q29kZS5GQUlMRUQgP1xuICAgICAgICAgICAgbmV3IEVycm9yKHBheWxvYWRbJ2RhdGEnXSB8fCAnJykgOlxuICAgICAgICAgICAgcGF5bG9hZFsnZGF0YSddO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQWN0aXZpdHlSZXN1bHQoXG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIEFjdGl2aXR5TW9kZS5JRlJBTUUsXG4gICAgICAgICAgICB0aGlzLm1lc3Nlbmdlcl8uZ2V0VGFyZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICAvKiBvcmlnaW5WZXJpZmllZCAqLyB0cnVlLFxuICAgICAgICAgICAgLyogc2VjdXJlQ2hhbm5lbCAqLyB0cnVlKTtcbiAgICAgICAgcmVzb2x2ZVJlc3VsdCh0aGlzLndpbl8sIHJlc3VsdCwgdGhpcy5yZXN1bHRSZXNvbHZlcl8pO1xuICAgICAgICB0aGlzLnJlc3VsdFJlc29sdmVyXyA9IG51bGw7XG4gICAgICAgIHRoaXMubWVzc2VuZ2VyXy5zZW5kQ29tbWFuZCgnY2xvc2UnKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjbWQgPT0gJ3JlYWR5Jykge1xuICAgICAgaWYgKHRoaXMucmVhZHlSZXNvbHZlcl8pIHtcbiAgICAgICAgdGhpcy5yZWFkeVJlc29sdmVyXygpO1xuICAgICAgICB0aGlzLnJlYWR5UmVzb2x2ZXJfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNtZCA9PSAncmVzaXplJykge1xuICAgICAgdGhpcy5yZXF1ZXN0ZWRIZWlnaHRfID0gLyoqIEB0eXBlIHtudW1iZXJ9ICovIChwYXlsb2FkWydoZWlnaHQnXSk7XG4gICAgICBpZiAodGhpcy5vblJlc2l6ZVJlcXVlc3RfKSB7XG4gICAgICAgIHRoaXMub25SZXNpemVSZXF1ZXN0Xyh0aGlzLnJlcXVlc3RlZEhlaWdodF8pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5cblxuXG4vKipcbiAqIFRoZSBgQWN0aXZpdHlQb3J0YCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIHN0YW5kYWxvbmUgd2luZG93IGFjdGl2aXR5XG4gKiBjbGllbnQgZXhlY3V0ZWQgYXMgYSBwb3B1cC5cbiAqXG4gKiBAaW1wbGVtZW50cyB7QWN0aXZpdHlQb3J0fVxuICogQGltcGxlbWVudHMge0FjdGl2aXR5TWVzc2FnaW5nUG9ydH1cbiAqL1xuY2xhc3MgQWN0aXZpdHlXaW5kb3dQb3J0IHtcblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RJZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRcbiAgICogQHBhcmFtIHs/T2JqZWN0PX0gb3B0X2FyZ3NcbiAgICogQHBhcmFtIHs/QWN0aXZpdHlPcGVuT3B0aW9ucz19IG9wdF9vcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIHJlcXVlc3RJZCwgdXJsLCB0YXJnZXQsIG9wdF9hcmdzLCBvcHRfb3B0aW9ucykge1xuICAgIGNvbnN0IGlzVmFsaWRUYXJnZXQgPVxuICAgICAgICB0YXJnZXQgJiZcbiAgICAgICAgKHRhcmdldCA9PSAnX2JsYW5rJyB8fCB0YXJnZXQgPT0gJ190b3AnIHx8IHRhcmdldFswXSAhPSAnXycpO1xuICAgIGlmICghaXNWYWxpZFRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgb25seSBhbGxvd2VkIHRhcmdldHMgYXJlIFwiX2JsYW5rXCIsIFwiX3RvcFwiJyArXG4gICAgICAgICAgJyBhbmQgbmFtZSB0YXJnZXRzJyk7XG4gICAgfVxuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMucmVxdWVzdElkXyA9IHJlcXVlc3RJZDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy51cmxfID0gdXJsO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLm9wZW5UYXJnZXRfID0gdGFyZ2V0O1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qgez9PYmplY3R9ICovXG4gICAgdGhpcy5hcmdzXyA9IG9wdF9hcmdzIHx8IG51bGw7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFjdGl2aXR5T3Blbk9wdGlvbnN9ICovXG4gICAgdGhpcy5vcHRpb25zXyA9IG9wdF9vcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLmNvbm5lY3RlZFJlc29sdmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLmNvbm5lY3RlZFByb21pc2VfID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLmNvbm5lY3RlZFJlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbigoIUFjdGl2aXR5UmVzdWx0fCFQcm9taXNlKSl9ICovXG4gICAgdGhpcy5yZXN1bHRSZXNvbHZlcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IUFjdGl2aXR5UmVzdWx0Pn0gKi9cbiAgICB0aGlzLnJlc3VsdFByb21pc2VfID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnJlc3VsdFJlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICAvKiogQHByaXZhdGUgez9XaW5kb3d9ICovXG4gICAgdGhpcy50YXJnZXRXaW5fID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P251bWJlcn0gKi9cbiAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9NZXNzZW5nZXJ9ICovXG4gICAgdGhpcy5tZXNzZW5nZXJfID0gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0TW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVuVGFyZ2V0XyA9PSAnX3RvcCcgP1xuICAgICAgICBBY3Rpdml0eU1vZGUuUkVESVJFQ1QgOlxuICAgICAgICBBY3Rpdml0eU1vZGUuUE9QVVA7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIGFjdGl2aXR5IGluIGEgd2luZG93LCBlaXRoZXIgYXMgYSBwb3B1cCBvciB2aWEgcmVkaXJlY3QuXG4gICAqXG4gICAqIFJldHVybnMgdGhlIHByb21pc2UgdGhhdCB3aWxsIHlpZWxkIHdoZW4gdGhlIHdpbmRvdyByZXR1cm5zIG9yIGNsb3NlZC5cbiAgICogTm90aWNlLCB0aGF0IHRoaXMgcHJvbWlzZSBtYXkgbmV2ZXIgY29tcGxldGUgaWYgXCJyZWRpcmVjdFwiIG1vZGUgd2FzIHVzZWQuXG4gICAqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgb3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVuSW50ZXJuYWxfKCk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdHMgdW50aWwgdGhlIGFjdGl2aXR5IHBvcnQgaXMgY29ubmVjdGVkIHRvIHRoZSBob3N0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHdoZW5Db25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGVkUHJvbWlzZV87XG4gIH1cblxuICAvKipcbiAgICogRGlzY29ubmVjdCB0aGUgYWN0aXZpdHkgYmluZGluZyBhbmQgY2xlYW51cCBsaXN0ZW5lcnMuXG4gICAqL1xuICBkaXNjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLmhlYXJ0YmVhdEludGVydmFsXykge1xuICAgICAgdGhpcy53aW5fLmNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRJbnRlcnZhbF8pO1xuICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbF8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXNzZW5nZXJfKSB7XG4gICAgICB0aGlzLm1lc3Nlbmdlcl8uZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5tZXNzZW5nZXJfID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudGFyZ2V0V2luXykge1xuICAgICAgLy8gVHJ5IHRvIGNsb3NlIHRoZSBwb3B1cCB3aW5kb3cuIFRoZSBob3N0IHdpbGwgYWxzbyB0cnkgdG8gZG8gdGhlIHNhbWUuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnRhcmdldFdpbl8uY2xvc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWdub3JlLlxuICAgICAgfVxuICAgICAgdGhpcy50YXJnZXRXaW5fID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5yZXN1bHRSZXNvbHZlcl8gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRUYXJnZXRXaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0V2luXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0UmVzdWx0KCkge1xuICAgIHJldHVybiB0aGlzLnJlc3VsdFByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgaG9zdC5cbiAgICogV2hldGhlciB0aGUgaG9zdCBjYW4gb3IgY2Fubm90IHJlY2VpdmUgYSBtZXNzYWdlIGRlcGVuZHMgb24gdGhlIHR5cGUgb2ZcbiAgICogaG9zdCBhbmQgaXRzIHN0YXRlLiBFbnN1cmUgdGhhdCB0aGUgY29kZSBoYXMgYW4gYWx0ZXJuYXRpdmUgcGF0aCBpZlxuICAgKiBtZXNzYWdpbmcgaXMgbm90IGF2YWlsYWJsZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtZXNzYWdlKHBheWxvYWQpIHtcbiAgICB0aGlzLm1lc3Nlbmdlcl8uY3VzdG9tTWVzc2FnZShwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byByZWNlaXZlIG1lc3NhZ2VzIGZyb20gdGhlIGhvc3QuXG4gICAqIFdoZXRoZXIgdGhlIGhvc3QgY2FuIG9yIGNhbm5vdCByZWNlaXZlIGEgbWVzc2FnZSBkZXBlbmRzIG9uIHRoZSB0eXBlIG9mXG4gICAqIGhvc3QgYW5kIGl0cyBzdGF0ZS4gRW5zdXJlIHRoYXQgdGhlIGNvZGUgaGFzIGFuIGFsdGVybmF0aXZlIHBhdGggaWZcbiAgICogbWVzc2FnaW5nIGlzIG5vdCBhdmFpbGFibGUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb25NZXNzYWdlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5tZXNzZW5nZXJfLm9uQ3VzdG9tTWVzc2FnZShjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb21tdW5pY2F0aW9uIGNoYW5uZWwgb3IgcmV0dXJucyBhbiBleGlzdGluZyBvbmUuXG4gICAqIFdoZXRoZXIgdGhlIGhvc3QgY2FuIG9yIGNhbm5vdCByZWNlaXZlIGEgbWVzc2FnZSBkZXBlbmRzIG9uIHRoZSB0eXBlIG9mXG4gICAqIGhvc3QgYW5kIGl0cyBzdGF0ZS4gRW5zdXJlIHRoYXQgdGhlIGNvZGUgaGFzIGFuIGFsdGVybmF0aXZlIHBhdGggaWZcbiAgICogbWVzc2FnaW5nIGlzIG5vdCBhdmFpbGFibGUuXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWVzc2FnZUNoYW5uZWwob3B0X25hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tZXNzZW5nZXJfLmFza0NoYW5uZWwob3B0X25hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHdyYXBzIGFyb3VuZCB3aW5kb3cncyBvcGVuIG1ldGhvZC4gSXQgZmlyc3QgdHJpZXMgdG8gZXhlY3V0ZVxuICAgKiBgb3BlbmAgY2FsbCB3aXRoIHRoZSBwcm92aWRlZCB0YXJnZXQgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXRyaWVzIHRoZSBjYWxsXG4gICAqIHdpdGggdGhlIGBfdG9wYCB0YXJnZXQuIFRoaXMgaXMgbmVjZXNzYXJ5IGdpdmVuIHRoYXQgaW4gc29tZSBlbWJlZGRpbmdcbiAgICogc2NlbmFyaW9zLCBzdWNoIGFzIGlPUycgV0tXZWJWaWV3LCBuYXZpZ2F0aW9uIHRvIGBfYmxhbmtgIGFuZCBvdGhlciB0YXJnZXRzXG4gICAqIGlzIGJsb2NrZWQgYnkgZGVmYXVsdC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvcGVuSW50ZXJuYWxfKCkge1xuICAgIGNvbnN0IGZlYXR1cmVzU3RyID0gdGhpcy5idWlsZEZlYXR1cmVzXygpO1xuXG4gICAgLy8gUHJvdGVjdGl2ZWx5LCB0aGUgVVJMIHdpbGwgY29udGFpbiB0aGUgcmVxdWVzdCBwYXlsb2FkLCB1bmxlc3MgZXhwbGljaXRseVxuICAgIC8vIGRpcmVjdGVkIG5vdCB0byB2aWEgYHNraXBSZXF1ZXN0SW5VcmxgIG9wdGlvbi5cbiAgICBsZXQgdXJsID0gdGhpcy51cmxfO1xuICAgIGlmICghdGhpcy5vcHRpb25zXy5za2lwUmVxdWVzdEluVXJsKSB7XG4gICAgICBjb25zdCByZXR1cm5VcmwgPVxuICAgICAgICAgIHRoaXMub3B0aW9uc18ucmV0dXJuVXJsIHx8XG4gICAgICAgICAgcmVtb3ZlRnJhZ21lbnQodGhpcy53aW5fLmxvY2F0aW9uLmhyZWYpO1xuICAgICAgY29uc3QgcmVxdWVzdFN0cmluZyA9IHNlcmlhbGl6ZVJlcXVlc3Qoe1xuICAgICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkXyxcbiAgICAgICAgcmV0dXJuVXJsLFxuICAgICAgICBhcmdzOiB0aGlzLmFyZ3NfLFxuICAgICAgfSk7XG4gICAgICB1cmwgPSBhZGRGcmFnbWVudFBhcmFtKHVybCwgJ19fV0FfXycsIHJlcXVlc3RTdHJpbmcpO1xuICAgIH1cblxuICAgIC8vIE9wZW4gdGhlIHdpbmRvdy5cbiAgICBsZXQgdGFyZ2V0V2luO1xuICAgIGxldCBvcGVuVGFyZ2V0ID0gdGhpcy5vcGVuVGFyZ2V0XztcbiAgICAvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IENPUlMgcG9wdXBzIC0gdGhlIHBvcHVwIGhhcyB0byBmYWxsYmFjayB0byByZWRpcmVjdFxuICAgIC8vIG1vZGUuXG4gICAgaWYgKG9wZW5UYXJnZXQgIT0gJ190b3AnKSB7XG4gICAgICBpZiAoaXNJZUJyb3dzZXIodGhpcy53aW5fKSkge1xuICAgICAgICBvcGVuVGFyZ2V0ID0gJ190b3AnO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUcnkgZmlyc3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHRhcmdldC4gSWYgd2UncmUgaW5zaWRlIHRoZSBXS1dlYlZpZXcgb3JcbiAgICAvLyBhIHNpbWlsYXIgZW52aXJvbm1lbnRzLCB0aGlzIG1ldGhvZCBpcyBleHBlY3RlZCB0byBmYWlsIGJ5IGRlZmF1bHQgZm9yXG4gICAgLy8gYWxsIHRhcmdldHMgZXhjZXB0IGBfdG9wYC5cbiAgICB0cnkge1xuICAgICAgdGFyZ2V0V2luID0gdGhpcy53aW5fLm9wZW4odXJsLCBvcGVuVGFyZ2V0LCBmZWF0dXJlc1N0cik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlLlxuICAgIH1cbiAgICAvLyBUaGVuIHRyeSB3aXRoIGBfdG9wYCB0YXJnZXQuXG4gICAgaWYgKCF0YXJnZXRXaW4gJiZcbiAgICAgICAgb3BlblRhcmdldCAhPSAnX3RvcCcgJiZcbiAgICAgICAgIXRoaXMub3B0aW9uc18uZGlzYWJsZVJlZGlyZWN0RmFsbGJhY2spIHtcbiAgICAgIG9wZW5UYXJnZXQgPSAnX3RvcCc7XG4gICAgICB0cnkge1xuICAgICAgICB0YXJnZXRXaW4gPSB0aGlzLndpbl8ub3Blbih1cmwsIG9wZW5UYXJnZXQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZ25vcmUuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgdGhlIHRhcmdldCB3aW5kb3cuXG4gICAgaWYgKHRhcmdldFdpbikge1xuICAgICAgdGhpcy50YXJnZXRXaW5fID0gdGFyZ2V0V2luO1xuICAgICAgaWYgKG9wZW5UYXJnZXQgIT0gJ190b3AnKSB7XG4gICAgICAgIHRoaXMuc2V0dXBQb3B1cF8oKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNjb25uZWN0V2l0aEVycm9yXyhuZXcgRXJyb3IoJ2ZhaWxlZCB0byBvcGVuIHdpbmRvdycpKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gcmVzdWx0IHByb21pc2UsIGV2ZW4gdGhvdWdoIGl0IG1heSBuZXZlciBjb21wbGV0ZS5cbiAgICByZXR1cm4gdGhpcy5yZXN1bHRQcm9taXNlXy5jYXRjaCgoKSA9PiB7XG4gICAgICAvLyBJZ25vcmUuIENhbGwgdG8gdGhlIGBhY2NlcHRSZXN1bHQoKWAgc2hvdWxkIGZhaWwgaWYgbmVlZGVkLlxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkRmVhdHVyZXNfKCkge1xuICAgIC8vIFRoZSBtYXggd2lkdGggYW5kIGhlaWdodHMgYXJlIGNhbGN1bGF0ZWQgYXMgZm9sbG93aW5nOlxuICAgIC8vIE1heFNpemUgPSBBdmFpbFNpemUgLSBDb250cm9sc1NpemVcbiAgICAvLyBDb250cm9sc1NpemUgPSBPdXRlclNpemUgLSBJbm5lclNpemVcbiAgICBjb25zdCBzY3JlZW4gPSB0aGlzLndpbl8uc2NyZWVuO1xuICAgIGNvbnN0IGF2YWlsV2lkdGggPSBzY3JlZW4uYXZhaWxXaWR0aCB8fCBzY3JlZW4ud2lkdGg7XG4gICAgY29uc3QgYXZhaWxIZWlnaHQgPSBzY3JlZW4uYXZhaWxIZWlnaHQgfHwgc2NyZWVuLmhlaWdodDtcbiAgICBjb25zdCBpc1RvcCA9IHRoaXMuaXNUb3BXaW5kb3dfKCk7XG4gICAgY29uc3QgaXNFZGdlID0gaXNFZGdlQnJvd3Nlcih0aGlzLndpbl8pO1xuICAgIC8vIExpbWl0IGNvbnRyb2xzIHRvIDEwMHB4IHdpZHRoIGFuZCBoZWlnaHQuIE5vdGljZSB0aGF0IGl0J3Mgb25seVxuICAgIC8vIHBvc3NpYmxlIHRvIGNhbGN1bGF0ZSBjb250cm9scyBzaXplIGluIHRoZSB0b3Agd2luZG93LCBub3QgaW4gaWZyYW1lcy5cbiAgICAvLyBOb3RpY2UgdGhhdCB0aGUgRWRnZSBiZWhhdmlvciBpcyBzb21ld2hhdCB1bmlxdWUuIElmIHdlIGNhbid0IGZpbmQgdGhlXG4gICAgLy8gcmlnaHQgd2lkdGgvaGVpZ2h0LCBpdCB3aWxsIGxhdW5jaCBpbiB0aGUgZnVsbC1zY3JlZW4uIE90aGVyIGJyb3dzZXJzXG4gICAgLy8gZGVhbCB3aXRoIHN1Y2ggY2FzZXMgbW9yZSBncmFjZWZ1bGx5LlxuICAgIGNvbnN0IGNvbnRyb2xzV2lkdGggPVxuICAgICAgICBpc1RvcCAmJiB0aGlzLndpbl8ub3V0ZXJXaWR0aCA+IHRoaXMud2luXy5pbm5lcldpZHRoID9cbiAgICAgICAgTWF0aC5taW4oMTAwLCB0aGlzLndpbl8ub3V0ZXJXaWR0aCAtIHRoaXMud2luXy5pbm5lcldpZHRoKSA6XG4gICAgICAgIChpc0VkZ2UgPyAxMDAgOiAwKTtcbiAgICBjb25zdCBjb250cm9sc0hlaWdodCA9XG4gICAgICAgIGlzVG9wICYmIHRoaXMud2luXy5vdXRlckhlaWdodCA+IHRoaXMud2luXy5pbm5lckhlaWdodCA/XG4gICAgICAgIE1hdGgubWluKDEwMCwgdGhpcy53aW5fLm91dGVySGVpZ2h0IC0gdGhpcy53aW5fLmlubmVySGVpZ2h0KSA6XG4gICAgICAgIChpc0VkZ2UgPyAxMDAgOiAwKTtcbiAgICAvLyBXaXRoIGFsbCB0aGUgYWRqdXN0bWVudHMsIGF0IGxlYXN0IDUwJSBvZiB0aGUgYXZhaWxhYmxlIHdpZHRoL2hlaWdodFxuICAgIC8vIHNob3VsZCBiZSBtYWRlIGF2YWlsYWJsZSB0byBhIHBvcHVwLlxuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5tYXgoYXZhaWxXaWR0aCAtIGNvbnRyb2xzV2lkdGgsIGF2YWlsV2lkdGggKiAwLjUpO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IE1hdGgubWF4KGF2YWlsSGVpZ2h0IC0gY29udHJvbHNIZWlnaHQsIGF2YWlsSGVpZ2h0ICogMC41KTtcbiAgICBsZXQgdyA9IE1hdGguZmxvb3IoTWF0aC5taW4oNjAwLCBtYXhXaWR0aCAqIDAuOSkpO1xuICAgIGxldCBoID0gTWF0aC5mbG9vcihNYXRoLm1pbig2MDAsIG1heEhlaWdodCAqIDAuOSkpO1xuICAgIGlmICh0aGlzLm9wdGlvbnNfLndpZHRoKSB7XG4gICAgICB3ID0gTWF0aC5taW4odGhpcy5vcHRpb25zXy53aWR0aCwgbWF4V2lkdGgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zXy5oZWlnaHQpIHtcbiAgICAgIGggPSBNYXRoLm1pbih0aGlzLm9wdGlvbnNfLmhlaWdodCwgbWF4SGVpZ2h0KTtcbiAgICB9XG4gICAgY29uc3QgeCA9IE1hdGguZmxvb3IoKHNjcmVlbi53aWR0aCAtIHcpIC8gMik7XG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoKHNjcmVlbi5oZWlnaHQgLSBoKSAvIDIpO1xuICAgIGNvbnN0IGZlYXR1cmVzID0ge1xuICAgICAgJ2hlaWdodCc6IGgsXG4gICAgICAnd2lkdGgnOiB3LFxuICAgICAgJ3Jlc2l6YWJsZSc6ICd5ZXMnLFxuICAgICAgJ3Njcm9sbGJhcnMnOiAneWVzJyxcbiAgICB9O1xuICAgIC8vIERvIG5vdCBzZXQgbGVmdC90b3AgaW4gRWRnZTogaXQgZmFpbHMuXG4gICAgaWYgKCFpc0VkZ2UpIHtcbiAgICAgIGZlYXR1cmVzWydsZWZ0J10gPSB4O1xuICAgICAgZmVhdHVyZXNbJ3RvcCddID0geTtcbiAgICB9XG4gICAgbGV0IGZlYXR1cmVzU3RyID0gJyc7XG4gICAgZm9yIChjb25zdCBmIGluIGZlYXR1cmVzKSB7XG4gICAgICBpZiAoZmVhdHVyZXNTdHIpIHtcbiAgICAgICAgZmVhdHVyZXNTdHIgKz0gJywnO1xuICAgICAgfVxuICAgICAgZmVhdHVyZXNTdHIgKz0gYCR7Zn09JHtmZWF0dXJlc1tmXX1gO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZXNTdHI7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtZXRob2Qgb25seSBleGlzdHMgdG8gbWFrZSBpZnJhbWUvdG9wIGVtdWxhdGlvbiBwb3NzaWJsZSBpbiB0ZXN0cy5cbiAgICogT3RoZXJ3aXNlIGB3aW5kb3cudG9wYCBjYW5ub3QgYmUgb3ZlcnJpZGRlbi5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzVG9wV2luZG93XygpIHtcbiAgICByZXR1cm4gdGhpcy53aW5fID09IHRoaXMud2luXy50b3A7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc2V0dXBQb3B1cF8oKSB7XG4gICAgLy8gS2VlcCBhbGl2ZSB0byBjYXRjaCB0aGUgd2luZG93IGNsb3NpbmcsIHdoaWNoIHdvdWxkIGluZGljYXRlXG4gICAgLy8gXCJjYW5jZWxcIiBzaWduYWwuXG4gICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbF8gPSB0aGlzLndpbl8uc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5jaGVja18oLyogZGVsYXlDYW5jZWwgKi8gdHJ1ZSk7XG4gICAgfSwgNTAwKTtcblxuICAgIC8vIFN0YXJ0IHVwIG1lc3NhZ2luZy4gVGhlIG1lc3NhZ2luZyBpcyBleHBsaWNpdGx5IGFsbG93ZWQgdG8gcHJvY2VlZFxuICAgIC8vIHdpdGhvdXQgb3JpZ2luIGNoZWNrIGIvYyBhbGwgYXJndW1lbnRzIGhhdmUgYWxyZWFkeSBiZWVuIHBhc3NlZCBpblxuICAgIC8vIHRoZSBVUkwgYW5kIHNwZWNpYWwgaGFuZGxpbmcgaXMgZW5mb3JjZWQgd2hlbiByZXN1bHQgaXMgZGVsaXZlcmVkLlxuICAgIHRoaXMubWVzc2VuZ2VyXyA9IG5ldyBNZXNzZW5nZXIoXG4gICAgICAgIHRoaXMud2luXyxcbiAgICAgICAgLyoqIEB0eXBlIHshV2luZG93fSAqLyAodGhpcy50YXJnZXRXaW5fKSxcbiAgICAgICAgLyogdGFyZ2V0T3JpZ2luICovIG51bGwsXG4gICAgICAgIC8qIHJlcXVpcmVUYXJnZXQgKi8gdHJ1ZSk7XG4gICAgdGhpcy5tZXNzZW5nZXJfLmNvbm5lY3QodGhpcy5oYW5kbGVDb21tYW5kXy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfZGVsYXlDYW5jZWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNoZWNrXyhvcHRfZGVsYXlDYW5jZWwpIHtcbiAgICBpZiAoIXRoaXMudGFyZ2V0V2luXyB8fCB0aGlzLnRhcmdldFdpbl8uY2xvc2VkKSB7XG4gICAgICBpZiAodGhpcy5oZWFydGJlYXRJbnRlcnZhbF8pIHtcbiAgICAgICAgdGhpcy53aW5fLmNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRJbnRlcnZhbF8pO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsXyA9IG51bGw7XG4gICAgICB9XG4gICAgICAvLyBHaXZlIGEgY2hhbmNlIGZvciB0aGUgcmVzdWx0IHRvIGFycml2ZSwgYnV0IG90aGVyd2lzZSBjb25zaWRlciB0aGVcbiAgICAgIC8vIHJlc3BvbmNlIHRvIGJlIGVtcHR5LlxuICAgICAgdGhpcy53aW5fLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMucmVzdWx0XyhBY3Rpdml0eVJlc3VsdENvZGUuQ0FOQ0VMRUQsIC8qIGRhdGEgKi8gbnVsbCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RXaXRoRXJyb3JfKGUpO1xuICAgICAgICB9XG4gICAgICB9LCBvcHRfZGVsYXlDYW5jZWwgPyAzMDAwIDogMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVycm9yfSByZWFzb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRpc2Nvbm5lY3RXaXRoRXJyb3JfKHJlYXNvbikge1xuICAgIGlmICh0aGlzLnJlc3VsdFJlc29sdmVyXykge1xuICAgICAgdGhpcy5yZXN1bHRSZXNvbHZlcl8oUHJvbWlzZS5yZWplY3QocmVhc29uKSk7XG4gICAgfVxuICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFjdGl2aXR5UmVzdWx0Q29kZX0gY29kZVxuICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlc3VsdF8oY29kZSwgZGF0YSkge1xuICAgIGlmICh0aGlzLnJlc3VsdFJlc29sdmVyXykge1xuICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSB0aGlzLm1lc3Nlbmdlcl8uaXNDb25uZWN0ZWQoKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBY3Rpdml0eVJlc3VsdChcbiAgICAgICAgICBjb2RlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgQWN0aXZpdHlNb2RlLlBPUFVQLFxuICAgICAgICAgIGlzQ29ubmVjdGVkID9cbiAgICAgICAgICAgICAgdGhpcy5tZXNzZW5nZXJfLmdldFRhcmdldE9yaWdpbigpIDpcbiAgICAgICAgICAgICAgZ2V0T3JpZ2luRnJvbVVybCh0aGlzLnVybF8pLFxuICAgICAgICAgIC8qIG9yaWdpblZlcmlmaWVkICovIGlzQ29ubmVjdGVkLFxuICAgICAgICAgIC8qIHNlY3VyZUNoYW5uZWwgKi8gaXNDb25uZWN0ZWQpO1xuICAgICAgcmVzb2x2ZVJlc3VsdCh0aGlzLndpbl8sIHJlc3VsdCwgdGhpcy5yZXN1bHRSZXNvbHZlcl8pO1xuICAgICAgdGhpcy5yZXN1bHRSZXNvbHZlcl8gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5tZXNzZW5nZXJfKSB7XG4gICAgICB0aGlzLm1lc3Nlbmdlcl8uc2VuZENvbW1hbmQoJ2Nsb3NlJyk7XG4gICAgfVxuICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbWRcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBwYXlsb2FkXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDb21tYW5kXyhjbWQsIHBheWxvYWQpIHtcbiAgICBpZiAoY21kID09ICdjb25uZWN0Jykge1xuICAgICAgLy8gRmlyc3QgZXZlciBtZXNzYWdlLiBJbmRpY2F0ZXMgdGhhdCB0aGUgcmVjZWl2ZXIgaXMgbGlzdGVuaW5nLlxuICAgICAgdGhpcy5tZXNzZW5nZXJfLnNlbmRTdGFydENvbW1hbmQodGhpcy5hcmdzXyk7XG4gICAgICB0aGlzLmNvbm5lY3RlZFJlc29sdmVyXygpO1xuICAgIH0gZWxzZSBpZiAoY21kID09ICdyZXN1bHQnKSB7XG4gICAgICAvLyBUaGUgbGFzdCBtZXNzYWdlLiBJbmRpY2F0ZXMgdGhhdCB0aGUgcmVzdWx0IGhhcyBiZWVuIHJlY2VpdmVkLlxuICAgICAgY29uc3QgY29kZSA9IC8qKiBAdHlwZSB7IUFjdGl2aXR5UmVzdWx0Q29kZX0gKi8gKHBheWxvYWRbJ2NvZGUnXSk7XG4gICAgICBjb25zdCBkYXRhID1cbiAgICAgICAgICBjb2RlID09IEFjdGl2aXR5UmVzdWx0Q29kZS5GQUlMRUQgP1xuICAgICAgICAgIG5ldyBFcnJvcihwYXlsb2FkWydkYXRhJ10gfHwgJycpIDpcbiAgICAgICAgICBwYXlsb2FkWydkYXRhJ107XG4gICAgICB0aGlzLnJlc3VsdF8oY29kZSwgZGF0YSk7XG4gICAgfSBlbHNlIGlmIChjbWQgPT0gJ2NoZWNrJykge1xuICAgICAgdGhpcy53aW5fLnNldFRpbWVvdXQoKCkgPT4gdGhpcy5jaGVja18oKSwgMjAwKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gZnJhZ21lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SWRcbiAqIEByZXR1cm4gez9BY3Rpdml0eVBvcnR9XG4gKi9cbmZ1bmN0aW9uIGRpc2NvdmVyUmVkaXJlY3RQb3J0KHdpbiwgZnJhZ21lbnQsIHJlcXVlc3RJZCkge1xuICAvLyBUcnkgdG8gZmluZCB0aGUgcmVzdWx0IGluIHRoZSBmcmFnbWVudC5cbiAgY29uc3QgcGFyYW1OYW1lID0gJ19fV0FfUkVTX18nO1xuICBjb25zdCBmcmFnbWVudFBhcmFtID0gZ2V0UXVlcnlQYXJhbShmcmFnbWVudCwgcGFyYW1OYW1lKTtcbiAgaWYgKCFmcmFnbWVudFBhcmFtKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSAvKiogQHR5cGUgez9PYmplY3R9ICovIChKU09OLnBhcnNlKGZyYWdtZW50UGFyYW0pKTtcbiAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZVsncmVxdWVzdElkJ10gIT0gcmVxdWVzdElkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBSZW1vdmUgdGhlIGZvdW5kIHBhcmFtIGZyb20gdGhlIGZyYWdtZW50LlxuICBjb25zdCBjbGVhbkZyYWdtZW50ID0gcmVtb3ZlUXVlcnlQYXJhbSh3aW4ubG9jYXRpb24uaGFzaCwgcGFyYW1OYW1lKSB8fCAnJztcbiAgaWYgKGNsZWFuRnJhZ21lbnQgIT0gd2luLmxvY2F0aW9uLmhhc2gpIHtcbiAgICBpZiAod2luLmhpc3RvcnkgJiYgd2luLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB3aW4uaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luLmhpc3Rvcnkuc3RhdGUsICcnLCBjbGVhbkZyYWdtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWdub3JlLlxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvZGUgPSByZXNwb25zZVsnY29kZSddO1xuICBjb25zdCBkYXRhID0gcmVzcG9uc2VbJ2RhdGEnXTtcbiAgY29uc3Qgb3JpZ2luID0gcmVzcG9uc2VbJ29yaWdpbiddO1xuICBjb25zdCByZWZlcnJlck9yaWdpbiA9IHdpbi5kb2N1bWVudC5yZWZlcnJlciAmJlxuICAgICAgZ2V0T3JpZ2luRnJvbVVybCh3aW4uZG9jdW1lbnQucmVmZXJyZXIpO1xuICBjb25zdCBvcmlnaW5WZXJpZmllZCA9IG9yaWdpbiA9PSByZWZlcnJlck9yaWdpbjtcbiAgcmV0dXJuIG5ldyBBY3Rpdml0eVdpbmRvd1JlZGlyZWN0UG9ydChcbiAgICAgIHdpbixcbiAgICAgIGNvZGUsXG4gICAgICBkYXRhLFxuICAgICAgb3JpZ2luLFxuICAgICAgb3JpZ2luVmVyaWZpZWQpO1xufVxuXG5cbi8qKlxuICogVGhlIGBBY3Rpdml0eVBvcnRgIGltcGxlbWVudGF0aW9uIGZvciB0aGUgc3RhbmRhbG9uZSB3aW5kb3cgYWN0aXZpdHlcbiAqIGNsaWVudCBleGVjdXRlZCBhcyBhIHBvcHVwLlxuICpcbiAqIEBpbXBsZW1lbnRzIHtBY3Rpdml0eVBvcnR9XG4gKi9cbmNsYXNzIEFjdGl2aXR5V2luZG93UmVkaXJlY3RQb3J0IHtcblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshQWN0aXZpdHlSZXN1bHRDb2RlfSBjb2RlXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0T3JpZ2luXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGFyZ2V0T3JpZ2luVmVyaWZpZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbiwgY29kZSwgZGF0YSwgdGFyZ2V0T3JpZ2luLCB0YXJnZXRPcmlnaW5WZXJpZmllZCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBY3Rpdml0eVJlc3VsdENvZGV9ICovXG4gICAgdGhpcy5jb2RlXyA9IGNvZGU7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Kn0gKi9cbiAgICB0aGlzLmRhdGFfID0gZGF0YTtcbiAgICAvKiogQHByaXZhdGUge3N0cmluZ30gKi9cbiAgICB0aGlzLnRhcmdldE9yaWdpbl8gPSB0YXJnZXRPcmlnaW47XG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMudGFyZ2V0T3JpZ2luVmVyaWZpZWRfID0gdGFyZ2V0T3JpZ2luVmVyaWZpZWQ7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldE1vZGUoKSB7XG4gICAgcmV0dXJuIEFjdGl2aXR5TW9kZS5SRURJUkVDVDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWNjZXB0UmVzdWx0KCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBY3Rpdml0eVJlc3VsdChcbiAgICAgICAgdGhpcy5jb2RlXyxcbiAgICAgICAgdGhpcy5kYXRhXyxcbiAgICAgICAgQWN0aXZpdHlNb2RlLlJFRElSRUNULFxuICAgICAgICB0aGlzLnRhcmdldE9yaWdpbl8sXG4gICAgICAgIHRoaXMudGFyZ2V0T3JpZ2luVmVyaWZpZWRfLFxuICAgICAgICAvKiBzZWN1cmVDaGFubmVsICovIGZhbHNlKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICByZXNvbHZlUmVzdWx0KHRoaXMud2luXywgcmVzdWx0LCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfVxufVxuXG5cblxuXG4vKipcbiAqIFRoZSBwYWdlLWxldmVsIGFjdGl2aXRpZXMgbWFuYWdlciBwb3J0cy4gVGhpcyBjbGFzcyBpcyBpbnRlbmRlZCB0byBiZSB1c2VkXG4gKiBhcyBhIHNpbmdsZXRvbi4gSXQgY2FuIHN0YXJ0IGFjdGl2aXRpZXMgb2YgYWxsIG1vZGVzOiBpZnJhbWUsIHBvcHVwLCBhbmRcbiAqIHJlZGlyZWN0LlxuICovXG5jbGFzcyBBY3Rpdml0eVBvcnRzIHtcblxuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnZlcnNpb24gPSAnMS4yNCc7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmZyYWdtZW50XyA9IHdpbi5sb2NhdGlvbi5oYXNoO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgQGNvbnN0IHshT2JqZWN0PHN0cmluZywgIUFycmF5PGZ1bmN0aW9uKCFBY3Rpdml0eVBvcnQpPj59XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0SGFuZGxlcnNfID0ge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzdWx0IGJ1ZmZlciBpcyBpbmRleGVkIGJ5IGByZXF1ZXN0SWRgLlxuICAgICAqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsICFBY3Rpdml0eVBvcnQ+fVxuICAgICAqL1xuICAgIHRoaXMucmVzdWx0QnVmZmVyXyA9IHt9O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oIUVycm9yKX0gKi9cbiAgICB0aGlzLnJlZGlyZWN0RXJyb3JSZXNvbHZlcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHshUHJvbWlzZTwhRXJyb3I+fSAqL1xuICAgIHRoaXMucmVkaXJlY3RFcnJvclByb21pc2VfID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLnJlZGlyZWN0RXJyb3JSZXNvbHZlcl8gPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGFuIGFjdGl2aXR5IHdpdGhpbiB0aGUgc3BlY2lmaWVkIGlmcmFtZS5cbiAgICogQHBhcmFtIHshSFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7P09iamVjdD19IG9wdF9hcmdzXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFBY3Rpdml0eUlmcmFtZVBvcnQ+fVxuICAgKi9cbiAgb3BlbklmcmFtZShpZnJhbWUsIHVybCwgb3B0X2FyZ3MpIHtcbiAgICBjb25zdCBwb3J0ID0gbmV3IEFjdGl2aXR5SWZyYW1lUG9ydChpZnJhbWUsIHVybCwgb3B0X2FyZ3MpO1xuICAgIHJldHVybiBwb3J0LmNvbm5lY3QoKS50aGVuKCgpID0+IHBvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGFuIGFjdGl2aXR5IGluIGEgc2VwYXJhdGUgd2luZG93LiBUaGUgcmVzdWx0IHdpbGwgYmUgZGVsaXZlcmVkXG4gICAqIHRvIHRoZSBgb25SZXN1bHRgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBUaGUgYWN0aXZpdHkgY2FuIGJlIG9wZW5lZCBpbiB0d28gbW9kZXM6IFwicG9wdXBcIiBhbmQgXCJyZWRpcmVjdFwiLiBUaGlzXG4gICAqIGRlcGVuZHMgb24gdGhlIGB0YXJnZXRgIHZhbHVlLCBidXQgYWxzbyBvbiB0aGUgYnJvd3Nlci9lbnZpcm9ubWVudC5cbiAgICpcbiAgICogVGhlIGFsbG93ZWQgYHRhcmdldGAgdmFsdWVzIGFyZSBgX2JsYW5rYCwgYF90b3BgIGFuZCBuYW1lIHRhcmdldHMuIFRoZVxuICAgKiBgX3NlbGZgLCBgX3BhcmVudGAgYW5kIHNpbWlsYXIgdGFyZ2V0cyBhcmUgbm90IGFsbG93ZWQuXG4gICAqXG4gICAqIFRoZSBgX3RvcGAgdGFyZ2V0IGluZGljYXRlcyB0aGF0IHRoZSBhY3Rpdml0eSBzaG91bGQgYmUgb3BlbmVkIGFzIGFcbiAgICogXCJyZWRpcmVjdFwiLCB3aGlsZSBvdGhlciB0YXJnZXRzIGluZGljYXRlIHRoYXQgdGhlIGFjdGl2aXR5IHNob3VsZCBiZVxuICAgKiBvcGVuZWQgYXMgYSBwb3B1cC4gVGhlIGFjdGl2aXR5IGNsaWVudCB3aWxsIHRyeSB0byBob25vciB0aGUgcmVxdWVzdGVkXG4gICAqIHRhcmdldC4gSG93ZXZlciwgaXQncyBub3QgYWx3YXlzIHBvc3NpYmxlLiBTb21lIGVudmlyb25tZW50cyBkbyBub3RcbiAgICogYWxsb3cgcG9wdXBzIGFuZCB0aGV5IGVpdGhlciBmb3JjZSByZWRpcmVjdCBvciBmYWlsIHRoZSB3aW5kb3cgb3BlblxuICAgKiByZXF1ZXN0LiBJbiB0aGlzIGNhc2UsIHRoZSBhY3Rpdml0eSB3aWxsIHRyeSB0byBmYWxsYmFjayB0byB0aGUgXCJyZWRpcmVjdFwiXG4gICAqIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gICAqIEBwYXJhbSB7P09iamVjdD19IG9wdF9hcmdzXG4gICAqIEBwYXJhbSB7P0FjdGl2aXR5T3Blbk9wdGlvbnM9fSBvcHRfb3B0aW9uc1xuICAgKiBAcmV0dXJuIHt7dGFyZ2V0V2luOiA/V2luZG93fX1cbiAgICovXG4gIG9wZW4ocmVxdWVzdElkLCB1cmwsIHRhcmdldCwgb3B0X2FyZ3MsIG9wdF9vcHRpb25zKSB7XG4gICAgY29uc3QgcG9ydCA9IHRoaXMub3Blbldpbl8ocmVxdWVzdElkLCB1cmwsIHRhcmdldCwgb3B0X2FyZ3MsIG9wdF9vcHRpb25zKTtcbiAgICByZXR1cm4ge3RhcmdldFdpbjogcG9ydC5nZXRUYXJnZXRXaW4oKX07XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYW4gYWN0aXZpdHkgaW4gYSBzZXBhcmF0ZSB3aW5kb3cgYW5kIHRyaWVzIHRvIHNldHVwIG1lc3NhZ2luZyB3aXRoXG4gICAqIHRoaXMgd2luZG93LlxuICAgKlxuICAgKiBTZWUgYG9wZW4oKWAgbWV0aG9kIGZvciBtb3JlIGRldGFpbHMsIGluY2x1ZGluZyBgb25SZXN1bHRgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdElkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFxuICAgKiBAcGFyYW0gez9PYmplY3Q9fSBvcHRfYXJnc1xuICAgKiBAcGFyYW0gez9BY3Rpdml0eU9wZW5PcHRpb25zPX0gb3B0X29wdGlvbnNcbiAgICogQHJldHVybiB7IVByb21pc2U8IUFjdGl2aXR5TWVzc2FnaW5nUG9ydD59XG4gICAqL1xuICBvcGVuV2l0aE1lc3NhZ2luZyhyZXF1ZXN0SWQsIHVybCwgdGFyZ2V0LCBvcHRfYXJncywgb3B0X29wdGlvbnMpIHtcbiAgICBjb25zdCBwb3J0ID0gdGhpcy5vcGVuV2luXyhyZXF1ZXN0SWQsIHVybCwgdGFyZ2V0LCBvcHRfYXJncywgb3B0X29wdGlvbnMpO1xuICAgIHJldHVybiBwb3J0LndoZW5Db25uZWN0ZWQoKS50aGVuKCgpID0+IHBvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyB0aGUgY2FsbGJhY2sgZm9yIHRoZSByZXN1bHQgb2YgdGhlIGFjdGl2aXR5IG9wZW5lZCB3aXRoIHRoZVxuICAgKiBzcGVjaWZpZWQgYHJlcXVlc3RJZGAgKHNlZSB0aGUgYG9wZW4oKWAgbWV0aG9kKS4gVGhlIGNhbGxiYWNrIGlzIGFcbiAgICogZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHNpbmdsZSBgQWN0aXZpdHlQb3J0YCBhcmd1bWVudC4gVGhlIGNsaWVudFxuICAgKiBjYW4gdXNlIHRoaXMgb2JqZWN0IHRvIHZlcmlmeSB0aGUgcG9ydCB1c2luZyBpdCdzIG9yaWdpbiwgdmVyaWZpZWQgYW5kXG4gICAqIHNlY3VyZSBjaGFubmVsIGZsYWdzLiBUaGVuIHRoZSBjbGllbnQgY2FuIGNhbGxcbiAgICogYEFjdGl2aXR5UG9ydC5hY2NlcHRSZXN1bHQoKWAgbWV0aG9kIHRvIGFjY2VwdCB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBUaGUgYWN0aXZpdHkgcmVzdWx0IGlzIGhhbmRsZWQgdmlhIGEgc2VwYXJhdGUgY2FsbGJhY2sgYmVjYXVzZSBvZiBhXG4gICAqIHBvc3NpYmxlIHJlZGlyZWN0LiBTbyB1c2Ugb2YgZGlyZWN0IGNhbGxiYWNrcyBhbmQvb3IgcHJvbWlzZXMgaXMgbm90XG4gICAqIHBvc3NpYmxlIGluIHRoYXQgY2FzZS5cbiAgICpcbiAgICogQSB0eXBpY2FsIGltcGxlbWVudGF0aW9uIHdvdWxkIGxvb2sgbGlrZTpcbiAgICogYGBgXG4gICAqIHBvcnRzLm9uUmVzdWx0KCdyZXF1ZXN0MScsIGZ1bmN0aW9uKHBvcnQpIHtcbiAgICogICBwb3J0LmFjY2VwdFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAqICAgICAvLyBPbmx5IHZlcmlmaWVkIG9yaWdpbnMgYXJlIGFsbG93ZWQuXG4gICAqICAgICBpZiAocmVzdWx0Lm9yaWdpbiA9PSBleHBlY3RlZE9yaWdpbiAmJlxuICAgKiAgICAgICAgIHJlc3VsdC5vcmlnaW5WZXJpZmllZCAmJlxuICAgKiAgICAgICAgIHJlc3VsdC5zZWN1cmVDaGFubmVsKSB7XG4gICAqICAgICAgIGhhbmRsZVJlc3VsdEZvclJlcXVlc3QxKHJlc3VsdCk7XG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqIH0pXG4gICAqXG4gICAqIHBvcnRzLm9wZW4oJ3JlcXVlc3QxJywgcmVxdWVzdDFVcmwsICdfYmxhbmsnKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SWRcbiAgICogQHBhcmFtIHtmdW5jdGlvbighQWN0aXZpdHlQb3J0KX0gY2FsbGJhY2tcbiAgICovXG4gIG9uUmVzdWx0KHJlcXVlc3RJZCwgY2FsbGJhY2spIHtcbiAgICBsZXQgaGFuZGxlcnMgPSB0aGlzLnJlcXVlc3RIYW5kbGVyc19bcmVxdWVzdElkXTtcbiAgICBpZiAoIWhhbmRsZXJzKSB7XG4gICAgICBoYW5kbGVycyA9IFtdO1xuICAgICAgdGhpcy5yZXF1ZXN0SGFuZGxlcnNfW3JlcXVlc3RJZF0gPSBoYW5kbGVycztcbiAgICB9XG4gICAgaGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG5cbiAgICAvLyBDb25zdW1lIGF2YWlsYWJsZSByZXN1bHQuXG4gICAgY29uc3QgYXZhaWxhYmxlUmVzdWx0ID0gdGhpcy5kaXNjb3ZlclJlc3VsdF8ocmVxdWVzdElkKTtcbiAgICBpZiAoYXZhaWxhYmxlUmVzdWx0KSB7XG4gICAgICB0aGlzLmNvbnN1bWVSZXN1bHRfKGF2YWlsYWJsZVJlc3VsdCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFcnJvcil9IGhhbmRsZXJcbiAgICovXG4gIG9uUmVkaXJlY3RFcnJvcihoYW5kbGVyKSB7XG4gICAgdGhpcy5yZWRpcmVjdEVycm9yUHJvbWlzZV8udGhlbihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdElkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFxuICAgKiBAcGFyYW0gez9PYmplY3Q9fSBvcHRfYXJnc1xuICAgKiBAcGFyYW0gez9BY3Rpdml0eU9wZW5PcHRpb25zPX0gb3B0X29wdGlvbnNcbiAgICogQHJldHVybiB7IUFjdGl2aXR5V2luZG93UG9ydH1cbiAgICovXG4gIG9wZW5XaW5fKHJlcXVlc3RJZCwgdXJsLCB0YXJnZXQsIG9wdF9hcmdzLCBvcHRfb3B0aW9ucykge1xuICAgIGNvbnN0IHBvcnQgPSBuZXcgQWN0aXZpdHlXaW5kb3dQb3J0KFxuICAgICAgICB0aGlzLndpbl8sIHJlcXVlc3RJZCwgdXJsLCB0YXJnZXQsIG9wdF9hcmdzLCBvcHRfb3B0aW9ucyk7XG4gICAgcG9ydC5vcGVuKCkudGhlbigoKSA9PiB7XG4gICAgICAvLyBBd2FpdCByZXN1bHQgaWYgcG9zc2libGUuIE5vdGljZSB0aGF0IHdoZW4gZmFsbGluZyBiYWNrIHRvIFwicmVkaXJlY3RcIixcbiAgICAgIC8vIHRoZSByZXN1bHQgd2lsbCBuZXZlciBhcnJpdmUgdGhyb3VnaCB0aGlzIHBvcnQuXG4gICAgICB0aGlzLmNvbnN1bWVSZXN1bHRBbGxfKHJlcXVlc3RJZCwgcG9ydCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBvcnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RJZFxuICAgKiBAcmV0dXJuIHs/QWN0aXZpdHlQb3J0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzY292ZXJSZXN1bHRfKHJlcXVlc3RJZCkge1xuICAgIGxldCBwb3J0ID0gdGhpcy5yZXN1bHRCdWZmZXJfW3JlcXVlc3RJZF07XG4gICAgaWYgKCFwb3J0ICYmIHRoaXMuZnJhZ21lbnRfKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwb3J0ID0gZGlzY292ZXJSZWRpcmVjdFBvcnQoXG4gICAgICAgICAgICB0aGlzLndpbl8sIHRoaXMuZnJhZ21lbnRfLCByZXF1ZXN0SWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvd0FzeW5jKGUpO1xuICAgICAgICB0aGlzLnJlZGlyZWN0RXJyb3JSZXNvbHZlcl8oZSk7XG4gICAgICB9XG4gICAgICBpZiAocG9ydCkge1xuICAgICAgICB0aGlzLnJlc3VsdEJ1ZmZlcl9bcmVxdWVzdElkXSA9IHBvcnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3J0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFjdGl2aXR5UG9ydH0gcG9ydFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFBY3Rpdml0eVBvcnQpfSBjYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3VtZVJlc3VsdF8ocG9ydCwgY2FsbGJhY2spIHtcbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgIGNhbGxiYWNrKHBvcnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SWRcbiAgICogQHBhcmFtIHshQWN0aXZpdHlQb3J0fSBwb3J0XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdW1lUmVzdWx0QWxsXyhyZXF1ZXN0SWQsIHBvcnQpIHtcbiAgICAvLyBGaW5kIGFuZCBleGVjdXRlIGhhbmRsZXJzLlxuICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5yZXF1ZXN0SGFuZGxlcnNfW3JlcXVlc3RJZF07XG4gICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICBoYW5kbGVycy5mb3JFYWNoKGhhbmRsZXIgPT4ge1xuICAgICAgICB0aGlzLmNvbnN1bWVSZXN1bHRfKHBvcnQsIGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEJ1ZmZlciB0aGUgcmVzdWx0IGZvciBjYWxsYmFja3MgdGhhdCBtYXkgYXJyaXZlIGluIHRoZSBmdXR1cmUuXG4gICAgdGhpcy5yZXN1bHRCdWZmZXJfW3JlcXVlc3RJZF0gPSBwb3J0O1xuICB9XG59XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgQWN0aXZpdHlQb3J0cyxcbiAgQWN0aXZpdHlJZnJhbWVQb3J0LFxuICBBY3Rpdml0eU1lc3NhZ2luZ1BvcnQsXG4gIEFjdGl2aXR5TW9kZSxcbiAgQWN0aXZpdHlPcGVuT3B0aW9ucyxcbiAgQWN0aXZpdHlQb3J0LFxuICBBY3Rpdml0eVJlcXVlc3QsXG4gIEFjdGl2aXR5UmVzdWx0LFxuICBBY3Rpdml0eVJlc3VsdENvZGUsXG4gIEFjdGl2aXR5V2luZG93UG9ydCxcbiAgY3JlYXRlQWJvcnRFcnJvcixcbiAgaXNBYm9ydEVycm9yLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjAgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtFbnRpdGxlbWVudHMgYXMgRW50aXRsZW1lbnRzRGVmfSBmcm9tICcuL2VudGl0bGVtZW50cyc7XG5pbXBvcnQge1N1YnNjcmliZVJlc3BvbnNlIGFzIFN1YnNjcmliZVJlc3BvbnNlRGVmfSBmcm9tICcuL3N1YnNjcmliZS1yZXNwb25zZSc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdXNlcnMgb2YgdGhlIGJhc2ljIHRpZXIgb2YgU3Vic2NyaWJlIHdpdGggR29vZ2xlLlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgQmFzaWNTdWJzY3JpcHRpb25zIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBiYXNpYyBzdWJzY3JpcHRpb25zIHJ1bnRpbWUuIFRoaXMgaW5jbHVkZXMgc2V0dGluZyBvZiB0aGVcbiAgICogc3BlY2lmaWVkIHBhcmFtIHZhbHVlcyBpbiB0aGUgSlNPTi1MRCBtYXJrdXAgb2YgdGhlIHBhZ2UsIHNldHMgdXAgYW55IFN3R1xuICAgKiBidXR0b25zIHdpdGggYXR0cmlidXRlICdzd2ctc3RhbmRhcmQtYnV0dG9uJywgYW5kIGluc2VydHMgYSBTd0cgcHJvbXB0IGZvclxuICAgKiBjb250cmlidXRpb25zL3N1YnNjcmlwdGlvbnMuIElmIHRoZSBmaWVsZHMgc3BlY2lmaWVkIGluIHRoZSBwYXJhbXMgYXJlXG4gICAqIGFscmVhZHkgc3BlY2lmaWVkIGluIHRoZSBKU09OLUxEIG1hcmt1cCBvbiB0aGUgcGFnZSwgdGhlIGV4aXN0aW5nIHZhbHVlc1xuICAgKiB3aWxsIGJlIHByZXNlcnZlZCwgYW5kIHRoZSB2YWx1ZXMgd2l0aGluIGluaXQgd2lsbCBiZSBpZ25vcmVkLlxuICAgKiBAcGFyYW0ge3tcbiAgICogICB0eXBlOiAoc3RyaW5nfCFBcnJheTxzdHJpbmc+KSxcbiAgICogICBpc0FjY2Vzc2libGVGb3JGcmVlOiBib29sZWFuLFxuICAgKiAgIGlzUGFydE9mVHlwZTogKHN0cmluZ3whQXJyYXk8c3RyaW5nPiksXG4gICAqICAgaXNQYXJ0T2ZQcm9kdWN0SWQ6IHN0cmluZyxcbiAgICogICBhdXRvUHJvbXB0VHlwZTogKEF1dG9Qcm9tcHRUeXBlfHVuZGVmaW5lZCksXG4gICAqICAgY2xpZW50T3B0aW9uczogKENsaWVudE9wdGlvbnN8dW5kZWZpbmVkKSxcbiAgICogICBhbHdheXNTaG93OiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICAgKiAgIGRpc2FibGVEZWZhdWx0TWV0ZXJpbmdIYW5kbGVyOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICAgKiAgIHB1Ymxpc2hlclByb3ZpZGVkSWQ6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAgICogfT19IHBhcmFtc1xuICAgKi9cbiAgaW5pdChwYXJhbXMpIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZW50aXRsZW1lbnQgY2hlY2sgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IUVudGl0bGVtZW50c0RlZj4pfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZShjYWxsYmFjaykge31cblxuICAvKipcbiAgICogU2V0IHRoZSBwYXltZW50IGNvbXBsZXRlIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFQcm9taXNlPCFTdWJzY3JpYmVSZXNwb25zZURlZj4pfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0T25QYXltZW50UmVzcG9uc2UoY2FsbGJhY2spIHt9XG5cbiAgLyoqXG4gICAqIE9wZW4gQ2hlY2tFbnRpdGxlbWVudHNWaWV3IHRvIGxldCB1c2VycyBsb2cgaW4gR29vZ2xlIGFuZCBjaGVjayB0aGVpciBlbnRpdGxlbWVudHMuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUxvZ2luUmVxdWVzdCl9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzZXRPbkxvZ2luUmVxdWVzdChjYWxsYmFjaykge31cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbmQgZGlzcGxheXMgYSBTd0cgc3Vic2NyaXB0aW9uIG9yIGNvbnRyaWJ1dGlvbiBwcm9tcHQsIHdoZXJlIHRoZVxuICAgKiBwcm9tcHQgdHlwZSBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBwYXJhbWV0ZXJzIHBhc3NlZCBpbiB0byBpbml0LiBJZiB0aGUgYXV0b1xuICAgKiBwcm9tcHQgaXMgZGV0ZXJtaW5lZCB0byBoYXZlIGJlZW4gYWxyZWFkeSBzZXQgdXAsIHRoZSBzZXR1cCBwb3J0aW9uIG9mIHRoZVxuICAgKiBmdW5jdGlvbiB3aWxsIGJlIHNraXBwZWQsIGFuZCB0aGUgcHJvbXB0IHdpbGwgYmUgZGlzcGxheWVkLiBUaGVcbiAgICogYXV0b1Byb21wdFR5cGUgc3BlY2lmaWVzIHdoaWNoIHR5cGUgb2YgcHJvbXB0IHNob3VsZCBiZSBkaXNwbGF5ZWQgKHNlZVxuICAgKiBBdXRvUHJvbXB0VHlwZSBiZWxvdykuIFRoZSBhbHdheXNTaG93IHBhcmFtZXRlciBpcyBhbiBvcHRpb24gdG8gZm9yY2Ugc2hvd1xuICAgKiB0aGUgcHJvbXB0LCByZWdhcmRsZXNzIG9mIGFueSBkaXNwbGF5IHJ1bGVzLiBUaGlzIHBhcmFtZXRlciBpcyBpbnRlbmRlZCBmb3JcbiAgICogcHJldmlldyBwdXJwb3Nlcy5cbiAgICogQHBhcmFtIHt7XG4gICAqICAgYXV0b1Byb21wdFR5cGU6ICghQXV0b1Byb21wdFR5cGV8dW5kZWZpbmVkKSxcbiAgICogICBhbHdheXNTaG93OiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICAgKiB9fSBvcHRpb25zXG4gICAqIEByZXR1cm5zIHshUHJvbWlzZX1cbiAgICovXG4gIHNldHVwQW5kU2hvd0F1dG9Qcm9tcHQob3B0aW9ucykge31cblxuICAvKipcbiAgICogRGlzbWlzc2VzIGFueSBTd0cgVUkgY3VycmVudGx5IGRpc3BsYXllZC4gSW50ZW5kZWQgdG8gYmUgdXNlZCBmb3IgcHJldmlld1xuICAgKiBwdXJwb3Nlcy5cbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIGRpc21pc3NTd2dVSSgpIHt9XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIGF1dG9wcm9tcHQgdGhhdCBjYW4gYmUgc3BlY2lmaWVkIHRvIGJlIHNob3duLiBDT05UUklCVVRJT04gYW5kXG4gKiBTVUJTQ1JJUFRJT04gd2lsbCB0cmlnZ2VyIHRoZSBzbWFsbCwgYnV0dG9uLWxpa2UgcHJvbXB0LCBhbmRcbiAqIENPTlRSSUJVVElPTl9MQVJHRSBhbmQgU1VCU0NSSVBUSU9OX0xBUkdFIHdpbGwgdHJpZ2dlciB0aGUgbGFyZ2VyIHB1cmNoYXNlXG4gKiBVSS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBBdXRvUHJvbXB0VHlwZSA9IHtcbiAgTk9ORTogJ25vbmUnLFxuICBDT05UUklCVVRJT046ICdjb250cmlidXRpb24nLFxuICBDT05UUklCVVRJT05fTEFSR0U6ICdjb250cmlidXRpb25fbGFyZ2UnLFxuICBTVUJTQ1JJUFRJT046ICdzdWJzY3JpcHRpb24nLFxuICBTVUJTQ1JJUFRJT05fTEFSR0U6ICdzdWJzY3JpcHRpb25fbGFyZ2UnLFxufTtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBjb25maWd1cmluZyBhbGwgY2xpZW50IFVJLlxuICogUHJvcGVydGllczpcbiAqIC0gZGlzYWJsZUJ1dHRvbjogd2hldGhlciB0byBlbmFibGUgYnV0dG9uLlxuICogLSBmb3JjZUxhbmdJbklmcmFtZXM6IHdoZXRoZXIgdG8gZm9yY2UgdGhlIHNwZWNpZmllZCBsYW5nIGluIGlmcmFtZXMuXG4gKiAtIGxhbmc6IFNldHMgdGhlIGJ1dHRvbiBhbmQgcHJvbXB0IGxhbmd1YWdlLiBEZWZhdWx0IGlzIFwiZW5cIi5cbiAqIC0gdGhlbWU6IFwibGlnaHRcIiBvciBcImRhcmtcIi4gRGVmYXVsdCBpcyBcImxpZ2h0XCIuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgZGlzYWJsZUJ1dHRvbjogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgbGFuZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBmb3JjZUxhbmdJbklmcmFtZXM6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiAgIHRoZW1lOiAoQ2xpZW50VGhlbWV8dW5kZWZpbmVkKSxcbiAqICAgYWxsb3dTY3JvbGw6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IENsaWVudE9wdGlvbnM7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgbGlua1JlcXVlc3RlZDogYm9vbGVhbixcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTG9naW5SZXF1ZXN0O1xuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRUaGVtZSA9IHtcbiAgTElHSFQ6ICdsaWdodCcsXG4gIERBUks6ICdkYXJrJyxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEFuYWx5dGljc0V2ZW50IGFzIEFuYWx5dGljc0V2ZW50RGVmLFxuICBFdmVudE9yaWdpbmF0b3IgYXMgRXZlbnRPcmlnaW5hdG9yRGVmLFxufSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuXG4vKiogQGVudW0ge251bWJlcn0gICovXG5leHBvcnQgY29uc3QgRmlsdGVyUmVzdWx0ID0ge1xuICAvKiogVGhlIGV2ZW50IGlzIGFsbG93ZWQgdG8gcHJvY2VlZCB0byB0aGUgbGlzdGVuZXJzLiAqL1xuICBQUk9DRVNTX0VWRU5UOiAwLFxuICAvKiogVGhlIGV2ZW50IGlzIGNhbmNlbGVkIGFuZCB0aGUgbGlzdGVuZXJzIGFyZSBub3QgaW5mb3JtZWQgYWJvdXQgaXQuICovXG4gIENBTkNFTF9FVkVOVDogMSxcbn07XG5cbi8qKlxuICogRGVmaW5lcyBhIGNsaWVudCBldmVudCBpbiBTd0dcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGV2ZW50VHlwZTogUmVxdWlyZWQuIFRoZSBBbmFseXRpY3NFdmVudCB0eXBlIHRoYXQgb2NjdXJyZWQuXG4gKiAtIGV2ZW50T3JpZ2luYXRvcjogUmVxdWlyZWQuICBUaGUgY29kZWJhc2UgdGhhdCBpbml0aWF0ZWQgdGhlIGV2ZW50LlxuICogLSBpc0Zyb21Vc2VyQWN0aW9uOiBPcHRpb25hbC4gIFRydWUgaWYgdGhlIHVzZXIgdG9vayBhbiBhY3Rpb24gdG8gZ2VuZXJhdGVcbiAqICAgdGhlIGV2ZW50LlxuICogLSBhZGRpdGlvbmFsUGFyYW1ldGVyczogT3B0aW9uYWwuICBBIEpTT04gb2JqZWN0IHRvIHN0b3JlIGdlbmVyaWMgZGF0YS5cbiAqXG4gKiAgQHR5cGVkZWYge3tcbiAqICAgIGV2ZW50VHlwZTogP0FuYWx5dGljc0V2ZW50RGVmLFxuICogICAgZXZlbnRPcmlnaW5hdG9yOiAhRXZlbnRPcmlnaW5hdG9yRGVmLFxuICogICAgaXNGcm9tVXNlckFjdGlvbjogP2Jvb2xlYW4sXG4gKiAgICBhZGRpdGlvbmFsUGFyYW1ldGVyczogP09iamVjdCxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgQ2xpZW50RXZlbnQ7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKipcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudEV2ZW50TWFuYWdlckFwaSB7XG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gdG8gbG9nIGFuIGV2ZW50LiBUaGUgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgd2lsbCBiZVxuICAgKiBpbnZva2VkIHVubGVzcyB0aGUgZXZlbnQgaXMgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7IWZ1bmN0aW9uKCFDbGllbnRFdmVudCwgKCFDbGllbnRFdmVudFBhcmFtc3x1bmRlZmluZWQpPSl9IGxpc3RlbmVyXG4gICAqL1xuICByZWdpc3RlckV2ZW50TGlzdGVuZXIobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZmlsdGVyZXIgZm9yIGV2ZW50cyBpZiB5b3UgbmVlZCB0byBwb3RlbnRpYWxseSBwcmV2ZW50IHRoZVxuICAgKiBsaXN0ZW5lcnMgZnJvbSBoZWFyaW5nIGFib3V0IGl0LiAgQSBmaWx0ZXJlciBzaG91bGQgcmV0dXJuXG4gICAqIEZpbHRlclJlc3VsdC5DQU5DRUxfRVZFTlQgdG8gcHJldmVudCBsaXN0ZW5lcnMgZnJvbSBoZWFyaW5nIGFib3V0IHRoZVxuICAgKiBldmVudC5cbiAgICogQHBhcmFtIHshZnVuY3Rpb24oIUNsaWVudEV2ZW50KTpGaWx0ZXJSZXN1bHR9IGZpbHRlcmVyXG4gICAqL1xuICByZWdpc3RlckV2ZW50RmlsdGVyZXIoZmlsdGVyZXIpIHt9XG5cbiAgLyoqXG4gICAqIENhbGwgdGhpcyBmdW5jdGlvbiB0byBsb2cgYW4gZXZlbnQuICBJdCB3aWxsIGltbWVkaWF0ZWx5IHRocm93IGFuIGVycm9yIGlmXG4gICAqIHRoZSBldmVudCBpcyBpbnZhbGlkLiAgSXQgd2lsbCB0aGVuIGFzeW5jaHJvbm91c2x5IGNhbGwgdGhlIGZpbHRlcmVycyBhbmRcbiAgICogc3RvcCB0aGUgZXZlbnQgaWYgYSBmaWx0ZXJlciBjYW5jZWxzIGl0LiAgQWZ0ZXIgdGhhdCwgaXQgd2lsbCBjYWxsIGVhY2hcbiAgICogbGlzdGVuZXIgYXN5bmNocm9ub3VzbHkuXG4gICAqIEBwYXJhbSB7IUNsaWVudEV2ZW50fSBldmVudFxuICAgKiBAcGFyYW0geyghQ2xpZW50RXZlbnRQYXJhbXN8dW5kZWZpbmVkKT19IGV2ZW50UGFyYW1zXG4gICAqL1xuICBsb2dFdmVudChldmVudCwgZXZlbnRQYXJhbXMgPSB1bmRlZmluZWQpIHt9XG59XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qKlxuICogRXZlbnQgUHJvcGVydGllcyB0byBoYW5kbGUgZm9yIGEgc3BlY2lmaWMgZXZlbnQuIEZvciBleGFtcGxlLCBHQSBFdmVudFxuICogcHJvcGVydGllcyB0byBza2lwIFN3RyBsb2dnaW5nIGJ1dCBzdGlsbCBiZSBoYW5kbGVkIHZpYSBjYWxsYmFjay5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGdvb2dsZUFuYWx5dGljc1BhcmFtZXRlcnM6ICh7XG4gKiAgICAgZXZlbnRfY2F0ZWdvcnk6IHN0cmluZyxcbiAqICAgICBzdXJ2ZXlfcXVlc3Rpb246IHN0cmluZyxcbiAqICAgICBzdXJ2ZXlfYW5zd2VyX2NhdGVnb3J5OiBzdHJpbmcsXG4gKiAgICAgZXZlbnRfbGFiZWw6IHN0cmluZyxcbiAqICAgfXx1bmRlZmluZWQpXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IENsaWVudEV2ZW50UGFyYW1zO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0VudGl0bGVtZW50cyBhcyBFbnRpdGxlbWVudHNEZWZ9IGZyb20gJy4vZW50aXRsZW1lbnRzJztcbmltcG9ydCB7UHVyY2hhc2VEYXRhIGFzIFB1cmNoYXNlRGF0YURlZn0gZnJvbSAnLi9zdWJzY3JpYmUtcmVzcG9uc2UnO1xuaW1wb3J0IHtVc2VyRGF0YSBhcyBVc2VyRGF0YURlZn0gZnJvbSAnLi91c2VyLWRhdGEnO1xuXG4vKipcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGVudGl0bGVtZW50cyAtIHRoZSBjdXJyZW50IGVudGl0bGVtZW50cy5cbiAqIC0gY29uc2VudCAtIHdoZXRoZXIgdG8gYXNrIHRoZSB1c2VyIGZvciBhY2NvdW50IGNyZWF0aW9uIGNvbnNlbnQuXG4gKiAgIERlZmF1bHQgaXMgYHRydWVgLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGVudGl0bGVtZW50czogKD9FbnRpdGxlbWVudHNEZWZ8dW5kZWZpbmVkKSxcbiAqICAgY29uc2VudDogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25SZXF1ZXN0O1xuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnRzRGVmfSBlbnRpdGxlbWVudHNcbiAgICogQHBhcmFtIHshVXNlckRhdGFEZWZ9IHVzZXJEYXRhXG4gICAqIEBwYXJhbSB7IUFycmF5PCFQdXJjaGFzZURhdGFEZWY+fSBwdXJjaGFzZURhdGFMaXN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTohUHJvbWlzZX0gY29tcGxldGVIYW5kbGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbnRpdGxlbWVudHMsIHVzZXJEYXRhLCBwdXJjaGFzZURhdGFMaXN0LCBjb21wbGV0ZUhhbmRsZXIpIHtcbiAgICAvKiogQGNvbnN0IHshRW50aXRsZW1lbnRzRGVmfSAqL1xuICAgIHRoaXMuZW50aXRsZW1lbnRzID0gZW50aXRsZW1lbnRzO1xuICAgIC8qKiBAY29uc3QgeyFVc2VyRGF0YURlZn0gKi9cbiAgICB0aGlzLnVzZXJEYXRhID0gdXNlckRhdGE7XG4gICAgLyoqIEBjb25zdCB7IUFycmF5PCFQdXJjaGFzZURhdGFEZWY+fSAqL1xuICAgIHRoaXMucHVyY2hhc2VEYXRhTGlzdCA9IHB1cmNoYXNlRGF0YUxpc3Q7XG4gICAgLy8gVE9ETyhkdm95dGVua28pOiBkZXByZWNhdGUuXG4gICAgLyoqIEBjb25zdCB7IVB1cmNoYXNlRGF0YURlZn0gKi9cbiAgICB0aGlzLnB1cmNoYXNlRGF0YSA9IHB1cmNoYXNlRGF0YUxpc3RbMF07XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7ZnVuY3Rpb24oKTohUHJvbWlzZX0gKi9cbiAgICB0aGlzLmNvbXBsZXRlSGFuZGxlcl8gPSBjb21wbGV0ZUhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IURlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2V9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IERlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2UoXG4gICAgICB0aGlzLmVudGl0bGVtZW50cyxcbiAgICAgIHRoaXMudXNlckRhdGEsXG4gICAgICB0aGlzLnB1cmNoYXNlRGF0YUxpc3QsXG4gICAgICB0aGlzLmNvbXBsZXRlSGFuZGxlcl9cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFPYmplY3R9XG4gICAqL1xuICBqc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnZW50aXRsZW1lbnRzJzogdGhpcy5lbnRpdGxlbWVudHMuanNvbigpLFxuICAgICAgJ3VzZXJEYXRhJzogdGhpcy51c2VyRGF0YS5qc29uKCksXG4gICAgICAncHVyY2hhc2VEYXRhTGlzdCc6IHRoaXMucHVyY2hhc2VEYXRhTGlzdC5tYXAoKHBkKSA9PiBwZC5qc29uKCkpLFxuICAgICAgLy8gVE9ETyhkdm95dGVua28pOiBkZXByZWNhdGUuXG4gICAgICAncHVyY2hhc2VEYXRhJzogdGhpcy5wdXJjaGFzZURhdGEuanNvbigpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIHRoZSByZWNlaXZpbmcgc2l0ZSB0byBjb21wbGV0ZS9hY2tub3dsZWRnZSB0aGF0IGl0IHJlZ2lzdGVyZWRcbiAgICogdGhlIHN1YnNjcmlwdGlvbiBpbmZvLiBUaGUgdHlwaWNhbCBhY3Rpb24gd291bGQgYmUgdG8gY3JlYXRlIGFuXG4gICAqIGFjY291bnQgKG9yIG1hdGNoIGFuIGV4aXN0aW5nIG9uZSkgYW5kIGFzc29jaWF0ZWQgdGhlIHN1YnNjcmlwdGlvbiB3aXRoXG4gICAqIHRoYXQgYWNjb3VudC5cbiAgICpcbiAgICogU3dHIHdpbGwgZGlzcGxheSBwcm9ncmVzcyBpbmRpY2F0b3IgdW50aWwgdGhpcyBtZXRob2QgaXMgY2FsbGVkIGFuZFxuICAgKiB1cG9uIHJlY2VpdmluZyB0aGlzIGNhbGwgd2lsbCBzaG93IHRoZSBjb25maXJtYXRpb24gdG8gdGhlIHVzZXIuXG4gICAqIFRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoaXMgbWV0aG9kIHdpbGwgeWllbGQgb25jZSB0aGUgdXNlciBjbG9zZXNcbiAgICogdGhlIGNvbmZpcm1hdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBjb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wbGV0ZUhhbmRsZXJfKCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtUaW1lc3RhbXB9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge2RlYnVnTG9nfSBmcm9tICcuLi91dGlscy9sb2cnO1xuaW1wb3J0IHtmaW5kSW5BcnJheX0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0JztcbmltcG9ydCB7Z2V0UHJvcGVydHlGcm9tSnNvblN0cmluZ30gZnJvbSAnLi4vdXRpbHMvanNvbic7XG5pbXBvcnQge3dhcm59IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5cbi8qKiBTb3VyY2UgZm9yIEdvb2dsZS1wcm92aWRlZCBub24tbWV0ZXJpbmcgZW50aXRsZW1lbnRzLiAqL1xuZXhwb3J0IGNvbnN0IEdPT0dMRV9TT1VSQ0UgPSAnZ29vZ2xlJztcblxuLyoqIFNvdXJjZSBmb3IgR29vZ2xlLXByb3ZpZGVkIG1ldGVyaW5nIGVudGl0bGVtZW50cy4gKi9cbmV4cG9ydCBjb25zdCBHT09HTEVfTUVURVJJTkdfU09VUkNFID0gJ2dvb2dsZTptZXRlcmluZyc7XG5cbi8qKiBTb3VyY2UgZm9yIHByaXZpbGVnZWQgZW50aXRsZW1lbnRzLiAqL1xuZXhwb3J0IGNvbnN0IFBSSVZJTEVHRURfU09VUkNFID0gJ3ByaXZpbGVnZWQnO1xuXG4vKiogU3Vic2NyaXB0aW9uIHRva2VuIGZvciBkZXYgbW9kZSBlbnRpdGxlbWVudHMuICovXG5leHBvcnQgY29uc3QgREVWX01PREVfVE9LRU4gPSAnR09PR0xFX0RFVl9NT0RFX1RPS0VOJztcblxuLyoqIE9yZGVyIElEIHJldHVybmVkIGZvciBkZXYgbW9kZSBlbnRpdGxlbWVudHMuICovXG5leHBvcnQgY29uc3QgREVWX01PREVfT1JERVIgPSAnR09PR0xFX0RFVl9NT0RFX09SREVSJztcblxuLyoqXG4gKiBUaGUgaG9sZGVyIG9mIHRoZSBlbnRpdGxlbWVudHMgZm9yIGEgc2VydmljZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEVudGl0bGVtZW50cyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmF3XG4gICAqIEBwYXJhbSB7IUFycmF5PCFFbnRpdGxlbWVudD59IGVudGl0bGVtZW50c1xuICAgKiBAcGFyYW0gez9zdHJpbmd9IGN1cnJlbnRQcm9kdWN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVudGl0bGVtZW50cyl9IGFja0hhbmRsZXJcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRW50aXRsZW1lbnRzLCA/RnVuY3Rpb249KX0gY29uc3VtZUhhbmRsZXJcbiAgICogQHBhcmFtIHs/Ym9vbGVhbnx1bmRlZmluZWR9IGlzUmVhZHlUb1BheVxuICAgKiBAcGFyYW0gez9zdHJpbmd8dW5kZWZpbmVkfSBkZWNyeXB0ZWREb2N1bWVudEtleVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgc2VydmljZSxcbiAgICByYXcsXG4gICAgZW50aXRsZW1lbnRzLFxuICAgIGN1cnJlbnRQcm9kdWN0LFxuICAgIGFja0hhbmRsZXIsXG4gICAgY29uc3VtZUhhbmRsZXIsXG4gICAgaXNSZWFkeVRvUGF5LFxuICAgIGRlY3J5cHRlZERvY3VtZW50S2V5XG4gICkge1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnJhdyA9IHJhdztcbiAgICAvKiogQGNvbnN0IHshQXJyYXk8IUVudGl0bGVtZW50Pn0gKi9cbiAgICB0aGlzLmVudGl0bGVtZW50cyA9IGVudGl0bGVtZW50cztcbiAgICAvKiogQGNvbnN0IHtib29sZWFufSAqL1xuICAgIHRoaXMuaXNSZWFkeVRvUGF5ID0gaXNSZWFkeVRvUGF5IHx8IGZhbHNlO1xuICAgIC8qKiBAY29uc3Qgez9zdHJpbmd9ICovXG4gICAgdGhpcy5kZWNyeXB0ZWREb2N1bWVudEtleSA9IGRlY3J5cHRlZERvY3VtZW50S2V5IHx8IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHs/c3RyaW5nfSAqL1xuICAgIHRoaXMucHJvZHVjdF8gPSBjdXJyZW50UHJvZHVjdDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbighRW50aXRsZW1lbnRzKX0gKi9cbiAgICB0aGlzLmFja0hhbmRsZXJfID0gYWNrSGFuZGxlcjtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbighRW50aXRsZW1lbnRzLCA/RnVuY3Rpb249KX0gKi9cbiAgICB0aGlzLmNvbnN1bWVIYW5kbGVyXyA9IGNvbnN1bWVIYW5kbGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFFbnRpdGxlbWVudHN9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEVudGl0bGVtZW50cyhcbiAgICAgIHRoaXMuc2VydmljZSxcbiAgICAgIHRoaXMucmF3LFxuICAgICAgdGhpcy5lbnRpdGxlbWVudHMubWFwKChlbnQpID0+IGVudC5jbG9uZSgpKSxcbiAgICAgIHRoaXMucHJvZHVjdF8sXG4gICAgICB0aGlzLmFja0hhbmRsZXJfLFxuICAgICAgdGhpcy5jb25zdW1lSGFuZGxlcl8sXG4gICAgICB0aGlzLmlzUmVhZHlUb1BheSxcbiAgICAgIHRoaXMuZGVjcnlwdGVkRG9jdW1lbnRLZXlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFPYmplY3R9XG4gICAqL1xuICBqc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnc2VydmljZSc6IHRoaXMuc2VydmljZSxcbiAgICAgICdlbnRpdGxlbWVudHMnOiB0aGlzLmVudGl0bGVtZW50cy5tYXAoKGl0ZW0pID0+IGl0ZW0uanNvbigpKSxcbiAgICAgICdpc1JlYWR5VG9QYXknOiB0aGlzLmlzUmVhZHlUb1BheSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBhcnRpY2xlIGlzIHVubG9ja2VkIGJ5IGEgY2FjaGVhYmxlIGVudGl0bGVtZW50LlxuICAgKiBNZXRlcmluZyBlbnRpdGxlbWVudHMgYXJlbid0IGNhY2hlYWJsZSwgYmVjYXVzZSBlYWNoIG1ldGVyaW5nIGVudGl0bGVtZW50XG4gICAqIGlzIG1lYW50IHRvIGJlIHVzZWQgZm9yIG9uZSBhcnRpY2xlLiBTdWJzY3JpcHRpb24gZW50aXRsZW1lbnRzIHRoYXQgYXJlXG4gICAqIG5vdCByZXR1cm5lZCBieSBkZXYgbW9kZSBhcmUgY2FjaGVhYmxlLCBiZWNhdXNlIHN1YnNjcmlwdGlvbiBlbnRpdGxlbWVudHNcbiAgICogYXJlIG1lYW50IHRvIGJlIHVzZWQgYWNyb3NzIG11bHRpcGxlIGFydGljbGVzIG9uIGEgcHVibGljYXRpb24uXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBlbmFibGVzVGhpc1dpdGhDYWNoZWFibGVFbnRpdGxlbWVudHMoKSB7XG4gICAgY29uc3QgZW50aXRsZW1lbnQgPSB0aGlzLmdldEVudGl0bGVtZW50Rm9yVGhpcygpO1xuICAgIHJldHVybiAoXG4gICAgICAhIWVudGl0bGVtZW50ICYmXG4gICAgICAhdGhpcy5lbmFibGVzVGhpc1dpdGhHb29nbGVNZXRlcmluZygpICYmXG4gICAgICAhdGhpcy5lbmFibGVzVGhpc1dpdGhHb29nbGVEZXZNb2RlKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBhcnRpY2xlIGlzIHVubG9ja2VkIGJ5IGFcbiAgICogR29vZ2xlIG1ldGVyaW5nIGVudGl0bGVtZW50LiBUaGVzZSBlbnRpdGxlbWVudHMgbWF5IGNvbWVcbiAgICogZnJvbSBHb29nbGUgTmV3cyBJbnRpYXRpdmUncyBsaWNlbnNpbmcgcHJvZ3JhbSB0byBzdXBwb3J0IG5ld3MuXG4gICAqIGh0dHBzOi8vd3d3LmJsb2cuZ29vZ2xlL291dHJlYWNoLWluaXRpYXRpdmVzL2dvb2dsZS1uZXdzLWluaXRpYXRpdmUvbGljZW5zaW5nLXByb2dyYW0tc3VwcG9ydC1uZXdzLWluZHVzdHJ5LS9cbiAgICogVGhleSBtYXkgYWxzbyBjb21lIGZyb20gR29vZ2xlJ3MgU3Vic2NyaWJlIFdpdGggR29vZ2xlIE1ldGVyaW5nXG4gICAqIGZ1bmN0aW9uYWxpdHkuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBlbmFibGVzVGhpc1dpdGhHb29nbGVNZXRlcmluZygpIHtcbiAgICBjb25zdCBlbnRpdGxlbWVudCA9IHRoaXMuZ2V0RW50aXRsZW1lbnRGb3JUaGlzKCk7XG4gICAgcmV0dXJuICEhZW50aXRsZW1lbnQgJiYgZW50aXRsZW1lbnQuc291cmNlID09PSBHT09HTEVfTUVURVJJTkdfU09VUkNFO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBhcnRpY2xlIGlzIHVubG9ja2VkIGJ5IGEgR29vZ2xlIGRldiBtb2RlXG4gICAqIGVudGl0bGVtZW50LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZW5hYmxlc1RoaXNXaXRoR29vZ2xlRGV2TW9kZSgpIHtcbiAgICBjb25zdCBlbnRpdGxlbWVudCA9IHRoaXMuZ2V0RW50aXRsZW1lbnRGb3JUaGlzKCk7XG4gICAgaWYgKCFlbnRpdGxlbWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpc0ZpcnN0UGFydHlUb2tlbiA9XG4gICAgICBlbnRpdGxlbWVudC5zb3VyY2UgPT09IEdPT0dMRV9TT1VSQ0UgJiZcbiAgICAgIGVudGl0bGVtZW50LnN1YnNjcmlwdGlvblRva2VuLmluZGV4T2YoREVWX01PREVfT1JERVIpICE9PSAtMTtcbiAgICBjb25zdCBpc1RoaXJkUGFydHlUb2tlbiA9IGVudGl0bGVtZW50LnN1YnNjcmlwdGlvblRva2VuID09PSBERVZfTU9ERV9UT0tFTjtcbiAgICByZXR1cm4gaXNGaXJzdFBhcnR5VG9rZW4gfHwgaXNUaGlyZFBhcnR5VG9rZW47XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzb3VyY2VcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGVuYWJsZXNUaGlzKHNvdXJjZSkge1xuICAgIHJldHVybiB0aGlzLmVuYWJsZXModGhpcy5wcm9kdWN0Xywgc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgZW5hYmxlc0FueShzb3VyY2UpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50aXRsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZW50aXRsZW1lbnRzW2ldLnByb2R1Y3RzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgKCFzb3VyY2UgfHwgc291cmNlID09IHRoaXMuZW50aXRsZW1lbnRzW2ldLnNvdXJjZSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlc2UgZW50aXRsZW1lbnRzIGVuYWJsZSB0aGUgc3BlY2lmaWVkIHByb2R1Y3QsIG9wdGlvbmFsbHkgYWxzb1xuICAgKiByZXN0cmljdGluZyB0aGUgc291cmNlLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHByb2R1Y3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzb3VyY2VcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGVuYWJsZXMocHJvZHVjdCwgc291cmNlKSB7XG4gICAgaWYgKCFwcm9kdWN0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIXRoaXMuZ2V0RW50aXRsZW1lbnRGb3IocHJvZHVjdCwgc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBlbnRpdGxlbWVudCBmb3IgdGhlIGN1cnJlbnQgcHJvZHVjdCxcbiAgICogb3B0aW9uYWxseSBhbHNvIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgc291cmNlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNvdXJjZVxuICAgKiBAcmV0dXJuIHs/RW50aXRsZW1lbnR9XG4gICAqL1xuICBnZXRFbnRpdGxlbWVudEZvclRoaXMoc291cmNlKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RW50aXRsZW1lbnRGb3IodGhpcy5wcm9kdWN0Xywgc291cmNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZyBlbnRpdGxlbWVudCBmb3IgdGhlIHNwZWNpZmllZCBwcm9kdWN0LFxuICAgKiBvcHRpb25hbGx5IGFsc28gbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBzb3VyY2UuXG4gICAqXG4gICAqIFJldHVybnMgbm9uLW1ldGVyaW5nIGVudGl0bGVtZW50cyBpZiBwb3NzaWJsZSwgdG8gYXZvaWQgY29uc3VtaW5nXG4gICAqIG1ldGVyZWQgcmVhZHMgdW5uZWNlc3NhcmlseS5cbiAgICpcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBwcm9kdWN0XG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc291cmNlXG4gICAqIEByZXR1cm4gez9FbnRpdGxlbWVudH1cbiAgICovXG4gIGdldEVudGl0bGVtZW50Rm9yKHByb2R1Y3QsIHNvdXJjZSkge1xuICAgIGlmICghcHJvZHVjdCkge1xuICAgICAgLy8gUmVxdWlyZSBhIHByb2R1Y3QgSUQuXG4gICAgICB3YXJuKFxuICAgICAgICAnU3dHIG5lZWRzIHRoaXMgYXJ0aWNsZSB0byBkZWZpbmUgYSBwcm9kdWN0IElEIChlLmcuIGV4YW1wbGUuY29tOnByZW1pdW0pLiBBcnRpY2xlcyBjYW4gZGVmaW5lIGEgcHJvZHVjdCBJRCB1c2luZyBKU09OK0xELiBTd0cgY2FuIGNoZWNrIGVudGl0bGVtZW50cyBhZnRlciB0aGlzIGFydGljbGUgZGVmaW5lcyBhIHByb2R1Y3QgSUQuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFByZWZlciBzdWJzY3JpcHRpb24gZW50aXRsZW1lbnRzIG92ZXIgbWV0ZXJpbmcgZW50aXRsZW1lbnRzLlxuICAgIC8vIE1ldGVyaW5nIGVudGl0bGVtZW50cyBhcmUgYSBsaW1pdGVkIHJlc291cmNlLiBXaGVuIGEgbWV0ZXJpbmcgZW50aXRsZW1lbnRcbiAgICAvLyB1bmxvY2tzIGFuIGFydGljbGUsIHRoYXQgZGVwbGV0ZXMgdGhlIHVzZXIncyByZW1haW5pbmcgXCJmcmVlIHJlYWRzXCIuXG4gICAgLy8gU3Vic2NyaXB0aW9uIGVudGl0bGVtZW50cyBhcmUgKm5vdCogZGVwbGV0ZWQgd2hlbiB0aGV5IHVubG9jayBhcnRpY2xlcy5cbiAgICAvLyBUaGV5IGFyZSBlc3NlbnRpYWxseSB1bmxpbWl0ZWQgaWYgdGhlIHN1YnNjcmlwdGlvbiByZW1haW5zIHZhbGlkLlxuICAgIC8vIEZvciB0aGlzIHJlYXNvbiwgc3Vic2NyaXB0aW9uIGVudGl0bGVtZW50cyBhcmUgcHJlZmVycmVkLlxuICAgIGNvbnN0IGVudGl0bGVtZW50c1RoYXRVbmxvY2tBcnRpY2xlID0gdGhpcy5lbnRpdGxlbWVudHMuZmlsdGVyKFxuICAgICAgKGVudGl0bGVtZW50KSA9PlxuICAgICAgICBlbnRpdGxlbWVudC5lbmFibGVzKHByb2R1Y3QpICYmXG4gICAgICAgICghc291cmNlIHx8IHNvdXJjZSA9PT0gZW50aXRsZW1lbnQuc291cmNlKVxuICAgICk7XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb25FbnRpdGxlbWVudCA9IGZpbmRJbkFycmF5KFxuICAgICAgZW50aXRsZW1lbnRzVGhhdFVubG9ja0FydGljbGUsXG4gICAgICAoZW50aXRsZW1lbnQpID0+IGVudGl0bGVtZW50LnNvdXJjZSAhPT0gR09PR0xFX01FVEVSSU5HX1NPVVJDRVxuICAgICk7XG5cbiAgICBjb25zdCBtZXRlcmluZ0VudGl0bGVtZW50ID0gZmluZEluQXJyYXkoXG4gICAgICBlbnRpdGxlbWVudHNUaGF0VW5sb2NrQXJ0aWNsZSxcbiAgICAgIChlbnRpdGxlbWVudCkgPT4gZW50aXRsZW1lbnQuc291cmNlID09PSBHT09HTEVfTUVURVJJTkdfU09VUkNFXG4gICAgKTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb25FbnRpdGxlbWVudCB8fCBtZXRlcmluZ0VudGl0bGVtZW50IHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hpbmcgZW50aXRsZW1lbnQgZm9yIHRoZSBzcGVjaWZpZWQgc291cmNlIHcvb1xuICAgKiBtYXRjaGluZyBhbnkgc3BlY2lmaWMgcHJvZHVjdHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VcbiAgICogQHJldHVybiB7P0VudGl0bGVtZW50fVxuICAgKi9cbiAgZ2V0RW50aXRsZW1lbnRGb3JTb3VyY2Uoc291cmNlKSB7XG4gICAgaWYgKHRoaXMuZW50aXRsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbnRpdGxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuZW50aXRsZW1lbnRzW2ldLnN1YnNjcmlwdGlvblRva2VuICYmXG4gICAgICAgICAgc291cmNlID09IHRoaXMuZW50aXRsZW1lbnRzW2ldLnNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbnRpdGxlbWVudHNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQSAzcCBzaXRlIHNob3VsZCBjYWxsIHRoaXMgbWV0aG9kIHRvIGFja25vd2xlZGdlIHRoYXQgaXQgXCJzYXdcIiBhbmRcbiAgICogXCJ1bmRlcnN0b29kXCIgZW50aXRsZW1lbnRzLlxuICAgKi9cbiAgYWNrKCkge1xuICAgIHRoaXMuYWNrSGFuZGxlcl8odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQSAzcCBzaXRlIHNob3VsZCBjYWxsIHRoaXMgbWV0aG9kIHRvIGNvbnN1bWUgYSBHb29nbGUgbWV0ZXJpbmcgZW50aXRsZW1lbnQuXG4gICAqIFdoZW4gYSBtZXRlcmluZyBlbnRpdGxlbWVudCBpcyBjb25zdW1lZCwgU3dHIHNob3dzIHRoZSB1c2VyIGEgbWV0ZXJpbmcgZGlhbG9nLlxuICAgKiBXaGVuIHRoZSB1c2VyIGNsb3NlcyB0aGUgZGlhbG9nLCBTd0cgZGVwbGV0ZXMgb25lIG9mIHRoZSB1c2VyJ3MgcmVtYWluaW5nXG4gICAqIFwiZnJlZSByZWFkc1wiLlxuICAgKiBAcGFyYW0gez9GdW5jdGlvbj19IG9uQ2xvc2VEaWFsb2cgQ2FsbGVkIGFmdGVyIHRoZSB1c2VyIGNsb3NlcyB0aGUgZGlhbG9nLlxuICAgKi9cbiAgY29uc3VtZShvbkNsb3NlRGlhbG9nKSB7XG4gICAgdGhpcy5jb25zdW1lSGFuZGxlcl8odGhpcywgb25DbG9zZURpYWxvZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgc2luZ2xlIGVudGl0bGVtZW50IG9iamVjdC5cbiAqL1xuZXhwb3J0IGNsYXNzIEVudGl0bGVtZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2VcbiAgICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gcHJvZHVjdHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN1YnNjcmlwdGlvblRva2VuXG4gICAqIEBwYXJhbSB7SnNvbk9iamVjdHxudWxsfHVuZGVmaW5lZH0gc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50c1xuICAgKiBAcGFyYW0geyFUaW1lc3RhbXB8bnVsbH0gc3Vic2NyaXB0aW9uVGltZXN0YW1wXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzb3VyY2UsXG4gICAgcHJvZHVjdHMsXG4gICAgc3Vic2NyaXB0aW9uVG9rZW4sXG4gICAgc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50cyxcbiAgICBzdWJzY3JpcHRpb25UaW1lc3RhbXBcbiAgKSB7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIC8qKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHRoaXMucHJvZHVjdHMgPSBwcm9kdWN0cztcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5zdWJzY3JpcHRpb25Ub2tlbiA9IHN1YnNjcmlwdGlvblRva2VuO1xuICAgIC8qKiBAY29uc3Qge0pzb25PYmplY3R8bnVsbHx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5zdWJzY3JpcHRpb25Ub2tlbkNvbnRlbnRzID0gc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50cztcbiAgICAvKiogQGNvbnN0IHshVGltZXN0YW1wfG51bGx9ICovXG4gICAgdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXAgPSBzdWJzY3JpcHRpb25UaW1lc3RhbXA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVudGl0bGVtZW50fVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBFbnRpdGxlbWVudChcbiAgICAgIHRoaXMuc291cmNlLFxuICAgICAgdGhpcy5wcm9kdWN0cy5zbGljZSgwKSxcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9uVG9rZW4sXG4gICAgICB0aGlzLnN1YnNjcmlwdGlvblRva2VuQ29udGVudHMsXG4gICAgICB0aGlzLnN1YnNjcmlwdGlvblRpbWVzdGFtcFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IU9iamVjdH1cbiAgICovXG4gIGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdzb3VyY2UnOiB0aGlzLnNvdXJjZSxcbiAgICAgICdwcm9kdWN0cyc6IHRoaXMucHJvZHVjdHMsXG4gICAgICAnc3Vic2NyaXB0aW9uVG9rZW4nOiB0aGlzLnN1YnNjcmlwdGlvblRva2VuLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBwcm9kdWN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBlbmFibGVzKHByb2R1Y3QpIHtcbiAgICBpZiAoIXByb2R1Y3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgZXEgPSBwcm9kdWN0LmluZGV4T2YoJzonKTtcbiAgICAvLyBIYW5kbGUgd2lsZGNhcmRzXG4gICAgaWYgKGVxICE9IC0xKSB7XG4gICAgICAvLyBXaWxkY2FyZCBwcm9kdWN0IChwdWJsaWNhdGlvbjoqKSB1bmxvY2tzIG9uIGFueSBlbnRpdGxlbWVudCBtYXRjaGluZyBwdWJsaWNhdGlvblxuICAgICAgY29uc3QgcHVibGljYXRpb24gPSBwcm9kdWN0LnN1YnN0cmluZygwLCBlcSArIDEpO1xuICAgICAgaWYgKFxuICAgICAgICBwdWJsaWNhdGlvbiArICcqJyA9PSBwcm9kdWN0ICYmXG4gICAgICAgIHRoaXMucHJvZHVjdHMuZmlsdGVyKFxuICAgICAgICAgIChjYW5kaWRhdGUpID0+IGNhbmRpZGF0ZS5zdWJzdHJpbmcoMCwgZXEgKyAxKSA9PSBwdWJsaWNhdGlvblxuICAgICAgICApLmxlbmd0aCA+PSAxXG4gICAgICApIHtcbiAgICAgICAgZGVidWdMb2coJ2VuYWJsZWQgd2l0aCB3aWxkY2FyZCBwcm9kdWN0SWQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBXaWxkY2FyZCBlbnRpdGxlbWVudCBhbGxvd3MgYW55IHByb2R1Y3QgbWF0Y2hpbmcgdGhpcyBwdWJsaWNhdGlvblxuICAgICAgaWYgKHRoaXMucHJvZHVjdHMuaW5jbHVkZXMocHVibGljYXRpb24gKyAnKicpKSB7XG4gICAgICAgIGRlYnVnTG9nKCdlbmFibGVkIHdpdGggd2lsZGNhcmQgZW50aXRsZW1lbnQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2R1Y3RzLmluY2x1ZGVzKHByb2R1Y3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7P09iamVjdH0ganNvblxuICAgKiBAcGFyYW0geyEuLi91dGlscy9qd3QuSnd0SGVscGVyfSBqd3RIZWxwZXJcbiAgICogQHJldHVybiB7IUVudGl0bGVtZW50fVxuICAgKi9cbiAgc3RhdGljIHBhcnNlRnJvbUpzb24oanNvbiwgand0SGVscGVyKSB7XG4gICAgaWYgKCFqc29uKSB7XG4gICAgICBqc29uID0ge307XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZSA9IGpzb25bJ3NvdXJjZSddIHx8ICcnO1xuICAgIGNvbnN0IHByb2R1Y3RzID0ganNvblsncHJvZHVjdHMnXSB8fCBbXTtcbiAgICBjb25zdCBzdWJzY3JpcHRpb25Ub2tlbiA9IGpzb25bJ3N1YnNjcmlwdGlvblRva2VuJ107XG4gICAgbGV0IHN1YnNjcmlwdGlvblRva2VuQ29udGVudHM7XG4gICAgdHJ5IHtcbiAgICAgIHN1YnNjcmlwdGlvblRva2VuQ29udGVudHMgPSBzdWJzY3JpcHRpb25Ub2tlblxuICAgICAgICA/IGp3dEhlbHBlci5kZWNvZGUoc3Vic2NyaXB0aW9uVG9rZW4pXG4gICAgICAgIDogbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzdWJzY3JpcHRpb25Ub2tlbkNvbnRlbnRzID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB0aW1lc3RhbXBKc29uID0ganNvblsnc3Vic2NyaXB0aW9uVGltZXN0YW1wJ107XG4gICAgbGV0IHN1YnNjcmlwdGlvblRpbWVzdGFtcDtcbiAgICB0cnkge1xuICAgICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wID0gbmV3IFRpbWVzdGFtcChcbiAgICAgICAgW3RpbWVzdGFtcEpzb24uc2Vjb25kc18sIHRpbWVzdGFtcEpzb24ubmFub3NfXSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFbnRpdGxlbWVudChcbiAgICAgIHNvdXJjZSxcbiAgICAgIHByb2R1Y3RzLFxuICAgICAgc3Vic2NyaXB0aW9uVG9rZW4sXG4gICAgICBzdWJzY3JpcHRpb25Ub2tlbkNvbnRlbnRzLFxuICAgICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgSlNPTiBpcyBleHBlY3RlZCBpbiBvbmUgb2YgdGhlIGZvcm1zOlxuICAgKiAtIFNpbmdsZSBlbnRpdGxlbWVudDogYHtwcm9kdWN0czogW10sIC4uLn1gLlxuICAgKiAtIEEgbGlzdCBvZiBlbnRpdGxlbWVudHM6IGBbe3Byb2R1Y3RzOiBbXSwgLi4ufSwgey4uLn1dYC5cbiAgICogQHBhcmFtIHshT2JqZWN0fCFBcnJheTwhT2JqZWN0Pn0ganNvblxuICAgKiBAcGFyYW0geyEuLi91dGlscy9qd3QuSnd0SGVscGVyfSBqd3RIZWxwZXJcbiAgICogQHJldHVybiB7IUFycmF5PCFFbnRpdGxlbWVudD59XG4gICAqL1xuICBzdGF0aWMgcGFyc2VMaXN0RnJvbUpzb24oanNvbiwgand0SGVscGVyKSB7XG4gICAgY29uc3QganNvbkxpc3QgPSBBcnJheS5pc0FycmF5KGpzb24pXG4gICAgICA/IC8qKiBAdHlwZSB7IUFycmF5PE9iamVjdD59ICovIChqc29uKVxuICAgICAgOiBbanNvbl07XG4gICAgcmV0dXJuIGpzb25MaXN0Lm1hcCgoanNvbikgPT4gRW50aXRsZW1lbnQucGFyc2VGcm9tSnNvbihqc29uLCBqd3RIZWxwZXIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBTS1UgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZW50aXRsZW1lbnQuXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRTa3UoKSB7XG4gICAgaWYgKHRoaXMuc291cmNlICE9PSAnZ29vZ2xlJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNrdSA9IC8qKiBAdHlwZSB7P3N0cmluZ30gKi8gKFxuICAgICAgZ2V0UHJvcGVydHlGcm9tSnNvblN0cmluZyh0aGlzLnN1YnNjcmlwdGlvblRva2VuLCAncHJvZHVjdElkJykgfHwgbnVsbFxuICAgICk7XG4gICAgaWYgKCFza3UpIHtcbiAgICAgIHdhcm4oJ1VuYWJsZSB0byByZXRyaWV2ZSBTS1UgZnJvbSBTd0cgc3Vic2NyaXB0aW9uIHRva2VuJyk7XG4gICAgfVxuICAgIHJldHVybiBza3U7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgU3Vic2NyaXB0aW9uU3RhdGUgPSB7XG4gIC8vIHVzZXIncyBzdWJzY3JpcHRpb24gc3RhdGUgbm90IGtub3duLlxuICBVTktOT1dOOiAndW5rbm93bicsXG4gIC8vIHVzZXIgaXMgbm90IGEgc3Vic2NyaWJlci5cbiAgTk9OX1NVQlNDUklCRVI6ICdub25fc3Vic2NyaWJlcicsXG4gIC8vIHVzZXIgaXMgYSBzdWJzY3JpYmVyLlxuICBTVUJTQ1JJQkVSOiAnc3Vic2NyaWJlcicsXG4gIC8vIHVzZXIncyBzdWJzY3JpcHRpb24gaGFzIGV4cGlyZWQuXG4gIFBBU1RfU1VCU0NSSUJFUjogJ3Bhc3Rfc3Vic2NyaWJlcicsXG59O1xuXG4vKipcbiAqIFN1YnNjcmlwdGlvbiByZWxhdGVkIGV2ZW50cy4gTGlzdGVkIGJlbG93IGFyZSBlbnVtIHN0cmluZ3MgdGhhdFxuICogcmVwcmVzZW50IGV2ZW50cyByZWxhdGVkIHRvIFN1YnNjcmlwdGlvbiBmbG93LiBFdmVudCBwYXJhbWV0ZXJzXG4gKiB0aGF0IHByb3ZpZGUgbW9yZSBjb250ZXh0IGFib3V0IHRoZSBldmVudCBhcmUgc2VudCBhcyBhIEpTT05cbiAqIGJsb2NrIG9mIGRlcHRoIDEgaW4gdGhlIHNlbmRFdmVudCgpIEFQSSBjYWxsLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50ID0ge1xuICAvKipcbiAgICogSU1QUkVTU0lPTl9QQVlXQUxMIGV2ZW50LlxuICAgKiBVc2VyIGhpdHMgYSBwYXl3YWxsLlxuICAgKiBFdmVyeSBpbXByZXNzaW9uIHNob3VsZCBiZSBxdWFsaWZpZWQgYXMgYWN0aXZlIG9yIHBhc3NpdmUuXG4gICAqIFRoZSBmaWVsZCAnYWN0aXZlJyBvZiBQcm9wZW5zaXR5RXZlbnQsIHdoaWNoIGNhcnJpZXMgdGhpc1xuICAgKiBldmVudCwgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBvciBmYWxzZSB0byBpbmRpY2F0ZSB0aGlzLlxuICAgKiBJZiB0aGUgdXNlciBoYXMgcnVuIG91dCBvZiBtZXRlcmluZywgYW5kIHRoYXTigJlzIHdoeSB3YXMgc2hvd25cbiAgICogYSBwYXl3YWxsLCB0aGF0IHdvdWxkIGJlIGEgcGFzc2l2ZSBpbXByZXNzaW9uIG9mIHRoZSBwYXl3YWxsLlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogY29uc3QgcHJvcGVuc2l0eUV2ZW50ID0ge1xuICAgKiAgbmFtZTogJ3BheXdhbGwnLFxuICAgKiAgYWN0aXZlOiBmYWxzZSxcbiAgICogfVxuICAgKi9cbiAgSU1QUkVTU0lPTl9QQVlXQUxMOiAncGF5d2FsbCcsXG4gIC8qKlxuICAgKiBJTVBSRVNTSU9OX0FEIGV2ZW50LlxuICAgKiBVc2VyIGhhcyBiZWVuIHNob3duIGEgc3Vic2NyaXB0aW9uIGFkLlxuICAgKiBFdmVyeSBpbXByZXNzaW9uIHNob3VsZCBiZSBxdWFsaWZpZWQgYXMgYWN0aXZlIG9yIHBhc3NpdmUuXG4gICAqIFRoZSBmaWVsZCAnYWN0aXZlJyBvZiBQcm9wZW5zaXR5RXZlbnQsIHdoaWNoIGNhcnJpZXMgdGhpc1xuICAgKiBldmVudCwgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBvciBmYWxzZSB0byBpbmRpY2F0ZSB0aGlzLlxuICAgKiBUaGUgSlNPTiBibG9jayBjYW4gcHJvdmlkZSB0aGUgbmFtZSBvZiB0aGUgc3Vic2NyaXB0aW9uIGFkXG4gICAqIGNyZWF0aXZlIG9yIGNhbXBhaWduLiBBZCBpbXByZXNzaW9ucyBhcmUgdXN1YWxseSBwYXNzaXZlLlxuICAgKiBjb25zdCBwcm9wZW5zaXR5RXZlbnQgPSB7XG4gICAqICAgbmFtZTogJ2FkX3Nob3duJyxcbiAgICogICBhY3RpdmU6IGZhbHNlLFxuICAgKiAgIGRhdGE6IHsnYWRfbmFtZSc6ICdmYWxsX2FkJ31cbiAgICogfVxuICAgKi9cbiAgSU1QUkVTU0lPTl9BRDogJ2FkX3Nob3duJyxcbiAgLyoqXG4gICAqIElNUFJFU1NJT05fT0ZGRVJTIGV2ZW50LlxuICAgKiBVc2VyIGhhcyBiZWVuIHNob3duIGEgbGlzdCBvZiBhdmFpbGFibGUgb2ZmZXJzIGZvciBzdWJzY3JpcHRpb24uXG4gICAqIEV2ZXJ5IGltcHJlc3Npb24gc2hvdWxkIGJlIHF1YWxpZmllZCBhcyBhY3RpdmUgb3IgcGFzc2l2ZS5cbiAgICogVGhlIGZpZWxkICdhY3RpdmUnIG9mIFByb3BlbnNpdHlFdmVudCwgd2hpY2ggY2FycmllcyB0aGlzXG4gICAqIGV2ZW50LCBtdXN0IGJlIHNldCB0byB0cnVlIG9yIGZhbHNlIHRvIGluZGljYXRlIHRoaXMuXG4gICAqIFRoZSBKU09OIGJsb2NrIGNhbiBwcm92aWRlIGEgbGlzdCBvZiBwcm9kdWN0cyBkaXNwbGF5ZWQsXG4gICAqIGFuZCB0aGUgc291cmNlIHRvIGluZGljYXRlIHdoeSB0aGUgdXNlciB3YXMgc2hvd24gdGhlIG9mZmVyLlxuICAgKiBOb3RlOiBzb3VyY2UgaXMgbm90IHRoZSBzYW1lIGFzIHJlZmVycmVyLlxuICAgKiBJbiB0aGUgY2FzZXMgYmVsb3csIHRoZSB1c2VyIHRvb2sgYWN0aW9uIGJlZm9yZSBzZWVpbmcgdGhlIG9mZmVycyxcbiAgICogYW5kIHRoZXJlZm9yZSBjb25zaWRlcmVkIGFjdGl2ZSBpbXByZXNzaW9uLlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogY29uc3QgcHJvcGVuc2l0eUV2ZW50ID0ge1xuICAgKiAgIG5hbWU6ICdvZmZlcnNfc2hvd24nLFxuICAgKiAgIGFjdGl2ZTogdHJ1ZSxcbiAgICogICBkYXRhOiB7J29mZmVycyc6IFsnYmFzaWMtbW9udGhseScsICdwcmVtaXVtLXdlZWtseSddLFxuICAgKiAgICAgICAgICAgJ3NvdXJjZSc6ICdhZC1jbGljayd9XG4gICAqIH1cbiAgICogRm9yIGV4YW1wbGU6XG4gICAqIGNvbnN0IHByb3BlbnNpdHlFdmVudCA9IHtcbiAgICogICBuYW1lOiAnb2ZmZXJzX3Nob3duJyxcbiAgICogICBhY3RpdmU6IHRydWUsXG4gICAqICAgZGF0YTogeydvZmZlcnMnOiBbJ2Jhc2ljLW1vbnRobHknLCAncHJlbWl1bS13ZWVrbHknXSxcbiAgICogICAgICAgICAgICdzb3VyY2UnOiDigJhuYXZpZ2F0ZS10by1vZmZlcnMtcGFnZeKAmX1cbiAgICogfVxuICAgKiBJZiB0aGUgdXNlciB3YXMgc2hvd24gdGhlIG9mZmVycyBhcyBhIHJlc3VsdCBvZiBwYXl3YWxsIG1ldGVyaW5nXG4gICAqIGV4cGlyYXRpb24sIGl0IGlzIGNvbnNpZGVyZWQgYSBwYXNzaXZlIGltcHJlc3Npb24uXG4gICAqIEZvciBleGFtcGxlOlxuICAgKiBjb25zdCBwcm9wZW5zaXR5RXZlbnQgPSB7XG4gICAqICAgbmFtZTogJ29mZmVyc19zaG93bicsXG4gICAqICAgYWN0aXZlOiBmYWxzZSxcbiAgICogICBkYXRhOiB7J29mZmVycyc6IFsnYmFzaWMtbW9udGhseScsICdwcmVtaXVtLXdlZWtseSddLFxuICAgKiAgICAgICAgICAgJ3NvdXJjZSc6IOKAmHBheXdhbGwtbWV0ZXJpbmctZXhwaXJlZOKAmX1cbiAgICogfVxuICAgKi9cbiAgSU1QUkVTU0lPTl9PRkZFUlM6ICdvZmZlcnNfc2hvd24nLFxuICAvKipcbiAgICogQUNUSU9OX1NVQlNDUklQVElPTlNfTEFORElOR19QQUdFIGV2ZW50LlxuICAgKiBVc2VyIGhhcyB0YWtlbiB0aGUgYWN0aW9uIHRvIGFycml2ZSBhdCBhIGxhbmRpbmcgcGFnZSBvZiB0aGVcbiAgICogc3Vic2NyaXB0aW9uIHdvcmtmbG93LiBUaGUgbGFuZGluZyBwYWdlIHNob3VsZCBzYXRpc2Z5IG9uZSBvZlxuICAgKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYW5kIGhlbmNlIGJlIGEgcGFydCBvZiB0aGUgZnVubmVsIHRvXG4gICAqIGdldCB0aGUgdXNlciB0byBzdWJzY3JpYmU6XG4gICAqIC0gaGF2ZSBhIGJ1dHRvbiB0byBuYXZpZ2F0ZSB0aGUgdXNlciB0byBhbiBvZmZlcnMgcGFnZSwgKGluXG4gICAqICAgdGhpcyBjYXNlLCB0aGUgbmV4dCBldmVudCB3aWxsIGJlIElNUFJFU1NJT05fT0ZGRVJTLCB3aXRoXG4gICAqICAgcGFyYW1ldGVyICdzb3VyY2UnIGFzIHN1YnNjcmlwdGlvbnMtbGFuZGluZy1wYWdlIGFuZFxuICAgKiAgICdpc19hY3RpdmUnIHNldCB0byB0cnVlKSxcbiAgICogLSBzaG93IG9mZmVycyB0aGUgdXNlciBjYW4gc2VsZWN0LCAoaW4gdGhpcyBjYXNlLCB0aGUgbmV4dFxuICAgKiAgIGV2ZW50IHdpbGwgYmUgSU1QUkVTU0lPTl9PRkZFUlMsIHdpdGggYSBwYXJhbWV0ZXIgJ3NvdXJjZSdcbiAgICogICBhcyBuYXZpZ2F0ZS10by1vZmZlcnMtcGFnZSBhbmQgJ2lzX2FjdGl2ZScgc2V0IHRvIHRydWUpLFxuICAgKiAtIHByb3ZpZGUgYSB3YXkgdG8gc3RhcnQgdGhlIHBheW1lbnQgZmxvdyBmb3IgYSBzcGVjaWZpYyBvZmZlci5cbiAgICogICAoaW4gdGhpcyBjYXNlLCB0aGUgbmV4dCBldmVudCB3aWxsIGJlIEFDVElPTl9PRkZFUl9TRUxFQ1RFRFxuICAgKiAgIG9yIEFDVElPTl9QQVlNRU5UX0ZMT1dfU1RBUlRFRCBkZXBlbmRpbmcgb24gaWYgdGhhdCBidXR0b25cbiAgICogICB0b29rIHRoZSB1c2VyIHRvIGEgY2hlY2tvdXQgcGFnZSBvbiB0aGUgcHVibGlzaGVycyBzaXRlIG9yXG4gICAqICAgZGlyZWN0bHkgc3RhcnRlZCB0aGUgcGF5bWVudCBmbG93KS5cbiAgICogVGhlIGZpZWxkICdhY3RpdmUnIG9mIFByb3BlbnNpdHlFdmVudCwgd2hpY2ggY2FycmllcyB0aGlzXG4gICAqIGV2ZW50LCBtdXN0IGJlIHNldCB0byB0cnVlIHNpbmNlIHRoaXMgaXMgYSB1c2VyIGFjdGlvbi5cbiAgICogVGhlIEpTT04gYmxvY2sgd2l0aCB0aGlzIGV2ZW50IGNhbiBwcm92aWRlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAgICogc3VjaCBhcyB0aGUgc291cmNlLCBpbmRpY2F0aW5nIHdoYXQgY2F1c2VkIHRoZSB1c2VyIHRvIG5hdmlnYXRlXG4gICAqIHRvIHRoaXMgcGFnZS5cbiAgICogRm9yIGV4YW1wbGU6XG4gICAqIGNvbnN0IHByb3BlbnNpdHlFdmVudCA9IHtcbiAgICogICBuYW1lOiAnc3Vic2NyaXB0aW9uc19sYW5kaW5nX3BhZ2UnLFxuICAgKiAgIGFjdGl2ZTogdHJ1ZSxcbiAgICogICBkYXRhOiB7J3NvdXJjZSc6ICdtYXJrZXRpbmdfdmlhX2VtYWlsJ31cbiAgICogfVxuICAgKi9cbiAgQUNUSU9OX1NVQlNDUklQVElPTlNfTEFORElOR19QQUdFOiAnc3Vic2NyaXB0aW9uc19sYW5kaW5nX3BhZ2UnLFxuICAvKipcbiAgICogQUNUSU9OX09GRkVSX1NFTEVDVEVEIGV2ZW50LlxuICAgKiBVc2VyIGhhcyBzZWxlY3RlZCBhbiBvZmZlci5cbiAgICogVGhlIGZpZWxkICdhY3RpdmUnIG9mIFByb3BlbnNpdHlFdmVudCwgd2hpY2ggY2FycmllcyB0aGlzXG4gICAqIGV2ZW50LCBtdXN0IGJlIHNldCB0byB0cnVlIHNpbmNlIHRoaXMgaXMgYSB1c2VyIGFjdGlvbi5cbiAgICogVGhlIEpTT04gYmxvY2sgY2FuIHByb3ZpZGUgdGhlIHByb2R1Y3Qgc2VsZWN0ZWQuXG4gICAqIEZvciBleGFtcGxlOiB7XG4gICAqICAgbmFtZTogJ29mZmVyX3NlbGVjdGVkJyxcbiAgICogICBhY3RpdmU6IHRydWUsXG4gICAqICAgZGF0YToge3Byb2R1Y3QnOiAnYmFzaWMtbW9udGhseSd9XG4gICAqIH1cbiAgICogV2hlbiBvZmZlciBzZWxlY3Rpb24gc3RhcnRzIHRoZSBwYXltZW50IGZsb3cgZGlyZWN0bHksXG4gICAqIHVzZSB0aGUgbmV4dCBldmVudCBBQ1RJT05fUEFZTUVOVF9GTE9XX1NUQVJURUQgaW5zdGVhZC5cbiAgICovXG4gIEFDVElPTl9PRkZFUl9TRUxFQ1RFRDogJ29mZmVyX3NlbGVjdGVkJyxcbiAgLyoqXG4gICAqIEFDVElPTl9QQVlNRU5UX0ZMT1dfU1RBUlRFRCBldmVudC5cbiAgICogVXNlciBoYXMgc3RhcnRlZCBwYXltZW50IGZsb3cuXG4gICAqIFRoZSBmaWVsZCAnYWN0aXZlJyBvZiBQcm9wZW5zaXR5RXZlbnQsIHdoaWNoIGNhcnJpZXMgdGhpc1xuICAgKiBldmVudCwgbXVzdCBiZSBzZXQgdG8gdHJ1ZSBzaW5jZSB0aGlzIGlzIGEgdXNlciBhY3Rpb24uXG4gICAqIFRoZSBKU09OIGJsb2NrIGNhbiBwcm92aWRlIHRoZSBwcm9kdWN0IHNlbGVjdGVkLlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogY29uc3QgcHJvcGVuc2l0eUV2ZW50ID0ge1xuICAgKiAgIG5hbWU6ICdwYXltZW50X2Zsb3dfc3RhcnRlZCcsXG4gICAqICAgYWN0aXZlOiB0cnVlLFxuICAgKiAgIGRhdGE6IHtwcm9kdWN0JzogJ2Jhc2ljLW1vbnRobHknfVxuICAgKiB9XG4gICAqL1xuICBBQ1RJT05fUEFZTUVOVF9GTE9XX1NUQVJURUQ6ICdwYXltZW50X2Zsb3dfc3RhcnQnLFxuICAvKipcbiAgICogQUNUSU9OX1BBWU1FTlRfQ09NUExFVEVELlxuICAgKiBVc2VyIGhhcyBtYWRlIHRoZSBwYXltZW50IGZvciBhIHN1YnNjcmlwdGlvbi5cbiAgICogVGhlIGZpZWxkICdhY3RpdmUnIG9mIFByb3BlbnNpdHlFdmVudCwgd2hpY2ggY2FycmllcyB0aGlzXG4gICAqIGV2ZW50LCBtdXN0IGJlIHNldCB0byB0cnVlIHNpbmNlIHRoaXMgaXMgYSB1c2VyIGFjdGlvbi5cbiAgICogVGhlIEpTT04gYmxvY2sgY2FuIHByb3ZpZGUgdGhlIHByb2R1Y3QgdXNlciBwYWlkIGZvci5cbiAgICogRm9yIGV4YW1wbGU6XG4gICAqIGNvbnN0IHByb3BlbnNpdHlFdmVudCA9IHtcbiAgICogICBuYW1lOiAncGF5bWVudF9jb21wbGV0ZScsXG4gICAqICAgYWN0aXZlOiB0cnVlLFxuICAgKiAgIGRhdGE6IHtwcm9kdWN0JzogJ2Jhc2ljLW1vbnRobHknfVxuICAgKiB9XG4gICAqL1xuICBBQ1RJT05fUEFZTUVOVF9DT01QTEVURUQ6ICdwYXltZW50X2NvbXBsZXRlJyxcbiAgLyoqXG4gICAqIEVWRU5UX0NVU1RPTTogY3VzdG9tIHB1Ymxpc2hlciBldmVudC5cbiAgICogVGhlIGZpZWxkICdhY3RpdmUnIG9mIFByb3BlbnNpdHlFdmVudCwgd2hpY2ggY2FycmllcyB0aGlzXG4gICAqIGV2ZW50LCBtdXN0IGJlIHNldCB0byB0cnVlIG9yIGZhbHNlIGRlcGVuZGluZyBvbiBpZiB0aGUgZXZlbnRcbiAgICogd2FzIGdlbmVyYXRlZCBhcyBhIHJlc3VsdCBvZiBhIHVzZXIgYWN0aW9uLlxuICAgKiBUaGUgSlNPTiBibG9jayBjYW4gcHJvdmlkZSB0aGUgZXZlbnQgbmFtZSBmb3IgdGhlIGN1c3RvbSBldmVudC5cbiAgICogRm9yIGV4YW1wbGU6XG4gICAqIGNvbnN0IHByb3BlbnNpdHlFdmVudCA9IHtcbiAgICogICBuYW1lOiAnY3VzdG9tJyxcbiAgICogICBhY3RpdmU6IHRydWUsXG4gICAqICAgZGF0YToge1xuICAgKiAgICAgJ2V2ZW50X25hbWUnOiAnc29jaWFsX3NoYXJlJyxcbiAgICogICAgICdwbGF0Zm9ybV91c2VkJzogJ3doYXRzYXBwJ1xuICAgKiAgIH1cbiAgICogIH1cbiAgICovXG4gIEVWRU5UX0NVU1RPTTogJ2N1c3RvbScsXG59O1xuXG4vKipcbiAqIFByb3BlbnNpdHkgRXZlbnRcbiAqIFByb3BlcnRpZXM6XG4gKiAtIG5hbWU6IFJlcXVpcmVkLiBOYW1lIHNob3VsZCBiZSB2YWxpZCBzdHJpbmcgaW4gdGhlIEV2ZW50XG4gKiAgICAgICAgIGVudW0gd2l0aGluIHNyYy9hcGkvbG9nZ2VyLWFwaS5qcy5cbiAqIC0gYWN0aXZlOiBSZXF1aXJlZC4gQSBib29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlXG4gKiAgICAgICAgIHVzZXIgdG9vayBzb21lIGFjdGlvbiB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZmxvd1xuICogICAgICAgICB0aGF0IGdlbmVyYXRlZCB0aGlzIGV2ZW50LiBGb3IgaW1wcmVzc2lvbiBldmVudCxcbiAqICAgICAgICAgdGhpcyBpcyBzZXQgdG8gdHJ1ZSBpZiBpc19hY3RpdmUgZmllbGQgd291bGQgYmVcbiAqICAgICAgICAgc2V0IHRvIHRydWUsIGFzIGRlc2NyaWJlZCBpbiBkb2N1bWVudGF0aW9uIGZvclxuICogICAgICAgICBlbnVtIEV2ZW50LiBPdGhlcndpc2UsIHNldCB0aGlzIGZpZWxkIHRvIGZhbHNlLlxuICogICAgICAgICBGb3IgYWN0aW9uIGV2ZW50cywgdGhpcyBmaWVsZCBtdXN0IGFsd2F5cyBiZSBzZXRcbiAqICAgICAgICAgdG8gdHJ1ZS4gVGhlIGNhbGxlciBtdXN0IGFsd2F5cyBzZXQgdGhpcyBmaWVsZC5cbiAqIC0gZGF0YTogT3B0aW9uYWwuIEpTT04gYmxvY2sgb2YgZGVwdGggJzEnIHByb3ZpZGVzIGV2ZW50XG4gKiAgICAgICAgIHBhcmFtZXRlcnMuIFRoZSBndWlkZWxpbmUgdG8gY3JlYXRlIHRoaXMgSlNPTiBibG9ja1xuICogICAgICAgICB0aGF0IGRlc2NyaWJlcyB0aGUgZXZlbnQgaXMgcHJvdmlkZWQgYWdhaW5zdCBlYWNoXG4gKiAgICAgICAgIGVudW0gbGlzdGVkIGluIHRoZSBFdmVudCBlbnVtIGFib3ZlLlxuICpcbiAqICBAdHlwZWRlZiB7e1xuICogICAgbmFtZTogc3RyaW5nLFxuICogICAgYWN0aXZlOiBib29sZWFuLFxuICogICAgZGF0YTogP0pzb25PYmplY3QsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFB1Ymxpc2hlckV2ZW50O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuLyoqXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dnZXJBcGkge1xuICAvKipcbiAgICogU2VuZCBhIGJ1eS1mbG93IGV2ZW50IHRoYXQgb2NjdXJyZWQgb24gdGhlIHB1Ymxpc2hlcidzIHNpdGUgdG8gR29vZ2xlLiAgVGhlXG4gICAqIHVsdGltYXRlIGRlc3RpbmF0aW9uIGlzIGNvbnRyb2xsZWQgYnkgY29uZmlndXJhdGlvbiBzZXR0aW5ncy4gIFB1Ymxpc2hlclxuICAgKiBjb25maWd1cmF0aW9uIGF2YWlsYWJsZTpcbiAgICogICBlbmFibGVQcm9wZW5zaXR5IC0gU2VuZHMgZGF0YSB0byB0aGUgUHJvcGVuc2l0eSB0byBTdWJzY3JpYmUgYWRzIHNlcnZlci5cbiAgICogICBlbmFibGVTd2dBbmFseXRpY3MgLSBTZW5kcyBkYXRhIHRvIEdvb2dsZSdzIGFuYWx5dGljcyBzZXJ2ZXIgZm9yIGJ1eS1mbG93XG4gICAqICAgICBjb21wYXJpc29uIHB1cnBvc2VzLlxuICAgKiBAcGFyYW0geyFQdWJsaXNoZXJFdmVudH0gdXNlckV2ZW50XG4gICAqL1xuICBzZW5kRXZlbnQodXNlckV2ZW50KSB7fVxuXG4gIC8qKlxuICAgKiBTZW5kIHVzZXIgc3Vic2NyaXB0aW9uIHN0YXRlIHVwb24gaW5pdGlhbCBkaXNjb3ZlcnkuXG4gICAqIEEgdXNlciBtYXkgaGF2ZSBhY3RpdmUgc3Vic2NyaXB0aW9ucyB0byBzb21lIHByb2R1Y3RzXG4gICAqIGFuZCBleHBpcmVkIHN1YnNjcmlwdGlvbnMgdG8gb3RoZXJzLiBNYWtlIG9uZSBBUEkgY2FsbFxuICAgKiBwZXIgc3Vic2NyaXB0aW9uIHN0YXRlIGFuZCBwcm92aWRlIGEgY29ycmVzcG9uZGluZ1xuICAgKiBsaXN0IG9mIHByb2R1Y3RzIHdpdGggYSBqc29uIG9iamVjdCBvZiBkZXB0aCAxLlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogICAgIHsncHJvZHVjdCc6IFsncHJvZHVjdDEnLCAncHJvZHVjdDInXX1cbiAgICogRWFjaCBjYWxsIHRvIHRoaXMgQVBJIHNob3VsZCBoYXZlIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgKiBhcyBhIHZhbGlkIHN0cmluZyBmcm9tIHRoZSBlbnVtIFN1YnNjcmlwdGlvblN0YXRlLlxuICAgKiBAcGFyYW0ge1N1YnNjcmlwdGlvblN0YXRlfSBzdGF0ZVxuICAgKiBAcGFyYW0gez9Kc29uT2JqZWN0fSBqc29uUHJvZHVjdHNcbiAgICovXG4gIHNlbmRTdWJzY3JpcHRpb25TdGF0ZShzdGF0ZSwganNvblByb2R1Y3RzKSB7fVxufVxuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiogQGVudW0ge251bWJlcn0gICovXG5leHBvcnQgY29uc3QgTWV0ZXJDbGllbnRUeXBlcyA9IHtcbiAgLyoqIE1ldGVyIGNsaWVudCB0eXBlIGZvciBjb250ZW50IGxpY2Vuc2VkIGJ5IEdvb2dsZS4gKi9cbiAgTElDRU5TRURfQllfR09PR0xFOiAxLFxuICAvKipcbiAgICogTWV0ZXIgY2xpZW50IHR5cGUgZm9yIGNvbnRlbnQgdGhhdCBhIHB1YmxpY2F0aW9uIGlzIGFsbG93aW5nIHRvIGJlXG4gICAqIG1ldGVyZWQgYnkgR29vZ2xlLlxuICAgKi9cbiAgTUVURVJFRF9CWV9HT09HTEU6IDIsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIE9mZmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBza3VJZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcmljZVxuICAgKi9cbiAgY29uc3RydWN0b3Ioc2t1SWQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgcHJpY2UpIHtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5za3VJZCA9IHNrdUlkO1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5wcmljZSA9IHByaWNlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgKiBhcyBMb2dnZXJBcGkgZnJvbSAnLi9sb2dnZXItYXBpJztcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgUHJvcGVuc2l0eVR5cGUgPSB7XG4gIC8vIFByb3BlbnNpdHkgc2NvcmUgZm9yIGEgdXNlciB0byBzdWJzY3JpYmUgdG8gYSBwdWJsaWNhdGlvbi5cbiAgR0VORVJBTDogJ2dlbmVyYWwnLFxuICAvLyBQcm9wZW5zaXR5IHNjb3JlIHdoZW4gYmxvY2tlZCBhY2Nlc3MgdG8gY29udGVudCBieSBwYXl3YWxsLlxuICBQQVlXQUxMOiAncGF5d2FsbCcsXG59O1xuXG4vKipcbiAqIFRoZSBQcm9wZW5zaXR5IFNjb3JlXG4gKiAtIHZhbHVlOiBSZXF1aXJlZC4gQSBudW1iZXIgdGhhdCBpbmRpY2F0ZXMgdGhlIHByb3BlbnNpdHkgdG8gc3Vic2NyaWJlLlxuICogLSBidWNrZXRlZDogUmVxdWlyZWQuIEluZGljYXRlcyBpZiB0aGUgc2NvcmUgaXMgYSByYXcgc2NvcmUgWzEtMTAwXSBvciBidWNrZXRlZFsxLTIwXS5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICB2YWx1ZTogbnVtYmVyLFxuICogICBidWNrZXRlZDogYm9vbGVhbixcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgU2NvcmU7XG5cbi8qKlxuICogUHJvcGVuc2l0eSBTY29yZSBEZXRhaWxcbiAqIFByb3BlcnRpZXM6XG4gKiAtIHByb2R1Y3Q6IFJlcXVpcmVkLiBJbmRpY2F0ZXMgdGhlIHB1YmxpY2F0aW9uX2lkOnByb2R1Y3RfaWQgZm9yIHdoaWNoIHRoZSBzY29yZSBpcyBwcm92aWRlZC5cbiAqIC0gc2NvcmU6IE9wdGlvbmFsLiBXaGVuIHNjb3JlIGlzIGF2YWlsYWJsZSwgdGhpcyBmaWVsZCBjb250YWlucyB0aGUgcHJvcGVuc2l0eSBzY29yZSBmb3IgdGhpcyBwcm9kdWN0LlxuICogLSBlcnJvcjogT3B0aW9uYWwuIFdoZW4gbm8gc2NvcmUgaXMgYXZhaWFsYmxlLCBhIHN0cmluZyBwcm92aWRlcyB0aGUgZXJyb3IgbWVzc2FnZS5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBwcm9kdWN0OiBzdHJpbmcsXG4gKiAgIHNjb3JlOiA/U2NvcmUsXG4gKiAgIGVycm9yOiA/c3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTY29yZURldGFpbDtcblxuLyoqXG4gKiBUaGUgQm9keSBmaWVsZCBvZiB0aGUgUHJvcGVuc2l0eSBTY29yZS5cbiAqIFByb3BlcnRpZXM6XG4gKiAtIHNjb3JlczogT3B0aW9uYWwsIGFuIGFycmF5IG9mIHNjb3Jlcy4gV2hlbiBoZWFkZXIgaW5kaWNhdGVzIHNvLCBhdGxlYXN0IG9uZSBzY29yZSBpcyBhdmFpbGFibGUuXG4gKiAtIGVycm9yOiBPcHRpb25hbCwgc3RyaW5nIGRlc2NyaWJpbmcgd2h5LCBpZiBubyBzY29yZXMgd2VyZSBwcm92aWRlZCBieSB0aGUgc2VydmVyLlxuICpcbiAqICBAdHlwZWRlZiB7e1xuICogICAgc2NvcmVzOiA/QXJyYXk8U2NvcmVEZXRhaWw+LFxuICogICAgZXJyb3I6ID9zdHJpbmcsXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEJvZHk7XG5cbi8qKlxuICogVGhlIEhlYWRlciBvZiB0aGUgUHJvcGVuc2l0eSBTY29yZS5cbiAqIFByb3BlcnRpZXM6XG4gKiAtIG9rOiBSZXF1aXJlZC4gdHJ1ZSwgaWYgcHJvcGVuc2l0eSBzY29yZSBpcyBhdmFpbGFibGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiAgQHR5cGVkZWYge3tcbiAqICAgIG9rOiBib29sZWFuLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBIZWFkZXI7XG5cbi8qKlxuICogVGhlIFByb3BlbnNpdHkgU2NvcmUuXG4gKiBQcm9wZXJ0aWVzOlxuICogLSBoZWFkZXI6IFJlcXVpcmVkLiBQcm92aWRlcyB0aGUgaGVhZGVyIG9mIHRoZSBTY29yZSByZXNwb25zZS5cbiAqIC0gYm9keTogUmVxdWlyZWQuIFByb3ZpZGVzIHRoZSBib2R5IG9mIHRoZSBTY29yZSByZXNwb25zZS5cbiAqXG4gKiAgQHR5cGVkZWYge3tcbiAqICAgIGhlYWRlcjogSGVhZGVyLFxuICogICAgYm9keTogQm9keSxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgUHJvcGVuc2l0eVNjb3JlO1xuXG4vKipcbiAqIFByb3BlbnNpdHkgRXZlbnRcbiAqICAgUGxlYXNlIG5vdGUgdGhhdCB0aGUgcHJpbWFyeSBkZWZpdGlvbiBvZiB0aGlzIG9iamVjdCBoYXMgY2hhbmdlZCB0b1xuICogICBQdWJsaXNoZXJFdmVudCBhbmQgaXMgZGVmaW5lZCBpbiBsb2dnZXItYXBpLmpzLiAgVGhlc2UgdHdvIG9iamVjdFxuICogICBkZWZpbml0aW9ucyBhcmUgaWRlbnRpY2FsLlxuICogUHJvcGVydGllczpcbiAqIC0gbmFtZTogUmVxdWlyZWQuIE5hbWUgc2hvdWxkIGJlIHZhbGlkIHN0cmluZyBpbiB0aGUgRXZlbnRcbiAqICAgICAgICAgZW51bSB3aXRoaW4gc3JjL2FwaS9sb2dnZXItYXBpLmpzLlxuICogLSBhY3RpdmU6IFJlcXVpcmVkLiBBIGJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGVcbiAqICAgICAgICAgdXNlciB0b29rIHNvbWUgYWN0aW9uIHRvIHBhcnRpY2lwYXRlIGluIHRoZSBmbG93XG4gKiAgICAgICAgIHRoYXQgZ2VuZXJhdGVkIHRoaXMgZXZlbnQuIEZvciBpbXByZXNzaW9uIGV2ZW50LFxuICogICAgICAgICB0aGlzIGlzIHNldCB0byB0cnVlIGlmIGlzX2FjdGl2ZSBmaWVsZCB3b3VsZCBiZVxuICogICAgICAgICBzZXQgdG8gdHJ1ZSwgYXMgZGVzY3JpYmVkIGluIGRvY3VtZW50YXRpb24gZm9yXG4gKiAgICAgICAgIGVudW0gRXZlbnQuIE90aGVyd2lzZSwgc2V0IHRoaXMgZmllbGQgdG8gZmFsc2UuXG4gKiAgICAgICAgIEZvciBhY3Rpb24gZXZlbnRzLCB0aGlzIGZpZWxkIG11c3QgYWx3YXlzIGJlIHNldFxuICogICAgICAgICB0byB0cnVlLiBUaGUgY2FsbGVyIG11c3QgYWx3YXlzIHNldCB0aGlzIGZpZWxkLlxuICogLSBkYXRhOiBPcHRpb25hbC4gSlNPTiBibG9jayBvZiBkZXB0aCAnMScgcHJvdmlkZXMgZXZlbnRcbiAqICAgICAgICAgcGFyYW1ldGVycy4gVGhlIGd1aWRlbGluZSB0byBjcmVhdGUgdGhpcyBKU09OIGJsb2NrXG4gKiAgICAgICAgIHRoYXQgZGVzY3JpYmVzIHRoZSBldmVudCBpcyBwcm92aWRlZCBhZ2FpbnN0IGVhY2hcbiAqICAgICAgICAgZW51bSBsaXN0ZWQgaW4gdGhlIEV2ZW50IGVudW0gYWJvdmUuXG4gKlxuICogIEB0eXBlZGVmIHt7XG4gKiAgICBuYW1lOiBzdHJpbmcsXG4gKiAgICBhY3RpdmU6IGJvb2xlYW4sXG4gKiAgICBkYXRhOiA/SnNvbk9iamVjdCxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgUHJvcGVuc2l0eUV2ZW50O1xuXG4vKlxuICogUGxlYXNlIG5vdGUgdGhhdCB0aGUgZGVmaW5pdGlvbnMgb2YgRXZlbnQgYW5kIFN1YnNjcmlwdGlvblN0YXRlIGhhdmUgbW92ZWRcbiAqIHRvIGxvZ2dlci1hcGkuanMuICBUaGlzIGlzIG5vdyB0aGUgcHJlZmVycmVkIGludGVyZmFjZSB0byB1c2UgZm9yIGxvZ2dpbmdcbiAqIHB1Ymxpc2hlciBldmVudHMgYW5kIHNldHRpbmcgdGhlIHVzZXIncyBjdXJyZW50IHN1YnNjcmlwdGlvbiBzdGF0ZS5cbiAqIFByb3BlbnNpdHkgd2lsbCBjb250aW51ZSB0byBmdW5jdGlvbiBhcyBhbiBldmVudCBsb2dnZXIgdW50aWwgd2UgYXJlIGNlcnRhaW5cbiAqIG5vIHB1Ymxpc2hlcnMgYXJlIGFjdGl2ZWx5IHVzaW5nIGl0IHRvIGxvZyBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBFdmVudCA9IExvZ2dlckFwaS5FdmVudDtcbmV4cG9ydCBjb25zdCBTdWJzY3JpcHRpb25TdGF0ZSA9IExvZ2dlckFwaS5TdWJzY3JpcHRpb25TdGF0ZTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbi8qKlxuICogQGV4dGVuZHMge0xvZ2dlckFwaS5Mb2dnZXJBcGl9XG4gKiBAaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZW5zaXR5QXBpIGV4dGVuZHMgTG9nZ2VyQXBpLkxvZ2dlckFwaSB7XG4gIC8qKlxuICAgKiBHZXQgdGhlIHByb3BlbnNpdHkgb2YgYSB1c2VyIHRvIHN1YnNjcmliZSBiYXNlZCBvbiB0aGUgdHlwZS5cbiAgICogVGhlIGFyZ3VtZW50IHNob3VsZCBiZSBhIHZhbGlkIHN0cmluZyBmcm9tIFByb3BlbnNpdHlUeXBlLlxuICAgKiBJZiBubyB0eXBlIGlzIHByb3ZpZGVkLCBHRU5FUkFMIHNjb3JlIGlzIHJldHVybmVkLlxuICAgKiBAcGFyYW0ge1Byb3BlbnNpdHlUeXBlPX0gdHlwZVxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTwhUHJvcGVuc2l0eVNjb3JlPn1cbiAgICovXG4gIGdldFByb3BlbnNpdHkodHlwZSkge31cbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtFbnRpdGxlbWVudHMgYXMgRW50aXRsZW1lbnRzRGVmfSBmcm9tICcuL2VudGl0bGVtZW50cyc7XG5pbXBvcnQge1VzZXJEYXRhIGFzIFVzZXJEYXRhRGVmfSBmcm9tICcuL3VzZXItZGF0YSc7XG5cbi8qKlxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJhd1xuICAgKiBAcGFyYW0geyFQdXJjaGFzZURhdGF9IHB1cmNoYXNlRGF0YVxuICAgKiBAcGFyYW0gez9Vc2VyRGF0YURlZn0gdXNlckRhdGFcbiAgICogQHBhcmFtIHs/RW50aXRsZW1lbnRzRGVmfSBlbnRpdGxlbWVudHNcbiAgICogQHBhcmFtIHshc3RyaW5nfSBwcm9kdWN0VHlwZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IVByb21pc2V9IGNvbXBsZXRlSGFuZGxlclxuICAgKiBAcGFyYW0gez9zdHJpbmc9fSBvbGRTa3VcbiAgICogQHBhcmFtIHs/c3RyaW5nPX0gc3dnVXNlclRva2VuXG4gICAqIEBwYXJhbSB7P251bWJlcj19IHBheW1lbnRSZWN1cnJlbmNlXG4gICAqIEBwYXJhbSB7P09iamVjdD19IHJlcXVlc3RNZXRhZGF0YVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcmF3LFxuICAgIHB1cmNoYXNlRGF0YSxcbiAgICB1c2VyRGF0YSxcbiAgICBlbnRpdGxlbWVudHMsXG4gICAgcHJvZHVjdFR5cGUsXG4gICAgY29tcGxldGVIYW5kbGVyLFxuICAgIG9sZFNrdSA9IG51bGwsXG4gICAgc3dnVXNlclRva2VuID0gbnVsbCxcbiAgICBwYXltZW50UmVjdXJyZW5jZSA9IG51bGwsXG4gICAgcmVxdWVzdE1ldGFkYXRhID0gbnVsbFxuICApIHtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5yYXcgPSByYXc7XG4gICAgLyoqIEBjb25zdCB7IVB1cmNoYXNlRGF0YX0gKi9cbiAgICB0aGlzLnB1cmNoYXNlRGF0YSA9IHB1cmNoYXNlRGF0YTtcbiAgICAvKiogQGNvbnN0IHs/VXNlckRhdGFEZWZ9ICovXG4gICAgdGhpcy51c2VyRGF0YSA9IHVzZXJEYXRhO1xuICAgIC8qKiBAY29uc3Qgez9FbnRpdGxlbWVudHNEZWZ9ICovXG4gICAgdGhpcy5lbnRpdGxlbWVudHMgPSBlbnRpdGxlbWVudHM7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMucHJvZHVjdFR5cGUgPSBwcm9kdWN0VHlwZTtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtmdW5jdGlvbigpOiFQcm9taXNlfSAqL1xuICAgIHRoaXMuY29tcGxldGVIYW5kbGVyXyA9IGNvbXBsZXRlSGFuZGxlcjtcbiAgICAvKiogQGNvbnN0IHs/c3RyaW5nfSAqL1xuICAgIHRoaXMub2xkU2t1ID0gb2xkU2t1O1xuICAgIC8qKiBAY29uc3Qgez9zdHJpbmd9ICovXG4gICAgdGhpcy5zd2dVc2VyVG9rZW4gPSBzd2dVc2VyVG9rZW47XG4gICAgLyoqIEBjb25zdCB7P251bWJlcn0gKi9cbiAgICB0aGlzLnBheW1lbnRSZWN1cnJlbmNlID0gcGF5bWVudFJlY3VycmVuY2U7XG4gICAgLyoqIEBjb25zdCB7P09iamVjdH0gKi9cbiAgICB0aGlzLnJlcXVlc3RNZXRhZGF0YSA9IHJlcXVlc3RNZXRhZGF0YTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshU3Vic2NyaWJlUmVzcG9uc2V9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZVJlc3BvbnNlKFxuICAgICAgdGhpcy5yYXcsXG4gICAgICB0aGlzLnB1cmNoYXNlRGF0YSxcbiAgICAgIHRoaXMudXNlckRhdGEsXG4gICAgICB0aGlzLmVudGl0bGVtZW50cyxcbiAgICAgIHRoaXMucHJvZHVjdFR5cGUsXG4gICAgICB0aGlzLmNvbXBsZXRlSGFuZGxlcl8sXG4gICAgICB0aGlzLm9sZFNrdSxcbiAgICAgIHRoaXMuc3dnVXNlclRva2VuXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshT2JqZWN0fVxuICAgKi9cbiAganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3B1cmNoYXNlRGF0YSc6IHRoaXMucHVyY2hhc2VEYXRhLmpzb24oKSxcbiAgICAgICd1c2VyRGF0YSc6IHRoaXMudXNlckRhdGEgPyB0aGlzLnVzZXJEYXRhLmpzb24oKSA6IG51bGwsXG4gICAgICAnZW50aXRsZW1lbnRzJzogdGhpcy5lbnRpdGxlbWVudHMgPyB0aGlzLmVudGl0bGVtZW50cy5qc29uKCkgOiBudWxsLFxuICAgICAgJ29sZFNrdSc6IHRoaXMub2xkU2t1LFxuICAgICAgJ3Byb2R1Y3RUeXBlJzogdGhpcy5wcm9kdWN0VHlwZSxcbiAgICAgICdzd2dVc2VyVG9rZW4nOiB0aGlzLnN3Z1VzZXJUb2tlbixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyB0aGUgcmVjZWl2aW5nIHNpdGUgdG8gY29tcGxldGUvYWNrbm93bGVkZ2UgdGhhdCBpdCByZWdpc3RlcmVkXG4gICAqIHRoZSBzdWJzY3JpcHRpb24gcHVyY2hhc2UuIFRoZSB0eXBpY2FsIGFjdGlvbiB3b3VsZCBiZSB0byBjcmVhdGUgYW5cbiAgICogYWNjb3VudCAob3IgbWF0Y2ggYW4gZXhpc3Rpbmcgb25lKSBhbmQgYXNzb2NpYXRlZCB0aGUgcHVyY2hhc2Ugd2l0aFxuICAgKiB0aGF0IGFjY291bnQuXG4gICAqXG4gICAqIFN3RyB3aWxsIGRpc3BsYXkgcHJvZ3Jlc3MgaW5kaWNhdG9yIHVudGlsIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhbmRcbiAgICogdXBvbiByZWNlaXZpbmcgdGhpcyBjYWxsIHdpbGwgc2hvdyB0aGUgY29uZmlybWF0aW9uIHRvIHRoZSB1c2VyLlxuICAgKiBUaGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCB3aWxsIHlpZWxkIG9uY2UgdGhlIHVzZXIgY2xvc2VzXG4gICAqIHRoZSBjb25maXJtYXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgY29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcGxldGVIYW5kbGVyXygpO1xuICB9XG59XG5cbi8qKlxuICovXG5leHBvcnQgY2xhc3MgUHVyY2hhc2VEYXRhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByYXdcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZVxuICAgKi9cbiAgY29uc3RydWN0b3IocmF3LCBzaWduYXR1cmUpIHtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5yYXcgPSByYXc7XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuZGF0YSA9IHJhdztcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVB1cmNoYXNlRGF0YX1cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUHVyY2hhc2VEYXRhKHRoaXMucmF3LCB0aGlzLnNpZ25hdHVyZSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IU9iamVjdH1cbiAgICovXG4gIGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdkYXRhJzogdGhpcy5yYXcsXG4gICAgICAnc2lnbmF0dXJlJzogdGhpcy5zaWduYXR1cmUsXG4gICAgfTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0NsaWVudEV2ZW50TWFuYWdlckFwaSBhcyBDbGllbnRFdmVudE1hbmFnZXJBcGlEZWZ9IGZyb20gJy4vY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpJztcbmltcG9ydCB7XG4gIERlZmVycmVkQWNjb3VudENyZWF0aW9uUmVxdWVzdCxcbiAgRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25SZXNwb25zZSxcbn0gZnJvbSAnLi9kZWZlcnJlZC1hY2NvdW50LWNyZWF0aW9uJztcbmltcG9ydCB7RW50aXRsZW1lbnRzIGFzIEVudGl0bGVtZW50c0RlZn0gZnJvbSAnLi9lbnRpdGxlbWVudHMnO1xuaW1wb3J0IHtMb2dnZXJBcGkgYXMgTG9nZ2VyQXBpRGVmfSBmcm9tICcuL2xvZ2dlci1hcGknO1xuaW1wb3J0IHtPZmZlciBhcyBPZmZlckRlZn0gZnJvbSAnLi9vZmZlcic7XG5pbXBvcnQge1Byb3BlbnNpdHlBcGkgYXMgUHJvcGVuc2l0eUFwaURlZn0gZnJvbSAnLi9wcm9wZW5zaXR5LWFwaSc7XG5pbXBvcnQge1N1YnNjcmliZVJlc3BvbnNlIGFzIFN1YnNjcmliZVJlc3BvbnNlRGVmfSBmcm9tICcuL3N1YnNjcmliZS1yZXNwb25zZSc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKipcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvbnMge1xuICAvKipcbiAgICogT3B0aW9uYWxseSBpbml0aWFsaXplcyB0aGUgc3Vic2NyaXB0aW9ucyBydW50aW1lIHdpdGggcHVibGljYXRpb24gb3JcbiAgICogcHJvZHVjdCBJRC4gSWYgbm90IGNhbGxlZCwgdGhlIHJ1bnRpbWUgd2lsbCBsb29rIGZvciB0aGUgaW5pdGlhbGl6YXRpb25cbiAgICogcGFyYW1ldGVycyBpbiB0aGUgcGFnZSdzIG1hcmt1cC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RPclB1YmxpY2F0aW9uSWRcbiAgICovXG4gIGluaXQocHJvZHVjdE9yUHVibGljYXRpb25JZCkge31cblxuICAvKipcbiAgICogT3B0aW9uYWxseSBjb25maWd1cmVzIHRoZSBydW50aW1lIHdpdGggbm9uLWRlZmF1bHQgcHJvcGVydGllcy4gU2VlXG4gICAqIGBDb25maWdgIGRlZmluaXRpb24gZm9yIGRldGFpbHMuXG4gICAqIEBwYXJhbSB7IUNvbmZpZ30gY29uZmlnXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBjb25maWd1cmUoY29uZmlnKSB7fVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGVudGl0bGVtZW50IGZsb3cuXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzdGFydCgpIHt9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZW50aXRsZW1lbnRzIHRoYXQgY2FuIGJlIGZldGNoZWQgYWdhaW4uXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICByZXNldCgpIHt9XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgZW50aXRsZW1lbnRzIGFuZCBjbGVhcnMgYWxsIG9mIHRoZSBjYWNoZXMuXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBjbGVhcigpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0V4dGVybmFsRGVmPX0gcGFyYW1zXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFFbnRpdGxlbWVudHNEZWY+fVxuICAgKi9cbiAgZ2V0RW50aXRsZW1lbnRzKHBhcmFtcykge31cblxuICAvKipcbiAgICogU2V0IHRoZSBzdWJzY3JpYmUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IUVudGl0bGVtZW50c0RlZj4pfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZShjYWxsYmFjaykge31cblxuICAvKipcbiAgICogUmV0dXJucyBhIHNldCBvZiBvZmZlcnMuXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgIHByb2R1Y3RJZDogKHN0cmluZ3x1bmRlZmluZWQpLFxuICAgKiB9PX0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQXJyYXk8IU9mZmVyRGVmPj59XG4gICAqL1xuICBnZXRPZmZlcnMob3B0aW9ucykge31cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBPZmZlcnMgZmxvdy5cbiAgICogQHBhcmFtIHshT2ZmZXJzUmVxdWVzdD19IG9wdGlvbnNcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNob3dPZmZlcnMob3B0aW9ucykge31cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBPZmZlcnMgZmxvdyBmb3IgYSBzdWJzY3JpcHRpb24gdXBkYXRlLlxuICAgKiBAcGFyYW0geyFPZmZlcnNSZXF1ZXN0PX0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2hvd1VwZGF0ZU9mZmVycyhvcHRpb25zKSB7fVxuXG4gIC8qKlxuICAgKiBTaG93IHN1YnNjcmlwdGlvbiBvcHRpb24uXG4gICAqIEBwYXJhbSB7IU9mZmVyc1JlcXVlc3Q9fSBvcHRpb25zXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzaG93U3Vic2NyaWJlT3B0aW9uKG9wdGlvbnMpIHt9XG5cbiAgLyoqXG4gICAqIFNob3cgYWJicmV2aWF0ZWQgb2ZmZXJzLlxuICAgKiBAcGFyYW0geyFPZmZlcnNSZXF1ZXN0PX0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2hvd0FiYnJ2T2ZmZXIob3B0aW9ucykge31cblxuICAvKipcbiAgICogU2hvdyBjb250cmlidXRpb24gb3B0aW9ucyBmb3IgdGhlIHVzZXJzIHRvIHNlbGVjdCBmcm9tLlxuICAgKiBUaGUgb3B0aW9ucyBhcmUgZ3JvdXBlZCB0b2dldGhlciBieSBwZXJpb2RzIChXZWVrbHksIE1vbnRobHksIGV0Yy4pLlxuICAgKiBVc2VyIGNhbiBzZWxlY3QgdGhlIGFtb3VudCB0byBjb250cmlidXRlIHRvIGZyb20gYXZhaWxhYmxlIG9wdGlvbnNcbiAgICogdG8gdGhlIHB1Ymxpc2hlci4gVGhlc2Ugb3B0aW9ucyBhcmUgYmFzZWQgb24gdGhlIFNLVXMgZGVmaW5lZCBpbiB0aGUgUGxheVxuICAgKiBjb25zb2xlIGZvciBhIGdpdmVuIHB1YmxpY2F0aW9uLlxuICAgKiBFYWNoIFNLVSBoYXMgQW1vdW50LCBQZXJpb2QsIFNLVUlkIGFuZCBvdGhlciBhdHRyaWJ1dGVzLlxuICAgKiBAcGFyYW0geyFPZmZlcnNSZXF1ZXN0PX0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2hvd0NvbnRyaWJ1dGlvbk9wdGlvbnMob3B0aW9ucykge31cblxuICAvKipcbiAgICogU2V0IHRoZSBjYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBzdWJzY3JpYmUgcmVxdWVzdC4gU2V0dGluZyB0aGlzIGNhbGxiYWNrXG4gICAqIHRyaWdnZXJzIHRoZSBcIm5hdGl2ZVwiIG9wdGlvbiBpbiB0aGUgb2ZmZXJzIGZsb3cuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNldE9uTmF0aXZlU3Vic2NyaWJlUmVxdWVzdChjYWxsYmFjaykge31cblxuICAvKipcbiAgICogU2V0IHRoZSBzdWJzY3JpYmUgY29tcGxldGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IVN1YnNjcmliZVJlc3BvbnNlRGVmPil9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzZXRPblN1YnNjcmliZVJlc3BvbnNlKGNhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBTdGFydHMgc3Vic2NyaXB0aW9uIHB1cmNoYXNlIGZsb3cuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBza3VcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHN1YnNjcmliZShza3UpIHt9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBzdWJzY3JpcHRpb24gcHVyY2hhc2UgZmxvdy5cbiAgICogQHBhcmFtIHtTdWJzY3JpcHRpb25SZXF1ZXN0fSBzdWJzY3JpcHRpb25SZXF1ZXN0XG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uUmVxdWVzdCkge31cblxuICAvKipcbiAgICogU2V0IHRoZSBjb250cmlidXRpb24gY29tcGxldGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IVN1YnNjcmliZVJlc3BvbnNlRGVmPil9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzZXRPbkNvbnRyaWJ1dGlvblJlc3BvbnNlKGNhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHBheW1lbnQgY29tcGxldGUgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IVN1YnNjcmliZVJlc3BvbnNlRGVmPil9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBzZXRPblBheW1lbnRSZXNwb25zZShjYWxsYmFjaykge31cblxuICAvKipcbiAgICogU3RhcnRzIGNvbnRyaWJ1dGlvbnMgcHVyY2hhc2UgZmxvdy5cbiAgICogQHBhcmFtIHtzdHJpbmd8U3Vic2NyaXB0aW9uUmVxdWVzdH0gc2t1T3JTdWJzY3JpcHRpb25SZXF1ZXN0XG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBjb250cmlidXRlKHNrdU9yU3Vic2NyaXB0aW9uUmVxdWVzdCkge31cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBkZWZlcnJlZCBhY2NvdW50IGNyZWF0aW9uIGZsb3cuXG4gICAqIFNlZSBgRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25SZXF1ZXN0YCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKiBAcGFyYW0gez9EZWZlcnJlZEFjY291bnRDcmVhdGlvblJlcXVlc3Q9fSBvcHRpb25zXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFEZWZlcnJlZEFjY291bnRDcmVhdGlvblJlc3BvbnNlPn1cbiAgICovXG4gIGNvbXBsZXRlRGVmZXJyZWRBY2NvdW50Q3JlYXRpb24ob3B0aW9ucykge31cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbighTG9naW5SZXF1ZXN0KX0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNldE9uTG9naW5SZXF1ZXN0KGNhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFMb2dpblJlcXVlc3R9IHJlcXVlc3RcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHRyaWdnZXJMb2dpblJlcXVlc3QocmVxdWVzdCkge31cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBsb2dpbiBwcm9tcHQgZmxvdy5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzaG93TG9naW5Qcm9tcHQoKSB7fVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGxvZ2luIG5vdGlmaWNhdGlvbiBmbG93LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHNob3dMb2dpbk5vdGlmaWNhdGlvbigpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNldE9uTGlua0NvbXBsZXRlKGNhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFQcm9taXNlfSBhY2NvdW50UHJvbWlzZSBQdWJsaXNoZXIncyBwcm9taXNlIHRvIGxvb2t1cCBhY2NvdW50LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHdhaXRGb3JTdWJzY3JpcHRpb25Mb29rdXAoYWNjb3VudFByb21pc2UpIHt9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgQWNjb3VudCBsaW5raW5nIGZsb3cuXG4gICAqIFRPRE8oZHBhcmlraCk6IGRlY2lkZSBpZiBpdCdzIG9ubHkgZXhwb3NlZCBmb3IgdGVzdGluZyBvciBQUk9EIHB1cnBvc2VzLlxuICAgKiBAcGFyYW0ge3thbXBSZWFkZXJJZDogKHN0cmluZ3x1bmRlZmluZWQpfT19IHBhcmFtc1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgbGlua0FjY291bnQocGFyYW1zKSB7fVxuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgY2xpZW50IHRoYXQgYSBmbG93IGhhcyBiZWVuIHN0YXJ0ZWQuIFRoZSBuYW1lIG9mIHRoZSBmbG93XG4gICAqIGlzIHBhc3NlZCBhcyB0aGUgY2FsbGJhY2sgYXJndW1lbnQuIFRoZSBmbG93IG5hbWUgY29ycmVzcG9uZHMgdG8gdGhlXG4gICAqIG1ldGhvZCBuYW1lIGluIHRoaXMgaW50ZXJmYWNlLCBzdWNoIGFzIFwic2hvd09mZmVyc1wiLCBvciBcInN1YnNjcmliZVwiLlxuICAgKiBTZWUgYFN1YnNjcmlwdGlvbkZsb3dzYCBmb3IgdGhlIGZ1bGwgbGlzdC5cbiAgICpcbiAgICogQWxzbyBzZWUgYHNldE9uRmxvd0NhbmNlbGVkYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oe2Zsb3c6IHN0cmluZywgZGF0YTogIU9iamVjdH0pfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0T25GbG93U3RhcnRlZChjYWxsYmFjaykge31cblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgZmxvdyBoYXMgYmVlbiBjYW5jZWxlZC4gVGhlIG5hbWUgb2YgdGhlIGZsb3dcbiAgICogaXMgcGFzc2VkIGFzIHRoZSBjYWxsYmFjayBhcmd1bWVudC4gVGhlIGZsb3cgbmFtZSBjb3JyZXNwb25kcyB0byB0aGVcbiAgICogbWV0aG9kIG5hbWUgaW4gdGhpcyBpbnRlcmZhY2UsIHN1Y2ggYXMgXCJzaG93T2ZmZXJzXCIsIG9yIFwic3Vic2NyaWJlXCIuXG4gICAqIFNlZSBgU3Vic2NyaXB0aW9uRmxvd3NgIGZvciB0aGUgZnVsbCBsaXN0LlxuICAgKlxuICAgKiBOb3RpY2UgdGhhdCBzb21lIG9mIHRoZSBmbG93cywgc3VjaCBhcyBcInN1YnNjcmliZVwiLCBjb3VsZCBhZGRpdGlvbmFsbHlcbiAgICogaGF2ZSB0aGVpciBvd24gXCJjYW5jZWxcIiBldmVudHMuXG4gICAqXG4gICAqIEFsc28gc2VlIGBzZXRPbkZsb3dTdGFydGVkYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oe2Zsb3c6IHN0cmluZywgZGF0YTogIU9iamVjdH0pfSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0T25GbG93Q2FuY2VsZWQoY2FsbGJhY2spIHt9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc2F2ZSBzdWJzY3JpcHRpb25zIGZsb3cuXG4gICAqIEBwYXJhbSB7IVNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2t9IHJlcXVlc3RDYWxsYmFja1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gYSBwcm9taXNlIGluZGljYXRpbmcgZmxvdyBpcyBzdGFydGVkXG4gICAqL1xuICBzYXZlU3Vic2NyaXB0aW9uKHJlcXVlc3RDYWxsYmFjaykge31cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlbGVtZW50IHdpdGggdGhlIFN3RyBidXR0b24gc3R5bGUgYW5kIHRoZSBwcm92aWRlZCBjYWxsYmFjay5cbiAgICogVGhlIGRlZmF1bHQgdGhlbWUgaXMgXCJsaWdodFwiLlxuICAgKlxuICAgKiBAcGFyYW0geyFCdXR0b25PcHRpb25zfGZ1bmN0aW9uKCl9IG9wdGlvbnNPckNhbGxiYWNrXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGNhbGxiYWNrXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlQnV0dG9uKG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge31cblxuICAvKipcbiAgICogQXR0YWNoZXMgdGhlIFN3RyBidXR0b24gc3R5bGUgYW5kIHRoZSBwcm92aWRlZCBjYWxsYmFjayB0byBhbiBleGlzdGluZ1xuICAgKiBET00gZWxlbWVudC4gVGhlIGRlZmF1bHQgdGhlbWUgaXMgXCJsaWdodFwiLlxuICAgKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBidXR0b25cbiAgICogQHBhcmFtIHshQnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgYXR0YWNoQnV0dG9uKGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7fVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBzbWFydEJ1dHRvbiBlbGVtZW50IGFuZCB0aGUgcHJvdmlkZWQgY2FsbGJhY2suXG4gICAqIFRoZSBkZWZhdWx0IHRoZW1lIGlzIFwibGlnaHRcIi5cbiAgICpcbiAgICogQHBhcmFtIHshRWxlbWVudH0gYnV0dG9uXG4gICAqIEBwYXJhbSB7IVNtYXJ0QnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgYXR0YWNoU21hcnRCdXR0b24oYnV0dG9uLCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHt9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgcHJvcGVuc2l0eSBtb2R1bGUgdGhhdCBwcm92aWRlcyBBUElzIHRvXG4gICAqIGdldCBwcm9wZW5zaXR5IHNjb3JlcyBiYXNlZCBvbiB1c2VyIHN0YXRlIGFuZCBldmVudHNcbiAgICogQHJldHVybiB7IVByb21pc2U8UHJvcGVuc2l0eUFwaURlZj59XG4gICAqL1xuICBnZXRQcm9wZW5zaXR5TW9kdWxlKCkge31cblxuICAvKiogQHJldHVybiB7IVByb21pc2U8TG9nZ2VyQXBpRGVmPn0gKi9cbiAgZ2V0TG9nZ2VyKCkge31cblxuICAvKiogQHJldHVybiB7IVByb21pc2U8Q2xpZW50RXZlbnRNYW5hZ2VyQXBpRGVmPn0gKi9cbiAgZ2V0RXZlbnRNYW5hZ2VyKCkge31cblxuICAvKipcbiAgICogUHVibGlzaGVycyBwYXJ0aWNpcGF0aW5nIGluIFNob3djYXNlIHNob3VsZCBjYWxsIHRoaXMgd2l0aCB0aGVpciBvd24gZW50aXRsZW1lbnRzXG4gICAqIGFuZCBlbnRpdGxlbWVudCByZWxhdGVkIFVJIGV2ZW50cy4gIFN3RyB3aWxsIGF1dG9tYXRpY2FsbHkgZG8gdGhpcyBmb3IgR29vZ2xlXG4gICAqIHNvdXJjZWQgc3Vic2NyaXB0aW9ucyBhbmQgbWV0ZXJzLlxuICAgKiBAcGFyYW0geyFQdWJsaXNoZXJFbnRpdGxlbWVudH0gZW50aXRsZW1lbnRcbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNldFNob3djYXNlRW50aXRsZW1lbnQoZW50aXRsZW1lbnQpIHt9XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2hlcnMsIHdobyBib3RoICgxKSBwYXJ0aWNpcGF0ZSBpbiBTaG93Y2FzZSBhbmQgKDIpIHVzZSBzZXJ2ZXItc2lkZSBwYXl3YWxscyxcbiAgICogc2hvdWxkIGNhbGwgdGhpcyBtZXRob2QgdG8gY29uc3VtZSBTaG93Y2FzZSBlbnRpdGxlbWVudHMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG93Y2FzZUVudGl0bGVtZW50Snd0XG4gICAqIEBwYXJhbSB7P0Z1bmN0aW9uPX0gb25DbG9zZURpYWxvZyBDYWxsZWQgYWZ0ZXIgdGhlIHVzZXIgY2xvc2VzIHRoZSBkaWFsb2cuXG4gICAqIEByZXR1cm4gez99XG4gICAqL1xuICBjb25zdW1lU2hvd2Nhc2VFbnRpdGxlbWVudEp3dChzaG93Y2FzZUVudGl0bGVtZW50Snd0LCBvbkNsb3NlRGlhbG9nKSB7fVxuXG4gIC8qKlxuICAgKiBJbnRlbGxpZ2VudGx5IHJldHVybnMgdGhlIG1vc3QgaW50ZXJlc3RpbmcgYWN0aW9uIHRvIHRoZVxuICAgKiByZWFkZXIgYmFzZWQgb24gZGlmZmVyZW50IGRpZmZlcmVudCB1c2VyIHN0YXR1cy4gRm9yXG4gICAqIGluc3RhbmNlLCBhIG5ldyB1c2VyIG1heSBnZXQgZnJlZSBtZXRlcmluZyBieSBzaW1wbHlcbiAgICogY2xpY2tpbmcgJ2ZvbGxvdy1wdWJsaXNoZXInIGFjdGlvbiwgYW5kIGEgZnJlcXVlbnRseVxuICAgKiB2aXNpdGluZyB1c2VyIG1heSBiZSBzaG93biBhICdjcmVhdGluZyBhbiBhY2NvdW50JyBhY3Rpb24uXG4gICAqIFRPRE8obW9vbmJvbmcpOiBJbXBsZW1lbnQgdGhpcyBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7P31cbiAgICovXG4gIHNob3dCZXN0QXVkaWVuY2VBY3Rpb24oKSB7fVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwdWJsaXNoZXJQcm92aWRlZElkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVibGlzaGVyUHJvdmlkZWRJZFxuICAgKiBAcmV0dXJuIHs/fVxuICAgKi9cbiAgc2V0UHVibGlzaGVyUHJvdmlkZWRJZChwdWJsaXNoZXJQcm92aWRlZElkKSB7fVxufVxuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBTaG93Y2FzZUV2ZW50ID0ge1xuICAvLyBFdmVudHMgaW5kaWNhdGluZyBjb250ZW50IGNvdWxkIHBvdGVudGlhbGx5IGJlIHVubG9ja2VkXG4gIEVWRU5UX1NIT1dDQVNFX01FVEVSX09GRkVSRUQ6ICdFVkVOVF9TSE9XQ0FTRV9NRVRFUl9PRkZFUkVEJywgLy8gVGhpcyBldmVudCBpcyBvbmx5IHJlcXVpcmVkIGlmIHRoZSB1c2VyIGNhbiBjaG9vc2Ugbm90IHRvIHVzZSBhIHB1Ymxpc2hlciBtZXRlclxuXG4gIC8vIEV2ZW50cyBpbmRpY2F0aW5nIGNvbnRlbnQgd2FzIHVubG9ja2VkXG4gIEVWRU5UX1NIT1dDQVNFX1VOTE9DS0VEX0JZX1NVQlNDUklQVElPTjpcbiAgICAnRVZFTlRfU0hPV0NBU0VfVU5MT0NLRURfQllfU1VCU0NSSVBUSU9OJywgLy8gUHVibGlzaGVyIG1hbmFnZWQgc3Vic2NyaXB0aW9ucyBvbmx5XG4gIEVWRU5UX1NIT1dDQVNFX1VOTE9DS0VEX0JZX01FVEVSOiAnRVZFTlRfU0hPV0NBU0VfVU5MT0NLRURfQllfTUVURVInLCAvLyBQdWJsaXNoZXIgbWFuYWdlZCBtZXRlcnMgb25seVxuICBFVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9GUkVFX1BBR0U6ICdFVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9GUkVFX1BBR0UnLCAvLyBXaGVuIHRoZSBhcnRpY2xlIGlzIGZyZWUgZm9yIGFueSByZWFzb24gKGxlYWQgYXJ0aWNsZSwgZXRjKVxuXG4gIC8vIEV2ZW50cyBpbmRpY2F0aW5nIHRoZSB1c2VyIG11c3QgdGFrZSBhY3Rpb24gdG8gdmlldyBjb250ZW50XG4gIEVWRU5UX1NIT1dDQVNFX05PX0VOVElUTEVNRU5UU19SRUdXQUxMOlxuICAgICdFVkVOVF9TSE9XQ0FTRV9OT19FTlRJVExFTUVOVFNfUkVHV0FMTCcsIC8vIFdoZW4gdGhlIHVzZXIgbXVzdCByZWdpc3RlciAob3IgbG9nIGluKSB0byB2aWV3IHRoZSBhcnRpY2xlXG5cbiAgLy8gRXZlbnRzIGluZGljYXRpbmcgdGhlIHVzZXIgbXVzdCBzdWJzY3JpYmUgdG8gdmlldyBjb250ZW50XG4gIEVWRU5UX1NIT1dDQVNFX0lORUxJR0lCTEVfUEFZV0FMTDogJ0VWRU5UX1NIT1dDQVNFX0lORUxJR0lCTEVfUEFZV0FMTCcsIC8vIFdoZW4gdGhlIHVzZXIgaXMgbm90IGVsaWdpYmxlIGZvciBzaG93Y2FzZSBlbnRpdGxlbWVudHNcbiAgRVZFTlRfU0hPV0NBU0VfTk9fRU5USVRMRU1FTlRTX1BBWVdBTEw6XG4gICAgJ0VWRU5UX1NIT1dDQVNFX05PX0VOVElUTEVNRU5UU19QQVlXQUxMJywgLy8gV2hlbiB0aGUgdXNlciBoYXMgbm8gcmVtYWluaW5nIHNob3djYXNlIGVudGl0bGVtZW50c1xufTtcblxuLyoqXG4gKiBQdWJsaXNoZXJFbnRpdGxlbWVudFxuICogICBJbiBvcmRlciB0byBwYXJ0aWNpcGF0ZSBpbiBOZXdzIFNob3djYXNlLCBwdWJsaXNoZXJzIG11c3QgcmVwb3J0IGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGVudGl0bGVtZW50cy5cbiAqIFByb3BlcnRpZXM6XG4gKiAtIGlzVXNlclJlZ2lzdGVyZWQ6IElzIHRoZSB1c2VyIHJlZ2lzdGVyZWQgY3VycmVudGx5P1xuICogLSBlbnRpdGxlbWVudDogUHVibGlzaGVyIGVudGl0bGVtZW50IGV2ZW50IHR5cGUuXG4gKiAtIHN1YnNjcmlwdGlvblRpbWVzdGFtcDogVGltZXN0YW1wKGluIG1pbGxpc2Vjb25kKSB3aGVuIHRoZSB1c2VyIGNvbnZlcnRlZCB0byBhIHN1YnNjcmliZXIuIE51bGwgaWYgdGhlIHVzZXIgaXMgbm90IGEgc3Vic2NyaWJlci5cbiAqICBAdHlwZWRlZiB7e1xuICogICAgaXNVc2VyUmVnaXN0ZXJlZDogICFib29sZWFuLFxuICogICAgZW50aXRsZW1lbnQ6ICFTaG93Y2FzZUV2ZW50LFxuICogICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wOiAoIW51bWJlcnxudWxsKSxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgUHVibGlzaGVyRW50aXRsZW1lbnQ7XG5cbi8qKiBAZW51bSB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmlwdGlvbkZsb3dzID0ge1xuICBTSE9XX09GRkVSUzogJ3Nob3dPZmZlcnMnLFxuICBTSE9XX1NVQlNDUklCRV9PUFRJT046ICdzaG93U3Vic2NyaWJlT3B0aW9uJyxcbiAgU0hPV19BQkJSVl9PRkZFUjogJ3Nob3dBYmJydk9mZmVyJyxcbiAgU0hPV19DT05UUklCVVRJT05fT1BUSU9OUzogJ3Nob3dDb250cmlidXRpb25PcHRpb25zJyxcbiAgU1VCU0NSSUJFOiAnc3Vic2NyaWJlJyxcbiAgQ09OVFJJQlVURTogJ2NvbnRyaWJ1dGUnLFxuICBDT01QTEVURV9ERUZFUlJFRF9BQ0NPVU5UX0NSRUFUSU9OOiAnY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbicsXG4gIExJTktfQUNDT1VOVDogJ2xpbmtBY2NvdW50JyxcbiAgU0hPV19MT0dJTl9QUk9NUFQ6ICdzaG93TG9naW5Qcm9tcHQnLFxuICBTSE9XX0xPR0lOX05PVElGSUNBVElPTjogJ3Nob3dMb2dpbk5vdGlmaWNhdGlvbicsXG4gIFNIT1dfTUVURVJfVE9BU1Q6ICdzaG93TWV0ZXJUb2FzdCcsXG59O1xuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gcHJvcGVydGllczpcbiAqIC0gd2luZG93T3Blbk1vZGUgLSBlaXRoZXIgXCJhdXRvXCIgb3IgXCJyZWRpcmVjdFwiLiBUaGUgXCJyZWRpcmVjdFwiIHZhbHVlIHdpbGxcbiAqICAgZm9yY2UgcmVkaXJlY3QgZmxvdyBmb3IgYW55IHdpbmRvdy5vcGVuIG9wZXJhdGlvbiwgaW5jbHVkaW5nIHBheW1lbnRzLlxuICogICBUaGUgXCJhdXRvXCIgdmFsdWUgZWl0aGVyIHVzZXMgYSByZWRpcmVjdCBvciBhIHBvcHVwIGZsb3cgZGVwZW5kaW5nIG9uXG4gKiAgIHdoYXQncyBwb3NzaWJsZSBvbiBhIHNwZWNpZmljIGVudmlyb25tZW50LiBEZWZhdWx0cyB0byBcImF1dG9cIi5cbiAqIC0gZW5hYmxlU3dnQW5hbHl0aWNzIC0gaWYgc2V0IHRvIHRydWUgdGhlbiBldmVudHMgbG9nZ2VkIGJ5IHRoZSBwdWJsaXNoZXInc1xuICogICBjbGllbnQgd2lsbCBiZSBzZW50IHRvIEdvb2dsZSdzIFN3RyBhbmFseXRpY3Mgc2VydmljZS4gIFRoaXMgaW5mb3JtYXRpb24gaXNcbiAqICAgdXNlZCB0byBjb21wYXJlIHRoZSBlZmZlY3RpdmVuZXNzIG9mIEdvb2dsZSdzIGJ1eS1mbG93IGV2ZW50cyB0byB0aG9zZVxuICogICBnZW5lcmF0ZWQgYnkgdGhlIHB1Ymxpc2hlcidzIGNsaWVudCBjb2RlLiAgVGhpcyBpbmNsdWRlcyBldmVudHMgc2VudCB0b1xuICogICBib3RoIFByb3BlbnNpdHlBcGkgYW5kIExvZ2dlckFwaS5cbiAqIC0gZW5hYmxlUHJvcGVuc2l0eSAtIElmIHRydWUgZXZlbnRzIGZyb20gdGhlIGxvZ2dlciBhcGkgYXJlIHNlbnQgdG8gdGhlXG4gKiAgIHByb3BlbnNpdHkgc2VydmVyLiAgTm90ZSBldmVudHMgZnJvbSB0aGUgbGVnYWN5IHByb3BlbnNpdHkgZW5kcG9pbnQgYXJlXG4gKiAgIGFsd2F5cyBzZW50LlxuICogQHR5cGVkZWYge3tcbiAqICAgZXhwZXJpbWVudHM6ICghQXJyYXk8c3RyaW5nPnx1bmRlZmluZWQpLFxuICogICB3aW5kb3dPcGVuTW9kZTogKCFXaW5kb3dPcGVuTW9kZXx1bmRlZmluZWQpLFxuICogICBhbmFseXRpY3NNb2RlOiAoIUFuYWx5dGljc01vZGV8dW5kZWZpbmVkKSxcbiAqICAgZW5hYmxlU3dnQW5hbHl0aWNzOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogICBlbmFibGVQcm9wZW5zaXR5OiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogICBwdWJsaXNoZXJQcm92aWRlZElkOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IENvbmZpZztcblxuLyoqXG4gKiBQYXJhbXMgZm9yIEdldEVudGl0bGVtZW50cyByZXF1ZXN0cyB0byBTd0cgQ2xpZW50LlxuICogc3dnLWpzIGNvbnN0cnVjdHMgb2JqZWN0cyBvZiB0aGlzIHR5cGUsIGJ1dCBwdWJsaXNoZXIgSlMgd29uJ3QuXG4gKiBzd2ctanMgY29udmVydHMgdGhlc2UgcGFyYW1zIHRvIGEgQmFzZTY0IEpTT04gc3RyaW5nXG4gKiBiZWZvcmUgc2VuZGluZyB0aGVtIHRvIFN3RyBDbGllbnQuXG4gKiBAdHlwZWRlZiB7e1xuICogICBtZXRlcmluZzogKCFHZXRFbnRpdGxlbWVudHNNZXRlcmluZ1BhcmFtc0ludGVybmFsfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEdldEVudGl0bGVtZW50c1BhcmFtc0ludGVybmFsRGVmO1xuXG4vKipcbiAqIEVuY3J5cHRpb24gcGFyYW1zIGZvciBHZXRFbnRpdGxlbWVudHMgcmVxdWVzdHMuXG4gKiBAdHlwZWRlZiB7e1xuICogICBlbmNyeXB0ZWREb2N1bWVudEtleTogc3RyaW5nLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBHZXRFbnRpdGxlbWVudHNFbmNyeXB0aW9uUGFyYW1zO1xuXG4vKipcbiAqIE1ldGVyaW5nIHBhcmFtcyBmb3IgR2V0RW50aXRsZW1lbnRzIHJlcXVlc3RzIHRvIFN3RyBDbGllbnQuXG4gKiBzd2ctanMgY29uc3RydWN0cyBvYmplY3RzIG9mIHRoaXMgdHlwZSwgYnV0IHB1Ymxpc2hlciBKUyB3b24ndC5cbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGNsaWVudFR5cGVzOiAodW5kZWZpbmVkfCFBcnJheTxudW1iZXI+KSxcbiAqICAgb3duZXI6ICh1bmRlZmluZWR8c3RyaW5nKSxcbiAqICAgc3RhdGU6ICh1bmRlZmluZWR8e1xuICogICAgIGlkOiBzdHJpbmcsXG4gKiAgICAgYXR0cmlidXRlczogIUFycmF5PHtcbiAqICAgICAgIG5hbWU6IHN0cmluZyxcbiAqICAgICAgIHRpbWVzdGFtcDogbnVtYmVyLFxuICogICAgIH0+LFxuICogICB9KSxcbiAqICAgdG9rZW46ICh1bmRlZmluZWR8c3RyaW5nKSxcbiAqICAgcmVzb3VyY2U6IHtcbiAqICAgICBoYXNoZWRDYW5vbmljYWxVcmw6IHN0cmluZyxcbiAqICAgfSxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgR2V0RW50aXRsZW1lbnRzTWV0ZXJpbmdQYXJhbXNJbnRlcm5hbDtcblxuLyoqXG4gKiBQYXJhbXMgZm9yIGBnZXRFbnRpdGxlbWVudHNgIGNhbGxzIGZyb20gcHVibGlzaGVyIEpTLlxuICogc3dnLWpzIGNvbnZlcnRzIG9iamVjdHMgb2YgdGhpcyB0eXBlIHRvIEdldEVudGl0bGVtZW50c1BhcmFtc0ludGVybmFsLlxuICogQHR5cGVkZWYge3tcbiAqICAgZW5jcnlwdGlvbjogKCFHZXRFbnRpdGxlbWVudHNFbmNyeXB0aW9uUGFyYW1zfHVuZGVmaW5lZCksXG4gKiAgIG1ldGVyaW5nOiAoIUdldEVudGl0bGVtZW50c01ldGVyaW5nUGFyYW1zRXh0ZXJuYWx8dW5kZWZpbmVkKSxcbiAqICAgcHVibGlzaGVyUHJvdmlkZWRJZDogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBHZXRFbnRpdGxlbWVudHNQYXJhbXNFeHRlcm5hbERlZjtcblxuLyoqXG4gKiBQYXJhbXMgZm9yIGBnZXRFbnRpdGxlbWVudHNgIGNhbGxzIGZyb20gcHVibGlzaGVyIEpTLlxuICogc3dnLWpzIGNvbnZlcnRzIG9iamVjdHMgb2YgdGhpcyB0eXBlIHRvIEdldEVudGl0bGVtZW50c01ldGVyaW5nUGFyYW1zSW50ZXJuYWwuXG4gKiBAdHlwZWRlZiB7e1xuICogICBjbGllbnRUeXBlczogIUFycmF5PG51bWJlcj4sXG4gKiAgIG93bmVyOiBzdHJpbmcsXG4gKiAgIHN0YXRlOiB7XG4gKiAgICAgaWQ6IHN0cmluZyxcbiAqICAgICBzdGFuZGFyZEF0dHJpYnV0ZXM6ICFPYmplY3Q8c3RyaW5nLCB7XG4gKiAgICAgICB0aW1lc3RhbXA6IG51bWJlcixcbiAqICAgICB9PixcbiAqICAgICBjdXN0b21BdHRyaWJ1dGVzOiAhT2JqZWN0PHN0cmluZywge1xuICogICAgICAgdGltZXN0YW1wOiBudW1iZXIsXG4gKiAgICAgfT4sXG4gKiAgIH0sXG4gKiAgIHJlc291cmNlOiB7XG4gKiAgICAgaGFzaGVkQ2Fub25pY2FsVXJsOiBzdHJpbmcsXG4gKiAgIH0sXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEdldEVudGl0bGVtZW50c01ldGVyaW5nUGFyYW1zRXh0ZXJuYWw7XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IEFuYWx5dGljc01vZGUgPSB7XG4gIERFRkFVTFQ6IDAsXG4gIElNUFJFU1NJT05TOiAxLFxufTtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgV2luZG93T3Blbk1vZGUgPSB7XG4gIEFVVE86ICdhdXRvJyxcbiAgUkVESVJFQ1Q6ICdyZWRpcmVjdCcsXG59O1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBSZXBsYWNlU2t1UHJvcmF0aW9uTW9kZSA9IHtcbiAgLy8gVGhlIHJlcGxhY2VtZW50IHRha2VzIGVmZmVjdCBpbW1lZGlhdGVseSwgYW5kIHRoZSByZW1haW5pbmcgdGltZSB3aWxsXG4gIC8vIGJlIHByb3JhdGVkIGFuZCBjcmVkaXRlZCB0byB0aGUgdXNlci4gVGhpcyBpcyB0aGUgY3VycmVudCBkZWZhdWx0XG4gIC8vIGJlaGF2aW9yLlxuICBJTU1FRElBVEVfV0lUSF9USU1FX1BST1JBVElPTjogJ0lNTUVESUFURV9XSVRIX1RJTUVfUFJPUkFUSU9OJyxcbn07XG5cbi8qKlxuICogVGhlIE9mZmVycy9Db250cmlidXRpb25zIFVJIGlzIHJlbmRlcmVkIGRpZmZlcmVudGx5IGJhc2VkIG9uIHRoZVxuICogUHJvZHVjdFR5cGUuIFRoZSBQcm9kdWN0VHlwZSBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRvIHRoZSBQYXltZW50cyBmbG93LCBhbmRcbiAqIHRoZW4gcGFzc2VkIGJhY2sgdG8gdGhlIFBheW1lbnRzIGNvbmZpcm1hdGlvbiBwYWdlIHRvIHJlbmRlciBtZXNzYWdlcy90ZXh0XG4gKiBiYXNlZCBvbiB0aGUgUHJvZHVjdFR5cGUuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgUHJvZHVjdFR5cGUgPSB7XG4gIFNVQlNDUklQVElPTjogJ1NVQlNDUklQVElPTicsXG4gIFVJX0NPTlRSSUJVVElPTjogJ1VJX0NPTlRSSUJVVElPTicsXG4gIFZJUlRVQUxfR0lGVDogJ1ZJUlRVQUxfR0lGVCcsXG59O1xuXG4vKipcbiAqIEByZXR1cm4geyFDb25maWd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Q29uZmlnKCkge1xuICByZXR1cm4ge1xuICAgIHdpbmRvd09wZW5Nb2RlOiBXaW5kb3dPcGVuTW9kZS5BVVRPLFxuICAgIGFuYWx5dGljc01vZGU6IEFuYWx5dGljc01vZGUuREVGQVVMVCxcbiAgICBlbmFibGVTd2dBbmFseXRpY3M6IGZhbHNlLFxuICAgIGVuYWJsZVByb3BlbnNpdHk6IGZhbHNlLFxuICB9O1xufVxuXG4vKipcbiAqIFByb3BlcnRpZXM6XG4gKiAtIHNrdXMgLSBhIGxpc3Qgb2YgU0tVcyB0byByZXR1cm4gZnJvbSB0aGUgZGVmaW5lZCBvciBkZWZhdWx0IGxpc3QuIFRoZVxuICogICBvcmRlciBpcyBwcmVzZXJ2ZWQuIFJlcXVpcmVkIGlmIG9sZFNrdSBpcyBzcGVjaWZpZWQgKHRvIGluZGljYXRlIHdoaWNoXG4gKiAgIFNLVXMgdGhlIHVzZXIgY2FuIHVwZ3JhZGUgb3IgZG93bmdyYWRlIHRvKS5cbiAqIC0gbGlzdCAtIGEgcHJlZGVmaW5lZCBsaXN0IG9mIFNLVXMuIFVzZSBvZiB0aGlzIHByb3BlcnR5IGlzIHVuY29tbW9uLlxuICogICBQb3NzaWJsZSB2YWx1ZXMgYXJlIFwiZGVmYXVsdFwiIGFuZCBcImFtcFwiLiBEZWZhdWx0IGlzIFwiZGVmYXVsdFwiLlxuICogLSBpc0Nsb3NhYmxlIC0gYSBib29sZWFuIHZhbHVlIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSB2aWV3IGlzIGNsb3NhYmxlLlxuICogLSBvbGRTa3UgLSBPcHRpb25hbC4gVGhlIFNLVSB0byByZXBsYWNlLiBGb3IgZXhhbXBsZSwgaWYgYSB1c2VyIHdhbnRzIHRvXG4gKiAgIHVwZ3JhZGUgb3IgZG93bmdyYWRlIHRoZWlyIGN1cnJlbnQgc3Vic2NyaXB0aW9uLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHNrdXM6ICghQXJyYXk8c3RyaW5nPnx1bmRlZmluZWQpLFxuICogICBsaXN0OiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGlzQ2xvc2FibGU6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiAgIG9sZFNrdTogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBPZmZlcnNSZXF1ZXN0O1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGxpbmtSZXF1ZXN0ZWQ6IGJvb2xlYW4sXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IExvZ2luUmVxdWVzdDtcblxuLyoqXG4gKiBQcm9wZXJ0aWVzOlxuICogLSBvbmUgYW5kIG9ubHkgb25lIG9mIFwidG9rZW5cIiBvciBcImF1dGhDb2RlXCJcbiAqIEF1dGhDb2RlIHJlZmVyZW5jZTogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYWN0aW9ucy9pZGVudGl0eS9vYXV0aDItY29kZS1mbG93XG4gKiBUb2tlbiByZWZlcmVuY2U6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2FjdGlvbnMvaWRlbnRpdHkvb2F1dGgyLWltcGxpY2l0LWZsb3dcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIHRva2VuOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGF1dGhDb2RlOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0O1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciByZXRyaWV2aW5nIHN1YnNjcmlwdGlvbiByZXF1ZXN0XG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9uKCk6KCFQcm9taXNlPFNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0PiB8ICFTYXZlU3Vic2NyaXB0aW9uUmVxdWVzdCl9IFNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2tcbiAqL1xuZXhwb3J0IGxldCBTYXZlU3Vic2NyaXB0aW9uUmVxdWVzdENhbGxiYWNrO1xuXG4vKipcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGxhbmc6IFNldHMgdGhlIGJ1dHRvbiBTVkcgYW5kIHRpdGxlLiBEZWZhdWx0IGlzIFwiZW5cIi5cbiAqIC0gdGhlbWU6IFwibGlnaHRcIiBvciBcImRhcmtcIi4gRGVmYXVsdCBpcyBcImxpZ2h0XCIuXG4gKiAtIGRpc2FibGU6IHdoZXRoZXIgdG8gZ3JleSBvdXQgdGhlIGJ1dHRvbi5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICB0aGVtZTogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBsYW5nOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIGRpc2FibGU6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IEJ1dHRvbk9wdGlvbnM7XG5cbi8qKlxuICogUHJvcGVydGllczpcbiAqIC0gbGFuZzogU2V0cyB0aGUgYnV0dG9uIFNWRyBhbmQgdGl0bGUuIERlZmF1bHQgaXMgXCJlblwiLlxuICogLSB0aGVtZTogXCJsaWdodFwiIG9yIFwiZGFya1wiLiBEZWZhdWx0IGlzIFwibGlnaHRcIi5cbiAqIC0gbWVzc2FnZVRleHRDb2xvcjogT3ZlcnJpZGVzIHRoZW1lIGNvbG9yIGZvciBtZXNzYWdlIHRleHQuIChleDogXCIjMDlmXCIpXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgdGhlbWU6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgbGFuZzogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICBtZXNzYWdlVGV4dENvbG9yOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IFNtYXJ0QnV0dG9uT3B0aW9ucztcblxuLyoqXG4gKiBQcm9wZXJ0aWVzOlxuICogLSBza3U6IFJlcXVpcmVkLiBTa3UgdG8gYWRkIHRvIHRoZSB1c2VyJ3Mgc3Vic2NyaXB0aW9ucy5cbiAqIC0gb2xkU2t1OiBPcHRpb25hbC4gVGhpcyBpcyBpZiB5b3Ugd2FudCB0byByZXBsYWNlIG9uZSBza3Ugd2l0aCBhbm90aGVyLiBGb3JcbiAqICBleGFtcGxlLCBpZiBhIHVzZXIgd2FudHMgdG8gdXBncmFkZSBvciBkb3duZ3JhZGUgdGhlaXIgY3VycmVudCBzdWJzY3JpcHRpb24uXG4gKiAtIHByb3JhdGlvbk1vZGU6IE9wdGlvbmFsLiBXaGVuIHJlcGxhY2luZyBhIHN1YnNjcmlwdGlvbiB5b3UgY2FuIGRlY2lkZSBvbiBhXG4gKiAgc3BlY2lmaWMgcHJvcmF0aW9uIG1vZGUgdG8gY2hhcmdlIHRoZSB1c2VyLlxuICogIFRoZSBkZWZhdWx0IGlzIElNTUVESUFURV9XSVRIX1RJTUVfUFJPUkFUSU9OLlxuICogLSBvbmVUaW1lOiBPcHRpb25hbC4gV2hlbiBhIHVzZXIgY2hvb3NlcyBhIGNvbnRyaWJ1dGlvbiwgdGhleSBoYXZlIHRoZSBvcHRpb25cbiAqICB0byBtYWtlIGl0IG5vbi1yZWN1cnJpbmcuXG4gKlxuICogIEB0eXBlZGVmIHt7XG4gKiAgICBza3VJZDogc3RyaW5nLFxuICogICAgb2xkU2t1OiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgICByZXBsYWNlU2t1UHJvcmF0aW9uTW9kZTogKFJlcGxhY2VTa3VQcm9yYXRpb25Nb2RlfHVuZGVmaW5lZCksXG4gKiAgICBvbmVUaW1lOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTdWJzY3JpcHRpb25SZXF1ZXN0O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJEYXRhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFRva2VuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gZGF0YVxuICAgKi9cbiAgY29uc3RydWN0b3IoaWRUb2tlbiwgZGF0YSkge1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmlkVG9rZW4gPSBpZFRva2VuO1xuICAgIC8qKiBAY29uc3QgeyFPYmplY3R9ICovXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcblxuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmlkID0gZGF0YVsnc3ViJ107XG4gICAgLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuZW1haWwgPSBkYXRhWydlbWFpbCddO1xuICAgIC8qKiBAY29uc3Qge2Jvb2xlYW59ICovXG4gICAgdGhpcy5lbWFpbFZlcmlmaWVkID0gZGF0YVsnZW1haWxfdmVyaWZpZWQnXTtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5uYW1lID0gZGF0YVsnbmFtZSddO1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmdpdmVuTmFtZSA9IGRhdGFbJ2dpdmVuX25hbWUnXTtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5mYW1pbHlOYW1lID0gZGF0YVsnZmFtaWx5X25hbWUnXTtcbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5waWN0dXJlVXJsID0gZGF0YVsncGljdHVyZSddO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFVc2VyRGF0YX1cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgVXNlckRhdGEodGhpcy5pZFRva2VuLCB0aGlzLmRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFPYmplY3R9XG4gICAqL1xuICBqc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiB0aGlzLmlkLFxuICAgICAgJ2VtYWlsJzogdGhpcy5lbWFpbCxcbiAgICAgICdlbWFpbFZlcmlmaWVkJzogdGhpcy5lbWFpbFZlcmlmaWVkLFxuICAgICAgJ25hbWUnOiB0aGlzLm5hbWUsXG4gICAgICAnZ2l2ZW5OYW1lJzogdGhpcy5naXZlbk5hbWUsXG4gICAgICAnZmFtaWx5TmFtZSc6IHRoaXMuZmFtaWx5TmFtZSxcbiAgICAgICdwaWN0dXJlVXJsJzogdGhpcy5waWN0dXJlVXJsLFxuICAgIH07XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7XG4gIEFuYWx5dGljc1JlcXVlc3QsXG4gIEV2ZW50T3JpZ2luYXRvcixcbiAgZGVzZXJpYWxpemUsXG4gIGdldExhYmVsLFxufSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuXG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7YWRkUXVlcnlQYXJhbX0gZnJvbSAnLi4vdXRpbHMvdXJsJztcblxuY29uc3Qge1xuICBBY3Rpdml0eUlmcmFtZVBvcnQ6IFdlYkFjdGl2aXR5SWZyYW1lUG9ydCxcbiAgQWN0aXZpdHlQb3J0czogV2ViQWN0aXZpdHlQb3J0cyxcbn0gPSByZXF1aXJlKCd3ZWItYWN0aXZpdGllcy9hY3Rpdml0eS1wb3J0cycpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGl2aXR5UG9ydERlZiB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlSZXN1bHQ+fVxuICAgKi9cbiAgYWNjZXB0UmVzdWx0KCkge31cbn1cbi8qKlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlQb3J0IGV4dGVuZHMgQWN0aXZpdHlQb3J0RGVmIHtcbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1vZGUgb2YgdGhlIGFjdGl2aXR5OiBpZnJhbWUsIHBvcHVwIG9yIHJlZGlyZWN0LlxuICAgKiBAcmV0dXJuIHshd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlNb2RlfVxuICAgKi9cbiAgZ2V0TW9kZSgpIHt9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgdGhlIHJlc3VsdCB3aGVuIHJlYWR5LiBUaGUgY2xpZW50IHNob3VsZCB2ZXJpZnkgdGhlIGFjdGl2aXR5J3NcbiAgICogbW9kZSwgb3JpZ2luLCB2ZXJpZmljYXRpb24gYW5kIHNlY3VyZSBjaGFubmVsIGZsYWdzIGJlZm9yZSBkZWNpZGluZ1xuICAgKiB3aGV0aGVyIG9yIG5vdCB0byB0cnVzdCB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9taXNlIHRoYXQgeWllbGRzIHdoZW4gdGhlIGFjdGl2aXR5IGhhcyBiZWVuIGNvbXBsZXRlZCBhbmRcbiAgICogZWl0aGVyIGEgcmVzdWx0LCBhIGNhbmNlbGF0aW9uIG9yIGEgZmFpbHVyZSBoYXMgYmVlbiByZXR1cm5lZC5cbiAgICpcbiAgICogQHJldHVybiB7IVByb21pc2U8IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5UmVzdWx0Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHRSZXN1bHQoKSB7fVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHlpZWxkcyB3aGVuIHRoZSBpZnJhbWUgaXMgcmVhZHkgdG8gYmUgaW50ZXJhY3RlZFxuICAgKiB3aXRoLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHdoZW5SZWFkeSgpIHt9XG5cbiAgLyoqXG4gICAqIFdhaXRzIHVudGlsIHRoZSBhY3Rpdml0eSBwb3J0IGlzIGNvbm5lY3RlZCB0byB0aGUgaG9zdC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBjb25uZWN0KCkge31cblxuICAvKipcbiAgICogRGlzY29ubmVjdCB0aGUgYWN0aXZpdHkgYmluZGluZyBhbmQgY2xlYW51cCBsaXN0ZW5lcnMuXG4gICAqL1xuICBkaXNjb25uZWN0KCkge31cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayB0byBoYW5kbGUgcmVzaXplIHJlcXVlc3RzLiBPbmNlIHN1Y2Nlc3NmdWxseSByZXNpemVkLFxuICAgKiBlbnN1cmUgdG8gY2FsbCBgcmVzaXplZCgpYCBtZXRob2QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyKX0gdW51c2VkQ2FsbGJhY2tcbiAgICovXG4gIG9uUmVzaXplUmVxdWVzdCh1bnVzZWRDYWxsYmFjaykge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vcHJvdG8vYXBpX21lc3NhZ2VzLk1lc3NhZ2V9IHVudXNlZFJlcXVlc3RcbiAgICovXG4gIGV4ZWN1dGUodW51c2VkUmVxdWVzdCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHshZnVuY3Rpb24obmV3OiBUKX0gdW51c2VkTWVzc2FnZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKE9iamVjdCl9IHVudXNlZENhbGxiYWNrXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBvbih1bnVzZWRNZXNzYWdlLCB1bnVzZWRDYWxsYmFjaykge31cblxuICAvKipcbiAgICogU2lnbmFscyBiYWNrIHRvIHRoZSBhY3Rpdml0eSBpbXBsZW1lbnRhdGlvbiB0aGF0IHRoZSBjbGllbnQgaGFzIHVwZGF0ZWRcbiAgICogdGhlIGFjdGl2aXR5J3Mgc2l6ZS5cbiAgICovXG4gIHJlc2l6ZWQoKSB7fVxufVxuLyoqXG4gKiBAaW1wbGVtZW50cyB7QWN0aXZpdHlQb3J0RGVmfVxuICovXG5jbGFzcyBBY3Rpdml0eVBvcnREZXByZWNhdGVkIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5UG9ydH0gcG9ydFxuICAgKi9cbiAgY29uc3RydWN0b3IocG9ydCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyF3ZWItYWN0aXZpdGllcy9hY3Rpdml0eS1wb3J0cy5BY3Rpdml0eVBvcnR9ICovXG4gICAgdGhpcy5wb3J0XyA9IHBvcnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5UmVzdWx0Pn1cbiAgICovXG4gIGFjY2VwdFJlc3VsdCgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3J0Xy5hY2NlcHRSZXN1bHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtBY3Rpdml0eVBvcnREZWZ9XG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpdml0eUlmcmFtZVBvcnQge1xuICAvKipcbiAgICogQHBhcmFtIHshSFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7IS4uL3J1bnRpbWUvZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7P09iamVjdD19IGFyZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGlmcmFtZSwgdXJsLCBkZXBzLCBhcmdzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5SWZyYW1lUG9ydH0gKi9cbiAgICB0aGlzLmlmcmFtZVBvcnRfID0gbmV3IFdlYkFjdGl2aXR5SWZyYW1lUG9ydChpZnJhbWUsIHVybCwgYXJncyk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIGZ1bmN0aW9uKCEuLi9wcm90by9hcGlfbWVzc2FnZXMuTWVzc2FnZSk+fSAqL1xuICAgIHRoaXMuY2FsbGJhY2tNYXBfID0ge307XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHsuLi9ydW50aW1lL2RlcHMuRGVwc0RlZn0gKi9cbiAgICB0aGlzLmRlcHNfID0gZGVwcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHlpZWxkcyB3aGVuIHRoZSBpZnJhbWUgaXMgcmVhZHkgdG8gYmUgaW50ZXJhY3RlZFxuICAgKiB3aXRoLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHdoZW5SZWFkeSgpIHtcbiAgICByZXR1cm4gdGhpcy5pZnJhbWVQb3J0Xy53aGVuUmVhZHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0cyB1bnRpbCB0aGUgYWN0aXZpdHkgcG9ydCBpcyBjb25uZWN0ZWQgdG8gdGhlIGhvc3QuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZnJhbWVQb3J0Xy5jb25uZWN0KCkudGhlbigoKSA9PiB7XG4gICAgICAvLyBBdHRhY2ggYSBjYWxsYmFjayB0byByZWNlaXZlIG1lc3NhZ2VzIGFmdGVyIGNvbm5lY3Rpb24gY29tcGxldGVcbiAgICAgIHRoaXMuaWZyYW1lUG9ydF8ub25NZXNzYWdlKChkYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGF0YSAmJiBkYXRhWydSRVNQT05TRSddO1xuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNiID0gdGhpcy5jYWxsYmFja01hcF9bcmVzcG9uc2VbMF1dO1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICBjYihkZXNlcmlhbGl6ZShyZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuZGVwc18gJiYgdGhpcy5kZXBzXy5ldmVudE1hbmFnZXIoKSkge1xuICAgICAgICB0aGlzLm9uKEFuYWx5dGljc1JlcXVlc3QsIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgYW5hbHl0aWNzUmVxdWVzdCA9IC8qKiBAdHlwZSB7QW5hbHl0aWNzUmVxdWVzdH0gKi8gKHJlcXVlc3QpO1xuICAgICAgICAgIHRoaXMuZGVwc18uZXZlbnRNYW5hZ2VyKCkubG9nRXZlbnQoe1xuICAgICAgICAgICAgZXZlbnRUeXBlOiBhbmFseXRpY3NSZXF1ZXN0LmdldEV2ZW50KCksXG4gICAgICAgICAgICBldmVudE9yaWdpbmF0b3I6IEV2ZW50T3JpZ2luYXRvci5TV0dfU0VSVkVSLFxuICAgICAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogYW5hbHl0aWNzUmVxdWVzdC5nZXRNZXRhKCkuZ2V0SXNGcm9tVXNlckFjdGlvbigpLFxuICAgICAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IGFuYWx5dGljc1JlcXVlc3QuZ2V0UGFyYW1zKCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgdGhlIGFjdGl2aXR5IGJpbmRpbmcgYW5kIGNsZWFudXAgbGlzdGVuZXJzLlxuICAgKi9cbiAgZGlzY29ubmVjdCgpIHtcbiAgICB0aGlzLmlmcmFtZVBvcnRfLmRpc2Nvbm5lY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtb2RlIG9mIHRoZSBhY3Rpdml0eTogaWZyYW1lLCBwb3B1cCBvciByZWRpcmVjdC5cbiAgICogQHJldHVybiB7IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5TW9kZX1cbiAgICovXG4gIGdldE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZyYW1lUG9ydF8uZ2V0TW9kZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgdGhlIHJlc3VsdCB3aGVuIHJlYWR5LiBUaGUgY2xpZW50IHNob3VsZCB2ZXJpZnkgdGhlIGFjdGl2aXR5J3NcbiAgICogbW9kZSwgb3JpZ2luLCB2ZXJpZmljYXRpb24gYW5kIHNlY3VyZSBjaGFubmVsIGZsYWdzIGJlZm9yZSBkZWNpZGluZ1xuICAgKiB3aGV0aGVyIG9yIG5vdCB0byB0cnVzdCB0aGUgcmVzdWx0LlxuICAgKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9taXNlIHRoYXQgeWllbGRzIHdoZW4gdGhlIGFjdGl2aXR5IGhhcyBiZWVuIGNvbXBsZXRlZCBhbmRcbiAgICogZWl0aGVyIGEgcmVzdWx0LCBhIGNhbmNlbGF0aW9uIG9yIGEgZmFpbHVyZSBoYXMgYmVlbiByZXR1cm5lZC5cbiAgICpcbiAgICogQHJldHVybiB7IVByb21pc2U8IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5UmVzdWx0Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHRSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZyYW1lUG9ydF8uYWNjZXB0UmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayB0byBoYW5kbGUgcmVzaXplIHJlcXVlc3RzLiBPbmNlIHN1Y2Nlc3NmdWxseSByZXNpemVkLFxuICAgKiBlbnN1cmUgdG8gY2FsbCBgcmVzaXplZCgpYCBtZXRob2QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24obnVtYmVyKX0gY2FsbGJhY2tcbiAgICovXG4gIG9uUmVzaXplUmVxdWVzdChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmlmcmFtZVBvcnRfLm9uUmVzaXplUmVxdWVzdChjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vcHJvdG8vYXBpX21lc3NhZ2VzLk1lc3NhZ2V9IHJlcXVlc3RcbiAgICovXG4gIGV4ZWN1dGUocmVxdWVzdCkge1xuICAgIHRoaXMuaWZyYW1lUG9ydF8ubWVzc2FnZSh7J1JFUVVFU1QnOiByZXF1ZXN0LnRvQXJyYXkoKX0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IWZ1bmN0aW9uKG5ldzogVCl9IG1lc3NhZ2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbig/KX0gY2FsbGJhY2tcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIG9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbGV0IGxhYmVsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgbGFiZWwgPSBnZXRMYWJlbChtZXNzYWdlKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgLy8gVGhyb3duIGlmIG1lc3NhZ2UgaXMgbm90IGEgcHJvdG8gb2JqZWN0IGFuZCBoYXMgbm8gbGFiZWxcbiAgICAgIGxhYmVsID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFsYWJlbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGEgdHlwZScpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jYWxsYmFja01hcF9bbGFiZWxdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZSBvciBkdXBsaWNhdGUgY2FsbGJhY2sgZm9yICcsIGxhYmVsKTtcbiAgICB9XG4gICAgdGhpcy5jYWxsYmFja01hcF9bbGFiZWxdID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogU2lnbmFscyBiYWNrIHRvIHRoZSBhY3Rpdml0eSBpbXBsZW1lbnRhdGlvbiB0aGF0IHRoZSBjbGllbnQgaGFzIHVwZGF0ZWRcbiAgICogdGhlIGFjdGl2aXR5J3Mgc2l6ZS5cbiAgICovXG4gIHJlc2l6ZWQoKSB7XG4gICAgdGhpcy5pZnJhbWVQb3J0Xy5yZXNpemVkKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjdGl2aXR5UG9ydHMge1xuICAvKipcbiAgICogQHBhcmFtIHshLi4vcnVudGltZS9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlcHMpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vcnVudGltZS9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gbmV3IFdlYkFjdGl2aXR5UG9ydHMoZGVwcy53aW4oKSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBjbGllbnQgdmVyc2lvbiwgcHVibGljYXRpb24sIHByb2R1Y3QgYW5kIGxvZ2dpbmcgY29udGV4dCBpbmZvcm1hdGlvbi5cbiAgICogQHBhcmFtIHs/T2JqZWN0PX0gYXJnc1xuICAgKiBAcmV0dXJuIHshT2JqZWN0fVxuICAgKi9cbiAgYWRkRGVmYXVsdEFyZ3VtZW50cyhhcmdzKSB7XG4gICAgY29uc3QgZGVwcyA9IHRoaXMuZGVwc187XG4gICAgY29uc3QgcGFnZUNvbmZpZyA9IGRlcHMucGFnZUNvbmZpZygpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBkZXBzLmFuYWx5dGljcygpLmdldENvbnRleHQoKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgJ2FuYWx5dGljc0NvbnRleHQnOiBjb250ZXh0LnRvQXJyYXkoKSxcbiAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiBwYWdlQ29uZmlnLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgJ3Byb2R1Y3RJZCc6IHBhZ2VDb25maWcuZ2V0UHJvZHVjdElkKCksXG4gICAgICAgICdfY2xpZW50JzogJ1N3RyAkaW50ZXJuYWxSdW50aW1lVmVyc2lvbiQnLFxuICAgICAgICAnc3VwcG9ydHNFdmVudE1hbmFnZXInOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGFyZ3MgfHwge31cbiAgICApO1xuICB9XG5cbiAgLypcbiAgICogU3RhcnQgYW4gYWN0aXZpdHkgd2l0aGluIHRoZSBzcGVjaWZpZWQgaWZyYW1lLlxuICAgKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICogQHBhcmFtIHs/T2JqZWN0PX0gYXJnc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQWN0aXZpdHlJZnJhbWVQb3J0Pn1cbiAgICovXG4gIG9wZW5BY3Rpdml0eUlmcmFtZVBvcnRfKGlmcmFtZSwgdXJsLCBhcmdzKSB7XG4gICAgY29uc3QgYWN0aXZpdHlQb3J0ID0gbmV3IEFjdGl2aXR5SWZyYW1lUG9ydChpZnJhbWUsIHVybCwgdGhpcy5kZXBzXywgYXJncyk7XG4gICAgcmV0dXJuIGFjdGl2aXR5UG9ydC5jb25uZWN0KCkudGhlbigoKSA9PiBhY3Rpdml0eVBvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGFuIGFjdGl2aXR5IHdpdGhpbiB0aGUgc3BlY2lmaWVkIGlmcmFtZS5cbiAgICogQHBhcmFtIHshSFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqIEBwYXJhbSB7P09iamVjdD19IGFyZ3NcbiAgICogQHBhcmFtIHtib29sZWFuPX0gYWRkRGVmYXVsdEFyZ3VtZW50c1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQWN0aXZpdHlJZnJhbWVQb3J0Pn1cbiAgICovXG4gIG9wZW5JZnJhbWUoaWZyYW1lLCB1cmwsIGFyZ3MsIGFkZERlZmF1bHRBcmd1bWVudHMgPSBmYWxzZSkge1xuICAgIGlmIChhZGREZWZhdWx0QXJndW1lbnRzKSB7XG4gICAgICBhcmdzID0gdGhpcy5hZGREZWZhdWx0QXJndW1lbnRzKGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kZXBzX1xuICAgICAgLnN0b3JhZ2UoKVxuICAgICAgLmdldChDb25zdGFudHMuVVNFUl9UT0tFTiwgLyogdXNlTG9jYWxTdG9yYWdlPSAqLyB0cnVlKVxuICAgICAgLnRoZW4oKHN3Z1VzZXJUb2tlbikgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkwodXJsKS5zZWFyY2hQYXJhbXM7XG4gICAgICAgIGlmIChzd2dVc2VyVG9rZW4gJiYgIXF1ZXJ5UGFyYW1zLmhhcygnc3V0JykpIHtcbiAgICAgICAgICB1cmwgPSBhZGRRdWVyeVBhcmFtKHVybCwgJ3N1dCcsIHN3Z1VzZXJUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwdWJJZCA9IHRoaXMuZGVwc18ucGFnZUNvbmZpZygpLmdldFB1YmxpY2F0aW9uSWQoKTtcbiAgICAgICAgaWYgKHB1YklkICYmICFxdWVyeVBhcmFtcy5oYXMoJ3B1YmxpY2F0aW9uSWQnKSkge1xuICAgICAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAncHVibGljYXRpb25JZCcsIHB1YklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5BY3Rpdml0eUlmcmFtZVBvcnRfKGlmcmFtZSwgdXJsLCBhcmdzKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0IGFuIGFjdGl2aXR5IGluIGEgc2VwYXJhdGUgd2luZG93LiBUaGUgcmVzdWx0IHdpbGwgYmUgZGVsaXZlcmVkXG4gICAqIHRvIHRoZSBgb25SZXN1bHRgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBUaGUgYWN0aXZpdHkgY2FuIGJlIG9wZW5lZCBpbiB0d28gbW9kZXM6IFwicG9wdXBcIiBhbmQgXCJyZWRpcmVjdFwiLiBUaGlzXG4gICAqIGRlcGVuZHMgb24gdGhlIGB0YXJnZXRgIHZhbHVlLCBidXQgYWxzbyBvbiB0aGUgYnJvd3Nlci9lbnZpcm9ubWVudC5cbiAgICpcbiAgICogVGhlIGFsbG93ZWQgYHRhcmdldGAgdmFsdWVzIGFyZSBgX2JsYW5rYCwgYF90b3BgIGFuZCBuYW1lIHRhcmdldHMuIFRoZVxuICAgKiBgX3NlbGZgLCBgX3BhcmVudGAgYW5kIHNpbWlsYXIgdGFyZ2V0cyBhcmUgbm90IGFsbG93ZWQuXG4gICAqXG4gICAqIFRoZSBgX3RvcGAgdGFyZ2V0IGluZGljYXRlcyB0aGF0IHRoZSBhY3Rpdml0eSBzaG91bGQgYmUgb3BlbmVkIGFzIGFcbiAgICogXCJyZWRpcmVjdFwiLCB3aGlsZSBvdGhlciB0YXJnZXRzIGluZGljYXRlIHRoYXQgdGhlIGFjdGl2aXR5IHNob3VsZCBiZVxuICAgKiBvcGVuZWQgYXMgYSBwb3B1cC4gVGhlIGFjdGl2aXR5IGNsaWVudCB3aWxsIHRyeSB0byBob25vciB0aGUgcmVxdWVzdGVkXG4gICAqIHRhcmdldC4gSG93ZXZlciwgaXQncyBub3QgYWx3YXlzIHBvc3NpYmxlLiBTb21lIGVudmlyb25tZW50cyBkbyBub3RcbiAgICogYWxsb3cgcG9wdXBzIGFuZCB0aGV5IGVpdGhlciBmb3JjZSByZWRpcmVjdCBvciBmYWlsIHRoZSB3aW5kb3cgb3BlblxuICAgKiByZXF1ZXN0LiBJbiB0aGlzIGNhc2UsIHRoZSBhY3Rpdml0eSB3aWxsIHRyeSB0byBmYWxsYmFjayB0byB0aGUgXCJyZWRpcmVjdFwiXG4gICAqIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0SWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0XG4gICAqIEBwYXJhbSB7P09iamVjdD19IGFyZ3NcbiAgICogQHBhcmFtIHs/d2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlPcGVuT3B0aW9ucz19IG9wdGlvbnNcbiAgICogQHBhcmFtIHtib29sZWFuPX0gYWRkRGVmYXVsdEFyZ3VtZW50c1xuICAgKiBAcmV0dXJuIHt7dGFyZ2V0V2luOiA/V2luZG93fX1cbiAgICovXG4gIG9wZW4ocmVxdWVzdElkLCB1cmwsIHRhcmdldCwgYXJncywgb3B0aW9ucywgYWRkRGVmYXVsdEFyZ3VtZW50cyA9IGZhbHNlKSB7XG4gICAgaWYgKGFkZERlZmF1bHRBcmd1bWVudHMpIHtcbiAgICAgIGFyZ3MgPSB0aGlzLmFkZERlZmF1bHRBcmd1bWVudHMoYXJncyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFjdGl2aXR5UG9ydHNfLm9wZW4ocmVxdWVzdElkLCB1cmwsIHRhcmdldCwgYXJncywgb3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSBjYWxsYmFjayBmb3IgdGhlIHJlc3VsdCBvZiB0aGUgYWN0aXZpdHkgb3BlbmVkIHdpdGggdGhlXG4gICAqIHNwZWNpZmllZCBgcmVxdWVzdElkYCAoc2VlIHRoZSBgb3BlbigpYCBtZXRob2QpLiBUaGUgY2FsbGJhY2sgaXMgYVxuICAgKiBmdW5jdGlvbiB0aGF0IHRha2VzIGEgc2luZ2xlIGBBY3Rpdml0eVBvcnRgIGFyZ3VtZW50LiBUaGUgY2xpZW50XG4gICAqIGNhbiB1c2UgdGhpcyBvYmplY3QgdG8gdmVyaWZ5IHRoZSBwb3J0IHVzaW5nIGl0J3Mgb3JpZ2luLCB2ZXJpZmllZCBhbmRcbiAgICogc2VjdXJlIGNoYW5uZWwgZmxhZ3MuIFRoZW4gdGhlIGNsaWVudCBjYW4gY2FsbFxuICAgKiBgQWN0aXZpdHlQb3J0LmFjY2VwdFJlc3VsdCgpYCBtZXRob2QgdG8gYWNjZXB0IHRoZSByZXN1bHQuXG4gICAqXG4gICAqIFRoZSBhY3Rpdml0eSByZXN1bHQgaXMgaGFuZGxlZCB2aWEgYSBzZXBhcmF0ZSBjYWxsYmFjayBiZWNhdXNlIG9mIGFcbiAgICogcG9zc2libGUgcmVkaXJlY3QuIFNvIHVzZSBvZiBkaXJlY3QgY2FsbGJhY2tzIGFuZC9vciBwcm9taXNlcyBpcyBub3RcbiAgICogcG9zc2libGUgaW4gdGhhdCBjYXNlLlxuICAgKlxuICAgKiBBIHR5cGljYWwgaW1wbGVtZW50YXRpb24gd291bGQgbG9vayBsaWtlOlxuICAgKiBgYGBcbiAgICogcG9ydHMub25SZXN1bHQoJ3JlcXVlc3QxJywgZnVuY3Rpb24ocG9ydCkge1xuICAgKiAgIHBvcnQuYWNjZXB0UmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICogICAgIC8vIE9ubHkgdmVyaWZpZWQgb3JpZ2lucyBhcmUgYWxsb3dlZC5cbiAgICogICAgIGlmIChyZXN1bHQub3JpZ2luID09IGV4cGVjdGVkT3JpZ2luICYmXG4gICAqICAgICAgICAgcmVzdWx0Lm9yaWdpblZlcmlmaWVkICYmXG4gICAqICAgICAgICAgcmVzdWx0LnNlY3VyZUNoYW5uZWwpIHtcbiAgICogICAgICAgaGFuZGxlUmVzdWx0Rm9yUmVxdWVzdDEocmVzdWx0KTtcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICogfSlcbiAgICpcbiAgICogcG9ydHMub3BlbigncmVxdWVzdDEnLCByZXF1ZXN0MVVybCwgJ19ibGFuaycpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RJZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFBY3Rpdml0eVBvcnREZWYpfSBjYWxsYmFja1xuICAgKi9cbiAgb25SZXN1bHQocmVxdWVzdElkLCBjYWxsYmFjaykge1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18ub25SZXN1bHQocmVxdWVzdElkLCAocG9ydCkgPT4ge1xuICAgICAgY2FsbGJhY2sobmV3IEFjdGl2aXR5UG9ydERlcHJlY2F0ZWQocG9ydCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUVycm9yKX0gaGFuZGxlclxuICAgKi9cbiAgb25SZWRpcmVjdEVycm9yKGhhbmRsZXIpIHtcbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLm9uUmVkaXJlY3RFcnJvcihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlQb3J0c31cbiAgICovXG4gIGdldE9yaWdpbmFsV2ViQWN0aXZpdHlQb3J0cygpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rpdml0eVBvcnRzXztcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0RpYWxvZ30gZnJvbSAnLi9kaWFsb2cnO1xuaW1wb3J0IHtHcmF5cGFuZX0gZnJvbSAnLi9ncmF5cGFuZSc7XG5pbXBvcnQge2lzQ2FuY2VsRXJyb3J9IGZyb20gJy4uL3V0aWxzL2Vycm9ycyc7XG5cbmNvbnN0IFBPUFVQX1pfSU5ERVggPSAyMTQ3NDgzNjQ3O1xuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgdGhlIHRvcCBsZXZlbCBkaWFsb2cuXG4gKiBAZmluYWxcbiAqL1xuZXhwb3J0IGNsYXNzIERpYWxvZ01hbmFnZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshLi4vbW9kZWwvZG9jLkRvY30gZG9jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vbW9kZWwvZG9jLkRvY30gKi9cbiAgICB0aGlzLmRvY18gPSBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgez9EaWFsb2d9ICovXG4gICAgdGhpcy5kaWFsb2dfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2U8IURpYWxvZz59ICovXG4gICAgdGhpcy5vcGVuUHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUdyYXlwYW5lfSAqL1xuICAgIHRoaXMucG9wdXBHcmF5cGFuZV8gPSBuZXcgR3JheXBhbmUoZG9jLCBQT1BVUF9aX0lOREVYKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1dpbmRvd30gKi9cbiAgICB0aGlzLnBvcHVwV2luXyA9IG51bGw7XG5cbiAgICB0aGlzLnBvcHVwR3JheXBhbmVfLmdldEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnBvcHVwV2luXykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMucG9wdXBXaW5fLmZvY3VzKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBoaWRkZW5cbiAgICogQHBhcmFtIHshLi9kaWFsb2cuRGlhbG9nQ29uZmlnPX0gZGlhbG9nQ29uZmlnIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlXG4gICAqICAgICBkaWFsb2cuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFEaWFsb2c+fVxuICAgKi9cbiAgb3BlbkRpYWxvZyhoaWRkZW4gPSBmYWxzZSwgZGlhbG9nQ29uZmlnID0ge30pIHtcbiAgICBpZiAoIXRoaXMub3BlblByb21pc2VfKSB7XG4gICAgICB0aGlzLmRpYWxvZ18gPSBuZXcgRGlhbG9nKFxuICAgICAgICB0aGlzLmRvY18sXG4gICAgICAgIC8qIGltcG9ydGFudFN0eWxlcyAqLyB7fSxcbiAgICAgICAgLyogc3R5bGVzICovIHt9LFxuICAgICAgICBkaWFsb2dDb25maWdcbiAgICAgICk7XG4gICAgICB0aGlzLm9wZW5Qcm9taXNlXyA9IHRoaXMuZGlhbG9nXy5vcGVuKGhpZGRlbik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9wZW5Qcm9taXNlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL3ZpZXcuVmlld30gdmlld1xuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBoaWRkZW5cbiAgICogQHBhcmFtIHshLi9kaWFsb2cuRGlhbG9nQ29uZmlnPX0gZGlhbG9nQ29uZmlnIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlXG4gICAqICAgIGRpYWxvZy5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBvcGVuVmlldyh2aWV3LCBoaWRkZW4gPSBmYWxzZSwgZGlhbG9nQ29uZmlnID0ge30pIHtcbiAgICB0aGlzLmhhbmRsZUNhbmNlbGxhdGlvbnModmlldyk7XG4gICAgcmV0dXJuIHRoaXMub3BlbkRpYWxvZyhoaWRkZW4sIGRpYWxvZ0NvbmZpZykudGhlbigoZGlhbG9nKSA9PiB7XG4gICAgICByZXR1cm4gZGlhbG9nLm9wZW5WaWV3KHZpZXcpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2FuY2VsbGF0aW9ucyAoZXg6IHVzZXIgY2xpY2tzIGNsb3NlIGJ1dHRvbiBvbiBkaWFsb2cpLlxuICAgKiBAcGFyYW0geyEuL3ZpZXcuVmlld30gdmlld1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGhhbmRsZUNhbmNlbGxhdGlvbnModmlldykge1xuICAgIHJldHVybiB2aWV3LndoZW5Db21wbGV0ZSgpLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgIGlmIChpc0NhbmNlbEVycm9yKHJlYXNvbikpIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZVZpZXcodmlldyk7XG4gICAgICB9XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHs/Li92aWV3LlZpZXd9IHZpZXdcbiAgICovXG4gIGNvbXBsZXRlVmlldyh2aWV3KSB7XG4gICAgLy8gR2l2ZSBhIHNtYWxsIGFtb3VudCBvZiB0aW1lIGZvciBhbm90aGVyIHZpZXcgdG8gdGFrZSBvdmVyIHRoZSBkaWFsb2cuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5kaWFsb2dfICYmIHRoaXMuZGlhbG9nXy5nZXRDdXJyZW50VmlldygpID09IHZpZXcpIHtcbiAgICAgICAgdGhpcy5jbG9zZV8oKTtcbiAgICAgIH1cbiAgICB9LCAxMDApO1xuICB9XG5cbiAgLyoqXG4gICAqL1xuICBjb21wbGV0ZUFsbCgpIHtcbiAgICBpZiAodGhpcy5kaWFsb2dfKSB7XG4gICAgICB0aGlzLmNsb3NlXygpO1xuICAgIH1cbiAgICBpZiAodGhpcy5wb3B1cEdyYXlwYW5lXy5pc0F0dGFjaGVkKCkpIHtcbiAgICAgIHRoaXMucG9wdXBHcmF5cGFuZV8uZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7P0RpYWxvZ31cbiAgICovXG4gIGdldERpYWxvZygpIHtcbiAgICByZXR1cm4gdGhpcy5kaWFsb2dfO1xuICB9XG5cbiAgLyoqIEBwcml2YXRlICovXG4gIGNsb3NlXygpIHtcbiAgICB0aGlzLmRpYWxvZ18uY2xvc2UoKTtcbiAgICB0aGlzLmRpYWxvZ18gPSBudWxsO1xuICAgIHRoaXMub3BlblByb21pc2VfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9XaW5kb3d8dW5kZWZpbmVkfSB0YXJnZXRXaW5cbiAgICovXG4gIHBvcHVwT3BlbmVkKHRhcmdldFdpbikge1xuICAgIHRoaXMucG9wdXBXaW5fID0gdGFyZ2V0V2luIHx8IG51bGw7XG4gICAgaWYgKCF0aGlzLnBvcHVwR3JheXBhbmVfLmlzQXR0YWNoZWQoKSkge1xuICAgICAgdGhpcy5wb3B1cEdyYXlwYW5lXy5hdHRhY2goKTtcbiAgICB9XG4gICAgdGhpcy5wb3B1cEdyYXlwYW5lXy5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICovXG4gIHBvcHVwQ2xvc2VkKCkge1xuICAgIHRoaXMucG9wdXBXaW5fID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgdGhpcy5wb3B1cEdyYXlwYW5lXy5oaWRlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlLlxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0NTUyBhcyBESUFMT0dfQ1NTfSBmcm9tICcuLi8uLi9idWlsZC9jc3MvdWkvdWkuY3NzJztcbmltcG9ydCB7RnJpZW5kbHlJZnJhbWV9IGZyb20gJy4vZnJpZW5kbHktaWZyYW1lJztcbmltcG9ydCB7R3JheXBhbmV9IGZyb20gJy4vZ3JheXBhbmUnO1xuaW1wb3J0IHtMb2FkaW5nVmlld30gZnJvbSAnLi4vdWkvbG9hZGluZy12aWV3JztcbmltcG9ydCB7XG4gIGNyZWF0ZUVsZW1lbnQsXG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIHJlbW92ZUNoaWxkcmVuLFxuICByZW1vdmVFbGVtZW50LFxufSBmcm9tICcuLi91dGlscy9kb20nO1xuaW1wb3J0IHtyZXNvbHZlRG9jfSBmcm9tICcuLi9tb2RlbC9kb2MnO1xuaW1wb3J0IHtzZXRJbXBvcnRhbnRTdHlsZXMsIHNldFN0eWxlc30gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuaW1wb3J0IHt0cmFuc2l0aW9ufSBmcm9tICcuLi91dGlscy9hbmltYXRpb24nO1xuXG5jb25zdCBaX0lOREVYID0gMjE0NzQ4MzY0NztcblxuLyoqXG4gKiBEZWZhdWx0IGlmcmFtZSBpbXBvcnRhbnQgc3R5bGVzLlxuICogTm90ZTogVGhlIGlmcmFtZSByZXNwb25zaXZlbmVzcyBtZWRpYSBxdWVyeSBzdHlsZSBpcyBpbmplY3RlZCBpbiB0aGVcbiAqIHB1Ymxpc2hlcidzIHBhZ2Ugc2luY2Ugc3R5bGUgYXR0cmlidXRlIGNhbiBub3QgaW5jbHVkZSBtZWRpYSBxdWVyeS5cbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+fVxuICovXG5jb25zdCByb290RWxlbWVudEltcG9ydGFudFN0eWxlcyA9IHtcbiAgJ21pbi1oZWlnaHQnOiAnNTBweCcsXG4gICdib3JkZXInOiAnbm9uZScsXG4gICdkaXNwbGF5JzogJ2Jsb2NrJyxcbiAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgJ3otaW5kZXgnOiBaX0lOREVYLFxuICAnYm94LXNpemluZyc6ICdib3JkZXItYm94Jyxcbn07XG5cbi8qKlxuICogUmVzZXQgdmlldyBzdHlsZXMuXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPn1cbiAqL1xuY29uc3QgcmVzZXRWaWV3U3R5bGVzID0ge1xuICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLFxuICAndG9wJzogJzAnLFxuICAnbGVmdCc6ICcwJyxcbiAgJ3JpZ2h0JzogJzAnLFxuICAnYm90dG9tJzogJzAnLFxuICAnb3BhY2l0eSc6IDAsXG4gIC8qIFRoZXNlIGxpbmVzIGFyZSBhIHdvcmsgYXJvdW5kIHRvIHRoaXMgaXNzdWUgaW4gaU9TOiAgICAgKi9cbiAgLyogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NTE5OCAgICAgICAgICAqL1xuICAnaGVpZ2h0JzogMCxcbiAgJ21heC1oZWlnaHQnOiAnMTAwJScsXG4gICdtYXgtd2lkdGgnOiAnMTAwJScsXG4gICdtaW4taGVpZ2h0JzogJzEwMCUnLFxuICAnbWluLXdpZHRoJzogJzEwMCUnLFxuICAnd2lkdGgnOiAwLFxufTtcblxuLyoqXG4gKiBEaXNwbGF5IGNvbmZpZ3JhdGlvbiBvcHRpb25zIGZvciBkaWFsb2dzLlxuICpcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGRlc2t0b3BDb25maWc6IE9wdGlvbnMgZm9yIGRpYWxvZ3Mgb24gZGVza3RvcCBzY3JlZW5zLlxuICogLSBtYXhBbGxvd2VkSGVpZ2h0UmF0aW86IFRoZSBtYXggYWxsb3dlZCBoZWlnaHQgb2YgdGhlIHZpZXcgYXMgYSByYXRpbyBvZiB0aGVcbiAqICAgICAgIHZpZXdwb3J0IGhlaWdodC5cbiAqIC0gaWZyYW1lQ3NzQ2xhc3NPdmVycmlkZTogVGhlIENTUyBjbGFzcyB0byB1c2UgZm9yIHRoZSBpZnJhbWUsIG92ZXJyaWRpbmdcbiAqICAgICAgIGRlZmF1bHQgY2xhc3NlcyBzdWNoIGFzIHN3Zy1kaWFsb2cuXG4gKiAtIHNob3VsZERpc2FibGVCb2R5U2Nyb2xsaW5nOiBXaGV0aGVyIHRvIGRpc2FibGUgc2Nyb2xsaW5nIG9uIHRoZSBjb250ZW50IHBhZ2VcbiAqICAgICAgIHdoZW4gdGhlIGRpYWxvZyBpcyB2aXNpYmxlLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGRlc2t0b3BDb25maWc6IChEZXNrdG9wRGlhbG9nQ29uZmlnfHVuZGVmaW5lZCksXG4gKiAgIG1heEFsbG93ZWRIZWlnaHRSYXRpbzogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBpZnJhbWVDc3NDbGFzc092ZXJyaWRlOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHNob3VsZERpc2FibGVCb2R5U2Nyb2xsaW5nOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBEaWFsb2dDb25maWc7XG5cbi8qKlxuICogRGlzcGxheSBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGRpYWxvZ3Mgb24gZGVza3RvcCBzY3JlZW5zLlxuICpcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGlzQ2VudGVyUG9zaXRpb25lZDogV2hldGhlciB0aGUgZGlhbG9nIHNob3VsZCBiZSBwb3NpdGlvbmVkIGF0IHRoZSBjZW50ZXJcbiAqICAgICAgIG9mIHRoZSB2aWV3cG9ydCByYXRoZXIgdGhhbiBhdCB0aGUgYm90dG9tIG9uIGRlc2t0b3Agc2NyZWVucy5cbiAqIC0gc3VwcG9ydHNXaWRlU2NyZWVuOiBXaGV0aGVyIHRoZSBkaWFsb2cgc3VwcG9ydHMgYSA4MDhweCB3aWR0aCBvbiB2aWV3cG9ydHNcbiAqICAgICAgIHRoYXQgYXJlID49IDg3MHB4IHdpZGUuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgaXNDZW50ZXJQb3NpdGlvbmVkOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogICBzdXBwb3J0c1dpZGVTY3JlZW46IChib29sZWFufHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IERlc2t0b3BEaWFsb2dDb25maWc7XG5cbi8qKlxuICogVGhlIGNsYXNzIGZvciB0aGUgdG9wIGxldmVsIGRpYWxvZy5cbiAqIEBmaW5hbFxuICovXG5leHBvcnQgY2xhc3MgRGlhbG9nIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpYWxvZyBmb3IgdGhlIHByb3ZpZGVkIGRvYy5cbiAgICogQHBhcmFtIHshLi4vbW9kZWwvZG9jLkRvY30gZG9jXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+PX0gaW1wb3J0YW50U3R5bGVzXG4gICAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+PX0gc3R5bGVzXG4gICAqIEBwYXJhbSB7IURpYWxvZ0NvbmZpZz19IGRpYWxvZ0NvbmZpZyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBkaWFsb2cuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MsIGltcG9ydGFudFN0eWxlcyA9IHt9LCBzdHlsZXMgPSB7fSwgZGlhbG9nQ29uZmlnID0ge30pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vbW9kZWwvZG9jLkRvY30gKi9cbiAgICB0aGlzLmRvY18gPSBkb2M7XG5cbiAgICBjb25zdCBkZXNrdG9wRGlhbG9nQ29uZmlnID0gZGlhbG9nQ29uZmlnLmRlc2t0b3BDb25maWcgfHwge307XG4gICAgY29uc3Qgc3VwcG9ydHNXaWRlU2NyZWVuID0gISFkZXNrdG9wRGlhbG9nQ29uZmlnLnN1cHBvcnRzV2lkZVNjcmVlbjtcblxuICAgIGNvbnN0IGRlZmF1bHRJZnJhbWVDc3NDbGFzcyA9IGBzd2ctZGlhbG9nICR7XG4gICAgICBzdXBwb3J0c1dpZGVTY3JlZW4gPyAnc3dnLXdpZGUtZGlhbG9nJyA6ICcnXG4gICAgfWA7XG4gICAgY29uc3QgaWZyYW1lQ3NzQ2xhc3MgPVxuICAgICAgZGlhbG9nQ29uZmlnLmlmcmFtZUNzc0NsYXNzT3ZlcnJpZGUgfHwgZGVmYXVsdElmcmFtZUNzc0NsYXNzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUZyaWVuZGx5SWZyYW1lfSAqL1xuICAgIHRoaXMuaWZyYW1lXyA9IG5ldyBGcmllbmRseUlmcmFtZShkb2MuZ2V0V2luKCkuZG9jdW1lbnQsIHtcbiAgICAgICdjbGFzcyc6IGlmcmFtZUNzc0NsYXNzLFxuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUdyYXlwYW5lfSAqL1xuICAgIHRoaXMuZ3JheXBhbmVfID0gbmV3IEdyYXlwYW5lKGRvYywgWl9JTkRFWCAtIDEpO1xuXG4gICAgY29uc3QgbW9kaWZpZWRJbXBvcnRhbnRTdHlsZXMgPSBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICByb290RWxlbWVudEltcG9ydGFudFN0eWxlcyxcbiAgICAgIGltcG9ydGFudFN0eWxlc1xuICAgICk7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuaWZyYW1lXy5nZXRFbGVtZW50KCksIG1vZGlmaWVkSW1wb3J0YW50U3R5bGVzKTtcblxuICAgIHNldFN0eWxlcyh0aGlzLmlmcmFtZV8uZ2V0RWxlbWVudCgpLCBzdHlsZXMpO1xuXG4gICAgLyoqIEBwcml2YXRlIHtMb2FkaW5nVmlld30gKi9cbiAgICB0aGlzLmxvYWRpbmdWaWV3XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbGVtZW50fSAqL1xuICAgIHRoaXMuY29udGFpbmVyXyA9IG51bGw7IC8vIERlcGVuZHMgb24gY29uc3RydWN0ZWQgZG9jdW1lbnQgaW5zaWRlIGlmcmFtZS5cblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4vdmlldy5WaWV3fSAqL1xuICAgIHRoaXMudmlld18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLmFuaW1hdGluZ18gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSGVscHMgaWRlbnRpZnkgc3RhbGUgYW5pbWF0aW9ucy5cbiAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9uTnVtYmVyXyA9IDA7XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5oaWRkZW5fID0gZmFsc2U7XG5cbiAgICAvKiogQHByaXZhdGUgez8uL3ZpZXcuVmlld30gKi9cbiAgICB0aGlzLnByZXZpb3VzUHJvZ3Jlc3NWaWV3XyA9IG51bGw7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHtudW1iZXJ9ICovXG4gICAgdGhpcy5tYXhBbGxvd2VkSGVpZ2h0UmF0aW9fID1cbiAgICAgIGRpYWxvZ0NvbmZpZy5tYXhBbGxvd2VkSGVpZ2h0UmF0aW8gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGRpYWxvZ0NvbmZpZy5tYXhBbGxvd2VkSGVpZ2h0UmF0aW9cbiAgICAgICAgOiAwLjk7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMucG9zaXRpb25DZW50ZXJPbkRlc2t0b3BfID0gISFkZXNrdG9wRGlhbG9nQ29uZmlnLmlzQ2VudGVyUG9zaXRpb25lZDtcblxuICAgIC8qKiBAY29uc3QgQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5zaG91bGREaXNhYmxlQm9keVNjcm9sbGluZ18gPVxuICAgICAgISFkaWFsb2dDb25maWcuc2hvdWxkRGlzYWJsZUJvZHlTY3JvbGxpbmc7XG5cbiAgICAvKiogQGNvbnN0IEBwcml2YXRlIHshTWVkaWFRdWVyeUxpc3R9ICovXG4gICAgdGhpcy5kZXNrdG9wTWVkaWFRdWVyeV8gPSB0aGlzLmRvY19cbiAgICAgIC5nZXRXaW4oKVxuICAgICAgLm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDY0MXB4KScpO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBsaXN0ZW5lciB0aGF0IGFjdHMgb24gY2hhbmdlcyB0byBkZXNrdG9wTWVkaWFRdWVyeS5cbiAgICAgKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCl9XG4gICAgICovXG4gICAgdGhpcy5kZXNrdG9wTWVkaWFRdWVyeUxpc3RlbmVyXyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIGRpYWxvZyBhbmQgYnVpbGRzIHRoZSBpZnJhbWUgY29udGFpbmVyLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBoaWRkZW5cbiAgICogQHJldHVybiB7IVByb21pc2U8IURpYWxvZz59XG4gICAqL1xuICBvcGVuKGhpZGRlbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgaWZyYW1lID0gdGhpcy5pZnJhbWVfO1xuICAgIGlmIChpZnJhbWUuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdhbHJlYWR5IG9wZW5lZCcpO1xuICAgIH1cblxuICAgIC8vIEF0dGFjaC5cbiAgICB0aGlzLmRvY18uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGlmcmFtZS5nZXRFbGVtZW50KCkpOyAvLyBGaXJlcyBvbmxvYWQuXG5cbiAgICB0aGlzLmdyYXlwYW5lXy5hdHRhY2goKTtcblxuICAgIGlmIChoaWRkZW4pIHtcbiAgICAgIHNldEltcG9ydGFudFN0eWxlcyhpZnJhbWUuZ2V0RWxlbWVudCgpLCB7XG4gICAgICAgICd2aXNpYmlsaXR5JzogJ2hpZGRlbicsXG4gICAgICAgICdvcGFjaXR5JzogMCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5oaWRkZW5fID0gaGlkZGVuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dfKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlmcmFtZS53aGVuUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuYnVpbGRJZnJhbWVfKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgaWZyYW1lIGVtYmVkZGVkIGluIHRoZSBnaXZlbiBjb250YWluZXIgZWxlbWVudC5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gY29udGFpbmVyRWxcbiAgICovXG4gIG9wZW5JbkNvbnRhaW5lcihjb250YWluZXJFbCkge1xuICAgIGNvbnN0IGlmcmFtZSA9IHRoaXMuaWZyYW1lXztcbiAgICBpZiAoaWZyYW1lLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYWxyZWFkeSBvcGVuZWQnKTtcbiAgICB9XG5cbiAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChpZnJhbWUuZ2V0RWxlbWVudCgpKTtcblxuICAgIHJldHVybiBpZnJhbWUud2hlblJlYWR5KCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmJ1aWxkSWZyYW1lXygpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgdGhlIGlmcmFtZSB3aXRoIHRoZSBzdHlsaW5nIGFmdGVyIGlmcmFtZSBpcyBsb2FkZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBidWlsZElmcmFtZV8oKSB7XG4gICAgY29uc3QgaWZyYW1lID0gdGhpcy5pZnJhbWVfO1xuICAgIGNvbnN0IGlmcmFtZUJvZHkgPSBpZnJhbWUuZ2V0Qm9keSgpO1xuICAgIGNvbnN0IGlmcmFtZURvYyA9IC8qKiBAdHlwZSB7IUhUTUxEb2N1bWVudH0gKi8gKHRoaXMuaWZyYW1lXy5nZXREb2N1bWVudCgpKTtcblxuICAgIC8vIEluamVjdCBHb29nbGUgZm9udHMgaW4gPEhFQUQ+IHNlY3Rpb24gb2YgdGhlIGlmcmFtZS5cbiAgICBpbmplY3RTdHlsZVNoZWV0KHJlc29sdmVEb2MoaWZyYW1lRG9jKSwgRElBTE9HX0NTUyk7XG5cbiAgICAvLyBBZGQgTG9hZGluZyBpbmRpY2F0b3IuXG4gICAgY29uc3QgbG9hZGluZ1ZpZXdDbGFzc2VzID0gW107XG4gICAgaWYgKHRoaXMuaXNQb3NpdGlvbkNlbnRlck9uRGVza3RvcCgpKSB7XG4gICAgICBsb2FkaW5nVmlld0NsYXNzZXMucHVzaCgnY2VudGVyZWQtb24tZGVza3RvcCcpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRpbmdWaWV3XyA9IG5ldyBMb2FkaW5nVmlldyhpZnJhbWVEb2MsIHtcbiAgICAgIGFkZGl0aW9uYWxDbGFzc2VzOiBsb2FkaW5nVmlld0NsYXNzZXMsXG4gICAgfSk7XG4gICAgaWZyYW1lQm9keS5hcHBlbmRDaGlsZCh0aGlzLmxvYWRpbmdWaWV3Xy5nZXRFbGVtZW50KCkpO1xuXG4gICAgLy8gQ29udGFpbmVyIGZvciBhbGwgZHluYW1pYyBjb250ZW50LCBpbmNsdWRpbmcgM1AgaWZyYW1lLlxuICAgIHRoaXMuY29udGFpbmVyXyA9IGNyZWF0ZUVsZW1lbnQoaWZyYW1lRG9jLCAnc3dnLWNvbnRhaW5lcicsIHt9KTtcbiAgICBpZnJhbWVCb2R5LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyXyk7XG4gICAgdGhpcy5zZXRQb3NpdGlvbl8oKTtcblxuICAgIC8vIEFkZCBsaXN0ZW5lciB0byBhZGp1c3QgcG9zaXRpb24gd2hlbiBjcm9zc2luZyBhIG1lZGlhIHF1ZXJ5IGJyZWFrcG9pbnQuXG4gICAgaWYgKHRoaXMucG9zaXRpb25DZW50ZXJPbkRlc2t0b3BfKSB7XG4gICAgICB0aGlzLmRlc2t0b3BNZWRpYVF1ZXJ5TGlzdGVuZXJfID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFBvc2l0aW9uXygpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuZGVza3RvcE1lZGlhUXVlcnlfLmFkZExpc3RlbmVyKHRoaXMuZGVza3RvcE1lZGlhUXVlcnlMaXN0ZW5lcl8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIGRpYWxvZy5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gYW5pbWF0ZWRcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBjbG9zZShhbmltYXRlZCA9IHRydWUpIHtcbiAgICBsZXQgYW5pbWF0aW5nO1xuICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgY29uc3QgdHJhbnNpdGlvblN0eWxlcyA9IHRoaXMuc2hvdWxkUG9zaXRpb25DZW50ZXJfKClcbiAgICAgICAgPyB7J29wYWNpdHknOiAwfVxuICAgICAgICA6IHsndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoMTAwJSknfTtcblxuICAgICAgYW5pbWF0aW5nID0gdGhpcy5hbmltYXRlXygoKSA9PiB7XG4gICAgICAgIHRoaXMuZ3JheXBhbmVfLmhpZGUoLyogYW5pbWF0ZSAqLyB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb24odGhpcy5nZXRFbGVtZW50KCksIHRyYW5zaXRpb25TdHlsZXMsIDMwMCwgJ2Vhc2Utb3V0Jyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0aW5nID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kb2NfLmdldEJvZHkoKS5jbGFzc0xpc3QucmVtb3ZlKCdzd2ctZGlzYWJsZS1zY3JvbGwnKTtcblxuICAgIHJldHVybiBhbmltYXRpbmcudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBpZnJhbWVFbCA9IHRoaXMuaWZyYW1lXy5nZXRFbGVtZW50KCk7XG4gICAgICBpZnJhbWVFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGlmcmFtZUVsKTtcblxuICAgICAgdGhpcy5yZW1vdmVQYWRkaW5nVG9IdG1sXygpO1xuICAgICAgdGhpcy5ncmF5cGFuZV8uZGVzdHJveSgpO1xuICAgICAgaWYgKHRoaXMuZGVza3RvcE1lZGlhUXVlcnlMaXN0ZW5lcl8pIHtcbiAgICAgICAgdGhpcy5kZXNrdG9wTWVkaWFRdWVyeV8ucmVtb3ZlTGlzdGVuZXIodGhpcy5kZXNrdG9wTWVkaWFRdWVyeUxpc3RlbmVyXyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY29udGFpbmVyIHdpdGhpbiB0aGUgZGlhbG9nLlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGdldENvbnRhaW5lcigpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbmVyXykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdub3Qgb3BlbmVkIHlldCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb250YWluZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGF0dGFjaGVkIGlmcmFtZSBpbnN0YW5jZS5cbiAgICogQHJldHVybiB7IUZyaWVuZGx5SWZyYW1lfVxuICAgKi9cbiAgZ2V0SWZyYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmlmcmFtZV87XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgSWZyYW1lIGVsZW1lbnQuXG4gICAqIEByZXR1cm4geyFIVE1MSUZyYW1lRWxlbWVudH1cbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWZyYW1lXy5nZXRFbGVtZW50KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgTG9hZGluZ1ZpZXcgZm9yIHRoaXMgZGlhbG9nLlxuICAgKiBAcmV0dXJuIHtMb2FkaW5nVmlld31cbiAgICovXG4gIGdldExvYWRpbmdWaWV3KCkge1xuICAgIHJldHVybiB0aGlzLmxvYWRpbmdWaWV3XztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtYXggYWxsb3dlZCBoZWlnaHQgb2YgdGhlIHZpZXcgYXMgYSByYXRpbyBvZiB2aWV3cG9ydCBoZWlnaHQuXG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIGdldE1heEFsbG93ZWRIZWlnaHRSYXRpbygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhBbGxvd2VkSGVpZ2h0UmF0aW9fO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgZGlhbG9nIGlzIGNlbnRlci1wb3NpdGlvbmVkIG9uIGRlc2t0b3Agc2NyZWVucy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGlzUG9zaXRpb25DZW50ZXJPbkRlc2t0b3AoKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25DZW50ZXJPbkRlc2t0b3BfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zaXRpb25zIHRvIHRoZSBuZXh0IHZpZXcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbnRyeVRyYW5zaXRpb25Ub05leHRWaWV3XygpIHtcbiAgICBpZiAodGhpcy52aWV3XyAmJiB0aGlzLnZpZXdfLmhhc0xvYWRpbmdJbmRpY2F0b3IoKSkge1xuICAgICAgLy8gVGVtcG9yYXJpbHkgY2FjaGUgdGhlIG9sZCB2aWV3LlxuICAgICAgdGhpcy5wcmV2aW91c1Byb2dyZXNzVmlld18gPSB0aGlzLnZpZXdfO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTaW5jZSBsb2FkaW5nIGluZGljYXRvciB3aWxsIGJlIHNob3duLCByZW1vdmUgY29udGVudHMgb2Ygb2xkIHZpZXcuXG4gICAgICByZW1vdmVDaGlsZHJlbih0aGlzLmdldENvbnRhaW5lcigpKTtcbiAgICAgIC8vIFdoZW4gbG9hZGluZyBpbmRpY2F0b3Igd2FzIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIHByZXZpb3VzIHZpZXcsXG4gICAgICAvLyBsb2FkaW5nIGluZGljYXRvciBtdXN0IGJlIGRpc3BsYXllZCB3aGlsZSB0cmFuc2l0aW9uaW5nIHRvIG5ldyB2aWV3LlxuICAgICAgdGhpcy5sb2FkaW5nVmlld18uc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2l0aW9uIG91dCBvZiBhbiBvbGQgdmlldy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGV4aXRUcmFuc2l0aW9uRnJvbU9sZFZpZXdfKCkge1xuICAgIC8vIElmIHByZXZpb3VzIHZpZXcgaXMgc3RpbGwgYXJvdW5kLCByZW1vdmUgaXQuXG4gICAgaWYgKHRoaXMucHJldmlvdXNQcm9ncmVzc1ZpZXdfKSB7XG4gICAgICByZW1vdmVFbGVtZW50KHRoaXMucHJldmlvdXNQcm9ncmVzc1ZpZXdfLmdldEVsZW1lbnQoKSk7XG4gICAgICB0aGlzLnByZXZpb3VzUHJvZ3Jlc3NWaWV3XyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9hZGluZ1ZpZXdfLmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHJldHVybiB7Py4vdmlldy5WaWV3fSAqL1xuICBnZXRDdXJyZW50VmlldygpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3XztcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgZ2l2ZW4gdmlldyBhbmQgcmVtb3ZlcyBleGlzdGluZyB2aWV3IGZyb20gdGhlIERPTSBpZiBhbnkuXG4gICAqIEBwYXJhbSB7IS4vdmlldy5WaWV3fSB2aWV3XG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgb3BlblZpZXcodmlldykge1xuICAgIHNldEltcG9ydGFudFN0eWxlcyh2aWV3LmdldEVsZW1lbnQoKSwgcmVzZXRWaWV3U3R5bGVzKTtcbiAgICB0aGlzLmVudHJ5VHJhbnNpdGlvblRvTmV4dFZpZXdfKCk7XG5cbiAgICB0aGlzLnZpZXdfID0gdmlldztcbiAgICB0aGlzLmdldENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHZpZXcuZ2V0RWxlbWVudCgpKTtcblxuICAgIGlmICh0aGlzLnNob3VsZERpc2FibGVCb2R5U2Nyb2xsaW5nXykge1xuICAgICAgdGhpcy5kb2NfLmdldEJvZHkoKS5jbGFzc0xpc3QuYWRkKCdzd2ctZGlzYWJsZS1zY3JvbGwnKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgY3VycmVudCB2aWV3IHNob3VsZCBmYWRlIHRoZSBwYXJlbnQgZG9jdW1lbnQuXG4gICAgaWYgKHZpZXcuc2hvdWxkRmFkZUJvZHkoKSAmJiAhdGhpcy5oaWRkZW5fKSB7XG4gICAgICB0aGlzLmdyYXlwYW5lXy5zaG93KC8qIGFuaW1hdGUgKi8gdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpZXcuaW5pdCh0aGlzKS50aGVuKCgpID0+IHtcbiAgICAgIHNldEltcG9ydGFudFN0eWxlcyh2aWV3LmdldEVsZW1lbnQoKSwge1xuICAgICAgICAnb3BhY2l0eSc6IDEsXG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLmhpZGRlbl8pIHtcbiAgICAgICAgaWYgKHZpZXcuc2hvdWxkRmFkZUJvZHkoKSkge1xuICAgICAgICAgIHRoaXMuZ3JheXBhbmVfLnNob3coLyogYW5pbWF0ZWQgKi8gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaG93XygpO1xuICAgICAgfVxuICAgICAgdGhpcy5leGl0VHJhbnNpdGlvbkZyb21PbGRWaWV3XygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIGlmcmFtZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNob3dfKCkge1xuICAgIHRoaXMuYW5pbWF0ZV8oKCkgPT4ge1xuICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuZ2V0RWxlbWVudCgpLCB7XG4gICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgxMDAlKScsXG4gICAgICAgICdvcGFjdGl5JzogMSxcbiAgICAgICAgJ3Zpc2liaWxpdHknOiAndmlzaWJsZScsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cmFuc2l0aW9uKFxuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKSxcbiAgICAgICAge1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiB0aGlzLmdldERlZmF1bHRUcmFuc2xhdGVZXygpLFxuICAgICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgICAndmlzaWJpbGl0eSc6ICd2aXNpYmxlJyxcbiAgICAgICAgfSxcbiAgICAgICAgMzAwLFxuICAgICAgICAnZWFzZS1vdXQnXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBGb2N1cyB0aGUgZGlhbG9nIGNvbnRlbnRzLCBwZXIgV0FJLUFSSUEgYmVzdCBwcmFjdGljZXMuXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmhpZGRlbl8gPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSBkaWFsb2cgY29udGFpbmVyLlxuICAgKiBAcGFyYW0geyEuL3ZpZXcuVmlld30gdmlld1xuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFuaW1hdGVkXG4gICAqIEByZXR1cm4gez9Qcm9taXNlfVxuICAgKi9cbiAgcmVzaXplVmlldyh2aWV3LCBoZWlnaHQsIGFuaW1hdGVkID0gdHJ1ZSkge1xuICAgIGlmICh0aGlzLnZpZXdfICE9IHZpZXcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBuZXdIZWlnaHQgPSB0aGlzLmdldE1heEFsbG93ZWRIZWlnaHRfKGhlaWdodCk7XG5cbiAgICAvLyBVbmlxdWVseSBpZGVudGlmeSB0aGlzIGFuaW1hdGlvbi5cbiAgICAvLyBUaGlzIGxldHMgY2FsbGJhY2tzIGFiYW5kb24gc3RhbGUgYW5pbWF0aW9ucy5cbiAgICBjb25zdCBhbmltYXRpb25OdW1iZXIgPSArK3RoaXMuYW5pbWF0aW9uTnVtYmVyXztcbiAgICBjb25zdCBpc1N0YWxlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbk51bWJlciAhPT0gdGhpcy5hbmltYXRpb25OdW1iZXJfO1xuICAgIH07XG5cbiAgICBsZXQgYW5pbWF0aW5nO1xuICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgY29uc3Qgb2xkSGVpZ2h0ID0gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKG5ld0hlaWdodCA+PSBvbGRIZWlnaHQpIHtcbiAgICAgICAgLy8gRXhwYW5kLlxuICAgICAgICBhbmltYXRpbmcgPSB0aGlzLmFuaW1hdGVfKCgpID0+IHtcbiAgICAgICAgICBpZiAoaXNTdGFsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaW1tZWRpYXRlU3R5bGVzID0ge1xuICAgICAgICAgICAgJ2hlaWdodCc6IGAke25ld0hlaWdodH1weGAsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkUG9zaXRpb25DZW50ZXJfKCkpIHtcbiAgICAgICAgICAgIGltbWVkaWF0ZVN0eWxlc1sndHJhbnNmb3JtJ10gPSBgdHJhbnNsYXRlWSgke1xuICAgICAgICAgICAgICBuZXdIZWlnaHQgLSBvbGRIZWlnaHRcbiAgICAgICAgICAgIH1weClgO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5nZXRFbGVtZW50KCksIGltbWVkaWF0ZVN0eWxlcyk7XG5cbiAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvbihcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAndHJhbnNmb3JtJzogdGhpcy5nZXREZWZhdWx0VHJhbnNsYXRlWV8oKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAzMDAsXG4gICAgICAgICAgICAnZWFzZS1vdXQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb2xsYXBzZS5cbiAgICAgICAgYW5pbWF0aW5nID0gdGhpcy5hbmltYXRlXygoKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNpdGlvblByb21pc2UgPSBpc1N0YWxlKClcbiAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIDogdHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogdGhpcy5zaG91bGRQb3NpdGlvbkNlbnRlcl8oKVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0RGVmYXVsdFRyYW5zbGF0ZVlfKClcbiAgICAgICAgICAgICAgICAgICAgOiBgdHJhbnNsYXRlWSgke29sZEhlaWdodCAtIG5ld0hlaWdodH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgMzAwLFxuICAgICAgICAgICAgICAgICdlYXNlLW91dCdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHJhbnNpdGlvblByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdGFsZSgpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuZ2V0RWxlbWVudCgpLCB7XG4gICAgICAgICAgICAgICdoZWlnaHQnOiBgJHtuZXdIZWlnaHR9cHhgLFxuICAgICAgICAgICAgICAndHJhbnNmb3JtJzogdGhpcy5nZXREZWZhdWx0VHJhbnNsYXRlWV8oKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuZ2V0RWxlbWVudCgpLCB7XG4gICAgICAgICdoZWlnaHQnOiBgJHtuZXdIZWlnaHR9cHhgLFxuICAgICAgfSk7XG4gICAgICBhbmltYXRpbmcgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaW1hdGluZy50aGVuKCgpID0+IHtcbiAgICAgIGlmIChpc1N0YWxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVBhZGRpbmdUb0h0bWxfKGhlaWdodCk7XG4gICAgICB2aWV3LnJlc2l6ZWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IVByb21pc2V9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYW5pbWF0ZV8oY2FsbGJhY2spIHtcbiAgICBjb25zdCB3YWl0ID0gdGhpcy5hbmltYXRpbmdfIHx8IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIHJldHVybiAodGhpcy5hbmltYXRpbmdfID0gd2FpdFxuICAgICAgLnRoZW4oXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIElnbm9yZSBlcnJvcnMgdG8gbWFrZSBzdXJlIGFuaW1hdGlvbnMgZG9uJ3QgZ2V0IHN0dWNrLlxuICAgICAgICB9XG4gICAgICApXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nXyA9IG51bGw7XG4gICAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBtYXhpbXVtIGFsbG93ZWQgaGVpZ2h0IGZvciBjdXJyZW50IHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE1heEFsbG93ZWRIZWlnaHRfKGhlaWdodCkge1xuICAgIHJldHVybiBNYXRoLm1pbihcbiAgICAgIGhlaWdodCxcbiAgICAgIHRoaXMuZG9jXy5nZXRXaW4oKS4vKk9LKi8gaW5uZXJIZWlnaHQgKiB0aGlzLm1heEFsbG93ZWRIZWlnaHRSYXRpb19cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBwYWRkaW5nLWJvdHRvbSBvbiB0aGUgY29udGFpbmluZyBwYWdlIHRvIG5vdCBoaWRlIGFueSBjb250ZW50XG4gICAqIGJlaGluZCB0aGUgcG9wdXAsIGlmIHJlbmRlcmVkIGF0IHRoZSBib3R0b20uIEZvciBjZW50ZXJlZCBkaWFsb2dzLCB0aGVyZVxuICAgKiBzaG91bGQgYmUgbm8gYWRkZWQgcGFkZGluZy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0hlaWdodFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdXBkYXRlUGFkZGluZ1RvSHRtbF8obmV3SGVpZ2h0KSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkUG9zaXRpb25DZW50ZXJfKCkpIHtcbiAgICAgIC8vIEZvciBjZW50ZXJlZCBkaWFsb2dzLCB0aGVyZSBzaG91bGQgYmUgbm8gYm90dG9tIHBhZGRpbmcuXG4gICAgICB0aGlzLnJlbW92ZVBhZGRpbmdUb0h0bWxfKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJvdHRvbVBhZGRpbmcgPSBuZXdIZWlnaHQgKyAyMDsgLy8gQWRkIHNvbWUgZXh0cmEgcGFkZGluZy5cbiAgICBjb25zdCBodG1sRWxlbWVudCA9IHRoaXMuZG9jXy5nZXRSb290RWxlbWVudCgpO1xuICAgIHNldEltcG9ydGFudFN0eWxlcyhodG1sRWxlbWVudCwge1xuICAgICAgJ3BhZGRpbmctYm90dG9tJzogYCR7Ym90dG9tUGFkZGluZ31weGAsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBwcmV2aW91bHkgYWRkZWQgYm90dG9tIHBhZGRpbmcgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW1vdmVQYWRkaW5nVG9IdG1sXygpIHtcbiAgICB0aGlzLmRvY18uZ2V0Um9vdEVsZW1lbnQoKS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGlhbG9nLiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyAnQk9UVE9NJywgd2l0aFxuICAgKiBhbiBvcHRpb24gb2Ygc3dpdGNoaW5nIHRvICdDRU5URVInIG9uIGRlc2t0b3Agc2NyZWVucy5cbiAgICovXG4gIHNldFBvc2l0aW9uXygpIHtcbiAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5nZXRFbGVtZW50KCksIHRoaXMuZ2V0UG9zaXRpb25TdHlsZV8oKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZGlhbG9nIHNob3VsZCBoYXZlIHBvc2l0aW9uICdDRU5URVInLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2hvdWxkUG9zaXRpb25DZW50ZXJfKCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uQ2VudGVyT25EZXNrdG9wXyAmJiB0aGlzLmRlc2t0b3BNZWRpYVF1ZXJ5Xy5tYXRjaGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHN0eWxlcyByZXF1aXJlZCB0byBwb3N0aW9uIHRoZSBkaWFsb2cuXG4gICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFBvc2l0aW9uU3R5bGVfKCkge1xuICAgIGlmICh0aGlzLnNob3VsZFBvc2l0aW9uQ2VudGVyXygpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAndG9wJzogJzUwJScsXG4gICAgICAgICdib3R0b20nOiAwLFxuICAgICAgICAndHJhbnNmb3JtJzogdGhpcy5nZXREZWZhdWx0VHJhbnNsYXRlWV8oKSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAndG9wJzogJ2F1dG8nLFxuICAgICAgJ2JvdHRvbSc6IDAsXG4gICAgICAndHJhbnNmb3JtJzogdGhpcy5nZXREZWZhdWx0VHJhbnNsYXRlWV8oKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGVmYXVsdCB0cmFuc2xhdGVZIHN0eWxlIGZvciB0aGUgZGlhbG9nLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXREZWZhdWx0VHJhbnNsYXRlWV8oKSB7XG4gICAgaWYgKHRoaXMuc2hvdWxkUG9zaXRpb25DZW50ZXJfKCkpIHtcbiAgICAgIHJldHVybiAndHJhbnNsYXRlWSgtNTAlKSc7XG4gICAgfVxuICAgIHJldHVybiAndHJhbnNsYXRlWSgwcHgpJztcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGlzQ29ubmVjdGVkfSBmcm9tICcuLi91dGlscy9kb20nO1xuaW1wb3J0IHtyZXNldEFsbFN0eWxlc30gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZ3xudW1iZXI+fSAqL1xuY29uc3QgZnJpZW5kbHlJZnJhbWVBdHRyaWJ1dGVzID0ge1xuICAnZnJhbWVib3JkZXInOiAwLFxuICAnc2Nyb2xsaW5nJzogJ25vJyxcbiAgJ3NyYyc6ICdhYm91dDpibGFuaycsXG59O1xuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgYnVpbGRpbmcgZnJpZW5kbHkgaWZyYW1lLlxuICovXG5leHBvcnQgY2xhc3MgRnJpZW5kbHlJZnJhbWUge1xuICAvKipcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPj19IGF0dHJzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MsIGF0dHJzID0ge30pIHtcbiAgICBjb25zdCBtZXJnZWRBdHRycyA9IE9iamVjdC5hc3NpZ24oe30sIGZyaWVuZGx5SWZyYW1lQXR0cmlidXRlcywgYXR0cnMpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUhUTUxJRnJhbWVFbGVtZW50fSAqL1xuICAgIHRoaXMuaWZyYW1lXyA9IC8qKiBAdHlwZSB7IUhUTUxJRnJhbWVFbGVtZW50fSAqLyAoXG4gICAgICBjcmVhdGVFbGVtZW50KGRvYywgJ2lmcmFtZScsIG1lcmdlZEF0dHJzKVxuICAgICk7XG5cbiAgICAvLyBFbnN1cmUgdGhhdCB0aGUgbmV3IGlmcmFtZSBkb2VzIG5vdCBpbmhlcml0IGFueSBDU1Mgc3R5bGVzLlxuICAgIHJlc2V0QWxsU3R5bGVzKHRoaXMuaWZyYW1lXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLnJlYWR5XyA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmlmcmFtZV8ub25sb2FkID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgd2hlblJlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpZnJhbWUgZWxlbWVudC5cbiAgICogQHJldHVybiB7IUhUTUxJRnJhbWVFbGVtZW50fVxuICAgKi9cbiAgZ2V0RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5pZnJhbWVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRvY3VtZW50IG9iamVjdCBvZiB0aGUgaWZyYW1lIGVsZW1lbnQuXG4gICAqIEByZXR1cm4geyFEb2N1bWVudH1cbiAgICovXG4gIGdldERvY3VtZW50KCkge1xuICAgIGNvbnN0IGRvYyA9XG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5jb250ZW50RG9jdW1lbnQgfHxcbiAgICAgICh0aGlzLmdldEVsZW1lbnQoKS5jb250ZW50V2luZG93ICYmXG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpO1xuXG4gICAgaWYgKCFkb2MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignbm90IGxvYWRlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gZG9jO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJvZHkgb2YgdGhlIGlmcmFtZS5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBnZXRCb2R5KCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAodGhpcy5nZXREb2N1bWVudCgpLmJvZHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGlmcmFtZSBpcyBjb25uZWN0ZWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gaXNDb25uZWN0ZWQodGhpcy5nZXRFbGVtZW50KCkpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7c2V0SW1wb3J0YW50U3R5bGVzfSBmcm9tICcuLi91dGlscy9zdHlsZSc7XG5pbXBvcnQge3RyYW5zaXRpb259IGZyb20gJy4uL3V0aWxzL2FuaW1hdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBHcmF5cGFuZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9tb2RlbC9kb2MuRG9jfSBkb2NcbiAgICogQHBhcmFtIHtudW1iZXJ9IHpJbmRleFxuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jLCB6SW5kZXgpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vbW9kZWwvZG9jLkRvY30gKi9cbiAgICB0aGlzLmRvY18gPSBkb2M7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRWxlbWVudH0gKi9cbiAgICB0aGlzLmZhZGVCYWNrZ3JvdW5kXyA9IHRoaXMuZG9jX1xuICAgICAgLmdldFdpbigpXG4gICAgICAuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3dnLXBvcHVwLWJhY2tncm91bmQnKTtcbiAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5mYWRlQmFja2dyb3VuZF8sIHtcbiAgICAgICd6LWluZGV4JzogekluZGV4LFxuICAgICAgJ2Rpc3BsYXknOiAnbm9uZScsXG4gICAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZScsXG4gICAgICAncG9zaXRpb24nOiAnZml4ZWQnLFxuICAgICAgJ3RvcCc6IDAsXG4gICAgICAncmlnaHQnOiAwLFxuICAgICAgJ2JvdHRvbSc6IDAsXG4gICAgICAnbGVmdCc6IDAsXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICdyZ2JhKDMyLCAzMywgMzYsIC42KScsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmZhZGVCYWNrZ3JvdW5kXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNBdHRhY2hlZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmZhZGVCYWNrZ3JvdW5kXy5wYXJlbnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIHRoZSBncmF5cGFuZSB0byB0aGUgZG9jdW1lbnQuXG4gICAqL1xuICBhdHRhY2goKSB7XG4gICAgdGhpcy5kb2NfLmdldEJvZHkoKS5hcHBlbmRDaGlsZCh0aGlzLmZhZGVCYWNrZ3JvdW5kXyk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoZXMgdGhlIGdyYXlwYW5lIHRvIHRoZSBkb2N1bWVudC5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kb2NfLmdldEJvZHkoKS5yZW1vdmVDaGlsZCh0aGlzLmZhZGVCYWNrZ3JvdW5kXyk7XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGdyYXlwYW5lLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbmltYXRlZFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZXx1bmRlZmluZWR9XG4gICAqL1xuICBzaG93KGFuaW1hdGVkID0gdHJ1ZSkge1xuICAgIHNldEltcG9ydGFudFN0eWxlcyh0aGlzLmZhZGVCYWNrZ3JvdW5kXywge1xuICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snLFxuICAgICAgJ29wYWNpdHknOiBhbmltYXRlZCA/IDAgOiAxLFxuICAgIH0pO1xuICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb24oXG4gICAgICAgIHRoaXMuZmFkZUJhY2tncm91bmRfLFxuICAgICAgICB7XG4gICAgICAgICAgJ29wYWNpdHknOiAxLFxuICAgICAgICB9LFxuICAgICAgICAzMDAsXG4gICAgICAgICdlYXNlLW91dCdcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBncmF5cGFuZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gYW5pbWF0ZWRcbiAgICogQHJldHVybiB7IVByb21pc2V8dW5kZWZpbmVkfVxuICAgKi9cbiAgaGlkZShhbmltYXRlZCA9IHRydWUpIHtcbiAgICBpZiAoYW5pbWF0ZWQpIHtcbiAgICAgIHJldHVybiB0cmFuc2l0aW9uKFxuICAgICAgICB0aGlzLmZhZGVCYWNrZ3JvdW5kXyxcbiAgICAgICAge1xuICAgICAgICAgICdvcGFjaXR5JzogMCxcbiAgICAgICAgfSxcbiAgICAgICAgMzAwLFxuICAgICAgICAnZWFzZS1vdXQnXG4gICAgICApLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXModGhpcy5mYWRlQmFja2dyb3VuZF8sIHsnZGlzcGxheSc6ICdub25lJ30pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHNldEltcG9ydGFudFN0eWxlcyh0aGlzLmZhZGVCYWNrZ3JvdW5kXywgeydkaXNwbGF5JzogJ25vbmUnfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBhYnN0cmFjdCBWaWV3IENsYXNzLiBVc2VkIHRvIHJlbmRlciB0aGUgY29udGVudCB3aXRoaW4gdGhlIERpYWxvZy4gVGhlXG4gKiBleHRlbmRlZCBjbGFzcyBoYXMgYWN0dWFsIGNvbnRlbnQuXG4gKiBAYWJzdHJhY3RcbiAqL1xuZXhwb3J0IGNsYXNzIFZpZXcge1xuICAvKipcbiAgICogRW1wdHkgY29uc3RydWN0b3IuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGlmcmFtZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBnZXRFbGVtZW50KCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHshLi9kaWFsb2cuRGlhbG9nfSB1bnVzZWREaWFsb2dcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgaW5pdCh1bnVzZWREaWFsb2cpIHt9XG5cbiAgLyoqXG4gICAqIFJlc2l6ZXMgdGhlIGNvbnRlbnQuXG4gICAqL1xuICByZXNpemVkKCkge1xuICAgIC8vIERvIG5vdGhpbmcgYnkgZGVmYXVsdC4gT3ZlcnJpZGUgaWYgbmVlZGVkLlxuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdCB0aGUgcmVzdWx0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICB3aGVuQ29tcGxldGUoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIHNob3VsZEZhZGVCb2R5KCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBoYXNMb2FkaW5nSW5kaWNhdG9yKCkge31cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gTk9URTogUGxlYXNlIGRvbid0IGVkaXQgdGhpcyBmaWxlIGRpcmVjdGx5IVxuLy8gICBUaGlzIGRvY3VtZW50IGRlc2NyaWJlcyBob3cgdG8gY2hhbmdlIGkxOG4gc3RyaW5ncyBpbiBzd2ctanM6IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMUZNRUtKX1RtakhocU9OMGtyRTR4aERiVEVqMEkwRG52enhNekIyY1dVV0EvZWRpdD9yZXNvdXJjZWtleT0wLVRRN2hQT3pBRDRoWDh4OVBmd2VHU2cjaGVhZGluZz1oLnE5Z2k3dDRoMXR5alxuXG5leHBvcnQgY29uc3QgSTE4Tl9TVFJJTkdTID0ge1xuICAnU0hPV0NBU0VfUkVHV0FMTF9USVRMRSc6IHtcbiAgICAnYmcnOiAn0J/QvtC70YPRh9Cw0LLQsNC50YLQtSDQv9C+0LLQtdGH0LUg0YEgR29vZ2xlJyxcbiAgICAnYm4nOiAnR29vZ2xlLeCmjyDgpobgprDgppMg4KaF4Kao4KeH4KaVIOCmleCmv+Cmm+CngeCmsCDgprjgp4Hgpqzgpr/gpqfgpr4g4Kaq4Ka+4KaoJyxcbiAgICAnY3MnOiAnWsOtc2tlanRlIHMmbmJzcDtHb29nbGVtIHbDrWMnLFxuICAgICdkYSc6ICdGw6UgYWRnYW5nIHRpbCBtZXJlIG1lZCBHb29nbGUnLFxuICAgICdkZSc6ICdJbW1lciBndXQgaW5mb3JtaWVydCBtaXQgR29vZ2xlJyxcbiAgICAnZWwnOiAnzpHPgM6/zrrPhM6uz4PPhM61IM+AzrXPgc65z4PPg8+Mz4TOtc+BzrEgzrzOtSDPhM63zr0gR29vZ2xlJyxcbiAgICAnZW4nOiAnR2V0IG1vcmUgd2l0aCBHb29nbGUnLFxuICAgICdlcyc6ICdEaXNmcnV0YSBkZSBtw6FzIGFydMOtY3Vsb3MgY29uIEdvb2dsZScsXG4gICAgJ2VzLTQxOSc6ICdEaXNmcnV0YSBtw6FzIGFydMOtY3Vsb3MgY29uIEdvb2dsZScsXG4gICAgJ2VzLWFyJzogJ0Rpc2ZydXRhIG3DoXMgYXJ0w61jdWxvcyBjb24gR29vZ2xlJyxcbiAgICAnZnInOiAnUGx1cyBkZSBjb250ZW51cyBhdmVjIEdvb2dsZScsXG4gICAgJ2ZyLWNhJzogJ0FsbGVyIHBsdXMgbG9pbiBhdmVjIEdvb2dsZScsXG4gICAgJ2hpJzogJ0dvb2dsZSDgpJXgpYAg4KSu4KSm4KSmIOCkuOClhyDgpZvgpY3gpK/gpL7gpKbgpL4g4KSu4KWB4KSr4KS84KWN4KSkIOCksuClh+CkliDgpKrgpL7gpI/gpIInLFxuICAgICdpdCc6ICdDb24gR29vZ2xlIHB1b2kgYXZlcmUgZGkgcGnDuScsXG4gICAgJ2phJzogJ0dvb2dsZSDjgYvjgonjga7jg5fjg6zjgrzjg7Pjg4gnLFxuICAgICdrbic6ICdHb29nbGUg4LKo4LK/4LKC4LKmIOCyueCzhuCymuCzjeCymuCyv+CyqCDgsqrgs43gsrDgsq/gs4vgspzgsqgg4LKq4LKh4LOG4LKv4LK/4LKw4LK/JyxcbiAgICAnbHQnOiAnR2F1a2l0ZSBkYXVnaWF1IHN1IOKAnkdvb2dsZeKAnCcsXG4gICAgJ2x2JzogJ0llZ8Wrc3RpZXQgdmFpcsSBayBhciBHb29nbGUnLFxuICAgICdtbCc6ICdHb29nbGUg4LSJ4LSq4LSv4LWH4LS+4LSX4LS/4LSa4LWN4LSa4LWNIOC0leC1guC0n+C1geC0pOC1vSDgtKrgtY3gtLDgtK/gtYfgtL7gtJzgtKjgtJngtY3gtJngtb4g4LSo4LWH4LSf4LWCJyxcbiAgICAnbXInOiAnR29vZ2xlIOCkteCkvuCkquCksOClguCkqCDgpKzgpLDgpYfgpJog4KSV4KS+4KS54KWAIOCkruCkv+Cks+CkteCkvicsXG4gICAgJ25sJzogJ0tyaWpnIG1lZXIgbWV0IEdvb2dsZScsXG4gICAgJ3BsJzogJ1ombmJzcDtHb29nbGUgZG9zdGFqZXN6IHdpxJljZWonLFxuICAgICdwdC1icic6ICdWZWphIG1haXMgY29tIG8gR29vZ2xlJyxcbiAgICAncHQtcHQnOiAnT2J0ZW5oYSBtYWlzIGNvbSBhIEdvb2dsZScsXG4gICAgJ3JvJzogJ01haSBtdWx0ZSBiZW5lZmljaWkgY3UgR29vZ2xlJyxcbiAgICAnc2snOiAnWsOtc2thanRlIHZpYWMgcyZuYnNwO0dvb2dsb20nLFxuICAgICdzbCc6ICdJemtvcmlzdGl0ZSB2ZcSNIHogR29vZ2xvbScsXG4gICAgJ3N2JzogJ0bDpSBtZXIgbWVkIEdvb2dsZScsXG4gICAgJ3RhJzogJ0dvb2dsZSDgrq7gr4LgrrLgrq7gr40g4K6u4K+H4K6y4K+B4K6u4K+NIOCuquCusiDgrpXgrp/gr43grp/gr4HgrrDgr4jgrpXgrrPgr4jgrqrgr40g4K6q4K6f4K6/4K6v4K+B4K6Z4K+N4K6V4K6z4K+NJyxcbiAgICAndGUnOiAnR29vZ2xl4LCk4LGLIOCwruCwsOCwv+CwqOCxjeCwqOCwvyDgsKrgsY3gsLDgsK/gsYvgsJzgsKjgsL7gsLLgsKjgsYEg4LCq4LGK4LCC4LCm4LCC4LCh4LC/JyxcbiAgfSxcbiAgJ1NIT1dDQVNFX1JFR1dBTExfREVTQ1JJUFRJT04nOiB7XG4gICAgJ2JnJzogJzxzdHJvbmc+PC9zdHJvbmc+0JfQsCDRgdGK0LTRitGA0LbQsNC90LjQtdGC0L4g0L7QsdC40LrQvdC+0LLQtdC90L4g0YHQtSDQuNC30LjRgdC60LLQsCDQv9C70LDRidCw0L3QtSwg0L3QviBHb29nbGUg0LLQuCDQtNCw0LLQsCDQtNC+0YHRgtGK0L8g0LHQtdC3INC/0LDRgNC40YfQvdC+INC30LDQv9C70LDRidCw0L3QtSDQtNC+INGC0LDQt9C4INC4INC00YDRg9Cz0Lgg0YHRgtCw0YLQuNC4LCDQutC+0LPQsNGC0L4g0YHQtSDRgNC10LPQuNGB0YLRgNC40YDQsNGC0LUg0LfQsCA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiDRgSDQv9GA0L7RhNC40LvQsCDRgdC4INCyIEdvb2dsZS4nLFxuICAgICdibic6ICc8c3Ryb25nPjwvc3Ryb25nPuCmj+CmhyDgppXgpqjgp43gpp/gp4fgpqjgp43gpp8g4KaF4KeN4Kav4Ka+4KaV4KeN4Ka44KeH4Ka4IOCmleCmsOCmvuCmsCDgppzgpqjgp43gpq8g4Ka44Ka+4Kan4Ka+4Kaw4Kaj4KakIOCmquCnh+CmruCnh+CmqOCnjeCmnyDgppXgprDgpqTgp4cg4Ka54KefIOCmleCmv+CmqOCnjeCmpOCngSBHb29nbGUg4KaG4Kaq4Kao4Ka+4KaV4KeHIOCmj+CmhyDgpqjgpr/gpqzgpqjgp43gpqcg4Kar4KeN4Kaw4Ka/4Kak4KeHIOCmheCnjeCmr+CmvuCmleCnjeCmuOCnh+CmuCDgppXgprDgpqTgp4cg4KaP4Kas4KaCIOCmuOCnh+Cmh+CmuOCmvuCmpeCnhyDgpoXgpqjgp4fgppUg4KaV4Ka/4Kab4KeBIOCmquCnh+CmpOCnhyDgprjgpr7gprngpr7gpq/gp43gpq8g4KaV4Kaw4Kab4KeH4KWkIOCmj+CmhyDgprjgp4Hgpqzgpr/gpqfgpr4g4Kaq4Ka+4KaT4Kef4Ka+4KawIOCmnOCmqOCnjeCmryBHb29nbGUg4KaF4KeN4Kav4Ka+4KaV4Ka+4KaJ4Kao4KeN4KafIOCmrOCnjeCmr+CmrOCmueCmvuCmsCDgppXgprDgp4cg4KaG4Kaq4Kao4Ka+4KaV4KeHIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+LeCmjyDgprDgp4fgppzgpr/gprjgp43gpp/gpr7gprAg4KaV4Kaw4Kak4KeHIOCmueCmrOCnh+ClpCcsXG4gICAgJ2NzJzogJzxzdHJvbmc+PC9zdHJvbmc+VGVudG8gb2JzYWggamUgb2J2eWtsZSB6cG9wbGF0bsSbbiwgYWxlIHBva3VkIHNlIGRvIHB1Ymxpa2FjZSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiB6YXJlZ2lzdHJ1amV0ZSBwb21vY8OtIMO6xI10dSBHb29nbGUsIHrDrXNrw6F0ZSBvZCBHb29nbHUgcMWZw61zdHVwIHpkYXJtYS4nLFxuICAgICdkYSc6ICc8c3Ryb25nPjwvc3Ryb25nPkR1IHNrYWwgbm9ybWFsdCBiZXRhbGUgZm9yIGF0IGbDpSBhZGdhbmcgdGlsIGRldHRlIGluZGhvbGQsIG1lbiBodmlzIGR1IHRpbG1lbGRlciBkaWcgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4gbWVkIGRpbiBHb29nbGUta29udG8sIGdpdmVyIEdvb2dsZSBkaWcgZ3JhdGlzIGFkZ2FuZyB0aWwgYXJ0aWtsZW4gb2cgYW5kZXQgaW5kaG9sZC4nLFxuICAgICdkZSc6ICc8c3Ryb25nPjwvc3Ryb25nPkRpZXNlciBJbmhhbHQgaXN0IG5vcm1hbGVyd2Vpc2Uga29zdGVucGZsaWNodGlnLiBHb29nbGUgZ2V3w6RocnQgZGlyIGplZG9jaCBrb3N0ZW5sb3MgWnVncmlmZiBhdWYgZGllc2VuIEFydGlrZWwgdW5kIGFuZGVyZSBJbmhhbHRlLCB3ZW5uIGR1IGRpY2ggbWl0IGRlaW5lbSBHb29nbGUtS29udG8gYmVpIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IHJlZ2lzdHJpZXJzdC4nLFxuICAgICdlbCc6ICc8c3Ryb25nPjwvc3Ryb25nPs6jz4XOvc6uzrjPic+CIM6xz4DOsc65z4TOtc6vz4TOsc65IM+AzrvOt8+Bz4nOvM6uIM6zzrnOsSDOsc+Fz4TPjCDPhM6/IM+AzrXPgc65zrXPh8+MzrzOtc69zr8sIM6xzrvOu86sIM63IEdvb2dsZSDPg86xz4Igz4DPgc6/z4PPhs6tz4HOtc65IM+Az4HPjM+DzrLOsc+Dzrcgz4fPic+Bzq/PgiDPh8+Bzq3Pic+Dzrcgz4POtSDOsc+Fz4TPjCDPhM6/IM6sz4HOuM+Bzr8gzrrOsc65IM+DzrUgz4DOv867zrvOrCDOsc66z4zOvM63LCDOtc6szr0gzrXOs86zz4HOsc+GzrXOr8+EzrUgz4PPhM63zr0gzq3Ous60zr/Pg863IDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IM68zrUgz4fPgc6uz4POtyDPhM6/z4UgzpvOv86zzrHPgc65zrHPg868zr/PjSDPg86xz4IgR29vZ2xlLicsXG4gICAgJ2VuJzogJzxzdHJvbmc+PC9zdHJvbmc+VGhpcyBjb250ZW50IHVzdWFsbHkgcmVxdWlyZXMgcGF5bWVudCwgYnV0IEdvb2dsZSBpcyBnaXZpbmcgeW91IGZyZWUgYWNjZXNzIHRvIHRoaXMgYXJ0aWNsZSBhbmQgbW9yZSB3aGVuIHlvdSByZWdpc3RlciB3aXRoIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IHVzaW5nIHlvdXIgR29vZ2xlIEFjY291bnQuJyxcbiAgICAnZXMnOiAnPHN0cm9uZz48L3N0cm9uZz5Ob3JtYWxtZW50ZSwgZXMgbmVjZXNhcmlvIHBhZ2FyIHBhcmEgdmVyIGVzdGUgY29udGVuaWRvLCBwZXJvIEdvb2dsZSB0ZSBvZnJlY2UgYWNjZXNvIGdyYXR1aXRvIGEgZXN0ZSB5IG90cm9zIGFydMOtY3Vsb3Mgc2kgdGUgcmVnaXN0cmFzIGVuIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGNvbiB0dSBjdWVudGEgZGUgR29vZ2xlLicsXG4gICAgJ2VzLTQxOSc6XG4gICAgICAnPHN0cm9uZz48L3N0cm9uZz5Ob3JtYWxtZW50ZSwgZXMgbmVjZXNhcmlvIHBhZ2FyIHBhcmEgdmVyIGVzdGUgY29udGVuaWRvLCBwZXJvIEdvb2dsZSB0ZSBvZnJlY2UgYWNjZXNvIGdyYXR1aXRvIGEgZXN0ZSB5IG90cm9zIGFydMOtY3Vsb3Mgc2kgdGUgcmVnaXN0cmFzIGVuIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGNvbiB0dSBDdWVudGEmbmJzcDtkZSZuYnNwO0dvb2dsZS4nLFxuICAgICdlcy1hcic6XG4gICAgICAnPHN0cm9uZz48L3N0cm9uZz5Ob3JtYWxtZW50ZSwgZXMgbmVjZXNhcmlvIHBhZ2FyIHBhcmEgdmVyIGVzdGUgY29udGVuaWRvLCBwZXJvIEdvb2dsZSB0ZSBvZnJlY2UgYWNjZXNvIGdyYXR1aXRvIGEgZXN0ZSB5IG90cm9zIGFydMOtY3Vsb3Mgc2kgdGUgcmVnaXN0cmFzIGVuIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGNvbiB0dSBDdWVudGEmbmJzcDtkZSZuYnNwO0dvb2dsZS4nLFxuICAgICdmcic6ICc8c3Ryb25nPjwvc3Ryb25nPkNlIGNvbnRlbnUgZXN0IGfDqW7DqXJhbGVtZW50IHBheWFudCwgbWFpcyB2b3VzIHBvdXZleiBsaXJlIGNldCBhcnRpY2xlIGV0IGRcXCdhdXRyZXMgY29udGVudXMgZ3JhdHVpdGVtZW50IGdyw6JjZSDDoCBHb29nbGUgZW4gdm91cyBpbnNjcml2YW50IHN1ciA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiBhdmVjIHZvdHJlIGNvbXB0ZSBHb29nbGUuJyxcbiAgICAnZnItY2EnOlxuICAgICAgJzxzdHJvbmc+PC9zdHJvbmc+Q2UgY29udGVudSBlc3QgZ8OpbsOpcmFsZW1lbnQgcGF5YW50LCBtYWlzIEdvb2dsZSB2b3VzIG9mZnJlIHVuIGFjY8OocyBncmF0dWl0IMOgIGNldCBhcnRpY2xlIGV0IMOgIGRcXCdhdXRyZXMgc2kgdm91cyB2b3VzIGluc2NyaXZleiDDoCA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiDDoCBsXFwnYWlkZSBkZSB2b3RyZSBjb21wdGUgR29vZ2xlLicsXG4gICAgJ2hpJzogJzxzdHJvbmc+PC9zdHJvbmc+4KSG4KSuIOCkpOCljOCksCDgpKrgpLAsIOCkh+CkuCDgpJXgpYngpKjgpY3gpJ/gpYfgpILgpJ8g4KSV4KWLIOCkquCkouCkvOCkqOClhyDgpJXgpYcg4KSy4KS/4KSPIOCkquCliOCkuOClhyDgpJrgpYHgpJXgpL7gpKjgpYcg4KSq4KSh4KS84KSk4KWHIOCkueCliOCkgi4g4KS54KS+4KSy4KS+4KSC4KSV4KS/LCBHb29nbGUg4KSV4KWAIOCkruCkpuCkpiDgpLjgpYcsIOCkh+CkuCDgpLLgpYfgpJYg4KSU4KSwIOCkheCkqOCljeCkryDgpJXgpYngpKjgpY3gpJ/gpYfgpILgpJ8g4KSV4KWLIOCkruClgeCkq+CljeCkvOCkpCDgpK7gpYfgpIIg4KSQ4KSV4KWN4KS44KWH4KS4IOCkleCkv+Ckr+CkviDgpJzgpL4g4KS44KSV4KSk4KS+IOCkueCliC4g4KSH4KS44KSV4KWHIOCksuCkv+Ckjywg4KSG4KSq4KSV4KWLIEdvb2dsZSDgpJbgpL7gpKTgpYcg4KSV4KS+IOCkh+CkuOCljeCkpOClh+CkruCkvuCksiDgpJXgpLDgpJXgpYcsIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCkruClh+CkgiDgpLDgpJzgpL/gpLjgpY3gpJ/gpLAg4KSV4KSw4KSo4KS+IOCkueCli+Ckl+Ckvi4nLFxuICAgICdpdCc6ICc8c3Ryb25nPjwvc3Ryb25nPkdlbmVyYWxtZW50ZSBxdWVzdGkgY29udGVudXRpIHNvbm8gYSBwYWdhbWVudG8sIG1hIEdvb2dsZSB0aSBvZmZyZSBhY2Nlc3NvIGdyYXR1aXRvIGEgcXVlc3RvIGUgYWQgYWx0cmkgYXJ0aWNvbGkgc2UgdGkgcmVnaXN0cmkgYSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiB1c2FuZG8gaWwgdHVvIEFjY291bnQgR29vZ2xlLicsXG4gICAgJ2phJzogJzxzdHJvbmc+PC9zdHJvbmc+6YCa5bi444CB44GT44Gu6KiY5LqL44KS44GK6Kqt44G/44GE44Gf44Gg44GP44Gr44Gv44GK5pSv5omV44GE44GM5b+F6KaB44Gn44GZ44GM44CB44GK5L2/44GE44GuIEdvb2dsZSDjgqLjgqvjgqbjg7Pjg4jjgacgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4g44Gr55m76Yyy44GZ44KL44Go44CB44GT44Gu6KiY5LqL44KS54Sh5paZ44Gn44GK6Kqt44G/44GE44Gf44Gg44GR44G+44GZ44CCJyxcbiAgICAna24nOiAnPHN0cm9uZz48L3N0cm9uZz7gsrjgsr7gsq7gsr7gsqjgs43gsq/gsrXgsr7gspfgsr8g4LKIIOCyteCyv+Cyt+Cyr+CyleCzjeCyleCyvuCyl+CyvyDgsrngsqMg4LKq4LK+4LK14LKk4LK/4LK44LKs4LOH4LKV4LK+4LKX4LOB4LKk4LON4LKk4LKm4LOGLCDgsobgsqbgsrDgs4Yg4LKo4LOA4LK14LOBIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCyl+CzhiDgsqjgsr/gsq7gs43gsq4gR29vZ2xlIOCyluCyvuCypOCzhuCyryDgsq7gs4LgsrLgspUg4LKo4LOL4LKC4LKm4LK+4LKv4LK/4LK44LK/4LKV4LOK4LKC4LKh4LK+4LKXIEdvb2dsZSDgsogg4LKy4LOH4LKW4LKoIOCyruCypOCzjeCypOCzgSDgsofgsqjgs43gsqjgsrfgs43gsp/gs4Eg4LK14LK/4LK34LKv4LKX4LKz4LK/4LKX4LOGIOCyqOCyv+CyruCyl+CzhiDgsongsprgsr/gsqTgsrXgsr7gsqYg4LKq4LON4LKw4LK14LOH4LK24LK14LKo4LON4LKo4LOBIOCyqOCzgOCyoeCzgeCypOCzjeCypOCypuCzhi4nLFxuICAgICdsdCc6ICc8c3Ryb25nPjwvc3Ryb25nPsWgaXMgdHVyaW55cyBwYXByYXN0YWkgeXJhIG1va2FtYXMsIHRhxI1pYXUg4oCeR29vZ2xl4oCcIHN1dGVpa2lhIGp1bXMgcHJpZWlnxIUgcHJpZSDFoWlvIHN0cmFpcHNuaW8gaXIga3QuIGJlIHBhcGlsZG9tbyBtb2tlc8SNaW8sIGthaSB1xb5zaXJlZ2lzdHJ1b2phdGUg4oCePHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD7igJwgbmF1ZG9kYW1pIHNhdm8g4oCeR29vZ2xl4oCcIHBhc2t5csSFLicsXG4gICAgJ2x2JzogJzxzdHJvbmc+PC9zdHJvbmc+UGFyYXN0aSDFoWlzIGlyIG1ha3NhcyBzYXR1cnMsIHRhxI11IEdvb2dsZSBwaWXFocS3aXJzIGp1bXMgYmV6bWFrc2FzIHBpZWvEvHV2aSDFoWltIHVuIGNpdGllbSByYWtzdGllbSwgamEgcmXEo2lzdHLEk3NpZXRpZXMgaXpkZXZ1bWFtIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGFyIHNhdnUgR29vZ2xlIGtvbnR1LicsXG4gICAgJ21sJzogJzxzdHJvbmc+PC9zdHJvbmc+4LS44LS+4LSn4LS+4LSw4LSjIOC0iCDgtIngtLPgtY3gtLPgtJ/gtJXgtY3gtJXgtKTgtY3gtKTgtL/gtKjgtY0g4LSq4LSj4LSCIOC0qOC1veC0leC1h+C0o+C1jeC0n+C0pOC1geC0o+C1jeC0n+C1jSwg4LSO4LSo4LWN4LSo4LS+4LW9IEdvb2dsZSDgtIXgtJXgtY3gtJXgtZfgtKPgtY3gtJ/gtY0g4LSJ4LSq4LSv4LWH4LS+4LSX4LS/4LSa4LWN4LSa4LWNIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOC0juC0qOC1jeC0qOC0pOC0v+C1vSDgtLDgtJzgtL/gtLjgtY3igIzgtLHgtY3gtLHgtbwg4LSa4LWG4LSv4LWN4LSv4LWB4LSu4LWN4LSq4LWH4LS+4LW+LCDgtIgg4LSy4LWH4LSW4LSo4LSk4LWN4LSk4LS/4LSy4LWH4LSV4LWN4LSV4LWB4LSCIOC0ruC0seC1jeC0seC1geC0giBHb29nbGUg4LSo4LS/4LSZ4LWN4LSZ4LW+4LSV4LWN4LSV4LWNIOC0uOC1l+C0nOC0qOC1jeC0ryDgtIbgtJXgtY3igIzgtLjgtLjgtY0g4LSo4LW94LSV4LWB4LSo4LWN4LSo4LWBLicsXG4gICAgJ21yJzogJzxzdHJvbmc+PC9zdHJvbmc+4KSv4KS+IOCkhuCktuCkr+CkvuCkuOCkvuCkoOClgCDgpLjgpL7gpK7gpL7gpKjgpY3gpK/gpKTgpIMg4KSq4KWH4KSu4KWH4KSC4KSfIOCkhuCkteCktuCljeCkr+CklSDgpIXgpLjgpKTgpYcg4KSq4KSjIOCkpOClgeCkruCljeCkueClgCDgpKTgpYHgpK7gpJrgpYcgR29vZ2xlIOCkluCkvuCkpOClhyDgpLXgpL7gpKrgpLDgpYLgpKggPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4g4KSu4KSn4KWN4KSv4KWHIOCkqOCli+CkguCkpuCko+ClgCDgpJXgpLDgpKTgpL4g4KSk4KWH4KS14KWN4KS54KS+LCBHb29nbGUg4KSk4KWB4KSu4KWN4KS54KS+4KSy4KS+IOCkr+CkviDgpLLgpYfgpJbgpL7gpJrgpL4g4KSG4KSj4KS/IOCkhuCko+CkluClgCDgpKzgpLHgpY3gpK/gpL7gpJog4KSG4KS24KSv4KS+4KSa4KS+IOCkteCkv+CkqOCkvuCkruClguCksuCljeCkryDgpbLgpJXgpY3gpLjgpYfgpLgg4KSm4KWH4KSk4KWHLicsXG4gICAgJ25sJzogJzxzdHJvbmc+PC9zdHJvbmc+Vm9vciBkZXplIGNvbnRlbnQgbW9ldCBqZSBlaWdlbmxpamsgYmV0YWxlbi4gTWFhciBHb29nbGUgZ2VlZnQgamUga29zdGVsb29zIHRvZWdhbmcgdG90IGRpdCBhcnRpa2VsIGVuIGFuZGVyZSBjb250ZW50IGFscyBqZSBqZSByZWdpc3RyZWVydCBiaWogPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4gdmlhIGplIEdvb2dsZS1hY2NvdW50LicsXG4gICAgJ3BsJzogJzxzdHJvbmc+PC9zdHJvbmc+VGUgdHJlxZtjaSB6YXp3eWN6YWogd3ltYWdhasSFIG9wxYJhdHksIGFsZSBkemnEmWtpIEdvb2dsZSBtb8W8ZXN6IGJlenDFgmF0bmllIHByemVjenl0YcSHIHRlbiBhcnR5a3XFgiBpJm5ic3A7a29yenlzdGHEhyB6Jm5ic3A7aW5ueWNoIG1hdGVyaWHFgsOzdyBwbyB6YXJlamVzdHJvd2FuaXUgc2nEmSB3Jm5ic3A7cHVibGlrYWNqaSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiB6YSBwb21vY8SFIGtvbnRhIEdvb2dsZS4nLFxuICAgICdwdC1icic6XG4gICAgICAnPHN0cm9uZz48L3N0cm9uZz5Ob3JtYWxtZW50ZSwgw6kgcHJlY2lzbyBwYWdhciBwb3IgZXN0ZSBjb250ZcO6ZG8uIFBvcsOpbSwgYmFzdGEgdm9jw6ogc2UgcmVnaXN0cmFyIG5hIHB1YmxpY2HDp8OjbyA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiB1c2FuZG8gc3VhIENvbnRhIGRvIEdvb2dsZSBwYXJhIHRlciBhY2Vzc28gYSBlc3RhIG1hdMOpcmlhIGUgbXVpdG8gbWFpcyBzZW0gY3VzdG9zIGZpbmFuY2Vpcm9zLicsXG4gICAgJ3B0LXB0JzpcbiAgICAgICc8c3Ryb25nPjwvc3Ryb25nPkdlcmFsbWVudGUsIGVzdGUgY29udGXDumRvIHJlcXVlciB1bSBwYWdhbWVudG8sIG1hcyBhIEdvb2dsZSBjb25jZWRlLWxoZSBhY2Vzc28gZ3JhdHVpdG8gYSBlc3RlIGFydGlnbyBlIG11aXRvIG1haXMgYW8gcmVnaXN0YXItc2UgbmEgcHVibGljYcOnw6NvIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGNvbSBhIHN1YSBDb250YSBHb29nbGUuJyxcbiAgICAncm8nOiAnPHN0cm9uZz48L3N0cm9uZz5BY2VzdCBjb27Im2ludXQgZXN0ZSBkZSBvYmljZWkgY3UgcGxhdMSDLCBkYXIgR29vZ2xlIHbEgyBvZmVyxIMgYWNjZXMgZsSDcsSDIGNvc3R1cmkgbGEgYWNlc3QgYXJ0aWNvbCDImWkgbGEgYWx0ZWxlIGPDom5kIHbEgyDDrm5yZWdpc3RyYcibaSBsYSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiBmb2xvc2luZCBDb250dWwgR29vZ2xlLicsXG4gICAgJ3NrJzogJzxzdHJvbmc+PC9zdHJvbmc+VGVudG8gb2JzYWggamUgb2J2eWtsZSBwbGF0ZW7DvSwgYWxlIGFrIHNhIGRvIHB1Ymxpa8OhY2llIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IHphcmVnaXN0cnVqZXRlIMO6xI10b20gR29vZ2xlLCB6w61za2F0ZSBvZCBHb29nbHUgYmV6cGxhdG7DvSBwcsOtc3R1cCBrJm5ic3A7dG9tdXRvIMSNbMOhbmt1IGEmbmJzcDvEj2FsxaFpZSB2w71ob2R5LicsXG4gICAgJ3NsJzogJzxzdHJvbmc+PC9zdHJvbmc+WmEgdG8gdnNlYmlubyBqZSBvYmnEjWFqbm8gemFodGV2YW5vIHBsYcSNaWxvLCB2ZW5kYXIgdmFtIEdvb2dsZSBvbW9nb8SNYSBkb3N0b3AgZG8gdGVnYSDEjWxhbmthIGluIGRydWdlZ2EgYnJleiBzdHJvxaFrb3YsIMSNZSBzZSB6IHJhxI11bm9tIEdvb2dsZSByZWdpc3RyaXJhdGUgcHJpIHB1Ymxpa2FjaWppIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+LicsXG4gICAgJ3N2JzogJzxzdHJvbmc+PC9zdHJvbmc+RGV0IGtyw6R2cyB2YW5saWd0dmlzIGJldGFsbmluZyBmw7ZyIGRldCBow6RyIGlubmVow6VsbGV0LCBtZW4gR29vZ2xlIGdlciBkaWcgZ3JhdGlzIMOldGtvbXN0IHRpbGwgYXJ0aWtlbG4gb2NoIGFubmF0IGlubmVow6VsbCBuw6RyIGR1IHJlZ2lzdHJlcmFyIGRpZyBob3MgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4gbWVkIGRpdHQgR29vZ2xlLWtvbnRvLicsXG4gICAgJ3RhJzogJzxzdHJvbmc+PC9zdHJvbmc+4K614K604K6V4K+N4K6V4K6u4K6+4K6VIOCuh+CuqOCvjeCupCDgrongrrPgr43grrPgrp/grpXgr43grpXgrqTgr43grqTgr4gg4K614K6+4K6a4K6/4K6V4K+N4K6VIOCuleCun+CvjeCun+Cuo+CuruCvjSDgrprgr4bgrrLgr4HgrqTgr43grqQg4K614K+H4K6j4K+N4K6f4K6/4K6v4K6/4K6w4K+B4K6V4K+N4K6V4K+B4K6u4K+NLiDgrobgrqngrr7grrLgr40gPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4g4K6H4K6y4K+NIOCuieCumeCvjeCuleCus+CvjSBHb29nbGUg4K6V4K6j4K6V4K+N4K6V4K+I4K6q4K+NIOCuquCur+CuqeCvjeCuquCun+CvgeCupOCvjeCupOCuv+CuquCvjSDgrqrgrqTgrr/grrXgr4Hgrprgr4bgrq/gr43grq/gr4Hgrq7gr43grqrgr4vgrqTgr4Eg4K6H4K6o4K+N4K6k4K6V4K+NIOCuleCun+CvjeCun+CvgeCusOCviOCuleCvjeCuleCvgeCuruCvjSDgrq7gr4fgrrLgr4Hgrq7gr40g4K6q4K6y4K614K6x4K+N4K6x4K+B4K6V4K+N4K6V4K+B4K6u4K+NIEdvb2dsZSDgrofgrrLgrrXgrpog4K6F4K6j4K+B4K6V4K6y4K+IIOCuteCutOCumeCvjeCuleCvgeCuleCuv+CuseCupOCvgS4nLFxuICAgICd0ZSc6ICc8c3Ryb25nPjwvc3Ryb25nPuCwiCDgsJXgsILgsJ/gsYbgsILgsJ/gsY3igIzgsJXgsYEg4LCu4LGA4LCw4LGBIOCwuOCwvuCwp+CwvuCwsOCwo+CwguCwl+CwviDgsKrgsYfgsK7gsYbgsILgsJ/gsY0g4LCa4LGH4LCv4LC+4LCy4LGN4LC44LC/IOCwieCwguCwn+CxgeCwguCwpuCwvywg4LCV4LC+4LCo4LGAIOCwruCxgOCwsOCxgSBHb29nbGUg4LCW4LC+4LCk4LC+4LCo4LGBIOCwieCwquCwr+Cxi+Cwl+Cwv+CwguCwmuCwvyA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPuCwpOCxiyDgsLDgsL/gsJzgsL/gsLjgsY3gsJ/gsLDgsY0g4LCa4LGH4LC44LGB4LCV4LGB4LCo4LGN4LCo4LCq4LGN4LCq4LGB4LCh4LGBLCDgsIgg4LC14LC+4LCw4LGN4LCk4LC+IOCwleCwpeCwqOCwvuCwqOCwv+CwleCwvyDgsIfgsILgsJXgsL4g4LCu4LCw4LGG4LCo4LGN4LCo4LGLIOCwteCwvuCwn+Cwv+CwleCwvyBHb29nbGUsIOCwieCwmuCwv+CwpCDgsK/gsL7gsJXgsY3gsLjgsYbgsLjgsY3igIzgsKjgsYEg4LCH4LC44LGN4LCk4LGB4LCC4LCm4LC/LicsXG4gIH0sXG4gICdTSE9XQ0FTRV9SRUdXQUxMX1BVQkxJU0hFUl9TSUdOX0lOX0JVVFRPTic6IHtcbiAgICAnYmcnOiAn0JLQtdGH0LUg0YHRgtC1INGB0LUg0YDQtdCz0LjRgdGC0YDQuNGA0LDQu9C4PyDQktGF0L7QtCcsXG4gICAgJ2JuJzogJ+CmhuCml+CnhyDgpqXgp4fgppXgp4fgpocg4Kaw4KeH4Kac4Ka/4Ka44KeN4Kaf4Ka+4KawIOCmleCmsOCnh+Cmm+Cnh+CmqD8g4Ka44Ka+4KaH4KaoLeCmh+CmqCDgppXgprDgp4HgpqgnLFxuICAgICdjcyc6ICdKc3RlIHXFviB6YXJlZ2lzdHJvdsOhbmk/IFDFmWlobMOhc2l0IHNlJyxcbiAgICAnZGEnOiAnRXIgZHUgYWxsZXJlZGUgdGlsbWVsZHQ/IExvZyBpbmQnLFxuICAgICdkZSc6ICdCZXJlaXRzIHJlZ2lzdHJpZXJ0PyBBbm1lbGRlbicsXG4gICAgJ2VsJzogJ86Iz4fOtc+EzrUgzrXOs86zz4HOsc+GzrXOryDOrs60zrc7IM6jz43Ovc60zrXPg863JyxcbiAgICAnZW4nOiAnQWxyZWFkeSByZWdpc3RlcmVkPyBTaWduIGluJyxcbiAgICAnZXMnOiAnwr9ZYSB0ZSBoYXMgcmVnaXN0cmFkbz8gSW5pY2lhciBzZXNpw7NuJyxcbiAgICAnZXMtNDE5JzogJ8K/WWEgdGUgcmVnaXN0cmFzdGU/IEFjY2VkZScsXG4gICAgJ2VzLWFyJzogJ8K/WWEgdGllbmVzIHVuYSBjdWVudGE/JyxcbiAgICAnZnInOiAnRMOpasOgIGluc2NyaXQmbmJzcDs/IENvbm5lY3Rlei12b3VzJyxcbiAgICAnZnItY2EnOiAnRMOpasOgIGluc2NyaXQ/IFNlIGNvbm5lY3RlcicsXG4gICAgJ2hpJzogJ+CkquCkueCksuClhyDgpLjgpYcg4KSw4KSc4KS/4KS44KWN4KSf4KSwIOCkleCkv+Ckr+CkviDgpLngpYHgpIYg4KS54KWIPyDgpLjgpL7gpIfgpKgg4KSH4KSoIOCkleCksOClh+CkgicsXG4gICAgJ2l0JzogJ0hhaSBnacOgIGVmZmV0dHVhdG8gbGEgcmVnaXN0cmF6aW9uZT8gQWNjZWRpJyxcbiAgICAnamEnOiAn55m76Yyy5riI44G/44Gu5pa5OiDjg63jgrDjgqTjg7MnLFxuICAgICdrbic6ICfgsojgspfgsr7gspfgsrLgs4bgs5Ug4LKo4LOG4LOC4LOV4LKC4LKm4LK+4LKv4LK/4LK44LKy4LK+4LKX4LK/4LKm4LOG4LKv4LOHPyDgsrjgs4jgsqjgs40g4LKH4LKo4LONJyxcbiAgICAnbHQnOiAnSmF1IHXFvnNpcmVnaXN0cmF2b3RlPyBQcmlzaWp1bmd0aScsXG4gICAgJ2x2JzogJ1ZhaSBlc2F0IGphdSByZcSjaXN0csSTamllcz8gUGllcmFrc3TEq3RpZXMnLFxuICAgICdtbCc6ICfgtK7gtYHgtK7gtY3gtKrgtYcg4LSw4LSc4LS/4LS44LWN4LSx4LWN4LSx4LW8IOC0muC1huC0r+C1jeC0pOC0v+C0n+C1jeC0n+C1geC0o+C1jeC0n+C1iz8g4LS44LWI4LW7IOC0h+C1uyDgtJrgtYbgtK/gtY3gtK/gtYHgtJUnLFxuICAgICdtcic6ICfgpIbgpKfgpYDgpKrgpL7gpLjgpYLgpKgg4KSo4KWL4KSC4KSm4KSj4KWAIOCkleClh+CksuClgCDgpIbgpLngpYcg4KSV4KS+PyDgpLjgpL7gpIfgpKgg4KSH4KSoIOCkleCksOCkvicsXG4gICAgJ25sJzogJ0FsIGdlcmVnaXN0cmVlcmQ/IElubG9nZ2VuJyxcbiAgICAncGwnOiAnSmVzdGXFmyBqdcW8IHphcmVqZXN0cm93YW55bSB1xbx5dGtvd25pa2llbT8gWmFsb2d1aiBzacSZJyxcbiAgICAncHQtYnInOiAnSsOhIHNlIGluc2NyZXZldT8gRmF6ZXIgbG9naW4nLFxuICAgICdwdC1wdCc6ICdKw6EgZmV6IG8gc2V1IHJlZ2lzdG8/IEluaWNpZSBzZXNzw6NvJyxcbiAgICAncm8nOiAnVi1hyJtpIMOubnJlZ2lzdHJhdCBkZWphPyBDb25lY3RhyJtpLXbEgycsXG4gICAgJ3NrJzogJ1XFviBtw6F0ZSB6YXJlZ2lzdHJvdmFuw70gw7rEjWV0PyBQcmlobMOhc2nFpSBzYScsXG4gICAgJ3NsJzogJ1N0ZSDFvmUgcmVnaXN0cmlyYW5pPyBQcmlqYXZpdGUgc2UuJyxcbiAgICAnc3YnOiAnSGFyIGR1IHJlZGFuIHJlZ2lzdHJlcmF0IGRpZz8gTG9nZ2EgaW4nLFxuICAgICd0YSc6ICfgro/grrHgr43grpXgr4bgrqngrrXgr4cg4K6q4K6k4K6/4K614K+B4K6a4K+G4K6v4K+N4K6k4K+B4K6z4K+N4K6z4K+A4K6w4K+N4K6V4K6z4K6+PyDgrongrrPgr43grqjgr4HgrrTgr4jgrpUnLFxuICAgICd0ZSc6ICfgsIfgsKrgsY3gsKrgsJ/gsL/gsJXgsYcg4LCw4LC/4LCc4LC/4LC44LGN4LCf4LCw4LGNIOCwmuCxh+Cwr+CwrOCwoeCwvyDgsIngsILgsKbgsL4/IOCwuOCxiOCwqOCxjSDgsIfgsKjgsY0g4LCa4LGH4LCv4LCC4LCh4LC/JyxcbiAgfSxcbiAgJ1NIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJzoge1xuICAgICdiZyc6ICfQktGF0L7QtCDRgSBHb29nbGUnLFxuICAgICdibic6ICdHb29nbGUg4Kam4Ka/4Kef4KeHIOCmuOCmvuCmh+CmqC3gpofgpqgg4KaV4Kaw4KeB4KaoJyxcbiAgICAnY3MnOiAnUMWZaWhsw6FzaXQgc2UgcMWZZXMgR29vZ2xlJyxcbiAgICAnZGEnOiAnTG9nIGluZCBtZWQgR29vZ2xlJyxcbiAgICAnZGUnOiAnw5xiZXIgR29vZ2xlIGFubWVsZGVuJyxcbiAgICAnZWwnOiAnzqPPjc69zrTOtc+DzrcgzrzOrc+Dz4kgR29vZ2xlJyxcbiAgICAnZW4nOiAnU2lnbiBpbiB3aXRoIEdvb2dsZScsXG4gICAgJ2VzJzogJ0luaWNpYXIgc2VzacOzbiBjb24gR29vZ2xlJyxcbiAgICAnZXMtNDE5JzogJ0FjY2VkZXIgY29uIEdvb2dsZScsXG4gICAgJ2VzLWFyJzogJ0FjY2VkZXIgY29uIEdvb2dsZScsXG4gICAgJ2ZyJzogJ1NlIGNvbm5lY3RlciBhdmVjIEdvb2dsZScsXG4gICAgJ2ZyLWNhJzogJ1NlIGNvbm5lY3RlciBhdmVjIEdvb2dsZScsXG4gICAgJ2hpJzogJ0dvb2dsZSDgpLjgpYcg4KS44KS+4KSH4KSoIOCkh+CkqCDgpJXgpLDgpYfgpIInLFxuICAgICdpdCc6ICdBY2NlZGkgY29uIEdvb2dsZScsXG4gICAgJ2phJzogJ0dvb2dsZSDjgafjg63jgrDjgqTjg7MnLFxuICAgICdrbic6ICdHb29nbGUg4LKW4LK+4LKk4LOGIOCyrOCys+CyuOCyv+CyleCziuCyguCyoeCzgSDgsrjgs4jgsqjgs40g4LKH4LKo4LONIOCyruCyvuCyoeCyvycsXG4gICAgJ2x0JzogJ1ByaXNpanVua2l0ZSBzdSDigJ5Hb29nbGXigJwnLFxuICAgICdsdic6ICdQaWVyYWtzdMSrdGllcywgaXptYW50b2pvdCBHb29nbGUnLFxuICAgICdtbCc6ICdHb29nbGUg4LSJ4LSq4LSv4LWL4LSX4LS/4LSa4LWN4LSa4LWNIOC0uOC1iOC1uyDgtIfgtbsg4LSa4LWG4LSv4LWN4LSv4LWB4LSVJyxcbiAgICAnbXInOiAnR29vZ2xlIOCkteCkvuCkquCksOClguCkqCDgpLjgpL7gpIfgpKgg4KSH4KSoIOCkleCksOCkvicsXG4gICAgJ25sJzogJ0lubG9nZ2VuIG1ldCBHb29nbGUnLFxuICAgICdwbCc6ICdaYWxvZ3VqIHNpxJkgcHJ6ZXogR29vZ2xlJyxcbiAgICAncHQtYnInOiAnRmF6ZXIgbG9naW4gY29tIG8gR29vZ2xlJyxcbiAgICAncHQtcHQnOiAnSW5pY2lhciBzZXNzw6NvIGNvbSBvIEdvb2dsZScsXG4gICAgJ3JvJzogJ0NvbmVjdGHIm2ktdsSDIGN1IEdvb2dsZScsXG4gICAgJ3NrJzogJ1ByaWhsw6FzacWlIHNhIMO6xI10b20gR29vZ2xlJyxcbiAgICAnc2wnOiAnUHJpamF2aXRlIHNlIHogR29vZ2xvbScsXG4gICAgJ3N2JzogJ0xvZ2dhIGluIG1lZCBHb29nbGUnLFxuICAgICd0YSc6ICdHb29nbGUg4K6u4K+C4K6y4K6u4K+NIOCuieCus+CvjeCuqOCvgeCutOCviOCulScsXG4gICAgJ3RlJzogJ0dvb2dsZeCwpOCxiyDgsLjgsYjgsKjgsY0g4LCH4LCo4LGNIOCwmuCxh+Cwr+CwguCwoeCwvycsXG4gIH0sXG4gICdTSE9XQ0FTRV9SRUdXQUxMX0NBU0wnOiB7XG4gICAgJ2JnJzogJ9Cf0YDQtdCz0LvQtdC00LDQudGC0LUgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD7QntCx0YnQuNGC0LUg0YPRgdC70L7QstC40Y8g0LfQsCDQutCw0L3QsNC00YHQutC+0YLQviDQt9Cw0LrQvtC90L7QtNCw0YLQtdC70YHRgtCy0L4g0LfQsCDQsdC+0YDQsdCwINGB0YrRgSDRgdC/0LDQvNCwPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiDQvdCwIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+JyxcbiAgICAnYm4nOiAnPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4t4KaP4KawIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+Q0FTTCDgprbgprDgp43gpqQ8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+IOCmquCmsOCnjeCmr+CmvuCmsuCni+CmmuCmqOCmviDgppXgprDgp4HgpqgnLFxuICAgICdjcyc6ICdQcm9zdHVkdWp0ZSBzaSA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPnBvZG3DrW5reSBDQVNMPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBwdWJsaWthY2UgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdkYSc6ICdHZW5uZW1nw6UgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5DQVNMLXZpbGvDpXJlbmU8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+IChDYW5hZGlhbiBBbnRpLVNwYW0gTGVnaXNsYXRpb24sIGNhbmFkaXNrIGxvdmdpdm5pbmcgdmVkcsO4cmVuZGUgYW50aXNwYW0pIGZvciA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ2RlJzogJzxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+Q0FTTC1CZWRpbmd1bmdlbjxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gdm9uIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IGFuc2VoZW4nLFxuICAgICdlbCc6ICfOlc67zq3Os86+z4TOtSDOsc69IM+EzrfPgc6/z43Ovc+EzrHOuSDPg8+EzrcgzrTOt868zr/Pg86vzrXPhc+DzrcgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4gzr/OuSA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPs6Mz4HOv865IENBU0w8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+JyxcbiAgICAnZW4nOiAnUmV2aWV3IDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+XFwncyA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wgdGVybXM8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+JyxcbiAgICAnZXMnOiAnQ29uc3VsdGEgbG9zIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+dMOpcm1pbm9zIGRlIGxhIENBU0w8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+IGRlIDxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+JyxcbiAgICAnZXMtNDE5JzpcbiAgICAgICdDb25zdWx0YSBsYXMgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5jb25kaWNpb25lcyBkZSBDQVNMPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBkZSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ2ZyJzogJ0NvbnN1bHRleiBsZXMgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5Db25kaXRpb25zIGRcXCd1dGlsaXNhdGlvbiBMQ0FQIChMb2kgY2FuYWRpZW5uZSBhbnRpLXBvdXJyaWVsKTxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gZGUgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdmci1jYSc6XG4gICAgICAnQ29uc3VsdGVyIGxlcyA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPmNvbmRpdGlvbnMgZFxcJ3V0aWxpc2F0aW9uIHJlbGF0aXZlcyDDoCBsYSBMb2kgY2FuYWRpZW5uZSBhbnRpcG91cnJpZWwgKExDQVApPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBkZSBsYSBwdWJsaWNhdGlvbiA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ2hpJzogJzxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCkleClgCA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPuCkuOClgOCkj+Ckj+CkuOCkj+CksiAo4KSV4KWI4KSo4KWH4KSh4KS/4KSv4KSoIOCkj+CkguCkn+ClgC3gpLjgpY3gpKrgpYjgpK4g4KSy4KWH4KSc4KS/4KS44KWN4KSy4KWH4KS24KSoKSDgpLjgpYcg4KSc4KWB4KWc4KWAIOCktuCksOCljeCkpOCli+CkgjxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4g4KSV4KWHIOCkrOCkvuCksOClhyDgpK7gpYfgpIIg4KSq4KSi4KS84KWH4KSCJyxcbiAgICAnaXQnOiAnUmlsZWdnaSBpIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+dGVybWluaSBkZWxsYSBsZWdnZSBDQVNMPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBkaSA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ2phJzogJzxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOOBriA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wg6KaP57SEPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPuOCkuimi+OCiycsXG4gICAgJ2tuJzogJzxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCyqCA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wg4LKo4LK/4LKv4LKu4LKX4LKz4LOBPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiDgsoXgsqjgs43gsqjgs4Eg4LKq4LKw4LK/4LK24LOA4LKy4LK/4LK44LK/JyxcbiAgICAnbHQnOiAnUGVyxb5pxatyxJdraXRlIOKAnjxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+4oCcIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+Q0FTTCBzxIVseWdhczxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4nLFxuICAgICdsdic6ICdQxIFyc2thdMSrdCA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wgbm90ZWlrdW11czxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4nLFxuICAgICdtbCc6ICc8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPiDgtI7gtKjgtY3gtKjgtKTgtL/gtKjgtY3gtLHgtYYgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5DQVNMIOC0qOC0v+C0rOC0qOC1jeC0p+C0qOC0leC1vjxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4g4LSF4LS14LSy4LWL4LSV4LSo4LSCIOC0muC1huC0r+C1jeC0r+C1geC0lScsXG4gICAgJ21yJzogJzxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCkmuCljeCkr+CkviA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wg4KSF4KSf4KWAPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiDgpK/gpL7gpILgpJrgpYcg4KSq4KWB4KSo4KSw4KS+4KS14KSy4KWL4KSV4KSoIOCkleCksOCkvicsXG4gICAgJ25sJzogJ0Jla2lqayBkZSA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wtdm9vcndhYXJkZW48cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+IHZhbiA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ3BsJzogJ1phcG96bmFqIHNpxJkgeiZuYnNwOzxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+d2FydW5rYW1pIENBU0w8cGggbmFtZT1cIkxJTktfRU5EXCI+PGV4PiZsdDsvYSZndDs8L2V4PjwvcGg+IHB1Ymxpa2FjamkgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdwdC1icic6XG4gICAgICAnQ29uZmlyYSBvcyA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPnRlcm1vcyBkYSBDQVNMPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBkYSBwdWJsaWNhw6fDo28gPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdwdC1wdCc6XG4gICAgICAnQW5hbGlzZSBvcyA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPnRlcm1vcyBkYSBDQVNMPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiBkYSBwdWJsaWNhw6fDo28gPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdybyc6ICdFeGFtaW5hyJtpIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+VGVybWVuaWkgQ0FTTDxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gYWkgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdzayc6ICdQcmXEjcOtdGFqdGUgc2kgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5wb2RtaWVua3kgQ0FTTDxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gcHVibGlrw6FjaWUgPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdzbCc6ICdQcmVnbGVqdGUgPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5wb2dvamUgQ0FTTDxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gemEgcHVibGlrYWNpam8gPHBoIG5hbWU9XCJQVUJMSUNBVElPTlwiPjxleD5BUCBOZXdzPC9leD57cHVibGljYXRpb259PC9waD4nLFxuICAgICdzdic6ICdMw6RzIDxwaCBuYW1lPVwiTElOS19TVEFSVFwiPjxleD4mbHQ7YSZndDs8L2V4PjwvcGg+dmlsbGtvcmVuIGkgbGFnc3RpZnRuaW5nZW4gQ0FTTDxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD4gZsO2ciA8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPicsXG4gICAgJ3RhJzogJzxwaCBuYW1lPVwiUFVCTElDQVRJT05cIj48ZXg+QVAgTmV3czwvZXg+e3B1YmxpY2F0aW9ufTwvcGg+IOCuh+CuqeCvjSA8cGggbmFtZT1cIkxJTktfU1RBUlRcIj48ZXg+Jmx0O2EmZ3Q7PC9leD48L3BoPkNBU0wg4K614K6/4K6k4K6/4K6u4K+B4K6x4K+I4K6V4K6z4K+I4K6q4K+NPHBoIG5hbWU9XCJMSU5LX0VORFwiPjxleD4mbHQ7L2EmZ3Q7PC9leD48L3BoPiDgrqrgrr7grrDgr4Hgrpngr43grpXgrrPgr40nLFxuICAgICd0ZSc6ICc8cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCI+PGV4PkFQIE5ld3M8L2V4PntwdWJsaWNhdGlvbn08L3BoPuKAjOCwleCxgSDgsLjgsILgsKzgsILgsKfgsL/gsILgsJrgsL/gsKggPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCI+PGV4PiZsdDthJmd0OzwvZXg+PC9waD5DQVNMIOCwqOCwv+Cwr+CwruCwvuCwsjxwaCBuYW1lPVwiTElOS19FTkRcIj48ZXg+Jmx0Oy9hJmd0OzwvZXg+PC9waD7gsKjgsYEg4LCw4LC/4LC14LGN4LCv4LGCIOCwmuCxh+Cwr+CwguCwoeCwvycsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBXaHkgaXMgdGhlcmUgYSBzdHJpbmdzLmpzIGFuZCBhIHN3Zy1zdHJpbmdzLmpzLCB5b3UgYXNrPyBzdHJpbmdzLmpzIGlzIGFcbi8vIGdlbmVyYXRlZCBmaWxlLCBjdXJyZW50bHkgdXNlZCBmb3IgZ2FhIGJ1aWxkcy4gVGhpcyBmaWxlIGlzIHVzZWQgZm9yIHN3ZyBhbmRcbi8vIHN3Zy1iYXNpYyBidWlsZHMsIGFuZCBpcyBjdXJyZW50bHkgbWFudWFsbHkgdXBkYXRlZC5cbi8vIFRPRE8oc3RlbGxhY2h1aSk6IEZpZ3VyZSBvdXQgaWYgdGhleSBzaG91bGQgYmUgbWVyZ2VkIHdpdGhvdXQgYSBsYXJnZSBpbXBhY3Rcbi8vICAgb24gYmluYXJ5IHNpemUuXG5cbmV4cG9ydCBjb25zdCBTV0dfSTE4Tl9TVFJJTkdTID0ge1xuICAnU1VCU0NSSVBUSU9OX1RJVExFX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdTdWJzY3JpYmUgd2l0aCBHb29nbGUnLFxuICAgICdhcic6ICdHb29nbGUg2KfYtNiq2LHZg8Kg2YXYuScsXG4gICAgJ2RlJzogJ0Fib25uaWVyZW4gbWl0IEdvb2dsZScsXG4gICAgJ2VuLWF1JzogJ1N1YnNjcmliZSB3aXRoIEdvb2dsZScsXG4gICAgJ2VuLWNhJzogJ1N1YnNjcmliZSB3aXRoIEdvb2dsZScsXG4gICAgJ2VuLWdiJzogJ1N1YnNjcmliZSB3aXRoIEdvb2dsZScsXG4gICAgJ2VuLXVzJzogJ1N1YnNjcmliZSB3aXRoIEdvb2dsZScsXG4gICAgJ2VzJzogJ1N1c2Nyw61iZXRlIGNvbiBHb29nbGUnLFxuICAgICdlcy00MTknOiAnU3VzY3LDrWJldGUgY29uIEdvb2dsZScsXG4gICAgJ2VzLWxhdGFtJzogJ1N1c2Nyw61iZXRlIGNvbiBHb29nbGUnLFxuICAgICdlcy1sYXRuJzogJ1N1c2Nyw61iZXRlIGNvbiBHb29nbGUnLFxuICAgICdmcic6IFwiUydhYm9ubmVyIGF2ZWMgR29vZ2xlXCIsXG4gICAgJ2ZyLWNhJzogXCJTJ2Fib25uZXIgYXZlYyBHb29nbGVcIixcbiAgICAnaGknOiAnR29vZ2xlIOCkleClhyDgpZvgpLDgpL/gpK/gpYcg4KS44KSm4KS44KWN4KSv4KSk4KS+JyxcbiAgICAnaWQnOiAnQmVybGFuZ2dhbmFuIGRlbmdhbiBHb29nbGUnLFxuICAgICdpdCc6ICdBYmJvbmF0aSBjb24gR29vZ2xlJyxcbiAgICAnamEnOiAnR29vZ2xlIOOBp+izvOiqrScsXG4gICAgJ2tvJzogJ0dvb2dsZSDsnYQg7Ya17ZWc6rWs64+FJyxcbiAgICAnbXMnOiAnTGFuZ2dhbiBkZW5nYW4gR29vZ2xlJyxcbiAgICAnbmwnOiAnQWJvbm5lcmVuIHZpYSBHb29nbGUnLFxuICAgICdubyc6ICdBYm9ubmVyIG1lZCBHb29nbGUnLFxuICAgICdwbCc6ICdTdWJza3J5YnVqIHogR29vZ2xlJyxcbiAgICAncHQnOiAnU3Vic2NyZXZlciBjb20gbyBHb29nbGUnLFxuICAgICdwdC1icic6ICdBc3NpbmUgY29tIG8gR29vZ2xlJyxcbiAgICAncnUnOiAn0J/QvtC00L/QuGPQutCwINGH0LXRgNC10LcgR29vZ2xlJyxcbiAgICAnc3YnOiAnUHJlbnVtZXJlcmEgbWVkIEdvb2dsZScsXG4gICAgJ3RoJzogJ+C4quC4oeC4seC4hOC4o+C4n+C4suC4mSBHb29nbGUnLFxuICAgICd0cic6ICdHb29nbGUgaWxlIEFib25lIE9sJyxcbiAgICAndWsnOiAn0J/RltC00L/QuNGB0LDRgtC40YHRjyDRh9C10YDQtdC3IEdvb2dsZScsXG4gICAgJ3poLWNuJzogJ+mAmui/hyBHb29nbGUg6K6i6ZiFJyxcbiAgICAnemgtaGsnOiAn6YCP6YGOIEdvb2dsZSDoqILplrEnLFxuICAgICd6aC10dyc6ICfpgI/pgY4gR29vZ2xlIOiogumWsScsXG4gIH0sXG4gICdDT05UUklCVVRJT05fVElUTEVfTEFOR19NQVAnOiB7XG4gICAgJ2VuJzogJ0NvbnRyaWJ1dGUgd2l0aCBHb29nbGUnLFxuICAgICdhcic6ICfYp9mE2YXYs9in2YfZhdipINio2KfYs9iq2K7Yr9in2YUgR29vZ2xlJyxcbiAgICAnZGUnOiAnTWl0IEdvb2dsZSBiZWl0cmFnZW4nLFxuICAgICdlbi1hdSc6ICdDb250cmlidXRlIHdpdGggR29vZ2xlJyxcbiAgICAnZW4tY2EnOiAnQ29udHJpYnV0ZSB3aXRoIEdvb2dsZScsXG4gICAgJ2VuLWdiJzogJ0NvbnRyaWJ1dGUgd2l0aCBHb29nbGUnLFxuICAgICdlbi11cyc6ICdDb250cmlidXRlIHdpdGggR29vZ2xlJyxcbiAgICAnZXMnOiAnXHRDb250cmlidXllIGNvbiBHb29nbGUnLFxuICAgICdlcy00MTknOiAnQ29udHJpYnVpciBjb24gR29vZ2xlJyxcbiAgICAnZXMtbGF0YW0nOiAnQ29udHJpYnVpciBjb24gR29vZ2xlJyxcbiAgICAnZXMtbGF0bic6ICdDb250cmlidXllIGNvbiBHb29nbGUnLFxuICAgICdmcic6ICdDb250cmlidWVyIGF2ZWMgR29vZ2xlJyxcbiAgICAnZnItY2EnOiAnQ29udHJpYnVlciBhdmVjIEdvb2dsZScsXG4gICAgJ2hpJzogJ0dvb2dsZSDgpJbgpL7gpKTgpYcg4KSV4KWAIOCkruCkpuCkpiDgpLjgpYcg4KSv4KWL4KSX4KSm4KS+4KSoIOCkleCksOClh+CkgicsXG4gICAgJ2lkJzogJ0JlcmtvbnRyaWJ1c2kgZGVuZ2FuIEdvb2dsZScsXG4gICAgJ2l0JzogJ0NvbnRyaWJ1aXNjaSBjb24gR29vZ2xlJyxcbiAgICAnamEnOiAnR29vZ2xlIOOBp+WvhOS7mCcsXG4gICAgJ2tvJzogJ0dvb2dsZeydhCDthrXtlbQg7LC47Jes7ZWY6riwJyxcbiAgICAnbXMnOiAnU3VtYmFuZ2thbiBkZW5nYW4gR29vZ2xlJyxcbiAgICAnbmwnOiAnQmlqZHJhZ2VuIG1ldCBHb29nbGUnLFxuICAgICdubyc6ICdCaWRyYSBtZWQgR29vZ2xlJyxcbiAgICAncGwnOiAnV2VzcHJ6eWogcHVibGlrYWNqxJkgcHJ6ZXogR29vZ2xlJyxcbiAgICAncHQnOiAnQ29udHJpYnVpciB1dGlsaXphbmRvIG8gR29vZ2xlJyxcbiAgICAncHQtYnInOiAnQ29udHJpYnVhIHVzYW5kbyBvIEdvb2dsZScsXG4gICAgJ3J1JzogJ9CS0L3QtdGB0YLQuCDRgdGA0LXQtNGB0YLQstCwINGH0LXRgNC10LcgR29vZ2xlJyxcbiAgICAnc3YnOiAnQmlkcmEgbWVkIEdvb2dsZScsXG4gICAgJ3RoJzogJ+C4oeC4teC4quC5iOC4p+C4meC4o+C5iOC4p+C4oeC4nOC5iOC4suC4mSBHb29nbGUnLFxuICAgICd0cic6ICdHb29nbGUgaWxlIEthdGvEsWRhIEJ1bHVuJyxcbiAgICAndWsnOiAn0JfRgNC+0LHQuNGC0Lgg0LLQvdC10YHQvtC6INGH0LXRgNC10LcgR29vZ2xlJyxcbiAgICAnemgtY24nOiAn6YCa6L+HIEdvb2dsZSDmjZDotaAnLFxuICAgICd6aC1oayc6ICfpgI/pgY4gR29vZ2xlIOaPkOS+m+WFp+WuuScsXG4gICAgJ3poLXR3JzogJ+mAj+mBjiBHb29nbGUg5o2Q5qy+JyxcbiAgfSxcbiAgJ1JFR1dBTExfQUxSRUFEWV9SRUdJU1RFUkVEX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdZb3UgaGF2ZSByZWdpc3RlcmVkIGJlZm9yZS4nLFxuICAgICdhcic6ICfZhNmC2K8g2LPYqNmCINij2YYg2KrYs9is2ZHZhNiqLicsXG4gICAgJ2RlJzogJ0R1IGJpc3QgYmVyZWl0cyByZWdpc3RyaWVydC4nLFxuICAgICdlbi1hdSc6ICdZb3UgaGF2ZSByZWdpc3RlcmVkIGJlZm9yZS4nLFxuICAgICdlbi1jYSc6ICdZb3UgaGF2ZSByZWdpc3RlcmVkIGJlZm9yZS4nLFxuICAgICdlbi1nYic6ICdZb3UgaGF2ZSByZWdpc3RlcmVkIGJlZm9yZS4nLFxuICAgICdlbi11cyc6ICdZb3UgaGF2ZSByZWdpc3RlcmVkIGJlZm9yZS4nLFxuICAgICdlcyc6ICdZYSB0ZSBoYWLDrWFzIHJlZ2lzdHJhZG8gYW50ZXJpb3JtZW50ZS4nLFxuICAgICdlcy00MTknOiAnWWEgdGUgcmVnaXN0cmFzdGUgYW50ZXMuJyxcbiAgICAnZnInOiAnVm91cyB2b3VzIMOqdGVzIGTDqWrDoCBpbnNjcml0LicsXG4gICAgJ2ZyLWNhJzogJ1ZvdXMgdm91cyDDqnRlcyBpbnNjcml0IGF1cGFyYXZhbnQuJyxcbiAgICAnaGknOiAn4KSG4KSq4KSo4KWHIOCkquCkueCksuClhyDgpLngpYAg4KSH4KS44KSV4KWHIOCksuCkv+CkjyDgpLDgpJzgpL/gpLjgpY3gpJ/gpLAg4KSV4KSwIOCksuCkv+Ckr+CkviDgpLngpYguJyxcbiAgICAnaWQnOiAnQW5kYSB0ZWxhaCBtZW5kYWZ0YXIgc2ViZWx1bW55YS4nLFxuICAgICdpdCc6ICdSZWdpc3RyYXppb25lIGdpw6AgZWZmZXR0dWF0YSBpbiBwcmVjZWRlbnphLicsXG4gICAgJ2phJzogJ+OBmeOBp+OBq+eZu+mMsua4iOOBv+OBp+OBmeOAgicsXG4gICAgJ2tvJzogJ+ydtOyghOyXkCDrk7HroZ3tlZwg7IKs7Jqp7J6Q7J6F64uI64ukLicsXG4gICAgJ21zJzogJ0FuZGEgdGVsYWggbWVuZGFmdGFyIHNlYmVsdW0gaW5pLicsXG4gICAgJ25sJzogJ0plIGhlYnQgamUgYWwgZWVyZGVyIGdlcmVnaXN0cmVlcmQuJyxcbiAgICAnbm8nOiAnRHUgZXIgYWxsZXJlZGUgcmVnaXN0cmVydC4nLFxuICAgICdwbCc6ICdNYXN6IGp1xbwgd2N6ZcWbbmllanN6xIUgcmVqZXN0cmFjasSZLicsXG4gICAgJ3B0JzogJ0rDoSBzZSByZWdpc3RvdSBhbnRlcmlvcm1lbnRlLicsXG4gICAgJ3B0LWJyJzogJ1ZvY8OqIGrDoSB0ZW0gdW0gY2FkYXN0cm8uJyxcbiAgICAncnUnOiAn0JLRiyDRg9C20LUg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNC90YsuJyxcbiAgICAnc3YnOiAnRHUgaGFyIHJlZGFuIHJlZ2lzdHJlcmF0IGRpZy4nLFxuICAgICd0aCc6ICfguITguLjguJPguYDguITguKLguKXguIfguJfguLDguYDguJrguLXguKLguJnguYHguKXguYnguKcnLFxuICAgICd0cic6ICdEYWhhIMO2bmNlIGtheWRvbG11xZ90dW51ei4nLFxuICAgICd1ayc6ICfQktC4INCy0LbQtSDQt9Cw0YDQtdGU0YHRgtGA0YPQstCw0LvQuNGB0Y8g0YDQsNC90ZbRiNC1LicsXG4gICAgJ3poLWNuJzogJ+aCqOS5i+WJjeW3suazqOWGjOOAgicsXG4gICAgJ3poLWhrJzogJ+aCqOS5i+WJjeW3suiou+WGiuOAgicsXG4gICAgJ3poLXR3JzogJ+S9oOW3suiou+WGiumAmeWAi+WHuueJiOWTgeOAgicsXG4gIH0sXG4gICdORVdTTEVUVEVSX0FMUkVBRFlfU0lHTkVEX1VQX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdZb3UgaGF2ZSBzaWduZWQgdXAgYmVmb3JlLicsXG4gICAgJ2FyJzogJ9iz2KjZgiDYo9mGINin2LTYqtix2YPYqiDZgdmKINin2YTZhti02LHYqSDYp9mE2KXYrtio2KfYsdmK2KkuJyxcbiAgICAnZGUnOiAnRHUgaGFzdCBkaWNoIGJlcmVpdHMgYW5nZW1lbGRldC4nLFxuICAgICdlbi1hdSc6ICdZb3UgaGF2ZSBzaWduZWQgdXAgYmVmb3JlLicsXG4gICAgJ2VuLWNhJzogJ1lvdSBoYXZlIHNpZ25lZCB1cCBiZWZvcmUuJyxcbiAgICAnZW4tZ2InOiAnWW91IGhhdmUgc2lnbmVkIHVwIGJlZm9yZS4nLFxuICAgICdlbi11cyc6ICdZb3UgaGF2ZSBzaWduZWQgdXAgYmVmb3JlLicsXG4gICAgJ2VzJzogJ1lhIHRlIGhhcyByZWdpc3RyYWRvIGFudGVyaW9ybWVudGUuJyxcbiAgICAnZXMtNDE5JzogJ1lhIHRlIHJlZ2lzdHJhc3RlIGFudGVzLicsXG4gICAgJ2ZyJzogJ1ZvdXMgdm91cyDDqnRlcyBkw6lqw6AgaW5zY3JpdC4nLFxuICAgICdmci1jYSc6ICdWb3VzIHZvdXMgw6p0ZXMgaW5zY3JpdCBhdXBhcmF2YW50LicsXG4gICAgJ2hpJzogJ+CkqOCljeCkr+ClguCknOCkvOCksuClh+Ckn+CksCDgpJXgpYcg4KSy4KS/4KSPIOCkquCkueCksuClhyDgpLngpYAg4KS44KS+4KSH4KSoIOCkheCkqiDgpJXgpL/gpK/gpL4g4KSc4KS+IOCkmuClgeCkleCkviDgpLngpYguJyxcbiAgICAnaWQnOiAnQW5kYSB0ZWxhaCBtZW5kYWZ0YXIgc2ViZWx1bW55YS4nLFxuICAgICdpdCc6IFwiSGFpIGdpw6AgZWZmZXR0dWF0byBsJ2lzY3JpemlvbmUuXCIsXG4gICAgJ2phJzogJ+OBmeOBp+OBq+eZu+mMsuOBleOCjOOBpuOBhOOBvuOBmeOAgicsXG4gICAgJ2tvJzogJ+ydtOyghOyXkCDqsIDsnoXtlZwg7IKs7Jqp7J6Q7J6F64uI64ukLicsXG4gICAgJ21zJzogJ0FuZGEgc3VkYWggbWVuZGFmdGFyIHNlYmVsdW0gaW5pLicsXG4gICAgJ25sJzogJ0plIGhlYnQgamUgYWwgZWVyZGVyIGFhbmdlbWVsZC4nLFxuICAgICdubyc6ICdEdSBlciBhbGxlcmVkZSByZWdpc3RyZXJ0LicsXG4gICAgJ3BsJzogJ0p1xbwgd2N6ZcWbbmllaiBzacSZIHphcmVqZXN0cm93YcWCZcWbKC1hxZspLicsXG4gICAgJ3B0JzogJ0rDoSBzZSBpbnNjcmV2ZXUgYW50ZXJpb3JtZW50ZS4nLFxuICAgICdwdC1icic6ICdWb2PDqiBzZSBpbnNjcmV2ZXUgYW50ZXJpb3JtZW50ZS4nLFxuICAgICdydSc6ICfQktGLINGD0LbQtSDQt9Cw0YDQtdCz0LjRgdGC0YDQuNGA0L7QstCw0L3Riy4nLFxuICAgICdzdic6ICdEdSBoYXIgcmVkYW4gcmVnaXN0cmVyYXQgZGlnLicsXG4gICAgJ3RoJzogJ+C4hOC4uOC4k+C4quC4oeC4seC4hOC4o+C4o+C4seC4muC4guC5ieC4reC4oeC4ueC4peC4oeC4suC4geC5iOC4reC4meC5geC4peC5ieC4pycsXG4gICAgJ3RyJzogJ0RhaGEgw7ZuY2Uga2F5ZG9sbXXFn3R1bnV6LicsXG4gICAgJ3VrJzogJ9CS0Lgg0LLQttC1INC30LDRgNC10ZTRgdGC0YDRg9Cy0LDQu9C40YHRjy4nLFxuICAgICd6aC1jbic6ICfmgqjkuYvliY3lt7Lms6jlhozjgIInLFxuICAgICd6aC1oayc6ICfmgqjkuYvliY3lt7LoqILplrHjgIInLFxuICAgICd6aC10dyc6ICfkvaDlt7LntpPoqILplrHkuobjgIInLFxuICB9LFxuICAnUkVHV0FMTF9SRUdJU1RFUl9GQUlMRURfTEFOR19NQVAnOiB7XG4gICAgJ2VuJzogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQuIFRyeSByZWdpc3RlcmluZyBhZ2Fpbi4nLFxuICAgICdhcic6ICfYqti52LDZkdmO2LHYqiDYudmF2YTZitipINin2YTYqtiz2KzZitmELiDZitmP2LHYrNmJINil2LnYp9iv2Kkg2KfZhNmF2K3Yp9mI2YTYqS4nLFxuICAgICdkZSc6ICdSZWdpc3RyaWVydW5nIGZlaGxnZXNjaGxhZ2VuLiBWZXJzdWNoZSBlcyBub2NoIGVpbm1hbC4nLFxuICAgICdlbi1hdSc6ICdSZWdpc3RyYXRpb24gZmFpbGVkLiBUcnkgcmVnaXN0ZXJpbmcgYWdhaW4uJyxcbiAgICAnZW4tY2EnOiAnUmVnaXN0cmF0aW9uIGZhaWxlZC4gVHJ5IHJlZ2lzdGVyaW5nIGFnYWluLicsXG4gICAgJ2VuLWdiJzogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQuIFRyeSByZWdpc3RlcmluZyBhZ2Fpbi4nLFxuICAgICdlbi11cyc6ICdSZWdpc3RyYXRpb24gZmFpbGVkLiBUcnkgcmVnaXN0ZXJpbmcgYWdhaW4uJyxcbiAgICAnZXMnOiAnTm8gc2UgaGEgcG9kaWRvIGNvbXBsZXRhciBlbCByZWdpc3Ryby4gUHJ1ZWJhIGEgcmVnaXN0cmFydGUgZGUgbnVldm8uJyxcbiAgICAnZXMtNDE5JzogJ05vIHNlIHB1ZG8gY29tcGxldGFyIGVsIHJlZ2lzdHJvLiBWdWVsdmUgYSBpbnRlbnRhcmxvLicsXG4gICAgJ2ZyJzogXCLDiWNoZWMgZGUgbCdlbnJlZ2lzdHJlbWVudC4gUsOpZXNzYXllei5cIixcbiAgICAnZnItY2EnOiBcIsOJY2hlYyBkZSBsJ2luc2NyaXB0aW9uLiBFc3NheWV6IGRlIHZvdXMgaW5zY3JpcmUgw6Agbm91dmVhdS5cIixcbiAgICAnaGknOiAn4KSw4KSc4KS/4KS44KWN4KSf4KWN4KSw4KWH4KS24KSoIOCkqOCkueClgOCkgiDgpLngpYsg4KS44KSV4KS+LiDgpKvgpL/gpLAg4KS44KWHIOCksOCknOCkv+CkuOCljeCkn+CksCDgpJXgpLDgpKjgpYcg4KSV4KWAIOCkleCli+CktuCkv+CktiDgpJXgpLDgpYfgpIIuJyxcbiAgICAnaWQnOiAnUGVuZGFmdGFyYW4gZ2FnYWwuIENvYmEgZGFmdGFyIGxhZ2kuJyxcbiAgICAnaXQnOiAnUmVnaXN0cmF6aW9uZSBub24gcml1c2NpdGEuIFByb3ZhIGEgcmVnaXN0cmFydGkgZGkgbnVvdm8uJyxcbiAgICAnamEnOiAn55m76Yyy44Gn44GN44G+44Gb44KT44Gn44GX44Gf44CC44KC44GG5LiA5bqm44GK6Kmm44GX44GP44Gg44GV44GE44CCJyxcbiAgICAna28nOiAn65Ox66Gd7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4g64uk7IucIOuTseuhne2VtCDrs7TshLjsmpQuJyxcbiAgICAnbXMnOiAnUGVuZGFmdGFyYW4gZ2FnYWwuIEN1YmEgbWVuZGFmdGFyIGxhZ2kuJyxcbiAgICAnbmwnOiAnUmVnaXN0cmF0aWUgbWlzbHVrdC4gUHJvYmVlciBvcG5pZXV3IHRlIHJlZ2lzdHJlcmVuLicsXG4gICAgJ25vJzogJ1JlZ2lzdHJlcmluZ2VuIG1pc2x5a3Rlcy4gUHLDuHYgw6UgcmVnaXN0cmVyZSBkZWcgcMOlIG55dHQuJyxcbiAgICAncGwnOiAnUmVqZXN0cmFjamEgc2nEmSBuaWUgdWRhxYJhLiBTcHLDs2J1aiBqZXN6Y3plIHJheiBzacSZIHphcmVqZXN0cm93YcSHLicsXG4gICAgJ3B0JzogJ0ZhbGhhIG5vIHJlZ2lzdG8uIFRlbnRlIHJlZ2lzdGFyLXNlIG5vdmFtZW50ZS4nLFxuICAgICdwdC1icic6ICdOw6NvIGZvaSBwb3Nzw612ZWwgZmF6ZXIgbyByZWdpc3Ryby4gVGVudGUgbm92YW1lbnRlLicsXG4gICAgJ3J1JzogJ9Ce0YjQuNCx0LrQsCDRgNC10LPQuNGB0YLRgNCw0YbQuNC4LiDQn9C+0LLRgtC+0YDQuNGC0LUg0L/QvtC/0YvRgtC60YMuJyxcbiAgICAnc3YnOiAnUmVnaXN0cmVyaW5nZW4gbWlzc2x5Y2thZGVzLiBGw7Zyc8O2ayBhdHQgcmVnaXN0cmVyYSBkaWcgaWdlbi4nLFxuICAgICd0aCc6ICfguKXguIfguJfguLDguYDguJrguLXguKLguJnguYTguKHguYjguKrguLPguYDguKPguYfguIgg4Lil4Lit4LiH4Lil4LiH4LiX4Liw4LmA4Lia4Li14Lii4LiZ4Lit4Li14LiB4LiE4Lij4Lix4LmJ4LiHJyxcbiAgICAndHInOiAnS2F5xLF0IGnFn2xlbWkgYmHFn2FyxLFzxLF6IG9sZHUuIFRla3JhciBrYXlkb2xtYXnEsSBkZW5leWluLicsXG4gICAgJ3VrJzogJ9Cf0L7QvNC40LvQutCwINGA0LXRlNGB0YLRgNCw0YbRltGXLiDQn9C+0LLRgtC+0YDRltGC0Ywg0YHQv9GA0L7QsdGDLicsXG4gICAgJ3poLWNuJzogJ+azqOWGjOWksei0peOAguivt+WwneivlemHjeaWsOazqOWGjOOAgicsXG4gICAgJ3poLWhrJzogJ+iou+WGiuWkseaVl+OAguiri+WYl+ippumHjeaWsOiou+WGiuOAgicsXG4gICAgJ3poLXR3JzogJ+iou+WGiuWkseaVl++8jOiri+WGjeippuS4gOasoeOAgicsXG4gIH0sXG4gICdORVdTTEVUVEVSX1NJR05fVVBfRkFJTEVEX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdTaWdudXAgZmFpbGVkLiBUcnkgc2lnbmluZyB1cCBhZ2Fpbi4nLFxuICAgICdhcic6ICfYqti52LDZkdmO2LHYqiDYudmF2YTZitipINin2YTYp9i02KrYsdin2YMuINmK2Y/Ysdis2Ykg2KXYudin2K/YqSDYp9mE2YXYrdin2YjZhNipLicsXG4gICAgJ2RlJzogJ0FubWVsZHVuZyBmZWhsZ2VzY2hsYWdlbi4gVmVyc3VjaGUgZXMgbm9jaCBlaW5tYWwuJyxcbiAgICAnZW4tYXUnOiAnU2lnbi11cCBmYWlsZWQuIFRyeSBzaWduaW5nIHVwIGFnYWluLicsXG4gICAgJ2VuLWNhJzogJ1NpZ24tdXAgZmFpbGVkLiBUcnkgc2lnbmluZyB1cCBhZ2Fpbi4nLFxuICAgICdlbi1nYic6ICdTaWduLXVwIGZhaWxlZC4gVHJ5IHNpZ25pbmcgdXAgYWdhaW4uJyxcbiAgICAnZW4tdXMnOiAnU2lnbi11cCBmYWlsZWQuIFRyeSBzaWduaW5nIHVwIGFnYWluLicsXG4gICAgJ2VzJzogJ05vIHNlIGhhIHBvZGlkbyBjb21wbGV0YXIgbGEgc3VzY3JpcGNpw7NuLiBQcnVlYmEgYSBzdXNjcmliaXJ0ZSBkZSBudWV2by4nLFxuICAgICdlcy00MTknOiAnU2UgcHJvZHVqbyB1biBlcnJvciBkZSByZWdpc3Ryby4gVnVlbHZlIGEgaW50ZW50YXJsby4nLFxuICAgICdmcic6IFwiw4ljaGVjIGRlIGwnaW5zY3JpcHRpb24uIFLDqWVzc2F5ZXouXCIsXG4gICAgJ2ZyLWNhJzogXCLDiWNoZWMgZGUgbCdpbnNjcmlwdGlvbi4gRXNzYXlleiBkZSB2b3VzIGluc2NyaXJlIMOgIG5vdXZlYXUuXCIsXG4gICAgJ2hpJzogJ+CkuOCkvuCkh+CkqCDgpIXgpKog4KSo4KS54KWA4KSCIOCkleCkv+Ckr+CkviDgpJzgpL4g4KS44KSV4KS+LiDgpKvgpL/gpLAg4KS44KWHIOCkuOCkvuCkh+CkqCDgpIXgpKog4KSV4KSw4KSo4KWHIOCkleClgCDgpJXgpYvgpLbgpL/gpLYg4KSV4KSw4KWH4KSCLicsXG4gICAgJ2lkJzogJ1BlbmRhZnRhcmFuIGdhZ2FsLiBDb2JhIGRhZnRhciBsYWdpLicsXG4gICAgJ2l0JzogJ0lzY3JpemlvbmUgbm9uIHJpdXNjaXRhLiBQcm92YSBhIGlzY3JpdmVydGkgZGkgbnVvdm8uJyxcbiAgICAnamEnOiAn55m76Yyy44Gn44GN44G+44Gb44KT44Gn44GX44Gf44CC44KC44GG5LiA5bqm44GK6Kmm44GX44GP44Gg44GV44GE44CCJyxcbiAgICAna28nOiAn6rCA7J6F7JeQIOyLpO2MqO2WiOyKteuLiOuLpC4g64uk7IucIOqwgOyehe2VtCDrs7TshLjsmpQuJyxcbiAgICAnbXMnOiAnRGFmdGFyIGdhZ2FsLiBDdWJhIGRhZnRhciBsYWdpLicsXG4gICAgJ25sJzogJ0Fhbm1lbGRpbmcgbWlzbHVrdC4gUHJvYmVlciBvcG5pZXV3IGFhbiB0ZSBtZWxkZW4uJyxcbiAgICAnbm8nOiAnUmVnaXN0cmVyaW5nZW4gbWlzbHlrdGVzLiBQcsO4diDDpSByZWdpc3RyZXJlIGRlZyBww6Ugbnl0dC4nLFxuICAgICdwbCc6ICdSZWplc3RyYWNqYSBzacSZIG5pZSB1ZGHFgmEuIFNwcsOzYnVqIGplc3pjemUgcmF6IHNpxJkgemFyZWplc3Ryb3dhxIcuJyxcbiAgICAncHQnOiAnRmFsaGEgbmEgaW5zY3Jpw6fDo28uIFRlbnRlIGluc2NyZXZlci1zZSBub3ZhbWVudGUuJyxcbiAgICAncHQtYnInOiAnTsOjbyBmb2kgcG9zc8OtdmVsIHNlIGluc2NyZXZlci4gVGVudGUgbm92YW1lbnRlLicsXG4gICAgJ3J1JzogJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0LfQsNGA0LXQs9C40YHRgtGA0LjRgNC+0LLQsNGC0YzRgdGPLiDQn9C+0LLRgtC+0YDQuNGC0LUg0L/QvtC/0YvRgtC60YMuJyxcbiAgICAnc3YnOiAnUmVnaXN0cmVyaW5nZW4gbWlzc2x5Y2thZGVzLiBGw7Zyc8O2ayBhdHQgcmVnaXN0cmVyYSBkaWcgaWdlbi4nLFxuICAgICd0aCc6ICfguKXguIfguIrguLfguYjguK3guKrguKHguLHguITguKPguYPguIrguYnguYTguKHguYjguKrguLPguYDguKPguYfguIgg4Lil4Lit4LiH4Lil4LiH4LiK4Li34LmI4Lit4Liq4Lih4Lix4LiE4Lij4LmD4LiK4LmJ4Lit4Li14LiB4LiE4Lij4Lix4LmJ4LiHJyxcbiAgICAndHInOiAnS2F5ZG9sbWEgacWfbGVtaSBiYcWfYXLEsXPEsXogb2xkdS4gVGVrcmFyIGtheWRvbG1hecSxIGRlbmV5aW4uJyxcbiAgICAndWsnOiAn0J/QvtC80LjQu9C60LAg0YDQtdGU0YHRgtGA0LDRhtGW0ZcuINCf0L7QstGC0L7RgNGW0YLRjCDRgdC/0YDQvtCx0YMuJyxcbiAgICAnemgtY24nOiAn5rOo5YaM5aSx6LSl44CC6K+35bCd6K+V6YeN5paw5rOo5YaM44CCJyxcbiAgICAnemgtaGsnOiAn55Sz6KuL5aSx5pWX44CC6KuL5ZiX6Kmm6YeN5paw55Sz6KuL44CCJyxcbiAgICAnemgtdHcnOiAn6KiC6Zax5aSx5pWX77yM6KuL5YaN6Kmm5LiA5qyh44CCJyxcbiAgfSxcbiAgJ1JFR1dBTExfQUNDT1VOVF9DUkVBVEVEX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdDcmVhdGVkIGFuIGFjY291bnQgd2l0aCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnYXInOiAn2KrZhSDYpdmG2LTYp9ihINit2LPYp9ioINio2KfYs9iq2K7Yr9in2YUgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPi4nLFxuICAgICdkZSc6ICdLb250byBiZWkgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiB3dXJkZSBlcnN0ZWxsdCcsXG4gICAgJ2VuLWF1JzpcbiAgICAgICdDcmVhdGVkIGFuIGFjY291bnQgd2l0aCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnZW4tY2EnOlxuICAgICAgJ0NyZWF0ZWQgYW4gYWNjb3VudCB3aXRoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICdlbi1nYic6XG4gICAgICAnQ3JlYXRlZCBhbiBhY2NvdW50IHdpdGggPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ2VuLXVzJzpcbiAgICAgICdDcmVhdGVkIGFuIGFjY291bnQgd2l0aCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnZXMnOiAnSGFzIGNyZWFkbyB1bmEgY3VlbnRhIGNvbiA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnZXMtNDE5JzpcbiAgICAgICdTZSBjcmXDsyB1bmEgY3VlbnRhIGNvbiA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnZnInOiAnQSBjcsOpw6kgdW4gY29tcHRlIGF2ZWMgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ2ZyLWNhJzpcbiAgICAgICdVbiBjb21wdGUgYSDDqXTDqSBjcsOpw6kgYXZlYyBsXFwnYWRyZXNzZSA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnaGknOiAnPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiDgpJXgpL4g4KSH4KS44KWN4KSk4KWH4KSu4KS+4KSyIOCkleCksOCkleClhywg4KSP4KSVIOCkluCkvuCkpOCkviDgpKzgpKjgpL7gpK/gpL4g4KSX4KSv4KS+JyxcbiAgICAnaWQnOiAnTWVtYnVhdCBha3VuIGRlbmdhbiA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnaXQnOiAnw4ggc3RhdG8gY3JlYXRvIHVuIGFjY291bnQgY29uIGxcXCdpbmRpcml6em8gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ2phJzogJzxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4g44Gn44Ki44Kr44Km44Oz44OI44KS5L2c5oiQ44GX44G+44GX44GfJyxcbiAgICAna28nOiAnPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPijsnLwp66GcIOqzhOygleydhCDrp4zrk6Tsl4jsirXri4jri6QuJyxcbiAgICAnbXMnOiAnTWVtYnVhdCBha2F1biBkZW5nYW4gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ25sJzogJ0FjY291bnQgZ2VtYWFrdCBtZXQgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ25vJzogJ0R1IGhhciBvcHByZXR0ZXQgZW4ga29udG8gbWVkIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICdwbCc6ICdVdHdvcnpvbm8ga29udG8gemEgcG9tb2PEhSBhZHJlc3UgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ3B0JzogJ0NyaW91IHVtYSBjb250YSBjb20gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ3B0LWJyJzpcbiAgICAgICdDb250YSBjcmlhZGEgY29tIG8gZS1tYWlsIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICdydSc6ICfQktGLINC30LDRgNC10LPQuNGB0YLRgNC40YDQvtCy0LDQu9C4INCw0LrQutCw0YPQvdGCINC90LAg0LDQtNGA0LXRgSA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+LicsXG4gICAgJ3N2JzogJ0R1IHNrYXBhZGUgZXR0IGtvbnRvIG1lZCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAndGgnOiAn4Liq4Lij4LmJ4Liy4LiH4Lia4Lix4LiN4LiK4Li14LiU4LmJ4Lin4LiiIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICd0cic6ICc8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IGlsZSBiaXIgaGVzYXAgb2x1xZ90dXJ1bicsXG4gICAgJ3VrJzogJ9Ce0LHQu9GW0LrQvtCy0LjQuSDQt9Cw0L/QuNGBINGB0YLQstC+0YDQtdC90L4g0LfQsCDQtNC+0L/QvtC80L7Qs9C+0Y4g0LXQu9C10LrRgtGA0L7QvdC90L7RlyDQsNC00YDQtdGB0LggPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ3poLWNuJzogJ+W3suS9v+eUqCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOWIm+W7uuW4kOWPtycsXG4gICAgJ3poLWhrJzogJ+W3suS9v+eUqCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOW7uueri+W4s+aIticsXG4gICAgJ3poLXR3JzogJ+W3suS9v+eUqCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOW7uueri+W4s+aIticsXG4gIH0sXG4gICdORVdTTEVUVEVSX1NJR05FRF9VUF9MQU5HX01BUCc6IHtcbiAgICAnZW4nOiAnU2lnbmVkIHVwIHdpdGggPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiBmb3IgdGhlIG5ld3NsZXR0ZXInLFxuICAgICdhcic6ICfYqtmFINin2YTYp9i02KrYsdin2YMg2YHZiiDYp9mE2YbYtNix2Kkg2KfZhNil2K7YqNin2LHZitipINio2KfYs9iq2K7Yr9in2YUgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPi4nLFxuICAgICdkZSc6ICdEdSBoYXN0IGRpY2ggZsO8ciBkZW4gTmV3c2xldHRlciB2b24gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiBhbmdlbWVsZGV0JyxcbiAgICAnZW4tYXUnOlxuICAgICAgJ1NpZ25lZCB1cCB3aXRoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gZm9yIHRoZSBuZXdzbGV0dGVyJyxcbiAgICAnZW4tY2EnOlxuICAgICAgJ1NpZ25lZCB1cCB3aXRoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gZm9yIHRoZSBuZXdzbGV0dGVyJyxcbiAgICAnZW4tZ2InOlxuICAgICAgJ1NpZ25lZCB1cCB3aXRoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gZm9yIHRoZSBuZXdzbGV0dGVyJyxcbiAgICAnZW4tdXMnOlxuICAgICAgJ1NpZ25lZCB1cCB3aXRoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gZm9yIHRoZSBuZXdzbGV0dGVyJyxcbiAgICAnZXMnOiAnVGUgaGFzIHN1c2NyaXRvIGEgbGEgbmV3c2xldHRlciBjb24gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ2VzLTQxOSc6XG4gICAgICAnVGUgcmVnaXN0cmFzdGUgY29uIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gcGFyYSByZWNpYmlyIGVsIGJvbGV0w61uIGluZm9ybWF0aXZvJyxcbiAgICAnZnInOiAnU1xcJ2VzdCBhYm9ubsOpIMOgIGxhIG5ld3NsZXR0ZXIgYXZlYyA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnZnItY2EnOlxuICAgICAgJ1ZvdXMgw6p0ZXMgaW5zY3JpdCBhdSBidWxsZXRpbiBkXFwnaW5mb3JtYXRpb24gYXZlYyBsXFwnYWRyZXNzZSA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnaGknOiAn4KSo4KWN4KSv4KWC4KWb4KSy4KWH4KSf4KSwIOCkquCkvuCkqOClhyDgpJXgpYcg4KSy4KS/4KSPLCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOCkuOClhyDgpLjgpL7gpIfgpKgg4KSF4KSqIOCkleCkv+Ckr+CkviDgpJfgpK/gpL4nLFxuICAgICdpZCc6ICdNZW5kYWZ0YXIgZGVuZ2FuIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gdW50dWsgbWVuZGFwYXRrYW4gbmV3c2xldHRlcicsXG4gICAgJ2l0JzogJ0lzY3JpemlvbmUgYWxsYSBuZXdzbGV0dGVyIGNvbiBsXFwnaW5kaXJpenpvIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4gZWZmZXR0dWF0YScsXG4gICAgJ2phJzogJzxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4g44Gn44OL44Ol44O844K544Os44K/44O844KS55m76Yyy44GX44G+44GX44GfJyxcbiAgICAna28nOiAnPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPijsnLwp66GcIOuJtOyKpOugiO2EsOyXkCDqsIDsnoXtlojsirXri4jri6QuJyxcbiAgICAnbXMnOiAnTWVuZGFmdGFyIGRlbmdhbiA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IHVudHVrIHN1cmF0IGJlcml0YScsXG4gICAgJ25sJzogJ0FhbmdlbWVsZCBtZXQgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiB2b29yIGRlIG5pZXV3c2JyaWVmJyxcbiAgICAnbm8nOiAnRHUgaGFyIHJlZ2lzdHJlcnQgZGVnIGZvciBueWhldHNicmV2ZXQgbWVkIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICdwbCc6ICdaYXBpc2FubyBzacSZIG5hIG5ld3NsZXR0ZXIgemEgcG9tb2PEhSBhZHJlc3UgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ3B0JzogJ0luc2NyZXZldS1zZSBjb20gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiBubyBib2xldGltIGluZm9ybWF0aXZvJyxcbiAgICAncHQtYnInOlxuICAgICAgJ0luc2NyacOnw6NvIG5hIG5ld3NsZXR0ZXIgZmVpdGEgY29tIG8gZS1tYWlsIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4nLFxuICAgICdydSc6ICfQktGLINC/0L7QtNC/0LjRgdCw0LvQuNGB0Ywg0L3QsCDQvdC+0LLQvtGB0YLQvdGD0Y4g0YDQsNGB0YHRi9C70LrRgywg0LjRgdC/0L7Qu9GM0LfRg9GPINCw0LrQutCw0YPQvdGCIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4uJyxcbiAgICAnc3YnOiAnRHUgcmVnaXN0cmVyYWRlIGRpZyBmw7ZyIG55aGV0c2JyZXZldCBtZWQgPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPicsXG4gICAgJ3RoJzogJ+C4peC4h+C4iuC4t+C5iOC4reC5gOC4guC5ieC4suC5g+C4iuC5ieC4lOC5ieC4p+C4oiA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOC4quC4s+C4q+C4o+C4seC4muC4iOC4lOC4q+C4oeC4suC4ouC4guC5iOC4suC4pycsXG4gICAgJ3RyJzogJ0LDvGx0ZW4gacOnaW4gPHBoIG5hbWU9XCJFTUFJTFwiPjxleD51c2VyQGdtYWlsLmNvbTwvZXg+JXM8L3BoPiBpbGUga2F5ZG9sZHVudXonLFxuICAgICd1ayc6ICfQktC4INC/0ZbQtNC/0LjRgdCw0LvQuNGB0Y8g0L3QsCDRltC90YTQvtGA0LzQsNGG0ZbQudC90ZYg0LvQuNGB0YLQuCDQvdCwINC10LvQtdC60YLRgNC+0L3QvdGDINCw0LTRgNC10YHRgyA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+JyxcbiAgICAnemgtY24nOiAn5bey5L2/55SoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4g6K6i6ZiF566A5oqlJyxcbiAgICAnemgtaGsnOiAn5bey5L2/55SoIDxwaCBuYW1lPVwiRU1BSUxcIj48ZXg+dXNlckBnbWFpbC5jb208L2V4PiVzPC9waD4g6Ki75YaK6YCa6KiKJyxcbiAgICAnemgtdHcnOlxuICAgICAgJ+W3suS9v+eUqCA8cGggbmFtZT1cIkVNQUlMXCI+PGV4PnVzZXJAZ21haWwuY29tPC9leD4lczwvcGg+IOiogumWsembu+WtkOWgsScsXG4gIH0sXG4gICdOT19NRU1CRVJTSElQX0ZPVU5EX0xBTkdfTUFQJzoge1xuICAgICdlbic6ICdObyBtZW1iZXJzaGlwIGZvdW5kJyxcbiAgICAnYXInOiAn2YTZhSDZitiq2YUg2KfZhNi52KvZiNixINi52YTZiSDYo9mKINin2LTYqtix2KfZgy4nLFxuICAgICdkZSc6ICdLZWluZSBNaXRnbGllZHNjaGFmdHNkYXRlbiBnZWZ1bmRlbicsXG4gICAgJ2VuLWF1JzogJ05vIG1lbWJlcnNoaXAgZm91bmQnLFxuICAgICdlbi1jYSc6ICdObyBtZW1iZXJzaGlwIGZvdW5kJyxcbiAgICAnZW4tZ2InOiAnTm8gbWVtYmVyc2hpcCBmb3VuZCcsXG4gICAgJ2VuLXVzJzogJ05vIG1lbWJlcnNoaXAgZm91bmQnLFxuICAgICdlcyc6ICdObyBzZSBoYW4gZW5jb250cmFkbyBzdXNjcmlwY2lvbmVzJyxcbiAgICAnZXMtNDE5JzogJ05vIHNlIGVuY29udHLDsyBuaW5ndW5hIG1lbWJyZXPDrWEnLFxuICAgICdmcic6ICdBdWN1biBhYm9ubmVtZW50IHRyb3V2w6knLFxuICAgICdmci1jYSc6ICdBdWN1biBhYm9ubmVtZW50IHRyb3V2w6knLFxuICAgICdoaSc6ICfgpKrgpYjgpLjgpYcg4KSa4KWB4KSV4KS+4KSV4KSwIOCksuClgCDgpJzgpL7gpKjgpYcg4KS14KS+4KSy4KWAIOCkleCli+CkiCDgpLjgpKbgpLjgpY3gpK/gpKTgpL4g4KSo4KS54KWA4KSCIOCkruCkv+CksuClgCcsXG4gICAgJ2lkJzogJ0xhbmdnYW5hbiB0aWRhayBkaXRlbXVrYW4nLFxuICAgICdpdCc6ICdOZXNzdW4gYWJib25hbWVudG8gdHJvdmF0bycsXG4gICAgJ2phJzogJ+ODoeODs+ODkOODvOOCt+ODg+ODl+OBjOimi+OBpOOBi+OCiuOBvuOBm+OCkycsXG4gICAgJ2tvJzogJ+uppOuyhOyLrSDsoJXrs7Trpbwg7LC+7J2EIOyImCDsl4bsirXri4jri6QuJyxcbiAgICAnbXMnOiAnVGlhZGEga2VhaGxpYW4gZGl0ZW11a2FuJyxcbiAgICAnbmwnOiAnR2VlbiBsaWRtYWF0c2NoYXAgZ2V2b25kZW4nLFxuICAgICdubyc6ICdGYW50IGluZ2VuIGFib25uZW1lbnRlcicsXG4gICAgJ3BsJzogJ05pZSB6bmFsZXppb25vIHN1YnNrcnlwY2ppJyxcbiAgICAncHQnOiAnTmVuaHVtYSBzdWJzY3Jpw6fDo28gZW5jb250cmFkYScsXG4gICAgJ3B0LWJyJzogJ05lbmh1bWEgYXNzaW5hdHVyYSBmb2kgZW5jb250cmFkYScsXG4gICAgJ3J1JzogJ9Cf0L7QtNC/0LjRgdC60LAg0L3QtSDQvdCw0LnQtNC10L3QsC4nLFxuICAgICdzZSc6ICdJbmdldCBtZWRsZW1za2FwIGhpdHRhZGVzJyxcbiAgICAndGgnOiAn4LmE4Lih4LmI4Lie4Lia4LiB4Liy4Lij4LmA4Lib4LmH4LiZ4Liq4Lih4Liy4LiK4Li04LiBJyxcbiAgICAndHInOiAnw5x5ZWxpayBidWx1bmFtYWTEsScsXG4gICAgJ3VrJzogJ9Cd0LXQvNCw0ZQg0L/RltC00L/QuNGB0L7QuicsXG4gICAgJ3poLWNuJzogJ+acquaJvuWIsOS8muWRmOi1hOaWmScsXG4gICAgJ3poLWhrJzogJ+aJvuS4jeWIsOacg+exjScsXG4gICAgJ3poLXR3JzogJ+aJvuS4jeWIsOacg+WToeizh+aWmScsXG4gIH0sXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIFRoZSBlbnRyeSBwb2ludCBmb3IgcnVudGltZSAoc3dnLmpzKS5cbiAqL1xuXG5pbXBvcnQge2luc3RhbGxSdW50aW1lfSBmcm9tICcuL3J1bnRpbWUvcnVudGltZSc7XG5pbXBvcnQge2xvZ30gZnJvbSAnLi91dGlscy9sb2cnO1xuXG5sb2coJ1N1YnNjcmlwdGlvbnMgUnVudGltZTogJGludGVybmFsUnVudGltZVZlcnNpb24kJyk7XG5cbmluc3RhbGxSdW50aW1lKHNlbGYpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgYXR0cmlidXRpb24gZGV0YWlscyBmb3IgdGhlIHB1Ymxpc2hlciAvIGNyZWF0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGlvblBhcmFtcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGlzcGxheU5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGF2YXRhclVybFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGlzcGxheU5hbWUsIGF2YXRhclVybCkge1xuICAgIC8qKiBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG5cbiAgICAvKiogQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5hdmF0YXJVcmwgPSBhdmF0YXJVcmw7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjEgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBkaXNwbGF5RGVsYXlTZWNvbmRzOiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIGRpc21pc3NhbEJhY2tPZmZTZWNvbmRzOiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIG1heERpc21pc3NhbHNQZXJXZWVrOiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgIG1heERpc21pc3NhbHNSZXN1bHRpbmdIaWRlU2Vjb25kczogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICBpbXByZXNzaW9uQmFja09mZlNlY29uZHM6IChudW1iZXJ8dW5kZWZpbmVkKSxcbiAqICAgbWF4SW1wcmVzc2lvbnM6IChudW1iZXJ8dW5kZWZpbmVkKSxcbiAqICAgbWF4SW1wcmVzc2lvbnNSZXN1bHRpbmdIaWRlU2Vjb25kczogKG51bWJlcnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBBdXRvUHJvbXB0Q29uZmlnUGFyYW1zO1xuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgdGhlIGF1dG8gcHJvbXB0IGNvbmZpZ3VhdGlvbiBkZXRhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgQXV0b1Byb21wdENvbmZpZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBdXRvUHJvbXB0Q29uZmlnUGFyYW1zPX0gcGFyYW1zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGxheURlbGF5U2Vjb25kcyxcbiAgICBkaXNtaXNzYWxCYWNrT2ZmU2Vjb25kcyxcbiAgICBtYXhEaXNtaXNzYWxzUGVyV2VlayxcbiAgICBtYXhEaXNtaXNzYWxzUmVzdWx0aW5nSGlkZVNlY29uZHMsXG4gICAgaW1wcmVzc2lvbkJhY2tPZmZTZWNvbmRzLFxuICAgIG1heEltcHJlc3Npb25zLFxuICAgIG1heEltcHJlc3Npb25zUmVzdWx0aW5nSGlkZVNlY29uZHMsXG4gIH0gPSB7fSkge1xuICAgIC8qKiBAY29uc3QgeyFDbGllbnREaXNwbGF5VHJpZ2dlcn0gKi9cbiAgICB0aGlzLmNsaWVudERpc3BsYXlUcmlnZ2VyID0gbmV3IENsaWVudERpc3BsYXlUcmlnZ2VyKGRpc3BsYXlEZWxheVNlY29uZHMpO1xuXG4gICAgLyoqIEBjb25zdCB7IUV4cGxpY2l0RGlzbWlzc2FsQ29uZmlnfSAqL1xuICAgIHRoaXMuZXhwbGljaXREaXNtaXNzYWxDb25maWcgPSBuZXcgRXhwbGljaXREaXNtaXNzYWxDb25maWcoXG4gICAgICBkaXNtaXNzYWxCYWNrT2ZmU2Vjb25kcyxcbiAgICAgIG1heERpc21pc3NhbHNQZXJXZWVrLFxuICAgICAgbWF4RGlzbWlzc2Fsc1Jlc3VsdGluZ0hpZGVTZWNvbmRzXG4gICAgKTtcblxuICAgIC8qKiBAY29uc3QgeyFJbXByZXNzaW9uQ29uZmlnfSAqL1xuICAgIHRoaXMuaW1wcmVzc2lvbkNvbmZpZyA9IG5ldyBJbXByZXNzaW9uQ29uZmlnKFxuICAgICAgaW1wcmVzc2lvbkJhY2tPZmZTZWNvbmRzLFxuICAgICAgbWF4SW1wcmVzc2lvbnMsXG4gICAgICBtYXhJbXByZXNzaW9uc1Jlc3VsdGluZ0hpZGVTZWNvbmRzXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENsaWVudCBzaWRlIGNvbmRpdGlvbnMgdG8gdHJpZ2dlciB0aGUgZGlzcGxheSBvZiB0aGUgYXV0byBwcm9tcHQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDbGllbnREaXNwbGF5VHJpZ2dlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGRpc3BsYXlEZWxheVNlY29uZHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRpc3BsYXlEZWxheVNlY29uZHMpIHtcbiAgICAvKiogQGNvbnN0IHtudW1iZXJ8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMuZGlzcGxheURlbGF5U2Vjb25kcyA9IGRpc3BsYXlEZWxheVNlY29uZHM7XG4gIH1cbn1cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9mIGV4cGxpY2l0IGRpc21pc3NhbCBiZWhhdmlvciBhbmQgaXRzIGVmZmVjdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHBsaWNpdERpc21pc3NhbENvbmZpZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IGJhY2tPZmZTZWNvbmRzXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gbWF4RGlzbWlzc2Fsc1BlcldlZWtcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBtYXhEaXNtaXNzYWxzUmVzdWx0aW5nSGlkZVNlY29uZHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGJhY2tPZmZTZWNvbmRzLFxuICAgIG1heERpc21pc3NhbHNQZXJXZWVrLFxuICAgIG1heERpc21pc3NhbHNSZXN1bHRpbmdIaWRlU2Vjb25kc1xuICApIHtcbiAgICAvKiogQGNvbnN0IHtudW1iZXJ8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMuYmFja09mZlNlY29uZHMgPSBiYWNrT2ZmU2Vjb25kcztcblxuICAgIC8qKiBAY29uc3Qge251bWJlcnx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5tYXhEaXNtaXNzYWxzUGVyV2VlayA9IG1heERpc21pc3NhbHNQZXJXZWVrO1xuXG4gICAgLyoqIEBjb25zdCB7bnVtYmVyfHVuZGVmaW5lZH0gKi9cbiAgICB0aGlzLm1heERpc21pc3NhbHNSZXN1bHRpbmdIaWRlU2Vjb25kcyA9IG1heERpc21pc3NhbHNSZXN1bHRpbmdIaWRlU2Vjb25kcztcbiAgfVxufVxuXG4vKipcbiAqIENvbmZpZ3VyYXRpb24gb2YgaW1wcmVzc2lvbiBiZWhhdmlvciBhbmQgaXRzIGVmZmVjdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbXByZXNzaW9uQ29uZmlnIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHVuZGVmaW5lZH0gYmFja09mZlNlY29uZHNcbiAgICogQHBhcmFtIHtudW1iZXJ8dW5kZWZpbmVkfSBtYXhJbXByZXNzaW9uc1xuICAgKiBAcGFyYW0ge251bWJlcnx1bmRlZmluZWR9IG1heEltcHJlc3Npb25zUmVzdWx0aW5nSGlkZVNlY29uZHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGJhY2tPZmZTZWNvbmRzLFxuICAgIG1heEltcHJlc3Npb25zLFxuICAgIG1heEltcHJlc3Npb25zUmVzdWx0aW5nSGlkZVNlY29uZHNcbiAgKSB7XG4gICAgLyoqIEBjb25zdCB7bnVtYmVyfHVuZGVmaW5lZH0gKi9cbiAgICB0aGlzLmJhY2tPZmZTZWNvbmRzID0gYmFja09mZlNlY29uZHM7XG5cbiAgICAvKiogQGNvbnN0IHtudW1iZXJ8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMubWF4SW1wcmVzc2lvbnMgPSBtYXhJbXByZXNzaW9ucztcblxuICAgIC8qKiBAY29uc3Qge251bWJlcnx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5tYXhJbXByZXNzaW9uc1Jlc3VsdGluZ0hpZGVTZWNvbmRzID1cbiAgICAgIG1heEltcHJlc3Npb25zUmVzdWx0aW5nSGlkZVNlY29uZHM7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjEgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBDbGllbnQgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGF0dHJpYnV0aW9uUGFyYW1zOiAoLi9hdHRyaWJ1dGlvbi1wYXJhbXMuQXR0cmlidXRpb25QYXJhbXN8dW5kZWZpbmVkKSxcbiAqICAgYXV0b1Byb21wdENvbmZpZzogKC4vYXV0by1wcm9tcHQtY29uZmlnLkF1dG9Qcm9tcHRDb25maWd8dW5kZWZpbmVkKSxcbiAqICAgcGF5U3dnVmVyc2lvbjogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICB1aVByZWRpY2F0ZXM6IChVaVByZWRpY2F0ZXN8dW5kZWZpbmVkKSxcbiAqICAgdXNlUHJlZml4ZWRIb3N0UGF0aDogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgdXNlVXBkYXRlZE9mZmVyRmxvd3M6IChib29sZWFufHVuZGVmaW5lZCksXG4gKiAgIHNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW46IChib29sZWFufHVuZGVmaW5lZCksXG4gKiB9fVxuICovXG5leHBvcnQgbGV0IENsaWVudENvbmZpZ09wdGlvbnM7XG5cbi8qKlxuICogQ29udGFpbmVyIGZvciB0aGUgZGV0YWlscyByZWxhdGluZyB0byBob3cgdGhlIGNsaWVudCBzaG91bGQgYmUgY29uZmlndXJlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudENvbmZpZyB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge0NsaWVudENvbmZpZ09wdGlvbnN9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBhdHRyaWJ1dGlvblBhcmFtcyxcbiAgICBhdXRvUHJvbXB0Q29uZmlnLFxuICAgIHBheVN3Z1ZlcnNpb24sXG4gICAgdWlQcmVkaWNhdGVzLFxuICAgIHVzZVByZWZpeGVkSG9zdFBhdGgsXG4gICAgdXNlVXBkYXRlZE9mZmVyRmxvd3MsXG4gICAgc2tpcEFjY291bnRDcmVhdGlvblNjcmVlbixcbiAgfSA9IHt9KSB7XG4gICAgLyoqIEBjb25zdCB7Li9hdXRvLXByb21wdC1jb25maWcuQXV0b1Byb21wdENvbmZpZ3x1bmRlZmluZWR9ICovXG4gICAgdGhpcy5hdXRvUHJvbXB0Q29uZmlnID0gYXV0b1Byb21wdENvbmZpZztcblxuICAgIC8qKiBAY29uc3Qge3N0cmluZ3x1bmRlZmluZWR9ICovXG4gICAgdGhpcy5wYXlTd2dWZXJzaW9uID0gcGF5U3dnVmVyc2lvbjtcblxuICAgIC8qKiBAY29uc3Qge2Jvb2xlYW59ICovXG4gICAgdGhpcy51c2VQcmVmaXhlZEhvc3RQYXRoID0gdXNlUHJlZml4ZWRIb3N0UGF0aCB8fCBmYWxzZTtcblxuICAgIC8qKiBAY29uc3Qge2Jvb2xlYW59ICovXG4gICAgdGhpcy51c2VVcGRhdGVkT2ZmZXJGbG93cyA9IHVzZVVwZGF0ZWRPZmZlckZsb3dzIHx8IGZhbHNlO1xuXG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW4gPSBza2lwQWNjb3VudENyZWF0aW9uU2NyZWVuIHx8IGZhbHNlO1xuXG4gICAgLyoqIEBjb25zdCB7VWlQcmVkaWNhdGVzfHVuZGVmaW5lZH0gKi9cbiAgICB0aGlzLnVpUHJlZGljYXRlcyA9IHVpUHJlZGljYXRlcztcblxuICAgIC8qKiBAY29uc3Qgey4vYXR0cmlidXRpb24tcGFyYW1zLkF0dHJpYnV0aW9uUGFyYW1zfHVuZGVmaW5lZH0gKi9cbiAgICB0aGlzLmF0dHJpYnV0aW9uUGFyYW1zID0gYXR0cmlidXRpb25QYXJhbXM7XG4gIH1cbn1cblxuLyoqXG4gKiBQcmVkaWNhdGVzIHRvIGNvbnRyb2wgVUkgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBVaVByZWRpY2F0ZXMge1xuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gY2FuRGlzcGxheUF1dG9Qcm9tcHRcbiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gY2FuRGlzcGxheUJ1dHRvblxuICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBwdXJjaGFzZVVuYXZhaWxhYmxlUmVnaW9uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBjYW5EaXNwbGF5QXV0b1Byb21wdCxcbiAgICBjYW5EaXNwbGF5QnV0dG9uLFxuICAgIHB1cmNoYXNlVW5hdmFpbGFibGVSZWdpb25cbiAgKSB7XG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbnx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5jYW5EaXNwbGF5QXV0b1Byb21wdCA9IGNhbkRpc3BsYXlBdXRvUHJvbXB0O1xuXG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbnx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5jYW5EaXNwbGF5QnV0dG9uID0gY2FuRGlzcGxheUJ1dHRvbjtcblxuICAgIC8qKiBAY29uc3Qge2Jvb2xlYW58dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMucHVyY2hhc2VVbmF2YWlsYWJsZVJlZ2lvbiA9IHB1cmNoYXNlVW5hdmFpbGFibGVSZWdpb247XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtpc0RvY3VtZW50UmVhZHksIHdoZW5Eb2N1bWVudFJlYWR5fSBmcm9tICcuLi91dGlscy9kb2N1bWVudC1yZWFkeSc7XG5cbi8qKlxuICogQGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgRG9jIHtcbiAgLyoqXG4gICAqIEByZXR1cm4geyFXaW5kb3d9XG4gICAqL1xuICBnZXRXaW4oKSB7fVxuXG4gIC8qKlxuICAgKiBUaGUgYERvY3VtZW50YCBub2RlIG9yIGFuYWxvZy5cbiAgICogQHJldHVybiB7IU5vZGV9XG4gICAqL1xuICBnZXRSb290Tm9kZSgpIHt9XG5cbiAgLyoqXG4gICAqIFRoZSBgRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50YCBlbGVtZW50IG9yIGFuYWxvZy5cbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBnZXRSb290RWxlbWVudCgpIHt9XG5cbiAgLyoqXG4gICAqIFRoZSBgRG9jdW1lbnQuaGVhZGAgZWxlbWVudCBvciBhbmFsb2cuIFJldHVybnMgYG51bGxgIGlmIG5vdCBhdmFpbGFibGVcbiAgICogeWV0LlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGdldEhlYWQoKSB7fVxuXG4gIC8qKlxuICAgKiBUaGUgYERvY3VtZW50LmJvZHlgIGVsZW1lbnQgb3IgYW5hbG9nLiBSZXR1cm5zIGBudWxsYCBpZiBub3QgYXZhaWxhYmxlXG4gICAqIHlldC5cbiAgICogQHJldHVybiB7P0VsZW1lbnR9XG4gICAqL1xuICBnZXRCb2R5KCkge31cblxuICAvKipcbiAgICogV2hldGhlciB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gZnVsbHkgY29uc3RydWN0ZWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc1JlYWR5KCkge31cblxuICAvKipcbiAgICogUmVzb2x2ZWQgd2hlbiBkb2N1bWVudCBoYXMgYmVlbiBmdWxseSBjb25zdHJ1Y3RlZC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICB3aGVuUmVhZHkoKSB7fVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBlbGVtZW50IHRvIHRoZSBmaXhlZCBsYXllci5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gdW51c2VkRWxlbWVudFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICpcbiAgICogVGhpcyBpcyBhIG5vLW9wIGZvciBleGNlcHQgaW4gQU1QIG9uIGlPUyA8IDEzLjAuXG4gICAqL1xuICBhZGRUb0ZpeGVkTGF5ZXIodW51c2VkRWxlbWVudCkge31cbn1cblxuLyoqIEBpbXBsZW1lbnRzIHtEb2N9ICovXG5leHBvcnQgY2xhc3MgR2xvYmFsRG9jIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd3whRG9jdW1lbnR9IHdpbk9yRG9jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW5PckRvYykge1xuICAgIGNvbnN0IGlzV2luID0gISF3aW5PckRvYy5kb2N1bWVudDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IC8qKiBAdHlwZSB7IVdpbmRvd30gKi8gKFxuICAgICAgaXNXaW5cbiAgICAgICAgPyAvKiogQHR5cGUgeyFXaW5kb3d9ICovICh3aW5PckRvYylcbiAgICAgICAgOiAvKiogQHR5cGUgeyFEb2N1bWVudH0gKi8gKHdpbk9yRG9jKS5kZWZhdWx0Vmlld1xuICAgICk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IGlzV2luXG4gICAgICA/IC8qKiBAdHlwZSB7IVdpbmRvd30gKi8gKHdpbk9yRG9jKS5kb2N1bWVudFxuICAgICAgOiAvKiogQHR5cGUgeyFEb2N1bWVudH0gKi8gKHdpbk9yRG9jKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0V2luKCkge1xuICAgIHJldHVybiB0aGlzLndpbl87XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFJvb3ROb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmRvY187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldFJvb3RFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmRvY18uZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRIZWFkKCkge1xuICAgIC8vIGBkb2N1bWVudC5oZWFkYCBhbHdheXMgaGFzIGEgY2hhbmNlIHRvIGJlIHBhcnNlZCwgYXQgbGVhc3QgcGFydGlhbGx5LlxuICAgIHJldHVybiAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAodGhpcy5kb2NfLmhlYWQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRCb2R5KCkge1xuICAgIHJldHVybiB0aGlzLmRvY18uYm9keTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgaXNSZWFkeSgpIHtcbiAgICByZXR1cm4gaXNEb2N1bWVudFJlYWR5KHRoaXMuZG9jXyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHdoZW5SZWFkeSgpIHtcbiAgICByZXR1cm4gd2hlbkRvY3VtZW50UmVhZHkodGhpcy5kb2NfKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWRkVG9GaXhlZExheWVyKHVudXNlZEVsZW1lbnQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyFEb2N1bWVudHwhV2luZG93fCFEb2N9IGlucHV0XG4gKiBAcmV0dXJuIHshRG9jfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZURvYyhpbnB1dCkge1xuICAvLyBJcyBpdCBhIGBEb2N1bWVudGBcbiAgaWYgKC8qKiBAdHlwZSB7IURvY3VtZW50fSAqLyAoaW5wdXQpLm5vZGVUeXBlID09PSAvKiBET0NVTUVOVCAqLyA5KSB7XG4gICAgcmV0dXJuIG5ldyBHbG9iYWxEb2MoLyoqIEB0eXBlIHshRG9jdW1lbnR9ICovIChpbnB1dCkpO1xuICB9XG4gIC8vIElzIGl0IGEgYFdpbmRvd2A/XG4gIGlmICgvKiogQHR5cGUgeyFXaW5kb3d9ICovIChpbnB1dCkuZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IEdsb2JhbERvYygvKiogQHR5cGUgeyFXaW5kb3d9ICovIChpbnB1dCkpO1xuICB9XG4gIHJldHVybiAvKiogQHR5cGUgeyFEb2N9ICovIChpbnB1dCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7RG9jIGFzIERvY0ludGVyZmFjZSwgcmVzb2x2ZURvY30gZnJvbSAnLi9kb2MnO1xuaW1wb3J0IHtQYWdlQ29uZmlnfSBmcm9tICcuL3BhZ2UtY29uZmlnJztcbmltcG9ydCB7ZGVidWdMb2d9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQge2hhc05leHROb2RlSW5Eb2N1bWVudE9yZGVyfSBmcm9tICcuLi91dGlscy9kb20nO1xuaW1wb3J0IHt0cnlQYXJzZUpzb259IGZyb20gJy4uL3V0aWxzL2pzb24nO1xuaW1wb3J0IHt1c2VyfSBmcm9tICcuLi91dGlscy9lcnJvci1sb2dnZXInO1xuXG5jb25zdCBBTFJFQURZX1NFRU4gPSAnX19TV0ctU0VFTl9fJztcbmNvbnN0IENPTlRST0xfRkxBRyA9ICdzdWJzY3JpcHRpb25zLWNvbnRyb2wnO1xuXG5jb25zdCBBTExPV0VEX1RZUEVTID0gW1xuICAnQ3JlYXRpdmVXb3JrJyxcbiAgJ0FydGljbGUnLFxuICAnTmV3c0FydGljbGUnLFxuICAnQmxvZycsXG4gICdDb21tZW50JyxcbiAgJ0NvdXJzZScsXG4gICdIb3dUbycsXG4gICdNZXNzYWdlJyxcbiAgJ1JldmlldycsXG4gICdXZWJQYWdlJyxcbl07XG5cbi8vIFJlZ0V4cCBmb3IgcXVpY2tseSBzY2FubmluZyBMRCtKU09OIGZvciBhbGxvd2VkIHR5cGVzXG5jb25zdCBSRV9BTExPV0VEX1RZUEVTID0gbmV3IFJlZ0V4cChBTExPV0VEX1RZUEVTLmpvaW4oJ3wnKSk7XG5cbi8qKlxuICovXG5leHBvcnQgY2xhc3MgUGFnZUNvbmZpZ1Jlc29sdmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd3whRG9jdW1lbnR8IURvY0ludGVyZmFjZX0gd2luT3JEb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbk9yRG9jKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY0ludGVyZmFjZX0gKi9cbiAgICB0aGlzLmRvY18gPSByZXNvbHZlRG9jKHdpbk9yRG9jKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCghUGFnZUNvbmZpZ3whUHJvbWlzZSkpfSAqL1xuICAgIHRoaXMuY29uZmlnUmVzb2x2ZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPCFQYWdlQ29uZmlnPn0gKi9cbiAgICB0aGlzLmNvbmZpZ1Byb21pc2VfID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuY29uZmlnUmVzb2x2ZXJfID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFNZXRhUGFyc2VyfSAqL1xuICAgIHRoaXMubWV0YVBhcnNlcl8gPSBuZXcgTWV0YVBhcnNlcih0aGlzLmRvY18pO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFKc29uTGRQYXJzZXJ9ICovXG4gICAgdGhpcy5sZFBhcnNlcl8gPSBuZXcgSnNvbkxkUGFyc2VyKHRoaXMuZG9jXyk7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU1pY3JvZGF0YVBhcnNlcn0gKi9cbiAgICB0aGlzLm1pY3JvZGF0YVBhcnNlcl8gPSBuZXcgTWljcm9kYXRhUGFyc2VyKHRoaXMuZG9jXyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2U8IVBhZ2VDb25maWc+fVxuICAgKi9cbiAgcmVzb2x2ZUNvbmZpZygpIHtcbiAgICAvLyBUcnkgcmVzb2x2ZSB0aGUgY29uZmlnIGF0IGRpZmZlcmVudCB0aW1lcy5cbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKHRoaXMuY2hlY2suYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb2NfLndoZW5SZWFkeSgpLnRoZW4odGhpcy5jaGVjay5iaW5kKHRoaXMpKTtcbiAgICByZXR1cm4gdGhpcy5jb25maWdQcm9taXNlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/UGFnZUNvbmZpZ31cbiAgICovXG4gIGNoZWNrKCkge1xuICAgIC8vIEFscmVhZHkgcmVzb2x2ZWQuXG4gICAgaWYgKCF0aGlzLmNvbmZpZ1Jlc29sdmVyXykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbmZpZyA9XG4gICAgICB0aGlzLm1ldGFQYXJzZXJfLmNoZWNrKCkgfHxcbiAgICAgIHRoaXMubGRQYXJzZXJfLmNoZWNrKCkgfHxcbiAgICAgIHRoaXMubWljcm9kYXRhUGFyc2VyXy5jaGVjaygpO1xuICAgIGlmIChjb25maWcpIHtcbiAgICAgIC8vIFByb2R1Y3QgSUQgaGFzIGJlZW4gZm91bmQ6IGluaXRpYWxpemUgdGhlIHJlc3Qgb2YgdGhlIGNvbmZpZy5cbiAgICAgIHRoaXMuY29uZmlnUmVzb2x2ZXJfKGNvbmZpZyk7XG4gICAgICB0aGlzLmNvbmZpZ1Jlc29sdmVyXyA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRvY18uaXNSZWFkeSgpKSB7XG4gICAgICB0aGlzLmNvbmZpZ1Jlc29sdmVyXyhcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgdXNlcigpLmNyZWF0ZUVycm9yKCdObyBjb25maWcgY291bGQgYmUgZGlzY292ZXJlZCBpbiB0aGUgcGFnZScpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLmNvbmZpZ1Jlc29sdmVyXyA9IG51bGw7XG4gICAgfVxuICAgIGRlYnVnTG9nKGNvbmZpZyk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxufVxuXG5jbGFzcyBUeXBlQ2hlY2tlciB7XG4gIGNvbnN0cnVjdG9yKCkge31cblxuICAvKipcbiAgICogQ2hlY2sgdmFsdWUgZnJvbSBqc29uXG4gICAqIEBwYXJhbSB7P0FycmF5fHN0cmluZ30gdmFsdWVcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBleHBlY3RlZFR5cGVzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBjaGVja1ZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jaGVja0FycmF5KHRoaXMudG9BcnJheV8odmFsdWUpLCBleHBlY3RlZFR5cGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgc3BhY2UgZGVsaW1pdGVkIGxpc3Qgb2YgdHlwZXNcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBpdGVtdHlwZVxuICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGV4cGVjdGVkVHlwZXNcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGNoZWNrU3RyaW5nKGl0ZW10eXBlLCBleHBlY3RlZFR5cGVzKSB7XG4gICAgaWYgKCFpdGVtdHlwZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jaGVja0FycmF5KGl0ZW10eXBlLnNwbGl0KC9cXHMrLyksIGV4cGVjdGVkVHlwZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PD9zdHJpbmc+fSB0eXBlQXJyYXlcbiAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBleHBlY3RlZFR5cGVzXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBjaGVja0FycmF5KHR5cGVBcnJheSwgZXhwZWN0ZWRUeXBlcykge1xuICAgIGZvciAoY29uc3Qgc2NoZW1hVHlwZVVybCBvZiB0eXBlQXJyYXkpIHtcbiAgICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBzY2hlbWFUeXBlVXJsLnJlcGxhY2UoL15odHRwOlxcL1xcL3NjaGVtYS5vcmdcXC8vaSwgJycpO1xuICAgICAgaWYgKGV4cGVjdGVkVHlwZXMuaW5jbHVkZXMoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qXG4gICAqIEBwYXJhbSB7P0FycmF5fHN0cmluZ30gdmFsdWVcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0b0FycmF5Xyh2YWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgfVxufVxuXG5jbGFzcyBNZXRhUGFyc2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IURvY0ludGVyZmFjZX0gZG9jXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRG9jSW50ZXJmYWNlfSAqL1xuICAgIHRoaXMuZG9jXyA9IGRvYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/UGFnZUNvbmZpZ31cbiAgICovXG4gIGNoZWNrKCkge1xuICAgIGlmICghdGhpcy5kb2NfLmdldEJvZHkoKSkge1xuICAgICAgLy8gV2FpdCB1bnRpbCB0aGUgd2hvbGUgYDxoZWFkPmAgaXMgcGFyc2VkLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGZpbmQgcHJvZHVjdCBpZC5cbiAgICBjb25zdCBwcm9kdWN0SWQgPSBnZXRNZXRhVGFnKFxuICAgICAgdGhpcy5kb2NfLmdldFJvb3ROb2RlKCksXG4gICAgICAnc3Vic2NyaXB0aW9ucy1wcm9kdWN0LWlkJ1xuICAgICk7XG4gICAgaWYgKCFwcm9kdWN0SWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIElzIGxvY2tlZD9cbiAgICBjb25zdCBhY2Nlc3NpYmxlRm9yRnJlZSA9IGdldE1ldGFUYWcoXG4gICAgICB0aGlzLmRvY18uZ2V0Um9vdE5vZGUoKSxcbiAgICAgICdzdWJzY3JpcHRpb25zLWFjY2Vzc2libGUtZm9yLWZyZWUnXG4gICAgKTtcbiAgICBjb25zdCBsb2NrZWQgPSAhIShcbiAgICAgIGFjY2Vzc2libGVGb3JGcmVlICYmIGFjY2Vzc2libGVGb3JGcmVlLnRvTG93ZXJDYXNlKCkgPT09ICdmYWxzZSdcbiAgICApO1xuXG4gICAgcmV0dXJuIG5ldyBQYWdlQ29uZmlnKHByb2R1Y3RJZCwgbG9ja2VkKTtcbiAgfVxufVxuXG5jbGFzcyBKc29uTGRQYXJzZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshRG9jSW50ZXJmYWNlfSBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFEb2NJbnRlcmZhY2V9ICovXG4gICAgdGhpcy5kb2NfID0gZG9jO1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgQGZ1bmN0aW9uICovXG4gICAgdGhpcy5jaGVja1R5cGVfID0gbmV3IFR5cGVDaGVja2VyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P1BhZ2VDb25maWd9XG4gICAqL1xuICBjaGVjaygpIHtcbiAgICBpZiAoIXRoaXMuZG9jXy5nZXRCb2R5KCkpIHtcbiAgICAgIC8vIFdhaXQgdW50aWwgdGhlIHdob2xlIGA8aGVhZD5gIGlzIHBhcnNlZC5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGRvbVJlYWR5ID0gdGhpcy5kb2NfLmlzUmVhZHkoKTtcblxuICAgIC8vIHR5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJ1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5kb2NfXG4gICAgICAuZ2V0Um9vdE5vZGUoKVxuICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFt0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXScpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudFtBTFJFQURZX1NFRU5dIHx8XG4gICAgICAgICFlbGVtZW50LnRleHRDb250ZW50IHx8XG4gICAgICAgICghZG9tUmVhZHkgJiYgIWhhc05leHROb2RlSW5Eb2N1bWVudE9yZGVyKGVsZW1lbnQpKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZWxlbWVudFtBTFJFQURZX1NFRU5dID0gdHJ1ZTtcbiAgICAgIGlmICghUkVfQUxMT1dFRF9UWVBFUy50ZXN0KGVsZW1lbnQudGV4dENvbnRlbnQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcG9zc2libGVDb25maWcgPSB0aGlzLnRyeUV4dHJhY3RDb25maWdfKGVsZW1lbnQpO1xuICAgICAgaWYgKHBvc3NpYmxlQ29uZmlnKSB7XG4gICAgICAgIHJldHVybiBwb3NzaWJsZUNvbmZpZztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcmV0dXJuIHs/UGFnZUNvbmZpZ31cbiAgICovXG4gIHRyeUV4dHJhY3RDb25maWdfKGVsZW1lbnQpIHtcbiAgICBsZXQgcG9zc2libGVDb25maWdzID0gdHJ5UGFyc2VKc29uKGVsZW1lbnQudGV4dENvbnRlbnQpO1xuICAgIGlmICghcG9zc2libGVDb25maWdzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0IGFycmF5cyBvZiBKU09OIG9iamVjdHMuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBvc3NpYmxlQ29uZmlncykpIHtcbiAgICAgIHBvc3NpYmxlQ29uZmlncyA9IFtwb3NzaWJsZUNvbmZpZ3NdO1xuICAgIH1cblxuICAgIGxldCBjb25maWdzID0gLyoqIEB0eXBlIHshQXJyYXk8IUpzb25PYmplY3Q+fSAqLyAocG9zc2libGVDb25maWdzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbmZpZ3NbaV07XG5cbiAgICAgIGlmIChjb25maWdbJ0BncmFwaCddICYmIEFycmF5LmlzQXJyYXkoY29uZmlnWydAZ3JhcGgnXSkpIHtcbiAgICAgICAgY29uZmlncyA9IGNvbmZpZ3MuY29uY2F0KGNvbmZpZ1snQGdyYXBoJ10pO1xuICAgICAgfVxuXG4gICAgICAvLyBNdXN0IGJlIGFuIEFMTE9XRURfVFlQRVxuICAgICAgaWYgKCF0aGlzLmNoZWNrVHlwZV8uY2hlY2tWYWx1ZShjb25maWdbJ0B0eXBlJ10sIEFMTE9XRURfVFlQRVMpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBNdXN0IGhhdmUgYSBpc1BhcnRPZltAdHlwZT1Qcm9kdWN0XS5cbiAgICAgIGxldCBwcm9kdWN0SWQgPSBudWxsO1xuICAgICAgY29uc3QgcGFydE9mQXJyYXkgPSB0aGlzLnZhbHVlQXJyYXlfKGNvbmZpZywgJ2lzUGFydE9mJyk7XG4gICAgICBpZiAocGFydE9mQXJyYXkpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXJ0T2ZBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHByb2R1Y3RJZCA9IHRoaXMuZGlzY292ZXJQcm9kdWN0SWRfKHBhcnRPZkFycmF5W2pdKTtcbiAgICAgICAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghcHJvZHVjdElkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3VuZCBwcm9kdWN0IGlkLCBqdXN0IGNoZWNrIGZvciB0aGUgYWNjZXNzIGZsYWcuXG4gICAgICBjb25zdCBpc0FjY2Vzc2libGVGb3JGcmVlID0gdGhpcy5ib29sXyhcbiAgICAgICAgdGhpcy5zaW5nbGVWYWx1ZV8oY29uZmlnLCAnaXNBY2Nlc3NpYmxlRm9yRnJlZScpLFxuICAgICAgICAvKiBkZWZhdWx0ICovIHRydWVcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBuZXcgUGFnZUNvbmZpZyhwcm9kdWN0SWQsICFpc0FjY2Vzc2libGVGb3JGcmVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVmYXVsdFZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBib29sXyh2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGxvd2VyY2FzZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobG93ZXJjYXNlID09PSAnZmFsc2UnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlcmNhc2UgPT09ICd0cnVlJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0ganNvblxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZGlzY292ZXJQcm9kdWN0SWRfKGpzb24pIHtcbiAgICAvLyBNdXN0IGhhdmUgdHlwZSBgUHJvZHVjdGAuXG4gICAgaWYgKCF0aGlzLmNoZWNrVHlwZV8uY2hlY2tWYWx1ZShqc29uWydAdHlwZSddLCBbJ1Byb2R1Y3QnXSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyoqIEB0eXBlIHs/c3RyaW5nfSAqLyAodGhpcy5zaW5nbGVWYWx1ZV8oanNvbiwgJ3Byb2R1Y3RJRCcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3R9IGpzb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7P0FycmF5fVxuICAgKi9cbiAgdmFsdWVBcnJheV8oanNvbiwgbmFtZSkge1xuICAgIGNvbnN0IHZhbHVlID0ganNvbltuYW1lXTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshT2JqZWN0fSBqc29uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBzaW5nbGVWYWx1ZV8oanNvbiwgbmFtZSkge1xuICAgIGNvbnN0IHZhbHVlQXJyYXkgPSB0aGlzLnZhbHVlQXJyYXlfKGpzb24sIG5hbWUpO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVBcnJheSAmJiB2YWx1ZUFycmF5WzBdO1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJyA/IG51bGwgOiB2YWx1ZTtcbiAgfVxufVxuXG5jbGFzcyBNaWNyb2RhdGFQYXJzZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshRG9jSW50ZXJmYWNlfSBkb2NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRvYykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFEb2NJbnRlcmZhY2V9ICovXG4gICAgdGhpcy5kb2NfID0gZG9jO1xuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5hY2Nlc3NfID0gbnVsbDtcbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5wcm9kdWN0SWRfID0gbnVsbDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IEBmdW5jdGlvbiAqL1xuICAgIHRoaXMuY2hlY2tUeXBlXyA9IG5ldyBUeXBlQ2hlY2tlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFsc2UgaWYgYWNjZXNzIGlzIHJlc3RyaWN0ZWQsIG90aGVyd2lzZSB0cnVlXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3QgQW4gZWxlbWVudCB0aGF0IGlzIGFuIGl0ZW0gb2YgdHlwZSBpbiBBTExPV0VEX1RZUEVTIGxpc3RcbiAgICogQHJldHVybiB7P2Jvb2xlYW59IGxvY2tlZCBhY2Nlc3NcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRpc2NvdmVyQWNjZXNzXyhyb290KSB7XG4gICAgY29uc3QgQUxSRUFEWV9TRUVOID0gJ2FscmVhZHlTZWVuRm9yQWNjZXNzSW5mbyc7XG4gICAgY29uc3Qgbm9kZUxpc3QgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaXRlbXByb3A9J2lzQWNjZXNzaWJsZUZvckZyZWUnXVwiKTtcbiAgICBmb3IgKGxldCBpID0gMDsgbm9kZUxpc3RbaV07IGkrKykge1xuICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGVMaXN0W2ldO1xuICAgICAgY29uc3QgY29udGVudCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHwgZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzVmFsaWRFbGVtZW50XyhlbGVtZW50LCByb290LCBBTFJFQURZX1NFRU4pKSB7XG4gICAgICAgIGxldCBhY2Nlc3NGb3JGcmVlID0gbnVsbDtcbiAgICAgICAgaWYgKGNvbnRlbnQudG9Mb3dlckNhc2UoKSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICBhY2Nlc3NGb3JGcmVlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250ZW50LnRvTG93ZXJDYXNlKCkgPT0gJ2ZhbHNlJykge1xuICAgICAgICAgIGFjY2Vzc0ZvckZyZWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjZXNzRm9yRnJlZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZpZXMgaWYgYW4gZWxlbWVudCBpcyB2YWxpZCBiYXNlZCBvbiB0aGUgZm9sbG93aW5nXG4gICAqIC0gY2hpbGQgb2YgYW4gaXRlbSBvZiBvbmUgdGhlIHRoZSBBTExPV0VEX1RZUEVTXG4gICAqIC0gbm90IGEgY2hpbGQgb2YgYW4gaXRlbSBvZiBhbnkgb3RoZXIgdHlwZVxuICAgKiAtIG5vdCBzZWVuIGJlZm9yZSwgbWFya2VkIHVzaW5nIHRoZSBhbHJlYWR5U2VlbiB0YWdcbiAgICogQHBhcmFtIHs/RWxlbWVudH0gY3VycmVudCB0aGUgZWxlbWVudCB0byBiZSB2ZXJpZmllZFxuICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290IHRoZSBwYXJlbnQgdG8gdHJhY2sgdXAgdG9cbiAgICogQHBhcmFtIHshc3RyaW5nfSBhbHJlYWR5U2VlbiB1c2VkIHRvIHRhZyBhbHJlYWR5IHZpc2l0ZWQgbm9kZXNcbiAgICogQHJldHVybiB7IWJvb2xlYW59IHZhbGlkIG5vZGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGlzVmFsaWRFbGVtZW50XyhjdXJyZW50LCByb290LCBhbHJlYWR5U2Vlbikge1xuICAgIGZvciAoXG4gICAgICBsZXQgbm9kZSA9IGN1cnJlbnQ7XG4gICAgICBub2RlICYmICFub2RlW2FscmVhZHlTZWVuXTtcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICApIHtcbiAgICAgIG5vZGVbYWxyZWFkeVNlZW5dID0gdHJ1ZTtcbiAgICAgIC8vIGRvY3VtZW50IG5vZGVzIGRvbid0IGhhdmUgaGFzQXR0cmlidXRlXG4gICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoJ2l0ZW1zY29wZScpKSB7XG4gICAgICAgIC8qKns/c3RyaW5nfSAqL1xuICAgICAgICBjb25zdCB0eXBlID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2l0ZW10eXBlJyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrVHlwZV8uY2hlY2tTdHJpbmcodHlwZSwgQUxMT1dFRF9UWVBFUyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPYnRhaW5zIHRoZSBwcm9kdWN0IElEIHRoYXQgbWVldHMgdGhlIHJlcXVpcmVtZW50c1xuICAgKiAtIGNoaWxkIG9mIGFuIGl0ZW0gb2Ygb25lIG9mIEFMTE9XRURfVFlQRVNcbiAgICogLSBOb3QgYSBjaGlsZCBvZiBhbiBpdGVtIG9mIHR5cGUgJ1NlY3Rpb24nXG4gICAqIC0gY2hpbGQgb2YgYW4gaXRlbSBvZiB0eXBlICdwcm9kdWN0SUQnXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3QgQW4gZWxlbWVudCB0aGF0IGlzIGFuIGl0ZW0gb2YgYW4gQUxMT1dFRF9UWVBFU1xuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBwcm9kdWN0IElELCBpZiBmb3VuZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzY292ZXJQcm9kdWN0SWRfKHJvb3QpIHtcbiAgICBjb25zdCBBTFJFQURZX1NFRU4gPSAnYWxyZWFkeVNlZW5Gb3JQcm9kdWN0SW5mbyc7XG4gICAgY29uc3Qgbm9kZUxpc3QgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpdGVtcHJvcD1cInByb2R1Y3RJRFwiXScpO1xuICAgIGZvciAobGV0IGkgPSAwOyBub2RlTGlzdFtpXTsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gbm9kZUxpc3RbaV07XG4gICAgICBjb25zdCBjb250ZW50ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fCBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgY29uc3QgaXRlbSA9IGVsZW1lbnQuY2xvc2VzdCgnW2l0ZW10eXBlXVtpdGVtc2NvcGVdJyk7XG4gICAgICBjb25zdCB0eXBlID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2l0ZW10eXBlJyk7XG4gICAgICBpZiAodHlwZS5pbmRleE9mKCdodHRwOi8vc2NoZW1hLm9yZy9Qcm9kdWN0JykgPD0gLTEpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc1ZhbGlkRWxlbWVudF8oaXRlbS5wYXJlbnRFbGVtZW50LCByb290LCBBTFJFQURZX1NFRU4pKSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIFBhZ2VDb25maWcgaWYgYXZhaWxhYmxlXG4gICAqIEByZXR1cm4gez9QYWdlQ29uZmlnfSBQYWdlQ29uZmlnIGZvdW5kIHNvIGZhclxuICAgKi9cbiAgZ2V0UGFnZUNvbmZpZ18oKSB7XG4gICAgbGV0IGxvY2tlZCA9IG51bGw7XG4gICAgaWYgKHRoaXMuYWNjZXNzXyAhPSBudWxsKSB7XG4gICAgICBsb2NrZWQgPSAhdGhpcy5hY2Nlc3NfO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kb2NfLmlzUmVhZHkoKSkge1xuICAgICAgLy8gRGVmYXVsdCB0byB1bmxvY2tlZFxuICAgICAgbG9ja2VkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb2R1Y3RJZF8gIT0gbnVsbCAmJiBsb2NrZWQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ldyBQYWdlQ29uZmlnKHRoaXMucHJvZHVjdElkXywgbG9ja2VkKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRXh0cmFjdHMgcGFnZSBjb25maWcgZnJvbSBNaWNyb2RhdGEgaW4gdGhlIERPTVxuICAgKiBAcmV0dXJuIHs/UGFnZUNvbmZpZ30gUGFnZUNvbmZpZyBmb3VuZFxuICAgKi9cbiAgdHJ5RXh0cmFjdENvbmZpZ18oKSB7XG4gICAgbGV0IGNvbmZpZyA9IHRoaXMuZ2V0UGFnZUNvbmZpZ18oKTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIC8vIEdyYWIgYWxsIHRoZSBub2RlcyB3aXRoIGFuIGl0ZW10eXBlIGFuZCBmaWx0ZXIgZm9yIG91ciBhbGxvd2VkIHR5cGVzXG4gICAgY29uc3Qgbm9kZUxpc3QgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgICAgIC5jYWxsKHRoaXMuZG9jXy5nZXRSb290Tm9kZSgpLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpdGVtc2NvcGVdW2l0ZW10eXBlXScpKVxuICAgICAgLmZpbHRlcigobm9kZSkgPT5cbiAgICAgICAgdGhpcy5jaGVja1R5cGVfLmNoZWNrU3RyaW5nKFxuICAgICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKCdpdGVtdHlwZScpLFxuICAgICAgICAgIEFMTE9XRURfVFlQRVNcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBub2RlTGlzdFtpXSAmJiBjb25maWcgPT0gbnVsbDsgaSsrKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gbm9kZUxpc3RbaV07XG4gICAgICBpZiAodGhpcy5hY2Nlc3NfID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5hY2Nlc3NfID0gdGhpcy5kaXNjb3ZlckFjY2Vzc18oZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMucHJvZHVjdElkXykge1xuICAgICAgICB0aGlzLnByb2R1Y3RJZF8gPSB0aGlzLmRpc2NvdmVyUHJvZHVjdElkXyhlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGNvbmZpZyA9IHRoaXMuZ2V0UGFnZUNvbmZpZ18oKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/UGFnZUNvbmZpZ31cbiAgICovXG4gIGNoZWNrKCkge1xuICAgIGlmICghdGhpcy5kb2NfLmdldEJvZHkoKSkge1xuICAgICAgLy8gV2FpdCB1bnRpbCB0aGUgd2hvbGUgYDxoZWFkPmAgaXMgcGFyc2VkLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRyeUV4dHJhY3RDb25maWdfKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyFOb2RlfSByb290Tm9kZVxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRyb2xGbGFnKHJvb3ROb2RlKSB7XG4gIC8vIExvb2sgZm9yIHRoZSBmbGFnIGluIGBtZXRhYC5cbiAgY29uc3QgZmxhZyA9IGdldE1ldGFUYWcocm9vdE5vZGUsIENPTlRST0xfRkxBRyk7XG4gIGlmIChmbGFnKSB7XG4gICAgcmV0dXJuIGZsYWc7XG4gIH1cbiAgLy8gTG9vayBmb3IgdGhlIGZsYWcgaW4gYHNjcmlwdGAuXG4gIGNvbnN0IGVsID0gcm9vdE5vZGUucXVlcnlTZWxlY3Rvcihgc2NyaXB0WyR7Q09OVFJPTF9GTEFHfV1gKTtcbiAgaWYgKGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShDT05UUk9MX0ZMQUcpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIGZyb20gY29udGVudCBhdHRyaWJ1dGUgb2YgYSBtZXRhIHRhZyB3aXRoIGdpdmVuIG5hbWUuXG4gKlxuICogSWYgbXVsdGlwbGUgdGFncyBhcmUgZm91bmQsIHRoZSBmaXJzdCB2YWx1ZSBpcyByZXR1cm5lZC5cbiAqXG4gKiBAcGFyYW0geyFOb2RlfSByb290Tm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHRhZyBuYW1lIHRvIGxvb2sgZm9yLlxuICogQHJldHVybiB7P3N0cmluZ30gYXR0cmlidXRlIHZhbHVlIG9yIGVtcHR5IHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldE1ldGFUYWcocm9vdE5vZGUsIG5hbWUpIHtcbiAgY29uc3QgZWwgPSByb290Tm9kZS5xdWVyeVNlbGVjdG9yKGBtZXRhW25hbWU9XCIke25hbWV9XCJdYCk7XG4gIGlmIChlbCkge1xuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlQ29uZmlnIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9kdWN0T3JQdWJsaWNhdGlvbklkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9ja2VkXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm9kdWN0T3JQdWJsaWNhdGlvbklkLCBsb2NrZWQpIHtcbiAgICBsZXQgcHVibGljYXRpb25JZCwgcHJvZHVjdElkLCBsYWJlbDtcbiAgICBjb25zdCBkaXYgPSBwcm9kdWN0T3JQdWJsaWNhdGlvbklkLmluZGV4T2YoJzonKTtcbiAgICBpZiAoZGl2ICE9IC0xKSB7XG4gICAgICAvLyBUaGUgYXJndW1lbnQgaXMgYSBwcm9kdWN0IGlkLlxuICAgICAgcHJvZHVjdElkID0gcHJvZHVjdE9yUHVibGljYXRpb25JZDtcbiAgICAgIHB1YmxpY2F0aW9uSWQgPSBwcm9kdWN0SWQuc3Vic3RyaW5nKDAsIGRpdik7XG4gICAgICBsYWJlbCA9IHByb2R1Y3RJZC5zdWJzdHJpbmcoZGl2ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBhcmd1bWVudCBpcyBhIHB1YmxpY2F0aW9uIGlkLlxuICAgICAgcHVibGljYXRpb25JZCA9IHByb2R1Y3RPclB1YmxpY2F0aW9uSWQ7XG4gICAgICBwcm9kdWN0SWQgPSBudWxsO1xuICAgICAgbGFiZWwgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnB1YmxpY2F0aW9uSWRfID0gcHVibGljYXRpb25JZDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHs/c3RyaW5nfSAqL1xuICAgIHRoaXMucHJvZHVjdElkXyA9IHByb2R1Y3RJZDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHs/c3RyaW5nfSAqL1xuICAgIHRoaXMubGFiZWxfID0gbGFiZWw7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmxvY2tlZF8gPSBsb2NrZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0UHVibGljYXRpb25JZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wdWJsaWNhdGlvbklkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0UHJvZHVjdElkKCkge1xuICAgIHJldHVybiB0aGlzLnByb2R1Y3RJZF87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldExhYmVsKCkge1xuICAgIHJldHVybiB0aGlzLmxhYmVsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNMb2NrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9ja2VkXztcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgUHJvdG9zIGZvciBTd0cgY2xpZW50L2lmcmFtZSBtZXNzYWdpbmdcbiAqIEF1dG8gZ2VuZXJhdGVkLCBkbyBub3QgZWRpdFxuICovXG5cbi8qKlxuICogQGludGVyZmFjZVxuICovXG5jbGFzcyBNZXNzYWdlIHtcbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGxhYmVsKCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdW51c2VkSW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTwqPn1cbiAgICovXG4gIHRvQXJyYXkodW51c2VkSW5jbHVkZUxhYmVsID0gdHJ1ZSkge31cbn1cbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuY29uc3QgQWN0aW9uVHlwZSA9IHtcbiAgQUNUSU9OX1RZUEVfVU5LTk9XTjogMCxcbiAgQUNUSU9OX1RZUEVfUkVMT0FEX1BBR0U6IDEsXG4gIEFDVElPTl9UWVBFX1VQREFURV9DT1VOVEVSOiAyLFxufTtcbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuY29uc3QgQW5hbHl0aWNzRXZlbnQgPSB7XG4gIFVOS05PV046IDAsXG4gIElNUFJFU1NJT05fUEFZV0FMTDogMSxcbiAgSU1QUkVTU0lPTl9BRDogMixcbiAgSU1QUkVTU0lPTl9PRkZFUlM6IDMsXG4gIElNUFJFU1NJT05fU1VCU0NSSUJFX0JVVFRPTjogNCxcbiAgSU1QUkVTU0lPTl9TTUFSVEJPWDogNSxcbiAgSU1QUkVTU0lPTl9TV0dfQlVUVE9OOiA2LFxuICBJTVBSRVNTSU9OX0NMSUNLX1RPX1NIT1dfT0ZGRVJTOiA3LFxuICBJTVBSRVNTSU9OX0NMSUNLX1RPX1NIT1dfT0ZGRVJTX09SX0FMUkVBRFlfU1VCU0NSSUJFRDogOCxcbiAgSU1QUkVTU0lPTl9TVUJTQ1JJUFRJT05fQ09NUExFVEU6IDksXG4gIElNUFJFU1NJT05fQUNDT1VOVF9DSEFOR0VEOiAxMCxcbiAgSU1QUkVTU0lPTl9QQUdFX0xPQUQ6IDExLFxuICBJTVBSRVNTSU9OX0xJTks6IDEyLFxuICBJTVBSRVNTSU9OX1NBVkVfU1VCU0NSX1RPX0dPT0dMRTogMTMsXG4gIElNUFJFU1NJT05fR09PR0xFX1VQREFURUQ6IDE0LFxuICBJTVBSRVNTSU9OX1NIT1dfT0ZGRVJTX1NNQVJUQk9YOiAxNSxcbiAgSU1QUkVTU0lPTl9TSE9XX09GRkVSU19TV0dfQlVUVE9OOiAxNixcbiAgSU1QUkVTU0lPTl9TRUxFQ1RfT0ZGRVJfU01BUlRCT1g6IDE3LFxuICBJTVBSRVNTSU9OX1NFTEVDVF9PRkZFUl9TV0dfQlVUVE9OOiAxOCxcbiAgSU1QUkVTU0lPTl9TSE9XX0NPTlRSSUJVVElPTlNfU1dHX0JVVFRPTjogMTksXG4gIElNUFJFU1NJT05fU0VMRUNUX0NPTlRSSUJVVElPTl9TV0dfQlVUVE9OOiAyMCxcbiAgSU1QUkVTU0lPTl9NRVRFUl9UT0FTVDogMjEsXG4gIElNUFJFU1NJT05fUkVHV0FMTDogMjIsXG4gIElNUFJFU1NJT05fU0hPV0NBU0VfUkVHV0FMTDogMjMsXG4gIElNUFJFU1NJT05fU1dHX1NVQlNDUklQVElPTl9NSU5JX1BST01QVDogMjQsXG4gIElNUFJFU1NJT05fU1dHX0NPTlRSSUJVVElPTl9NSU5JX1BST01QVDogMjUsXG4gIElNUFJFU1NJT05fQ09OVFJJQlVUSU9OX09GRkVSUzogMjYsXG4gIElNUFJFU1NJT05fVFdHX0NPVU5URVI6IDI3LFxuICBJTVBSRVNTSU9OX1RXR19TSVRFX1NVUFBPUlRFUl9XQUxMOiAyOCxcbiAgSU1QUkVTU0lPTl9UV0dfUFVCTElDQVRJT046IDI5LFxuICBJTVBSRVNTSU9OX1RXR19TVEFUSUNfQlVUVE9OOiAzMCxcbiAgSU1QUkVTU0lPTl9UV0dfRFlOQU1JQ19CVVRUT046IDMxLFxuICBJTVBSRVNTSU9OX1RXR19TVElDS0VSX1NFTEVDVElPTl9TQ1JFRU46IDMyLFxuICBJTVBSRVNTSU9OX1RXR19QVUJMSUNBVElPTl9OT1RfU0VUX1VQOiAzMyxcbiAgSU1QUkVTU0lPTl9SRUdXQUxMX09QVF9JTjogMzQsXG4gIElNUFJFU1NJT05fTkVXU0xFVFRFUl9PUFRfSU46IDM1LFxuICBJTVBSRVNTSU9OX1NVQlNDUklQVElPTl9PRkZFUlNfRVJST1I6IDM2LFxuICBJTVBSRVNTSU9OX0NPTlRSSUJVVElPTl9PRkZFUlNfRVJST1I6IDM3LFxuICBJTVBSRVNTSU9OX1RXR19TSE9SVEVORURfU1RJQ0tFUl9GTE9XOiAzOCxcbiAgSU1QUkVTU0lPTl9TVUJTQ1JJUFRJT05fTElOS0lOR19MT0FESU5HOiAzOSxcbiAgSU1QUkVTU0lPTl9TVUJTQ1JJUFRJT05fTElOS0lOR19DT01QTEVURTogNDAsXG4gIElNUFJFU1NJT05fU1VCU0NSSVBUSU9OX0xJTktJTkdfRVJST1I6IDQxLFxuICBJTVBSRVNTSU9OX1NVUlZFWTogNDIsXG4gIEFDVElPTl9TVUJTQ1JJQkU6IDEwMDAsXG4gIEFDVElPTl9QQVlNRU5UX0NPTVBMRVRFOiAxMDAxLFxuICBBQ1RJT05fQUNDT1VOVF9DUkVBVEVEOiAxMDAyLFxuICBBQ1RJT05fQUNDT1VOVF9BQ0tOT1dMRURHRUQ6IDEwMDMsXG4gIEFDVElPTl9TVUJTQ1JJUFRJT05TX0xBTkRJTkdfUEFHRTogMTAwNCxcbiAgQUNUSU9OX1BBWU1FTlRfRkxPV19TVEFSVEVEOiAxMDA1LFxuICBBQ1RJT05fT0ZGRVJfU0VMRUNURUQ6IDEwMDYsXG4gIEFDVElPTl9TV0dfQlVUVE9OX0NMSUNLOiAxMDA3LFxuICBBQ1RJT05fVklFV19PRkZFUlM6IDEwMDgsXG4gIEFDVElPTl9BTFJFQURZX1NVQlNDUklCRUQ6IDEwMDksXG4gIEFDVElPTl9ORVdfREVGRVJSRURfQUNDT1VOVDogMTAxMCxcbiAgQUNUSU9OX0xJTktfQ09OVElOVUU6IDEwMTEsXG4gIEFDVElPTl9MSU5LX0NBTkNFTDogMTAxMixcbiAgQUNUSU9OX0dPT0dMRV9VUERBVEVEX0NMT1NFOiAxMDEzLFxuICBBQ1RJT05fVVNFUl9DQU5DRUxFRF9QQVlGTE9XOiAxMDE0LFxuICBBQ1RJT05fU0FWRV9TVUJTQ1JfVE9fR09PR0xFX0NPTlRJTlVFOiAxMDE1LFxuICBBQ1RJT05fU0FWRV9TVUJTQ1JfVE9fR09PR0xFX0NBTkNFTDogMTAxNixcbiAgQUNUSU9OX1NXR19CVVRUT05fU0hPV19PRkZFUlNfQ0xJQ0s6IDEwMTcsXG4gIEFDVElPTl9TV0dfQlVUVE9OX1NFTEVDVF9PRkZFUl9DTElDSzogMTAxOCxcbiAgQUNUSU9OX1NXR19CVVRUT05fU0hPV19DT05UUklCVVRJT05TX0NMSUNLOiAxMDE5LFxuICBBQ1RJT05fU1dHX0JVVFRPTl9TRUxFQ1RfQ09OVFJJQlVUSU9OX0NMSUNLOiAxMDIwLFxuICBBQ1RJT05fVVNFUl9DT05TRU5UX0RFRkVSUkVEX0FDQ09VTlQ6IDEwMjEsXG4gIEFDVElPTl9VU0VSX0RFTllfREVGRVJSRURfQUNDT1VOVDogMTAyMixcbiAgQUNUSU9OX0RFRkVSUkVEX0FDQ09VTlRfUkVESVJFQ1Q6IDEwMjMsXG4gIEFDVElPTl9HRVRfRU5USVRMRU1FTlRTOiAxMDI0LFxuICBBQ1RJT05fTUVURVJfVE9BU1RfU1VCU0NSSUJFX0NMSUNLOiAxMDI1LFxuICBBQ1RJT05fTUVURVJfVE9BU1RfRVhQQU5ERUQ6IDEwMjYsXG4gIEFDVElPTl9NRVRFUl9UT0FTVF9DTE9TRURfQllfQVJUSUNMRV9JTlRFUkFDVElPTjogMTAyNyxcbiAgQUNUSU9OX01FVEVSX1RPQVNUX0NMT1NFRF9CWV9TV0lQRV9ET1dOOiAxMDI4LFxuICBBQ1RJT05fTUVURVJfVE9BU1RfQ0xPU0VEX0JZX1hfQ0xJQ0tFRDogMTAyOSxcbiAgQUNUSU9OX1NXR19TVUJTQ1JJUFRJT05fTUlOSV9QUk9NUFRfQ0xJQ0s6IDEwMzAsXG4gIEFDVElPTl9TV0dfQ09OVFJJQlVUSU9OX01JTklfUFJPTVBUX0NMSUNLOiAxMDMxLFxuICBBQ1RJT05fU1dHX1NVQlNDUklQVElPTl9NSU5JX1BST01QVF9DTE9TRTogMTAzMixcbiAgQUNUSU9OX1NXR19DT05UUklCVVRJT05fTUlOSV9QUk9NUFRfQ0xPU0U6IDEwMzMsXG4gIEFDVElPTl9DT05UUklCVVRJT05fT0ZGRVJfU0VMRUNURUQ6IDEwMzQsXG4gIEFDVElPTl9TSE9XQ0FTRV9SRUdXQUxMX0dTSV9DTElDSzogMTAzNSxcbiAgQUNUSU9OX1NIT1dDQVNFX1JFR1dBTExfRVhJU1RJTkdfQUNDT1VOVF9DTElDSzogMTAzNixcbiAgQUNUSU9OX1NVQlNDUklQVElPTl9PRkZFUlNfQ0xPU0VEOiAxMDM3LFxuICBBQ1RJT05fQ09OVFJJQlVUSU9OX09GRkVSU19DTE9TRUQ6IDEwMzgsXG4gIEFDVElPTl9UV0dfU1RBVElDX0NUQV9DTElDSzogMTAzOSxcbiAgQUNUSU9OX1RXR19EWU5BTUlDX0NUQV9DTElDSzogMTA0MCxcbiAgQUNUSU9OX1RXR19TSVRFX0xFVkVMX1NVUFBPUlRFUl9XQUxMX0NUQV9DTElDSzogMTA0MSxcbiAgQUNUSU9OX1RXR19ESUFMT0dfU1VQUE9SVEVSX1dBTExfQ1RBX0NMSUNLOiAxMDQyLFxuICBBQ1RJT05fVFdHX0NPVU5URVJfQ0xJQ0s6IDEwNDMsXG4gIEFDVElPTl9UV0dfU0lURV9TVVBQT1JURVJfV0FMTF9BTExfVEhBTktTX0NMSUNLOiAxMDQ0LFxuICBBQ1RJT05fVFdHX1BBSURfU1RJQ0tFUl9TRUxFQ1RFRF9TQ1JFRU5fQ0xPU0VfQ0xJQ0s6IDEwNDUsXG4gIEFDVElPTl9UV0dfUEFJRF9TVElDS0VSX1NFTEVDVElPTl9DTElDSzogMTA0NixcbiAgQUNUSU9OX1RXR19GUkVFX1NUSUNLRVJfU0VMRUNUSU9OX0NMSUNLOiAxMDQ3LFxuICBBQ1RJT05fVFdHX01JTklfU1VQUE9SVEVSX1dBTExfQ0xJQ0s6IDEwNDgsXG4gIEFDVElPTl9UV0dfQ1JFQVRPUl9CRU5FRklUX0NMSUNLOiAxMDQ5LFxuICBBQ1RJT05fVFdHX0ZSRUVfVFJBTlNBQ1RJT05fU1RBUlRfTkVYVF9CVVRUT05fQ0xJQ0s6IDEwNTAsXG4gIEFDVElPTl9UV0dfUEFJRF9UUkFOU0FDVElPTl9TVEFSVF9ORVhUX0JVVFRPTl9DTElDSzogMTA1MSxcbiAgQUNUSU9OX1RXR19TVElDS0VSX1NFTEVDVElPTl9TQ1JFRU5fQ0xPU0VfQ0xJQ0s6IDEwNTIsXG4gIEFDVElPTl9UV0dfQVJUSUNMRV9MRVZFTF9TVVBQT1JURVJfV0FMTF9DVEFfQ0xJQ0s6IDEwNTMsXG4gIEFDVElPTl9SRUdXQUxMX09QVF9JTl9CVVRUT05fQ0xJQ0s6IDEwNTQsXG4gIEFDVElPTl9SRUdXQUxMX0FMUkVBRFlfT1BURURfSU5fQ0xJQ0s6IDEwNTUsXG4gIEFDVElPTl9ORVdTTEVUVEVSX09QVF9JTl9CVVRUT05fQ0xJQ0s6IDEwNTYsXG4gIEFDVElPTl9ORVdTTEVUVEVSX0FMUkVBRFlfT1BURURfSU5fQ0xJQ0s6IDEwNTcsXG4gIEFDVElPTl9SRUdXQUxMX09QVF9JTl9DTE9TRTogMTA1OCxcbiAgQUNUSU9OX05FV1NMRVRURVJfT1BUX0lOX0NMT1NFOiAxMDU5LFxuICBBQ1RJT05fU0hPV0NBU0VfUkVHV0FMTF9TV0lHX0NMSUNLOiAxMDYwLFxuICBBQ1RJT05fVFdHX0NIUk9NRV9BUFBfTUVOVV9FTlRSWV9QT0lOVF9DTElDSzogMTA2MSxcbiAgQUNUSU9OX1RXR19ESVNDT1ZFUl9GRUVEX01FTlVfRU5UUllfUE9JTlRfQ0xJQ0s6IDEwNjIsXG4gIEFDVElPTl9TSE9XQ0FTRV9SRUdXQUxMXzNQX0JVVFRPTl9DTElDSzogMTA2MyxcbiAgQUNUSU9OX1NVQlNDUklQVElPTl9PRkZFUlNfUkVUUlk6IDEwNjQsXG4gIEFDVElPTl9DT05UUklCVVRJT05fT0ZGRVJTX1JFVFJZOiAxMDY1LFxuICBBQ1RJT05fVFdHX1NIT1JURU5FRF9TVElDS0VSX0ZMT1dfU1RJQ0tFUl9TRUxFQ1RJT05fQ0xJQ0s6IDEwNjYsXG4gIEFDVElPTl9JTklUSUFURV9VUERBVEVEX1NVQlNDUklQVElPTl9MSU5LSU5HOiAxMDY3LFxuICBBQ1RJT05fU1VSVkVZX1NVQk1JVF9DTElDSzogMTA2OCxcbiAgQUNUSU9OX1NVUlZFWV9DTE9TRUQ6IDEwNjksXG4gIEFDVElPTl9TVVJWRVlfREFUQV9UUkFOU0ZFUjogMTA3MCxcbiAgRVZFTlRfUEFZTUVOVF9GQUlMRUQ6IDIwMDAsXG4gIEVWRU5UX1JFR1dBTExfT1BUX0lOX0ZBSUxFRDogMjAwMSxcbiAgRVZFTlRfTkVXU0xFVFRFUl9PUFRfSU5fRkFJTEVEOiAyMDAyLFxuICBFVkVOVF9SRUdXQUxMX0FMUkVBRFlfT1BUX0lOOiAyMDAzLFxuICBFVkVOVF9ORVdTTEVUVEVSX0FMUkVBRFlfT1BUX0lOOiAyMDA0LFxuICBFVkVOVF9TVUJTQ1JJUFRJT05fTElOS0lOR19GQUlMRUQ6IDIwMDUsXG4gIEVWRU5UX1NVUlZFWV9BTFJFQURZX1NVQk1JVFRFRDogMjAwNixcbiAgRVZFTlRfU1VSVkVZX1NVQk1JVF9GQUlMRUQ6IDIwMDcsXG4gIEVWRU5UX0NVU1RPTTogMzAwMCxcbiAgRVZFTlRfQ09ORklSTV9UWF9JRDogMzAwMSxcbiAgRVZFTlRfQ0hBTkdFRF9UWF9JRDogMzAwMixcbiAgRVZFTlRfR1BBWV9OT19UWF9JRDogMzAwMyxcbiAgRVZFTlRfR1BBWV9DQU5OT1RfQ09ORklSTV9UWF9JRDogMzAwNCxcbiAgRVZFTlRfR09PR0xFX1VQREFURUQ6IDMwMDUsXG4gIEVWRU5UX05FV19UWF9JRDogMzAwNixcbiAgRVZFTlRfVU5MT0NLRURfQllfU1VCU0NSSVBUSU9OOiAzMDA3LFxuICBFVkVOVF9VTkxPQ0tFRF9CWV9NRVRFUjogMzAwOCxcbiAgRVZFTlRfTk9fRU5USVRMRU1FTlRTOiAzMDA5LFxuICBFVkVOVF9IQVNfTUVURVJJTkdfRU5USVRMRU1FTlRTOiAzMDEwLFxuICBFVkVOVF9PRkZFUkVEX01FVEVSOiAzMDExLFxuICBFVkVOVF9VTkxPQ0tFRF9GUkVFX1BBR0U6IDMwMTIsXG4gIEVWRU5UX0lORUxJR0lCTEVfUEFZV0FMTDogMzAxMyxcbiAgRVZFTlRfVU5MT0NLRURfRk9SX0NSQVdMRVI6IDMwMTQsXG4gIEVWRU5UX1RXR19DT1VOVEVSX1ZJRVc6IDMwMTUsXG4gIEVWRU5UX1RXR19TSVRFX1NVUFBPUlRFUl9XQUxMX1ZJRVc6IDMwMTYsXG4gIEVWRU5UX1RXR19TVEFUSUNfQlVUVE9OX1ZJRVc6IDMwMTcsXG4gIEVWRU5UX1RXR19EWU5BTUlDX0JVVFRPTl9WSUVXOiAzMDE4LFxuICBFVkVOVF9UV0dfUFJFX1RSQU5TQUNUSU9OX1BSSVZBQ1lfU0VUVElOR19QUklWQVRFOiAzMDE5LFxuICBFVkVOVF9UV0dfUE9TVF9UUkFOU0FDVElPTl9TRVRUSU5HX1BSSVZBVEU6IDMwMjAsXG4gIEVWRU5UX1RXR19QUkVfVFJBTlNBQ1RJT05fUFJJVkFDWV9TRVRUSU5HX1BVQkxJQzogMzAyMSxcbiAgRVZFTlRfVFdHX1BPU1RfVFJBTlNBQ1RJT05fU0VUVElOR19QVUJMSUM6IDMwMjIsXG4gIEVWRU5UX1JFR1dBTExfT1BURURfSU46IDMwMjMsXG4gIEVWRU5UX05FV1NMRVRURVJfT1BURURfSU46IDMwMjQsXG4gIEVWRU5UX1NIT1dDQVNFX01FVEVSSU5HX0lOSVQ6IDMwMjUsXG4gIEVWRU5UX0RJU0FCTEVfTUlOSVBST01QVF9ERVNLVE9QOiAzMDI2LFxuICBFVkVOVF9TVUJTQ1JJUFRJT05fTElOS0lOR19TVUNDRVNTOiAzMDI3LFxuICBFVkVOVF9TVVJWRVlfU1VCTUlUVEVEOiAzMDI4LFxuICBFVkVOVF9TVUJTQ1JJUFRJT05fU1RBVEU6IDQwMDAsXG59O1xuLyoqIEBlbnVtIHtudW1iZXJ9ICovXG5jb25zdCBFbnRpdGxlbWVudFJlc3VsdCA9IHtcbiAgVU5LTk9XTl9FTlRJVExFTUVOVF9SRVNVTFQ6IDAsXG4gIFVOTE9DS0VEX1NVQlNDUklCRVI6IDEwMDEsXG4gIFVOTE9DS0VEX0ZSRUU6IDEwMDIsXG4gIFVOTE9DS0VEX01FVEVSOiAxMDAzLFxuICBMT0NLRURfUkVHV0FMTDogMjAwMSxcbiAgTE9DS0VEX1BBWVdBTEw6IDIwMDIsXG4gIElORUxJR0lCTEVfUEFZV0FMTDogMjAwMyxcbn07XG4vKiogQGVudW0ge251bWJlcn0gKi9cbmNvbnN0IEVudGl0bGVtZW50U291cmNlID0ge1xuICBVTktOT1dOX0VOVElUTEVNRU5UX1NPVVJDRTogMCxcbiAgR09PR0xFX1NVQlNDUklCRVJfRU5USVRMRU1FTlQ6IDEwMDEsXG4gIEdPT0dMRV9TSE9XQ0FTRV9NRVRFUklOR19TRVJWSUNFOiAyMDAxLFxuICBTVUJTQ1JJQkVfV0lUSF9HT09HTEVfTUVURVJJTkdfU0VSVklDRTogMjAwMixcbiAgUFVCTElTSEVSX0VOVElUTEVNRU5UOiAzMDAxLFxufTtcbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuY29uc3QgRXZlbnRPcmlnaW5hdG9yID0ge1xuICBVTktOT1dOX0NMSUVOVDogMCxcbiAgU1dHX0NMSUVOVDogMSxcbiAgQU1QX0NMSUVOVDogMixcbiAgUFJPUEVOU0lUWV9DTElFTlQ6IDMsXG4gIFNXR19TRVJWRVI6IDQsXG4gIFBVQkxJU0hFUl9DTElFTlQ6IDUsXG4gIFNIT1dDQVNFX0NMSUVOVDogNixcbn07XG4vKiogQGVudW0ge251bWJlcn0gKi9cbmNvbnN0IFJlYWRlclN1cmZhY2VUeXBlID0ge1xuICBSRUFERVJfU1VSRkFDRV9UWVBFX1VOU1BFQ0lGSUVEOiAwLFxuICBSRUFERVJfU1VSRkFDRV9XT1JEUFJFU1M6IDEsXG4gIFJFQURFUl9TVVJGQUNFX0NIUk9NRTogMixcbiAgUkVBREVSX1NVUkZBQ0VfVEVOT1I6IDMsXG59O1xuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBBY2NvdW50Q3JlYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5jb21wbGV0ZV8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldENvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBsZXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRDb21wbGV0ZSh2YWx1ZSkge1xuICAgIHRoaXMuY29tcGxldGVfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTw/Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0FycmF5KGluY2x1ZGVMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBhcnIgPSBbXG4gICAgICAgIHRoaXMuY29tcGxldGVfLCAvLyBmaWVsZCAxIC0gY29tcGxldGVcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQWNjb3VudENyZWF0aW9uUmVxdWVzdCc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgQWN0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9BY3Rpb25UeXBlfSAqL1xuICAgIHRoaXMuYWN0aW9uXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9BY3Rpb25UeXBlfVxuICAgKi9cbiAgZ2V0QWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGlvbl87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQWN0aW9uVHlwZX0gdmFsdWVcbiAgICovXG4gIHNldEFjdGlvbih2YWx1ZSkge1xuICAgIHRoaXMuYWN0aW9uXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLmFjdGlvbl8sIC8vIGZpZWxkIDEgLSBhY3Rpb25cbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQWN0aW9uUmVxdWVzdCc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgQWxyZWFkeVN1YnNjcmliZWRSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9ib29sZWFufSAqL1xuICAgIHRoaXMuc3Vic2NyaWJlck9yTWVtYmVyXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmxpbmtSZXF1ZXN0ZWRfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldFN1YnNjcmliZXJPck1lbWJlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmVyT3JNZW1iZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAgICovXG4gIHNldFN1YnNjcmliZXJPck1lbWJlcih2YWx1ZSkge1xuICAgIHRoaXMuc3Vic2NyaWJlck9yTWVtYmVyXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0TGlua1JlcXVlc3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5saW5rUmVxdWVzdGVkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRMaW5rUmVxdWVzdGVkKHZhbHVlKSB7XG4gICAgdGhpcy5saW5rUmVxdWVzdGVkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLnN1YnNjcmliZXJPck1lbWJlcl8sIC8vIGZpZWxkIDEgLSBzdWJzY3JpYmVyX29yX21lbWJlclxuICAgICAgICB0aGlzLmxpbmtSZXF1ZXN0ZWRfLCAvLyBmaWVsZCAyIC0gbGlua19yZXF1ZXN0ZWRcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQWxyZWFkeVN1YnNjcmliZWRSZXNwb25zZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgQW5hbHl0aWNzQ29udGV4dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5lbWJlZGRlck9yaWdpbl8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnRyYW5zYWN0aW9uSWRfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnJlZmVycmluZ09yaWdpbl8gPSBkYXRhWzIgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMiArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMudXRtU291cmNlXyA9IGRhdGFbMyArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVszICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy51dG1DYW1wYWlnbl8gPSBkYXRhWzQgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbNCArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMudXRtTWVkaXVtXyA9IGRhdGFbNSArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVs1ICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5za3VfID0gZGF0YVs2ICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzYgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5yZWFkeVRvUGF5XyA9IGRhdGFbNyArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVs3ICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgeyFBcnJheTxzdHJpbmc+fSAqL1xuICAgIHRoaXMubGFiZWxfID0gZGF0YVs4ICsgYmFzZV0gfHwgW107XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5jbGllbnRWZXJzaW9uXyA9IGRhdGFbOSArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVs5ICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy51cmxfID0gZGF0YVsxMCArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsxMCArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/VGltZXN0YW1wfSAqL1xuICAgIHRoaXMuY2xpZW50VGltZXN0YW1wXyA9XG4gICAgICBkYXRhWzExICsgYmFzZV0gPT0gbnVsbCB8fCBkYXRhWzExICsgYmFzZV0gPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IG5ldyBUaW1lc3RhbXAoZGF0YVsxMSArIGJhc2VdLCBpbmNsdWRlc0xhYmVsKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1JlYWRlclN1cmZhY2VUeXBlfSAqL1xuICAgIHRoaXMucmVhZGVyU3VyZmFjZVR5cGVfID0gZGF0YVsxMiArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsxMiArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuaW50ZWdyYXRpb25WZXJzaW9uXyA9IGRhdGFbMTMgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMTMgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0RW1iZWRkZXJPcmlnaW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1iZWRkZXJPcmlnaW5fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0RW1iZWRkZXJPcmlnaW4odmFsdWUpIHtcbiAgICB0aGlzLmVtYmVkZGVyT3JpZ2luXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbklkKCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9uSWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VHJhbnNhY3Rpb25JZCh2YWx1ZSkge1xuICAgIHRoaXMudHJhbnNhY3Rpb25JZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0UmVmZXJyaW5nT3JpZ2luKCkge1xuICAgIHJldHVybiB0aGlzLnJlZmVycmluZ09yaWdpbl87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRSZWZlcnJpbmdPcmlnaW4odmFsdWUpIHtcbiAgICB0aGlzLnJlZmVycmluZ09yaWdpbl8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0VXRtU291cmNlKCkge1xuICAgIHJldHVybiB0aGlzLnV0bVNvdXJjZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRVdG1Tb3VyY2UodmFsdWUpIHtcbiAgICB0aGlzLnV0bVNvdXJjZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0VXRtQ2FtcGFpZ24oKSB7XG4gICAgcmV0dXJuIHRoaXMudXRtQ2FtcGFpZ25fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VXRtQ2FtcGFpZ24odmFsdWUpIHtcbiAgICB0aGlzLnV0bUNhbXBhaWduXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRVdG1NZWRpdW0oKSB7XG4gICAgcmV0dXJuIHRoaXMudXRtTWVkaXVtXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFV0bU1lZGl1bSh2YWx1ZSkge1xuICAgIHRoaXMudXRtTWVkaXVtXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRTa3UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2t1XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFNrdSh2YWx1ZSkge1xuICAgIHRoaXMuc2t1XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0UmVhZHlUb1BheSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeVRvUGF5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRSZWFkeVRvUGF5KHZhbHVlKSB7XG4gICAgdGhpcy5yZWFkeVRvUGF5XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fVxuICAgKi9cbiAgZ2V0TGFiZWxMaXN0KCkge1xuICAgIHJldHVybiB0aGlzLmxhYmVsXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSB2YWx1ZVxuICAgKi9cbiAgc2V0TGFiZWxMaXN0KHZhbHVlKSB7XG4gICAgdGhpcy5sYWJlbF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0Q2xpZW50VmVyc2lvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRWZXJzaW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldENsaWVudFZlcnNpb24odmFsdWUpIHtcbiAgICB0aGlzLmNsaWVudFZlcnNpb25fID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFVybCgpIHtcbiAgICByZXR1cm4gdGhpcy51cmxfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VXJsKHZhbHVlKSB7XG4gICAgdGhpcy51cmxfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P1RpbWVzdGFtcH1cbiAgICovXG4gIGdldENsaWVudFRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRUaW1lc3RhbXBfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVRpbWVzdGFtcH0gdmFsdWVcbiAgICovXG4gIHNldENsaWVudFRpbWVzdGFtcCh2YWx1ZSkge1xuICAgIHRoaXMuY2xpZW50VGltZXN0YW1wXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9SZWFkZXJTdXJmYWNlVHlwZX1cbiAgICovXG4gIGdldFJlYWRlclN1cmZhY2VUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWRlclN1cmZhY2VUeXBlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFSZWFkZXJTdXJmYWNlVHlwZX0gdmFsdWVcbiAgICovXG4gIHNldFJlYWRlclN1cmZhY2VUeXBlKHZhbHVlKSB7XG4gICAgdGhpcy5yZWFkZXJTdXJmYWNlVHlwZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0SW50ZWdyYXRpb25WZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLmludGVncmF0aW9uVmVyc2lvbl87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRJbnRlZ3JhdGlvblZlcnNpb24odmFsdWUpIHtcbiAgICB0aGlzLmludGVncmF0aW9uVmVyc2lvbl8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5lbWJlZGRlck9yaWdpbl8sIC8vIGZpZWxkIDEgLSBlbWJlZGRlcl9vcmlnaW5cbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbklkXywgLy8gZmllbGQgMiAtIHRyYW5zYWN0aW9uX2lkXG4gICAgICAgIHRoaXMucmVmZXJyaW5nT3JpZ2luXywgLy8gZmllbGQgMyAtIHJlZmVycmluZ19vcmlnaW5cbiAgICAgICAgdGhpcy51dG1Tb3VyY2VfLCAvLyBmaWVsZCA0IC0gdXRtX3NvdXJjZVxuICAgICAgICB0aGlzLnV0bUNhbXBhaWduXywgLy8gZmllbGQgNSAtIHV0bV9jYW1wYWlnblxuICAgICAgICB0aGlzLnV0bU1lZGl1bV8sIC8vIGZpZWxkIDYgLSB1dG1fbWVkaXVtXG4gICAgICAgIHRoaXMuc2t1XywgLy8gZmllbGQgNyAtIHNrdVxuICAgICAgICB0aGlzLnJlYWR5VG9QYXlfLCAvLyBmaWVsZCA4IC0gcmVhZHlfdG9fcGF5XG4gICAgICAgIHRoaXMubGFiZWxfLCAvLyBmaWVsZCA5IC0gbGFiZWxcbiAgICAgICAgdGhpcy5jbGllbnRWZXJzaW9uXywgLy8gZmllbGQgMTAgLSBjbGllbnRfdmVyc2lvblxuICAgICAgICB0aGlzLnVybF8sIC8vIGZpZWxkIDExIC0gdXJsXG4gICAgICAgIHRoaXMuY2xpZW50VGltZXN0YW1wXyA/IHRoaXMuY2xpZW50VGltZXN0YW1wXy50b0FycmF5KGluY2x1ZGVMYWJlbCkgOiBbXSwgLy8gZmllbGQgMTIgLSBjbGllbnRfdGltZXN0YW1wXG4gICAgICAgIHRoaXMucmVhZGVyU3VyZmFjZVR5cGVfLCAvLyBmaWVsZCAxMyAtIHJlYWRlcl9zdXJmYWNlX3R5cGVcbiAgICAgICAgdGhpcy5pbnRlZ3JhdGlvblZlcnNpb25fLCAvLyBmaWVsZCAxNCAtIGludGVncmF0aW9uX3ZlcnNpb25cbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQW5hbHl0aWNzQ29udGV4dCc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgQW5hbHl0aWNzRXZlbnRNZXRhIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0V2ZW50T3JpZ2luYXRvcn0gKi9cbiAgICB0aGlzLmV2ZW50T3JpZ2luYXRvcl8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0Zyb21Vc2VyQWN0aW9uXyA9IGRhdGFbMSArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsxICsgYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P0V2ZW50T3JpZ2luYXRvcn1cbiAgICovXG4gIGdldEV2ZW50T3JpZ2luYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudE9yaWdpbmF0b3JfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50T3JpZ2luYXRvcn0gdmFsdWVcbiAgICovXG4gIHNldEV2ZW50T3JpZ2luYXRvcih2YWx1ZSkge1xuICAgIHRoaXMuZXZlbnRPcmlnaW5hdG9yXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0SXNGcm9tVXNlckFjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pc0Zyb21Vc2VyQWN0aW9uXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRJc0Zyb21Vc2VyQWN0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5pc0Zyb21Vc2VyQWN0aW9uXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLmV2ZW50T3JpZ2luYXRvcl8sIC8vIGZpZWxkIDEgLSBldmVudF9vcmlnaW5hdG9yXG4gICAgICAgIHRoaXMuaXNGcm9tVXNlckFjdGlvbl8sIC8vIGZpZWxkIDIgLSBpc19mcm9tX3VzZXJfYWN0aW9uXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ0FuYWx5dGljc0V2ZW50TWV0YSc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgQW5hbHl0aWNzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9BbmFseXRpY3NDb250ZXh0fSAqL1xuICAgIHRoaXMuY29udGV4dF8gPVxuICAgICAgZGF0YVtiYXNlXSA9PSBudWxsIHx8IGRhdGFbYmFzZV0gPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IG5ldyBBbmFseXRpY3NDb250ZXh0KGRhdGFbYmFzZV0sIGluY2x1ZGVzTGFiZWwpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW5hbHl0aWNzRXZlbnR9ICovXG4gICAgdGhpcy5ldmVudF8gPSBkYXRhWzEgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMSArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW5hbHl0aWNzRXZlbnRNZXRhfSAqL1xuICAgIHRoaXMubWV0YV8gPVxuICAgICAgZGF0YVsyICsgYmFzZV0gPT0gbnVsbCB8fCBkYXRhWzIgKyBiYXNlXSA9PSB1bmRlZmluZWRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogbmV3IEFuYWx5dGljc0V2ZW50TWV0YShkYXRhWzIgKyBiYXNlXSwgaW5jbHVkZXNMYWJlbCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9FdmVudFBhcmFtc30gKi9cbiAgICB0aGlzLnBhcmFtc18gPVxuICAgICAgZGF0YVszICsgYmFzZV0gPT0gbnVsbCB8fCBkYXRhWzMgKyBiYXNlXSA9PSB1bmRlZmluZWRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogbmV3IEV2ZW50UGFyYW1zKGRhdGFbMyArIGJhc2VdLCBpbmNsdWRlc0xhYmVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/QW5hbHl0aWNzQ29udGV4dH1cbiAgICovXG4gIGdldENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udGV4dF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQW5hbHl0aWNzQ29udGV4dH0gdmFsdWVcbiAgICovXG4gIHNldENvbnRleHQodmFsdWUpIHtcbiAgICB0aGlzLmNvbnRleHRfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P0FuYWx5dGljc0V2ZW50fVxuICAgKi9cbiAgZ2V0RXZlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFuYWx5dGljc0V2ZW50fSB2YWx1ZVxuICAgKi9cbiAgc2V0RXZlbnQodmFsdWUpIHtcbiAgICB0aGlzLmV2ZW50XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9BbmFseXRpY3NFdmVudE1ldGF9XG4gICAqL1xuICBnZXRNZXRhKCkge1xuICAgIHJldHVybiB0aGlzLm1ldGFfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFuYWx5dGljc0V2ZW50TWV0YX0gdmFsdWVcbiAgICovXG4gIHNldE1ldGEodmFsdWUpIHtcbiAgICB0aGlzLm1ldGFfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P0V2ZW50UGFyYW1zfVxuICAgKi9cbiAgZ2V0UGFyYW1zKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRXZlbnRQYXJhbXN9IHZhbHVlXG4gICAqL1xuICBzZXRQYXJhbXModmFsdWUpIHtcbiAgICB0aGlzLnBhcmFtc18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5jb250ZXh0XyA/IHRoaXMuY29udGV4dF8udG9BcnJheShpbmNsdWRlTGFiZWwpIDogW10sIC8vIGZpZWxkIDEgLSBjb250ZXh0XG4gICAgICAgIHRoaXMuZXZlbnRfLCAvLyBmaWVsZCAyIC0gZXZlbnRcbiAgICAgICAgdGhpcy5tZXRhXyA/IHRoaXMubWV0YV8udG9BcnJheShpbmNsdWRlTGFiZWwpIDogW10sIC8vIGZpZWxkIDMgLSBtZXRhXG4gICAgICAgIHRoaXMucGFyYW1zXyA/IHRoaXMucGFyYW1zXy50b0FycmF5KGluY2x1ZGVMYWJlbCkgOiBbXSwgLy8gZmllbGQgNCAtIHBhcmFtc1xuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdBbmFseXRpY3NSZXF1ZXN0JztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBBdWRpZW5jZUFjdGl2aXR5Q2xpZW50TG9nc1JlcXVlc3Qge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj49fSBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVzTGFiZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSBbXSwgaW5jbHVkZXNMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBiYXNlID0gaW5jbHVkZXNMYWJlbCA/IDEgOiAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QW5hbHl0aWNzRXZlbnR9ICovXG4gICAgdGhpcy5ldmVudF8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/QW5hbHl0aWNzRXZlbnR9XG4gICAqL1xuICBnZXRFdmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQW5hbHl0aWNzRXZlbnR9IHZhbHVlXG4gICAqL1xuICBzZXRFdmVudCh2YWx1ZSkge1xuICAgIHRoaXMuZXZlbnRfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTw/Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0FycmF5KGluY2x1ZGVMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBhcnIgPSBbXG4gICAgICAgIHRoaXMuZXZlbnRfLCAvLyBmaWVsZCAxIC0gZXZlbnRcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQXVkaWVuY2VBY3Rpdml0eUNsaWVudExvZ3NSZXF1ZXN0JztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBDb21wbGV0ZUF1ZGllbmNlQWN0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj49fSBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVzTGFiZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSBbXSwgaW5jbHVkZXNMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBiYXNlID0gaW5jbHVkZXNMYWJlbCA/IDEgOiAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuc3dnVXNlclRva2VuXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmFjdGlvbkNvbXBsZXRlZF8gPSBkYXRhWzEgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMSArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMudXNlckVtYWlsXyA9IGRhdGFbMiArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsyICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9ib29sZWFufSAqL1xuICAgIHRoaXMuYWxyZWFkeUNvbXBsZXRlZF8gPSBkYXRhWzMgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMyArIGJhc2VdO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRTd2dVc2VyVG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuc3dnVXNlclRva2VuXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFN3Z1VzZXJUb2tlbih2YWx1ZSkge1xuICAgIHRoaXMuc3dnVXNlclRva2VuXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0QWN0aW9uQ29tcGxldGVkKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGlvbkNvbXBsZXRlZF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICAgKi9cbiAgc2V0QWN0aW9uQ29tcGxldGVkKHZhbHVlKSB7XG4gICAgdGhpcy5hY3Rpb25Db21wbGV0ZWRfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFVzZXJFbWFpbCgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VyRW1haWxfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VXNlckVtYWlsKHZhbHVlKSB7XG4gICAgdGhpcy51c2VyRW1haWxfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P2Jvb2xlYW59XG4gICAqL1xuICBnZXRBbHJlYWR5Q29tcGxldGVkKCkge1xuICAgIHJldHVybiB0aGlzLmFscmVhZHlDb21wbGV0ZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAgICovXG4gIHNldEFscmVhZHlDb21wbGV0ZWQodmFsdWUpIHtcbiAgICB0aGlzLmFscmVhZHlDb21wbGV0ZWRfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTw/Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0FycmF5KGluY2x1ZGVMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBhcnIgPSBbXG4gICAgICAgIHRoaXMuc3dnVXNlclRva2VuXywgLy8gZmllbGQgMSAtIHN3Z191c2VyX3Rva2VuXG4gICAgICAgIHRoaXMuYWN0aW9uQ29tcGxldGVkXywgLy8gZmllbGQgMiAtIGFjdGlvbl9jb21wbGV0ZWRcbiAgICAgICAgdGhpcy51c2VyRW1haWxfLCAvLyBmaWVsZCAzIC0gdXNlcl9lbWFpbFxuICAgICAgICB0aGlzLmFscmVhZHlDb21wbGV0ZWRfLCAvLyBmaWVsZCA0IC0gYWxyZWFkeV9jb21wbGV0ZWRcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnQ29tcGxldGVBdWRpZW5jZUFjdGlvblJlc3BvbnNlJztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBFbnRpdGxlbWVudEp3dCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5qd3RfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5zb3VyY2VfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0Snd0KCkge1xuICAgIHJldHVybiB0aGlzLmp3dF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRKd3QodmFsdWUpIHtcbiAgICB0aGlzLmp3dF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0U291cmNlKCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRTb3VyY2UodmFsdWUpIHtcbiAgICB0aGlzLnNvdXJjZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5qd3RfLCAvLyBmaWVsZCAxIC0gand0XG4gICAgICAgIHRoaXMuc291cmNlXywgLy8gZmllbGQgMiAtIHNvdXJjZVxuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdFbnRpdGxlbWVudEp3dCc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgRW50aXRsZW1lbnRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbnRpdGxlbWVudEp3dH0gKi9cbiAgICB0aGlzLnVzZWRFbnRpdGxlbWVudF8gPVxuICAgICAgZGF0YVtiYXNlXSA9PSBudWxsIHx8IGRhdGFbYmFzZV0gPT0gdW5kZWZpbmVkXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IG5ldyBFbnRpdGxlbWVudEp3dChkYXRhW2Jhc2VdLCBpbmNsdWRlc0xhYmVsKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1RpbWVzdGFtcH0gKi9cbiAgICB0aGlzLmNsaWVudEV2ZW50VGltZV8gPVxuICAgICAgZGF0YVsxICsgYmFzZV0gPT0gbnVsbCB8fCBkYXRhWzEgKyBiYXNlXSA9PSB1bmRlZmluZWRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogbmV3IFRpbWVzdGFtcChkYXRhWzEgKyBiYXNlXSwgaW5jbHVkZXNMYWJlbCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9FbnRpdGxlbWVudFNvdXJjZX0gKi9cbiAgICB0aGlzLmVudGl0bGVtZW50U291cmNlXyA9IGRhdGFbMiArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsyICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9FbnRpdGxlbWVudFJlc3VsdH0gKi9cbiAgICB0aGlzLmVudGl0bGVtZW50UmVzdWx0XyA9IGRhdGFbMyArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVszICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy50b2tlbl8gPSBkYXRhWzQgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbNCArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmlzVXNlclJlZ2lzdGVyZWRfID0gZGF0YVs1ICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzUgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1RpbWVzdGFtcH0gKi9cbiAgICB0aGlzLnN1YnNjcmlwdGlvblRpbWVzdGFtcF8gPVxuICAgICAgZGF0YVs2ICsgYmFzZV0gPT0gbnVsbCB8fCBkYXRhWzYgKyBiYXNlXSA9PSB1bmRlZmluZWRcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogbmV3IFRpbWVzdGFtcChkYXRhWzYgKyBiYXNlXSwgaW5jbHVkZXNMYWJlbCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P0VudGl0bGVtZW50Snd0fVxuICAgKi9cbiAgZ2V0VXNlZEVudGl0bGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLnVzZWRFbnRpdGxlbWVudF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnRKd3R9IHZhbHVlXG4gICAqL1xuICBzZXRVc2VkRW50aXRsZW1lbnQodmFsdWUpIHtcbiAgICB0aGlzLnVzZWRFbnRpdGxlbWVudF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/VGltZXN0YW1wfVxuICAgKi9cbiAgZ2V0Q2xpZW50RXZlbnRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudEV2ZW50VGltZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshVGltZXN0YW1wfSB2YWx1ZVxuICAgKi9cbiAgc2V0Q2xpZW50RXZlbnRUaW1lKHZhbHVlKSB7XG4gICAgdGhpcy5jbGllbnRFdmVudFRpbWVfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P0VudGl0bGVtZW50U291cmNlfVxuICAgKi9cbiAgZ2V0RW50aXRsZW1lbnRTb3VyY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXRsZW1lbnRTb3VyY2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVudGl0bGVtZW50U291cmNlfSB2YWx1ZVxuICAgKi9cbiAgc2V0RW50aXRsZW1lbnRTb3VyY2UodmFsdWUpIHtcbiAgICB0aGlzLmVudGl0bGVtZW50U291cmNlXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9FbnRpdGxlbWVudFJlc3VsdH1cbiAgICovXG4gIGdldEVudGl0bGVtZW50UmVzdWx0KCkge1xuICAgIHJldHVybiB0aGlzLmVudGl0bGVtZW50UmVzdWx0XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbnRpdGxlbWVudFJlc3VsdH0gdmFsdWVcbiAgICovXG4gIHNldEVudGl0bGVtZW50UmVzdWx0KHZhbHVlKSB7XG4gICAgdGhpcy5lbnRpdGxlbWVudFJlc3VsdF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0VG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9rZW5fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VG9rZW4odmFsdWUpIHtcbiAgICB0aGlzLnRva2VuXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0SXNVc2VyUmVnaXN0ZXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1VzZXJSZWdpc3RlcmVkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRJc1VzZXJSZWdpc3RlcmVkKHZhbHVlKSB7XG4gICAgdGhpcy5pc1VzZXJSZWdpc3RlcmVkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9UaW1lc3RhbXB9XG4gICAqL1xuICBnZXRTdWJzY3JpcHRpb25UaW1lc3RhbXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9uVGltZXN0YW1wXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFUaW1lc3RhbXB9IHZhbHVlXG4gICAqL1xuICBzZXRTdWJzY3JpcHRpb25UaW1lc3RhbXAodmFsdWUpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvblRpbWVzdGFtcF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy51c2VkRW50aXRsZW1lbnRfID8gdGhpcy51c2VkRW50aXRsZW1lbnRfLnRvQXJyYXkoaW5jbHVkZUxhYmVsKSA6IFtdLCAvLyBmaWVsZCAxIC0gdXNlZF9lbnRpdGxlbWVudFxuICAgICAgICB0aGlzLmNsaWVudEV2ZW50VGltZV8gPyB0aGlzLmNsaWVudEV2ZW50VGltZV8udG9BcnJheShpbmNsdWRlTGFiZWwpIDogW10sIC8vIGZpZWxkIDIgLSBjbGllbnRfZXZlbnRfdGltZVxuICAgICAgICB0aGlzLmVudGl0bGVtZW50U291cmNlXywgLy8gZmllbGQgMyAtIGVudGl0bGVtZW50X3NvdXJjZVxuICAgICAgICB0aGlzLmVudGl0bGVtZW50UmVzdWx0XywgLy8gZmllbGQgNCAtIGVudGl0bGVtZW50X3Jlc3VsdFxuICAgICAgICB0aGlzLnRva2VuXywgLy8gZmllbGQgNSAtIHRva2VuXG4gICAgICAgIHRoaXMuaXNVc2VyUmVnaXN0ZXJlZF8sIC8vIGZpZWxkIDYgLSBpc191c2VyX3JlZ2lzdGVyZWRcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXBfID8gdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXBfLnRvQXJyYXkoaW5jbHVkZUxhYmVsKSA6IFtdLCAvLyBmaWVsZCA3IC0gc3Vic2NyaXB0aW9uX3RpbWVzdGFtcFxuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdFbnRpdGxlbWVudHNSZXF1ZXN0JztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBFbnRpdGxlbWVudHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5qd3RfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5zd2dVc2VyVG9rZW5fID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0Snd0KCkge1xuICAgIHJldHVybiB0aGlzLmp3dF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRKd3QodmFsdWUpIHtcbiAgICB0aGlzLmp3dF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0U3dnVXNlclRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLnN3Z1VzZXJUb2tlbl87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRTd2dVc2VyVG9rZW4odmFsdWUpIHtcbiAgICB0aGlzLnN3Z1VzZXJUb2tlbl8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5qd3RfLCAvLyBmaWVsZCAxIC0gand0XG4gICAgICAgIHRoaXMuc3dnVXNlclRva2VuXywgLy8gZmllbGQgMiAtIHN3Z191c2VyX3Rva2VuXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ0VudGl0bGVtZW50c1Jlc3BvbnNlJztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBFdmVudFBhcmFtcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5zbWFydGJveE1lc3NhZ2VfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5ncGF5VHJhbnNhY3Rpb25JZF8gPSBkYXRhWzEgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMSArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmhhZExvZ2dlZF8gPSBkYXRhWzIgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMiArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuc2t1XyA9IGRhdGFbMyArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVszICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5vbGRUcmFuc2FjdGlvbklkXyA9IGRhdGFbNCArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVs0ICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9ib29sZWFufSAqL1xuICAgIHRoaXMuaXNVc2VyUmVnaXN0ZXJlZF8gPSBkYXRhWzUgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbNSArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uRmxvd18gPSBkYXRhWzYgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbNiArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/VGltZXN0YW1wfSAqL1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uVGltZXN0YW1wXyA9XG4gICAgICBkYXRhWzcgKyBiYXNlXSA9PSBudWxsIHx8IGRhdGFbNyArIGJhc2VdID09IHVuZGVmaW5lZFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBuZXcgVGltZXN0YW1wKGRhdGFbNyArIGJhc2VdLCBpbmNsdWRlc0xhYmVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0U21hcnRib3hNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnNtYXJ0Ym94TWVzc2FnZV87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRTbWFydGJveE1lc3NhZ2UodmFsdWUpIHtcbiAgICB0aGlzLnNtYXJ0Ym94TWVzc2FnZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0R3BheVRyYW5zYWN0aW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3BheVRyYW5zYWN0aW9uSWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0R3BheVRyYW5zYWN0aW9uSWQodmFsdWUpIHtcbiAgICB0aGlzLmdwYXlUcmFuc2FjdGlvbklkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0SGFkTG9nZ2VkKCkge1xuICAgIHJldHVybiB0aGlzLmhhZExvZ2dlZF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICAgKi9cbiAgc2V0SGFkTG9nZ2VkKHZhbHVlKSB7XG4gICAgdGhpcy5oYWRMb2dnZWRfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFNrdSgpIHtcbiAgICByZXR1cm4gdGhpcy5za3VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0U2t1KHZhbHVlKSB7XG4gICAgdGhpcy5za3VfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldE9sZFRyYW5zYWN0aW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkVHJhbnNhY3Rpb25JZF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRPbGRUcmFuc2FjdGlvbklkKHZhbHVlKSB7XG4gICAgdGhpcy5vbGRUcmFuc2FjdGlvbklkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0SXNVc2VyUmVnaXN0ZXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1VzZXJSZWdpc3RlcmVkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRJc1VzZXJSZWdpc3RlcmVkKHZhbHVlKSB7XG4gICAgdGhpcy5pc1VzZXJSZWdpc3RlcmVkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRTdWJzY3JpcHRpb25GbG93KCkge1xuICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbkZsb3dfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0U3Vic2NyaXB0aW9uRmxvdyh2YWx1ZSkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uRmxvd18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/VGltZXN0YW1wfVxuICAgKi9cbiAgZ2V0U3Vic2NyaXB0aW9uVGltZXN0YW1wKCkge1xuICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvblRpbWVzdGFtcF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshVGltZXN0YW1wfSB2YWx1ZVxuICAgKi9cbiAgc2V0U3Vic2NyaXB0aW9uVGltZXN0YW1wKHZhbHVlKSB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXBfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTw/Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0FycmF5KGluY2x1ZGVMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBhcnIgPSBbXG4gICAgICAgIHRoaXMuc21hcnRib3hNZXNzYWdlXywgLy8gZmllbGQgMSAtIHNtYXJ0Ym94X21lc3NhZ2VcbiAgICAgICAgdGhpcy5ncGF5VHJhbnNhY3Rpb25JZF8sIC8vIGZpZWxkIDIgLSBncGF5X3RyYW5zYWN0aW9uX2lkXG4gICAgICAgIHRoaXMuaGFkTG9nZ2VkXywgLy8gZmllbGQgMyAtIGhhZF9sb2dnZWRcbiAgICAgICAgdGhpcy5za3VfLCAvLyBmaWVsZCA0IC0gc2t1XG4gICAgICAgIHRoaXMub2xkVHJhbnNhY3Rpb25JZF8sIC8vIGZpZWxkIDUgLSBvbGRfdHJhbnNhY3Rpb25faWRcbiAgICAgICAgdGhpcy5pc1VzZXJSZWdpc3RlcmVkXywgLy8gZmllbGQgNiAtIGlzX3VzZXJfcmVnaXN0ZXJlZFxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbkZsb3dfLCAvLyBmaWVsZCA3IC0gc3Vic2NyaXB0aW9uX2Zsb3dcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXBfID8gdGhpcy5zdWJzY3JpcHRpb25UaW1lc3RhbXBfLnRvQXJyYXkoaW5jbHVkZUxhYmVsKSA6IFtdLCAvLyBmaWVsZCA4IC0gc3Vic2NyaXB0aW9uX3RpbWVzdGFtcFxuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdFdmVudFBhcmFtcyc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgRmluaXNoZWRMb2dnaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj49fSBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVzTGFiZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSBbXSwgaW5jbHVkZXNMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBiYXNlID0gaW5jbHVkZXNMYWJlbCA/IDEgOiAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbXBsZXRlXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuZXJyb3JfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldENvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBsZXRlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRDb21wbGV0ZSh2YWx1ZSkge1xuICAgIHRoaXMuY29tcGxldGVfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldEVycm9yKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldEVycm9yKHZhbHVlKSB7XG4gICAgdGhpcy5lcnJvcl8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5jb21wbGV0ZV8sIC8vIGZpZWxkIDEgLSBjb21wbGV0ZVxuICAgICAgICB0aGlzLmVycm9yXywgLy8gZmllbGQgMiAtIGVycm9yXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ0ZpbmlzaGVkTG9nZ2luZ1Jlc3BvbnNlJztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBMaW5rU2F2ZVRva2VuUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5hdXRoQ29kZV8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnRva2VuXyA9IGRhdGFbMSArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsxICsgYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldEF1dGhDb2RlKCkge1xuICAgIHJldHVybiB0aGlzLmF1dGhDb2RlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldEF1dGhDb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5hdXRoQ29kZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0VG9rZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMudG9rZW5fO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0VG9rZW4odmFsdWUpIHtcbiAgICB0aGlzLnRva2VuXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLmF1dGhDb2RlXywgLy8gZmllbGQgMSAtIGF1dGhfY29kZVxuICAgICAgICB0aGlzLnRva2VuXywgLy8gZmllbGQgMiAtIHRva2VuXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ0xpbmtTYXZlVG9rZW5SZXF1ZXN0JztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBMaW5raW5nSW5mb1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5yZXF1ZXN0ZWRfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P2Jvb2xlYW59XG4gICAqL1xuICBnZXRSZXF1ZXN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdGVkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRSZXF1ZXN0ZWQodmFsdWUpIHtcbiAgICB0aGlzLnJlcXVlc3RlZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWRfLCAvLyBmaWVsZCAxIC0gcmVxdWVzdGVkXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ0xpbmtpbmdJbmZvUmVzcG9uc2UnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIE9wZW5EaWFsb2dSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnVybFBhdGhfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFVybFBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsUGF0aF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRVcmxQYXRoKHZhbHVlKSB7XG4gICAgdGhpcy51cmxQYXRoXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLnVybFBhdGhfLCAvLyBmaWVsZCAxIC0gdXJsX3BhdGhcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnT3BlbkRpYWxvZ1JlcXVlc3QnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFNrdVNlbGVjdGVkUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj49fSBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVzTGFiZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSBbXSwgaW5jbHVkZXNMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBiYXNlID0gaW5jbHVkZXNMYWJlbCA/IDEgOiAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuc2t1XyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMub2xkU2t1XyA9IGRhdGFbMSArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVsxICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9ib29sZWFufSAqL1xuICAgIHRoaXMub25lVGltZV8gPSBkYXRhWzIgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMiArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMucGxheU9mZmVyXyA9IGRhdGFbMyArIGJhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVszICsgYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5vbGRQbGF5T2ZmZXJfID0gZGF0YVs0ICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzQgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLmN1c3RvbU1lc3NhZ2VfID0gZGF0YVs1ICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzUgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5hbm9ueW1vdXNfID0gZGF0YVs2ICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzYgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5zaGFyaW5nUG9saWN5RW5hYmxlZF8gPSBkYXRhWzcgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbNyArIGJhc2VdO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRTa3UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2t1XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFNrdSh2YWx1ZSkge1xuICAgIHRoaXMuc2t1XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRPbGRTa3UoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkU2t1XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldE9sZFNrdSh2YWx1ZSkge1xuICAgIHRoaXMub2xkU2t1XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0T25lVGltZSgpIHtcbiAgICByZXR1cm4gdGhpcy5vbmVUaW1lXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRPbmVUaW1lKHZhbHVlKSB7XG4gICAgdGhpcy5vbmVUaW1lXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRQbGF5T2ZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucGxheU9mZmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFBsYXlPZmZlcih2YWx1ZSkge1xuICAgIHRoaXMucGxheU9mZmVyXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRPbGRQbGF5T2ZmZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMub2xkUGxheU9mZmVyXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldE9sZFBsYXlPZmZlcih2YWx1ZSkge1xuICAgIHRoaXMub2xkUGxheU9mZmVyXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRDdXN0b21NZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbU1lc3NhZ2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0Q3VzdG9tTWVzc2FnZSh2YWx1ZSkge1xuICAgIHRoaXMuY3VzdG9tTWVzc2FnZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldEFub255bW91cygpIHtcbiAgICByZXR1cm4gdGhpcy5hbm9ueW1vdXNfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAgICovXG4gIHNldEFub255bW91cyh2YWx1ZSkge1xuICAgIHRoaXMuYW5vbnltb3VzXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9ib29sZWFufVxuICAgKi9cbiAgZ2V0U2hhcmluZ1BvbGljeUVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhcmluZ1BvbGljeUVuYWJsZWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAgICovXG4gIHNldFNoYXJpbmdQb2xpY3lFbmFibGVkKHZhbHVlKSB7XG4gICAgdGhpcy5zaGFyaW5nUG9saWN5RW5hYmxlZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5za3VfLCAvLyBmaWVsZCAxIC0gc2t1XG4gICAgICAgIHRoaXMub2xkU2t1XywgLy8gZmllbGQgMiAtIG9sZF9za3VcbiAgICAgICAgdGhpcy5vbmVUaW1lXywgLy8gZmllbGQgMyAtIG9uZV90aW1lXG4gICAgICAgIHRoaXMucGxheU9mZmVyXywgLy8gZmllbGQgNCAtIHBsYXlfb2ZmZXJcbiAgICAgICAgdGhpcy5vbGRQbGF5T2ZmZXJfLCAvLyBmaWVsZCA1IC0gb2xkX3BsYXlfb2ZmZXJcbiAgICAgICAgdGhpcy5jdXN0b21NZXNzYWdlXywgLy8gZmllbGQgNiAtIGN1c3RvbV9tZXNzYWdlXG4gICAgICAgIHRoaXMuYW5vbnltb3VzXywgLy8gZmllbGQgNyAtIGFub255bW91c1xuICAgICAgICB0aGlzLnNoYXJpbmdQb2xpY3lFbmFibGVkXywgLy8gZmllbGQgOCAtIHNoYXJpbmdfcG9saWN5X2VuYWJsZWRcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnU2t1U2VsZWN0ZWRSZXNwb25zZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgU21hcnRCb3hNZXNzYWdlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5pc0NsaWNrZWRfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P2Jvb2xlYW59XG4gICAqL1xuICBnZXRJc0NsaWNrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNDbGlja2VkXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRJc0NsaWNrZWQodmFsdWUpIHtcbiAgICB0aGlzLmlzQ2xpY2tlZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5pc0NsaWNrZWRfLCAvLyBmaWVsZCAxIC0gaXNfY2xpY2tlZFxuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdTbWFydEJveE1lc3NhZ2UnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFN1YnNjcmliZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5zdWJzY3JpYmVfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P2Jvb2xlYW59XG4gICAqL1xuICBnZXRTdWJzY3JpYmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaWJlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRTdWJzY3JpYmUodmFsdWUpIHtcbiAgICB0aGlzLnN1YnNjcmliZV8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVfLCAvLyBmaWVsZCAxIC0gc3Vic2NyaWJlXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ1N1YnNjcmliZVJlc3BvbnNlJztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBTdWJzY3JpcHRpb25MaW5raW5nQ29tcGxldGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5wdWJsaXNoZXJQcm92aWRlZElkXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRQdWJsaXNoZXJQcm92aWRlZElkKCkge1xuICAgIHJldHVybiB0aGlzLnB1Ymxpc2hlclByb3ZpZGVkSWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0UHVibGlzaGVyUHJvdmlkZWRJZCh2YWx1ZSkge1xuICAgIHRoaXMucHVibGlzaGVyUHJvdmlkZWRJZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXJQcm92aWRlZElkXywgLy8gZmllbGQgMSAtIHB1Ymxpc2hlcl9wcm92aWRlZF9pZFxuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdTdWJzY3JpcHRpb25MaW5raW5nQ29tcGxldGVSZXNwb25zZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgU3Vic2NyaXB0aW9uTGlua2luZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnB1Ymxpc2hlclByb3ZpZGVkSWRfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFB1Ymxpc2hlclByb3ZpZGVkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucHVibGlzaGVyUHJvdmlkZWRJZF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRQdWJsaXNoZXJQcm92aWRlZElkKHZhbHVlKSB7XG4gICAgdGhpcy5wdWJsaXNoZXJQcm92aWRlZElkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLnB1Ymxpc2hlclByb3ZpZGVkSWRfLCAvLyBmaWVsZCAxIC0gcHVibGlzaGVyX3Byb3ZpZGVkX2lkXG4gICAgXTtcbiAgICBpZiAoaW5jbHVkZUxhYmVsKSB7XG4gICAgICBhcnIudW5zaGlmdCh0aGlzLmxhYmVsKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsYWJlbCgpIHtcbiAgICByZXR1cm4gJ1N1YnNjcmlwdGlvbkxpbmtpbmdSZXNwb25zZSc7XG4gIH1cbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7TWVzc2FnZX1cbiAqL1xuY2xhc3MgU3VydmV5QW5zd2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P251bWJlcn0gKi9cbiAgICB0aGlzLmFuc3dlcklkXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuYW5zd2VyVGV4dF8gPSBkYXRhWzEgKyBiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbMSArIGJhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuYW5zd2VyQ2F0ZWdvcnlfID0gZGF0YVsyICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzIgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/bnVtYmVyfVxuICAgKi9cbiAgZ2V0QW5zd2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5zd2VySWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKi9cbiAgc2V0QW5zd2VySWQodmFsdWUpIHtcbiAgICB0aGlzLmFuc3dlcklkXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9zdHJpbmd9XG4gICAqL1xuICBnZXRBbnN3ZXJUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmFuc3dlclRleHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0QW5zd2VyVGV4dCh2YWx1ZSkge1xuICAgIHRoaXMuYW5zd2VyVGV4dF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0QW5zd2VyQ2F0ZWdvcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYW5zd2VyQ2F0ZWdvcnlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc2V0QW5zd2VyQ2F0ZWdvcnkodmFsdWUpIHtcbiAgICB0aGlzLmFuc3dlckNhdGVnb3J5XyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLmFuc3dlcklkXywgLy8gZmllbGQgMSAtIGFuc3dlcl9pZFxuICAgICAgICB0aGlzLmFuc3dlclRleHRfLCAvLyBmaWVsZCAyIC0gYW5zd2VyX3RleHRcbiAgICAgICAgdGhpcy5hbnN3ZXJDYXRlZ29yeV8sIC8vIGZpZWxkIDMgLSBhbnN3ZXJfY2F0ZWdvcnlcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnU3VydmV5QW5zd2VyJztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBTdXJ2ZXlEYXRhVHJhbnNmZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PCFTdXJ2ZXlRdWVzdGlvbj59ICovXG4gICAgdGhpcy5zdXJ2ZXlRdWVzdGlvbnNfID0gKGRhdGFbYmFzZV0gfHwgW10pLm1hcChpdGVtID0+IG5ldyBTdXJ2ZXlRdWVzdGlvbihpdGVtLCBpbmNsdWRlc0xhYmVsKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUFycmF5PCFTdXJ2ZXlRdWVzdGlvbj59XG4gICAqL1xuICBnZXRTdXJ2ZXlRdWVzdGlvbnNMaXN0KCkge1xuICAgIHJldHVybiB0aGlzLnN1cnZleVF1ZXN0aW9uc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IVN1cnZleVF1ZXN0aW9uPn0gdmFsdWVcbiAgICovXG4gIHNldFN1cnZleVF1ZXN0aW9uc0xpc3QodmFsdWUpIHtcbiAgICB0aGlzLnN1cnZleVF1ZXN0aW9uc18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5zdXJ2ZXlRdWVzdGlvbnNfID8gdGhpcy5zdXJ2ZXlRdWVzdGlvbnNfLm1hcChpdGVtID0+IGl0ZW0udG9BcnJheShpbmNsdWRlTGFiZWwpKSA6IFtdLCAvLyBmaWVsZCAxIC0gc3VydmV5X3F1ZXN0aW9uc1xuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdTdXJ2ZXlEYXRhVHJhbnNmZXJSZXF1ZXN0JztcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtNZXNzYWdlfVxuICovXG5jbGFzcyBTdXJ2ZXlEYXRhVHJhbnNmZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9ib29sZWFufSAqL1xuICAgIHRoaXMuc3VjY2Vzc18gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldFN1Y2Nlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VjY2Vzc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZVxuICAgKi9cbiAgc2V0U3VjY2Vzcyh2YWx1ZSkge1xuICAgIHRoaXMuc3VjY2Vzc18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5zdWNjZXNzXywgLy8gZmllbGQgMSAtIHN1Y2Nlc3NcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnU3VydmV5RGF0YVRyYW5zZmVyUmVzcG9uc2UnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFN1cnZleVF1ZXN0aW9uIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P251bWJlcn0gKi9cbiAgICB0aGlzLnF1ZXN0aW9uSWRfID0gZGF0YVtiYXNlXSA9PSBudWxsID8gbnVsbCA6IGRhdGFbYmFzZV07XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5xdWVzdGlvblRleHRfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P3N0cmluZ30gKi9cbiAgICB0aGlzLnF1ZXN0aW9uQ2F0ZWdvcnlfID0gZGF0YVsyICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzIgKyBiYXNlXTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IUFycmF5PCFTdXJ2ZXlBbnN3ZXI+fSAqL1xuICAgIHRoaXMuc3VydmV5QW5zd2Vyc18gPSAoZGF0YVszICsgYmFzZV0gfHwgW10pLm1hcChpdGVtID0+IG5ldyBTdXJ2ZXlBbnN3ZXIoaXRlbSwgaW5jbHVkZXNMYWJlbCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9udW1iZXJ9XG4gICAqL1xuICBnZXRRdWVzdGlvbklkKCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXN0aW9uSWRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICAgKi9cbiAgc2V0UXVlc3Rpb25JZCh2YWx1ZSkge1xuICAgIHRoaXMucXVlc3Rpb25JZF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0UXVlc3Rpb25UZXh0KCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXN0aW9uVGV4dF87XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzZXRRdWVzdGlvblRleHQodmFsdWUpIHtcbiAgICB0aGlzLnF1ZXN0aW9uVGV4dF8gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0UXVlc3Rpb25DYXRlZ29yeSgpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVzdGlvbkNhdGVnb3J5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHNldFF1ZXN0aW9uQ2F0ZWdvcnkodmFsdWUpIHtcbiAgICB0aGlzLnF1ZXN0aW9uQ2F0ZWdvcnlfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUFycmF5PCFTdXJ2ZXlBbnN3ZXI+fVxuICAgKi9cbiAgZ2V0U3VydmV5QW5zd2Vyc0xpc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3VydmV5QW5zd2Vyc187XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IVN1cnZleUFuc3dlcj59IHZhbHVlXG4gICAqL1xuICBzZXRTdXJ2ZXlBbnN3ZXJzTGlzdCh2YWx1ZSkge1xuICAgIHRoaXMuc3VydmV5QW5zd2Vyc18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5xdWVzdGlvbklkXywgLy8gZmllbGQgMSAtIHF1ZXN0aW9uX2lkXG4gICAgICAgIHRoaXMucXVlc3Rpb25UZXh0XywgLy8gZmllbGQgMiAtIHF1ZXN0aW9uX3RleHRcbiAgICAgICAgdGhpcy5xdWVzdGlvbkNhdGVnb3J5XywgLy8gZmllbGQgMyAtIHF1ZXN0aW9uX2NhdGVnb3J5XG4gICAgICAgIHRoaXMuc3VydmV5QW5zd2Vyc18gPyB0aGlzLnN1cnZleUFuc3dlcnNfLm1hcChpdGVtID0+IGl0ZW0udG9BcnJheShpbmNsdWRlTGFiZWwpKSA6IFtdLCAvLyBmaWVsZCA0IC0gc3VydmV5X2Fuc3dlcnNcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnU3VydmV5UXVlc3Rpb24nO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFRpbWVzdGFtcCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwqPj19IGRhdGFcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZXNMYWJlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YSA9IFtdLCBpbmNsdWRlc0xhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGJhc2UgPSBpbmNsdWRlc0xhYmVsID8gMSA6IDA7XG5cbiAgICAvKiogQHByaXZhdGUgez9udW1iZXJ9ICovXG4gICAgdGhpcy5zZWNvbmRzXyA9IGRhdGFbYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhW2Jhc2VdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/bnVtYmVyfSAqL1xuICAgIHRoaXMubmFub3NfID0gZGF0YVsxICsgYmFzZV0gPT0gbnVsbCA/IG51bGwgOiBkYXRhWzEgKyBiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/bnVtYmVyfVxuICAgKi9cbiAgZ2V0U2Vjb25kcygpIHtcbiAgICByZXR1cm4gdGhpcy5zZWNvbmRzXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG4gIHNldFNlY29uZHModmFsdWUpIHtcbiAgICB0aGlzLnNlY29uZHNfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P251bWJlcn1cbiAgICovXG4gIGdldE5hbm9zKCkge1xuICAgIHJldHVybiB0aGlzLm5hbm9zXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG4gIHNldE5hbm9zKHZhbHVlKSB7XG4gICAgdGhpcy5uYW5vc18gPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlTGFiZWxcbiAgICogQHJldHVybiB7IUFycmF5PD8+fVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvQXJyYXkoaW5jbHVkZUxhYmVsID0gdHJ1ZSkge1xuICAgIGNvbnN0IGFyciA9IFtcbiAgICAgICAgdGhpcy5zZWNvbmRzXywgLy8gZmllbGQgMSAtIHNlY29uZHNcbiAgICAgICAgdGhpcy5uYW5vc18sIC8vIGZpZWxkIDIgLSBuYW5vc1xuICAgIF07XG4gICAgaWYgKGluY2x1ZGVMYWJlbCkge1xuICAgICAgYXJyLnVuc2hpZnQodGhpcy5sYWJlbCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGFiZWwoKSB7XG4gICAgcmV0dXJuICdUaW1lc3RhbXAnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFRvYXN0Q2xvc2VSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUFycmF5PCo+PX0gZGF0YVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpbmNsdWRlc0xhYmVsXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhID0gW10sIGluY2x1ZGVzTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYmFzZSA9IGluY2x1ZGVzTGFiZWwgPyAxIDogMDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Jvb2xlYW59ICovXG4gICAgdGhpcy5jbG9zZV8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldENsb3NlKCkge1xuICAgIHJldHVybiB0aGlzLmNsb3NlXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRDbG9zZSh2YWx1ZSkge1xuICAgIHRoaXMuY2xvc2VfID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaW5jbHVkZUxhYmVsXG4gICAqIEByZXR1cm4geyFBcnJheTw/Pn1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0FycmF5KGluY2x1ZGVMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBhcnIgPSBbXG4gICAgICAgIHRoaXMuY2xvc2VfLCAvLyBmaWVsZCAxIC0gY2xvc2VcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnVG9hc3RDbG9zZVJlcXVlc3QnO1xuICB9XG59XG5cbi8qKlxuICogQGltcGxlbWVudHMge01lc3NhZ2V9XG4gKi9cbmNsYXNzIFZpZXdTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8Kj49fSBkYXRhXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVzTGFiZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEgPSBbXSwgaW5jbHVkZXNMYWJlbCA9IHRydWUpIHtcbiAgICBjb25zdCBiYXNlID0gaW5jbHVkZXNMYWJlbCA/IDEgOiAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/Ym9vbGVhbn0gKi9cbiAgICB0aGlzLm5hdGl2ZV8gPSBkYXRhW2Jhc2VdID09IG51bGwgPyBudWxsIDogZGF0YVtiYXNlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHs/Ym9vbGVhbn1cbiAgICovXG4gIGdldE5hdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYXRpdmVfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWVcbiAgICovXG4gIHNldE5hdGl2ZSh2YWx1ZSkge1xuICAgIHRoaXMubmF0aXZlXyA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluY2x1ZGVMYWJlbFxuICAgKiBAcmV0dXJuIHshQXJyYXk8Pz59XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9BcnJheShpbmNsdWRlTGFiZWwgPSB0cnVlKSB7XG4gICAgY29uc3QgYXJyID0gW1xuICAgICAgICB0aGlzLm5hdGl2ZV8sIC8vIGZpZWxkIDEgLSBuYXRpdmVcbiAgICBdO1xuICAgIGlmIChpbmNsdWRlTGFiZWwpIHtcbiAgICAgIGFyci51bnNoaWZ0KHRoaXMubGFiZWwoKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxhYmVsKCkge1xuICAgIHJldHVybiAnVmlld1N1YnNjcmlwdGlvbnNSZXNwb25zZSc7XG4gIH1cbn1cblxuY29uc3QgUFJPVE9fTUFQID0ge1xuICAnQWNjb3VudENyZWF0aW9uUmVxdWVzdCc6IEFjY291bnRDcmVhdGlvblJlcXVlc3QsXG4gICdBY3Rpb25SZXF1ZXN0JzogQWN0aW9uUmVxdWVzdCxcbiAgJ0FscmVhZHlTdWJzY3JpYmVkUmVzcG9uc2UnOiBBbHJlYWR5U3Vic2NyaWJlZFJlc3BvbnNlLFxuICAnQW5hbHl0aWNzQ29udGV4dCc6IEFuYWx5dGljc0NvbnRleHQsXG4gICdBbmFseXRpY3NFdmVudE1ldGEnOiBBbmFseXRpY3NFdmVudE1ldGEsXG4gICdBbmFseXRpY3NSZXF1ZXN0JzogQW5hbHl0aWNzUmVxdWVzdCxcbiAgJ0F1ZGllbmNlQWN0aXZpdHlDbGllbnRMb2dzUmVxdWVzdCc6IEF1ZGllbmNlQWN0aXZpdHlDbGllbnRMb2dzUmVxdWVzdCxcbiAgJ0NvbXBsZXRlQXVkaWVuY2VBY3Rpb25SZXNwb25zZSc6IENvbXBsZXRlQXVkaWVuY2VBY3Rpb25SZXNwb25zZSxcbiAgJ0VudGl0bGVtZW50Snd0JzogRW50aXRsZW1lbnRKd3QsXG4gICdFbnRpdGxlbWVudHNSZXF1ZXN0JzogRW50aXRsZW1lbnRzUmVxdWVzdCxcbiAgJ0VudGl0bGVtZW50c1Jlc3BvbnNlJzogRW50aXRsZW1lbnRzUmVzcG9uc2UsXG4gICdFdmVudFBhcmFtcyc6IEV2ZW50UGFyYW1zLFxuICAnRmluaXNoZWRMb2dnaW5nUmVzcG9uc2UnOiBGaW5pc2hlZExvZ2dpbmdSZXNwb25zZSxcbiAgJ0xpbmtTYXZlVG9rZW5SZXF1ZXN0JzogTGlua1NhdmVUb2tlblJlcXVlc3QsXG4gICdMaW5raW5nSW5mb1Jlc3BvbnNlJzogTGlua2luZ0luZm9SZXNwb25zZSxcbiAgJ09wZW5EaWFsb2dSZXF1ZXN0JzogT3BlbkRpYWxvZ1JlcXVlc3QsXG4gICdTa3VTZWxlY3RlZFJlc3BvbnNlJzogU2t1U2VsZWN0ZWRSZXNwb25zZSxcbiAgJ1NtYXJ0Qm94TWVzc2FnZSc6IFNtYXJ0Qm94TWVzc2FnZSxcbiAgJ1N1YnNjcmliZVJlc3BvbnNlJzogU3Vic2NyaWJlUmVzcG9uc2UsXG4gICdTdWJzY3JpcHRpb25MaW5raW5nQ29tcGxldGVSZXNwb25zZSc6IFN1YnNjcmlwdGlvbkxpbmtpbmdDb21wbGV0ZVJlc3BvbnNlLFxuICAnU3Vic2NyaXB0aW9uTGlua2luZ1Jlc3BvbnNlJzogU3Vic2NyaXB0aW9uTGlua2luZ1Jlc3BvbnNlLFxuICAnU3VydmV5QW5zd2VyJzogU3VydmV5QW5zd2VyLFxuICAnU3VydmV5RGF0YVRyYW5zZmVyUmVxdWVzdCc6IFN1cnZleURhdGFUcmFuc2ZlclJlcXVlc3QsXG4gICdTdXJ2ZXlEYXRhVHJhbnNmZXJSZXNwb25zZSc6IFN1cnZleURhdGFUcmFuc2ZlclJlc3BvbnNlLFxuICAnU3VydmV5UXVlc3Rpb24nOiBTdXJ2ZXlRdWVzdGlvbixcbiAgJ1RpbWVzdGFtcCc6IFRpbWVzdGFtcCxcbiAgJ1RvYXN0Q2xvc2VSZXF1ZXN0JzogVG9hc3RDbG9zZVJlcXVlc3QsXG4gICdWaWV3U3Vic2NyaXB0aW9uc1Jlc3BvbnNlJzogVmlld1N1YnNjcmlwdGlvbnNSZXNwb25zZSxcbn07XG5cbi8qKlxuICogVXRpbGl0eSB0byBkZXNlcmlhbGl6ZSBhIGJ1ZmZlclxuICogQHBhcmFtIHshQXJyYXk8Kj59IGRhdGFcbiAqIEByZXR1cm4geyFNZXNzYWdlfVxuICovXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZShkYXRhKSB7XG4gIC8qKiB7P3N0cmluZ30gKi9cbiAgY29uc3Qga2V5ID0gZGF0YSA/IGRhdGFbMF0gOiBudWxsO1xuICBpZiAoa2V5KSB7XG4gICAgY29uc3QgY3RvciA9IFBST1RPX01BUFtrZXldO1xuICAgIGlmIChjdG9yKSB7XG4gICAgICByZXR1cm4gbmV3IGN0b3IoZGF0YSk7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcignRGVzZXJpYWxpemF0aW9uIGZhaWxlZCBmb3IgJyArIGRhdGEpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OiBUKX0gbWVzc2FnZVR5cGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmZ1bmN0aW9uIGdldExhYmVsKG1lc3NhZ2VUeXBlKSB7XG4gIGNvbnN0IG1lc3NhZ2UgPSAvKiogQHR5cGUgeyFNZXNzYWdlfSAqLyAobmV3IG1lc3NhZ2VUeXBlKCkpO1xuICByZXR1cm4gbWVzc2FnZS5sYWJlbCgpO1xufVxuXG5leHBvcnQge1xuICBBY2NvdW50Q3JlYXRpb25SZXF1ZXN0LFxuICBBY3Rpb25SZXF1ZXN0LFxuICBBY3Rpb25UeXBlLFxuICBBbHJlYWR5U3Vic2NyaWJlZFJlc3BvbnNlLFxuICBBbmFseXRpY3NDb250ZXh0LFxuICBBbmFseXRpY3NFdmVudCxcbiAgQW5hbHl0aWNzRXZlbnRNZXRhLFxuICBBbmFseXRpY3NSZXF1ZXN0LFxuICBBdWRpZW5jZUFjdGl2aXR5Q2xpZW50TG9nc1JlcXVlc3QsXG4gIENvbXBsZXRlQXVkaWVuY2VBY3Rpb25SZXNwb25zZSxcbiAgRW50aXRsZW1lbnRKd3QsXG4gIEVudGl0bGVtZW50UmVzdWx0LFxuICBFbnRpdGxlbWVudFNvdXJjZSxcbiAgRW50aXRsZW1lbnRzUmVxdWVzdCxcbiAgRW50aXRsZW1lbnRzUmVzcG9uc2UsXG4gIEV2ZW50T3JpZ2luYXRvcixcbiAgRXZlbnRQYXJhbXMsXG4gIEZpbmlzaGVkTG9nZ2luZ1Jlc3BvbnNlLFxuICBMaW5rU2F2ZVRva2VuUmVxdWVzdCxcbiAgTGlua2luZ0luZm9SZXNwb25zZSxcbiAgTWVzc2FnZSxcbiAgT3BlbkRpYWxvZ1JlcXVlc3QsXG4gIFJlYWRlclN1cmZhY2VUeXBlLFxuICBTa3VTZWxlY3RlZFJlc3BvbnNlLFxuICBTbWFydEJveE1lc3NhZ2UsXG4gIFN1YnNjcmliZVJlc3BvbnNlLFxuICBTdWJzY3JpcHRpb25MaW5raW5nQ29tcGxldGVSZXNwb25zZSxcbiAgU3Vic2NyaXB0aW9uTGlua2luZ1Jlc3BvbnNlLFxuICBTdXJ2ZXlBbnN3ZXIsXG4gIFN1cnZleURhdGFUcmFuc2ZlclJlcXVlc3QsXG4gIFN1cnZleURhdGFUcmFuc2ZlclJlc3BvbnNlLFxuICBTdXJ2ZXlRdWVzdGlvbixcbiAgVGltZXN0YW1wLFxuICBUb2FzdENsb3NlUmVxdWVzdCxcbiAgVmlld1N1YnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgZGVzZXJpYWxpemUsXG4gIGdldExhYmVsLFxufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQW5hbHl0aWNzQ29udGV4dCxcbiAgQW5hbHl0aWNzRXZlbnQsXG4gIEFuYWx5dGljc0V2ZW50TWV0YSxcbiAgQW5hbHl0aWNzUmVxdWVzdCxcbiAgRXZlbnRPcmlnaW5hdG9yLFxuICBFdmVudFBhcmFtcyxcbiAgRmluaXNoZWRMb2dnaW5nUmVzcG9uc2UsXG59IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge0NsaWVudEV2ZW50TWFuYWdlcn0gZnJvbSAnLi9jbGllbnQtZXZlbnQtbWFuYWdlcic7XG5pbXBvcnQge0V4cGVyaW1lbnRGbGFnc30gZnJvbSAnLi9leHBlcmltZW50LWZsYWdzJztcbmltcG9ydCB7Y3JlYXRlRWxlbWVudH0gZnJvbSAnLi4vdXRpbHMvZG9tJztcbmltcG9ydCB7ZmVVcmx9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtnZXRDYW5vbmljYWxVcmx9IGZyb20gJy4uL3V0aWxzL3VybCc7XG5pbXBvcnQge2dldE9uRXhwZXJpbWVudHMsIGlzRXhwZXJpbWVudE9ufSBmcm9tICcuL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7Z2V0U3dnVHJhbnNhY3Rpb25JZCwgZ2V0VXVpZH0gZnJvbSAnLi4vdXRpbHMvc3RyaW5nJztcbmltcG9ydCB7bG9nfSBmcm9tICcuLi91dGlscy9sb2cnO1xuaW1wb3J0IHtwYXJzZVF1ZXJ5U3RyaW5nLCBwYXJzZVVybH0gZnJvbSAnLi4vdXRpbHMvdXJsJztcbmltcG9ydCB7c2VydmljZVVybH0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge3NldEltcG9ydGFudFN0eWxlc30gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuaW1wb3J0IHt0b1RpbWVzdGFtcH0gZnJvbSAnLi4vdXRpbHMvZGF0ZS11dGlscyc7XG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSAqL1xuY29uc3QgaWZyYW1lU3R5bGVzID0ge1xuICBvcGFjaXR5OiAnMCcsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6ICctMTBweCcsXG4gIGxlZnQ6ICctMTBweCcsXG4gIGhlaWdodDogJzFweCcsXG4gIHdpZHRoOiAnMXB4Jyxcbn07XG5cbi8vIFRoZSBpbml0aWFsIGlmcmFtZSBsb2FkIHRha2VzIH41MDAgbXMuICBXZSB3aWxsIHdhaXQgYXQgbGVhc3QgdGhhdCBsb25nXG4vLyBiZWZvcmUgYSBwYWdlIHJlZGlyZWN0LiAgU3Vic2VxdWVudCBsb2dzIGFyZSBtdWNoIGZhc3Rlci4gIFdlIHdpbGwgd2FpdCBhdFxuLy8gbW9zdCAxMDAgbXMuXG5jb25zdCBNQVhfRklSU1RfV0FJVCA9IDUwMDtcbmNvbnN0IE1BWF9XQUlUID0gMjAwO1xuLy8gSWYgd2UgbG9nZ2VkIGFuZCByYXBpZGx5IHJlZGlyZWN0ZWQsIHdlIHdpbGwgYWRkIGEgc2hvcnQgZGVsYXkgaW4gY2FzZVxuLy8gYSBtZXNzYWdlIGhhc24ndCBiZWVuIHRyYW5zbWl0dGVkIHlldC5cbmNvbnN0IFRJTUVPVVRfRVJST1IgPSAnQW5hbHl0aWNzU2VydmljZSB0aW1lZCBvdXQgd2FpdGluZyBmb3IgYSByZXNwb25zZSc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7IXN0cmluZ30gZXJyb3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRXJyb3JSZXNwb25zZShlcnJvcikge1xuICBjb25zdCByZXNwb25zZSA9IG5ldyBGaW5pc2hlZExvZ2dpbmdSZXNwb25zZSgpO1xuICByZXNwb25zZS5zZXRDb21wbGV0ZShmYWxzZSk7XG4gIHJlc3BvbnNlLnNldEVycm9yKGVycm9yKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzU2VydmljZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKiBAcGFyYW0geyEuL2ZldGNoZXIuRmV0Y2hlcn0gZmV0Y2hlclxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcywgZmV0Y2hlcikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2ZldGNoZXIuRmV0Y2hlcn0gKi9cbiAgICB0aGlzLmZldGNoZXJfID0gZmV0Y2hlcjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9kb2MuRG9jfSAqL1xuICAgIHRoaXMuZG9jXyA9IGRlcHMuZG9jKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGRlcHMuYWN0aXZpdGllcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUhUTUxJRnJhbWVFbGVtZW50fSAqL1xuICAgIHRoaXMuaWZyYW1lXyA9IC8qKiBAdHlwZSB7IUhUTUxJRnJhbWVFbGVtZW50fSAqLyAoXG4gICAgICBjcmVhdGVFbGVtZW50KHRoaXMuZG9jXy5nZXRXaW4oKS5kb2N1bWVudCwgJ2lmcmFtZScsIHt9KVxuICAgICk7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuaWZyYW1lXywgaWZyYW1lU3R5bGVzKTtcbiAgICB0aGlzLmRvY18uZ2V0Qm9keSgpLmFwcGVuZENoaWxkKHRoaXMuZ2V0RWxlbWVudCgpKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAdHlwZSB7IWJvb2xlYW59ICovXG4gICAgdGhpcy5ldmVyRmluaXNoZWRMb2dfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZSBAY29uc3QgeyFBbmFseXRpY3NDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dF8gPSBuZXcgQW5hbHl0aWNzQ29udGV4dCgpO1xuICAgIHRoaXMuc2V0U3RhdGljQ29udGV4dF8oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2U8IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5SWZyYW1lUG9ydD59ICovXG4gICAgdGhpcy5zZXJ2aWNlUmVhZHlfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2V9ICovXG4gICAgdGhpcy5sYXN0QWN0aW9uXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRoaXMuaGFuZGxlQ2xpZW50RXZlbnRfLmJpbmQodGhpcylcbiAgICApO1xuXG4gICAgLy8gVGhpcyBjb2RlIGNyZWF0ZXMgYSAncHJvbWlzZSB0byBsb2cnIHRoYXQgd2UgY2FuIHVzZSB0byBlbnN1cmUgYWxsXG4gICAgLy8gbG9nZ2luZyBpcyBmaW5pc2hlZCBwcmlvciB0byByZWRpcmVjdGluZyB0aGUgcGFnZS5cbiAgICAvKiogQHByaXZhdGUgeyFudW1iZXJ9ICovXG4gICAgdGhpcy51bmZpbmlzaGVkTG9nc18gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oYm9vbGVhbil9ICovXG4gICAgdGhpcy5sb2dnaW5nUmVzb2x2ZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2V9ICovXG4gICAgdGhpcy5wcm9taXNlVG9Mb2dfID0gbnVsbDtcblxuICAgIC8vIElmIGxvZ2dpbmcgZG9lc24ndCB3b3JrIGRvbid0IGZvcmNlIHRoZSB1c2VyIHRvIHdhaXRcbiAgICAvKiogQHByaXZhdGUgeyFib29sZWFufSAqL1xuICAgIHRoaXMubG9nZ2luZ0Jyb2tlbl8gPSBmYWxzZTtcblxuICAgIC8vIElmIGxvZ2dpbmcgZXhjZWVkcyB0aGUgdGltZW91dHMgKHNlZSBjb25zdCBjb21tZW50cyBhYm92ZSkgZG9uJ3QgbWFrZVxuICAgIC8vIHRoZSB1c2VyIHdhaXQgdG9vIGxvbmcuXG4gICAgLyoqIEBwcml2YXRlIHs/bnVtYmVyfSAqL1xuICAgIHRoaXMudGltZW91dF8gPSBudWxsO1xuXG4gICAgLy8gQSBjYWxsYmFjayBmb3Igc2V0dGluZyB0aGUgY2xpZW50IHRpbWVzdGFtcCBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cbiAgICAvKiogQHByaXZhdGUge2Z1bmN0aW9uKCk6IS4uL3Byb3RvL2FwaV9tZXNzYWdlcy5UaW1lc3RhbXB9ICovXG4gICAgdGhpcy5nZXRUaW1lc3RhbXBfID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKERhdGUubm93KCkpO1xuICAgIH07XG5cbiAgICAvLyBXaGlsZSBmYWxzZSwgd2Ugd2lsbCBidWZmZXIgbG9ncyBpbnN0ZWFkIG9mIHNlbmRpbmcgdGhlbSB0byB0aGUgYW5hbHl0aWNzIHNlcnZpY2UuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMucmVhZHlGb3JMb2dnaW5nXyA9IGZhbHNlO1xuXG4gICAgLy8gU3RvcmVzIGxvZyBldmVudHMgd2hpbGUgd2Ugd2FpdCB0byBiZSByZWFkeSBmb3IgbG9nZ2luZy5cbiAgICAvKiogQHByaXZhdGUge0FycmF5PCEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50Pn0qL1xuICAgIHRoaXMubG9nc18gPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHJlYWR5IGZvciBsb2dnaW5nIHRvIHRydWUgYW5kIGxvZ3MgYWxsIHRoZSBjbGllbnQgZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IGJ1ZmZlcmVkLlxuICAgKi9cbiAgc2V0UmVhZHlGb3JMb2dnaW5nKCkge1xuICAgIHRoaXMucmVhZHlGb3JMb2dnaW5nXyA9IHRydWU7XG4gICAgdGhpcy5sb2dzXy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVDbGllbnRFdmVudF8oZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2FjdGlvbklkXG4gICAqL1xuICBzZXRUcmFuc2FjdGlvbklkKHRyYW5zYWN0aW9uSWQpIHtcbiAgICBjb25zdCBvbGRUcmFuc2FjdGlvbklkID0gdGhpcy5jb250ZXh0Xy5nZXRUcmFuc2FjdGlvbklkKCk7XG4gICAgdGhpcy5jb250ZXh0Xy5zZXRUcmFuc2FjdGlvbklkKHRyYW5zYWN0aW9uSWQpO1xuICAgIGlmIChvbGRUcmFuc2FjdGlvbklkICE9IG51bGwgJiYgb2xkVHJhbnNhY3Rpb25JZCAhPSB0cmFuc2FjdGlvbklkKSB7XG4gICAgICBjb25zdCBldmVudFR5cGUgPSBBbmFseXRpY3NFdmVudC5FVkVOVF9ORVdfVFhfSUQ7XG4gICAgICBjb25zdCBldmVudFBhcmFtcyA9IG5ldyBFdmVudFBhcmFtcygpO1xuICAgICAgZXZlbnRQYXJhbXMuc2V0T2xkVHJhbnNhY3Rpb25JZChvbGRUcmFuc2FjdGlvbklkKTtcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyXy5sb2dTd2dFdmVudChcbiAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICAvKiBpc0Zyb21Vc2VyQWN0aW9uPSAqLyB0cnVlLFxuICAgICAgICBldmVudFBhcmFtc1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VHJhbnNhY3Rpb25JZCgpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0aGlzLmNvbnRleHRfLmdldFRyYW5zYWN0aW9uSWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICovXG4gIGdldFNrdSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0Xy5nZXRTa3UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2t1XG4gICAqL1xuICBzZXRTa3Uoc2t1KSB7XG4gICAgdGhpcy5jb250ZXh0Xy5zZXRTa3Uoc2t1KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqL1xuICBzZXRVcmwodXJsKSB7XG4gICAgdGhpcy5jb250ZXh0Xy5zZXRVcmwodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBsYWJlbHNcbiAgICovXG4gIGFkZExhYmVscyhsYWJlbHMpIHtcbiAgICBpZiAobGFiZWxzICYmIGxhYmVscy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBuZXdMYWJlbHMgPSBbXS5jb25jYXQodGhpcy5jb250ZXh0Xy5nZXRMYWJlbExpc3QoKSk7XG4gICAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIGxhYmVscykge1xuICAgICAgICBpZiAobmV3TGFiZWxzLmluZGV4T2YobGFiZWwpID09IC0xKSB7XG4gICAgICAgICAgbmV3TGFiZWxzLnB1c2gobGFiZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmNvbnRleHRfLnNldExhYmVsTGlzdChuZXdMYWJlbHMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshSFRNTElGcmFtZUVsZW1lbnR9XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmlmcmFtZV87XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UXVlcnlTdHJpbmdfKCkge1xuICAgIHJldHVybiB0aGlzLmRvY18uZ2V0V2luKCkubG9jYXRpb24uc2VhcmNoO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFJlZmVycmVyXygpIHtcbiAgICByZXR1cm4gdGhpcy5kb2NfLmdldFdpbigpLmRvY3VtZW50LnJlZmVycmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRTdGF0aWNDb250ZXh0XygpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0XztcbiAgICAvLyBUaGVzZSB2YWx1ZXMgc2hvdWxkIGFsbCBiZSBhdmFpbGFibGUgZHVyaW5nIHBhZ2UgbG9hZC5cbiAgICBpZiAoXG4gICAgICBpc0V4cGVyaW1lbnRPbihcbiAgICAgICAgdGhpcy5kb2NfLmdldFdpbigpLFxuICAgICAgICBFeHBlcmltZW50RmxhZ3MuVVBEQVRFX0dPT0dMRV9UUkFOU0FDVElPTl9JRFxuICAgICAgKVxuICAgICkge1xuICAgICAgY29udGV4dC5zZXRUcmFuc2FjdGlvbklkKGdldFN3Z1RyYW5zYWN0aW9uSWQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuc2V0VHJhbnNhY3Rpb25JZChnZXRVdWlkKCkpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFJlZmVycmluZ09yaWdpbihwYXJzZVVybCh0aGlzLmdldFJlZmVycmVyXygpKS5vcmlnaW4pO1xuICAgIGNvbnRleHQuc2V0Q2xpZW50VmVyc2lvbignU3dHICRpbnRlcm5hbFJ1bnRpbWVWZXJzaW9uJCcpO1xuICAgIGNvbnRleHQuc2V0VXJsKGdldENhbm9uaWNhbFVybCh0aGlzLmRvY18pKTtcblxuICAgIGNvbnN0IHV0bVBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcodGhpcy5nZXRRdWVyeVN0cmluZ18oKSk7XG4gICAgY29uc3QgY2FtcGFpZ24gPSB1dG1QYXJhbXNbJ3V0bV9jYW1wYWlnbiddO1xuICAgIGNvbnN0IG1lZGl1bSA9IHV0bVBhcmFtc1sndXRtX21lZGl1bSddO1xuICAgIGNvbnN0IHNvdXJjZSA9IHV0bVBhcmFtc1sndXRtX3NvdXJjZSddO1xuICAgIGlmIChjYW1wYWlnbikge1xuICAgICAgY29udGV4dC5zZXRVdG1DYW1wYWlnbihjYW1wYWlnbik7XG4gICAgfVxuICAgIGlmIChtZWRpdW0pIHtcbiAgICAgIGNvbnRleHQuc2V0VXRtTWVkaXVtKG1lZGl1bSk7XG4gICAgfVxuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGNvbnRleHQuc2V0VXRtU291cmNlKHNvdXJjZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlJZnJhbWVQb3J0Pn1cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5zZXJ2aWNlUmVhZHlfKSB7XG4gICAgICAvLyBQbGVhc2Ugbm90ZSB0aGF0IGN1cnJlbnRseSBvcGVuSWZyYW1lIHJlYWRzIHRoZSBjdXJyZW50IGFuYWx5dGljc1xuICAgICAgLy8gY29udGV4dCBhbmQgdGhhdCBpdCBtYXkgbm90IGNvbnRhaW4gZXhwZXJpbWVudHMgYWN0aXZhdGVkIGxhdGUgZHVyaW5nXG4gICAgICAvLyB0aGUgcHVibGlzaGVycyBjb2RlIGxpZmVjeWNsZS5cbiAgICAgIHRoaXMuYWRkTGFiZWxzKGdldE9uRXhwZXJpbWVudHModGhpcy5kb2NfLmdldFdpbigpKSk7XG4gICAgICB0aGlzLnNlcnZpY2VSZWFkeV8gPSB0aGlzLmFjdGl2aXR5UG9ydHNfXG4gICAgICAgIC5vcGVuSWZyYW1lKHRoaXMuaWZyYW1lXywgZmVVcmwoJy9zZXJ2aWNlaWZyYW1lJyksIG51bGwsIHRydWUpXG4gICAgICAgIC50aGVuKFxuICAgICAgICAgIChwb3J0KSA9PiB7XG4gICAgICAgICAgICAvLyBSZWdpc3RlciBhIGxpc3RlbmVyIGZvciB0aGUgbG9nZ2luZyB0byBjb2RlIGluZGljYXRlIGl0IGlzXG4gICAgICAgICAgICAvLyBmaW5pc2hlZCBsb2dnaW5nLlxuICAgICAgICAgICAgcG9ydC5vbihGaW5pc2hlZExvZ2dpbmdSZXNwb25zZSwgdGhpcy5hZnRlckxvZ2dpbmdfLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgcmV0dXJuIHBvcnQud2hlblJlYWR5KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFRoZSBwdWJsaXNoZXIgc2hvdWxkIGJlIGRvbmUgc2V0dGluZyBleHBlcmltZW50cyBidXQgcnVudGltZVxuICAgICAgICAgICAgICAvLyB3aWxsIGZvcndhcmQgdGhlbSBoZXJlIGlmIHRoZXkgYXJlbid0LlxuICAgICAgICAgICAgICB0aGlzLmFkZExhYmVscyhnZXRPbkV4cGVyaW1lbnRzKHRoaXMuZG9jXy5nZXRXaW4oKSkpO1xuICAgICAgICAgICAgICByZXR1cm4gcG9ydDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBwb3J0IGRvZXNuJ3Qgb3BlbiByZWdpc3RlciB0aGF0IGxvZ2dpbmcgaXMgYnJva2VuIHNvXG4gICAgICAgICAgICAvLyBub3RoaW5nIGlzIGp1c3Qgd2FpdGluZy5cbiAgICAgICAgICAgIHRoaXMubG9nZ2luZ0Jyb2tlbl8gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hZnRlckxvZ2dpbmdfKFxuICAgICAgICAgICAgICBjcmVhdGVFcnJvclJlc3BvbnNlKCdDb3VsZCBub3QgY29ubmVjdCBbJyArIG1lc3NhZ2UgKyAnXScpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZVJlYWR5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmVhZHlUb1BheVxuICAgKi9cbiAgc2V0UmVhZHlUb1BheShpc1JlYWR5VG9QYXkpIHtcbiAgICB0aGlzLmNvbnRleHRfLnNldFJlYWR5VG9QYXkoaXNSZWFkeVRvUGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5kb2NfLmdldEJvZHkoKS5yZW1vdmVDaGlsZCh0aGlzLmdldEVsZW1lbnQoKSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IUFuYWx5dGljc0NvbnRleHR9XG4gICAqL1xuICBnZXRDb250ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHRfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnR9IGV2ZW50XG4gICAqIEByZXR1cm4geyFBbmFseXRpY3NSZXF1ZXN0fVxuICAgKi9cbiAgY3JlYXRlTG9nUmVxdWVzdF8oZXZlbnQpIHtcbiAgICBjb25zdCBtZXRhID0gbmV3IEFuYWx5dGljc0V2ZW50TWV0YSgpO1xuICAgIG1ldGEuc2V0RXZlbnRPcmlnaW5hdG9yKGV2ZW50LmV2ZW50T3JpZ2luYXRvcik7XG4gICAgbWV0YS5zZXRJc0Zyb21Vc2VyQWN0aW9uKCEhZXZlbnQuaXNGcm9tVXNlckFjdGlvbik7XG4gICAgLy8gVXBkYXRlIHRoZSBvZiB0aGUgYW5hbHl0aWNzIGNvbnRleHQgdG8gdGhlIGN1cnJlbnQgdGltZS5cbiAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGN1cnJlbnQgZm9yIGxvZyBhbmFseXNpcy5cbiAgICB0aGlzLmNvbnRleHRfLnNldENsaWVudFRpbWVzdGFtcCh0aGlzLmdldFRpbWVzdGFtcF8oKSk7XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBBbmFseXRpY3NSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5zZXRFdmVudCgvKiogQHR5cGUgeyFBbmFseXRpY3NFdmVudH0gKi8gKGV2ZW50LmV2ZW50VHlwZSkpO1xuICAgIHJlcXVlc3Quc2V0Q29udGV4dCh0aGlzLmNvbnRleHRfKTtcbiAgICByZXF1ZXN0LnNldE1ldGEobWV0YSk7XG4gICAgaWYgKGV2ZW50LmFkZGl0aW9uYWxQYXJhbWV0ZXJzIGluc3RhbmNlb2YgRXZlbnRQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3Quc2V0UGFyYW1zKGV2ZW50LmFkZGl0aW9uYWxQYXJhbWV0ZXJzKTtcbiAgICB9IC8vIElnbm9yZSBldmVudC5hZGRpdGlvbmFsUGFyYW1ldGVycy4gIEl0IG1heSBoYXZlIGRhdGEgd2Ugc2hvdWxkbid0IGxvZy5cbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc2hvdWxkTG9nUHVibGlzaGVyRXZlbnRzXygpIHtcbiAgICByZXR1cm4gdGhpcy5kZXBzXy5jb25maWcoKS5lbmFibGVTd2dBbmFseXRpY3MgPT09IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vYXBpL2NsaWVudC1ldmVudC1tYW5hZ2VyLWFwaS5DbGllbnRFdmVudH0gZXZlbnRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHNob3VsZEFsd2F5c0xvZ0V2ZW50XyhldmVudCkge1xuICAgIC8qIEFNUF9DTElFTlQgZXZlbnRzIGFyZSBjb25zaWRlcmVkIHB1Ymxpc2hlciBldmVudHMgYW5kIHdlIGdlbmVyYWxseSBvbmx5XG4gICAgICogbG9nIHRob3NlIGlmIHRoZSBwdWJsaXNoZXIgZGVjaWRlZCB0byBlbmFibGUgcHVibGlzaGVyIGV2ZW50IGxvZ2dpbmcgZm9yXG4gICAgICogcHJpdmFjeSBwdXJwb3Nlcy4gIFRoZSBwYWdlIGxvYWQgZXZlbnQgaXMgbm90IHByaXZhdGUgYW5kIGlzIG5lY2Vzc2FyeVxuICAgICAqIGp1c3Qgc28gd2Uga25vdyB0aGUgdXNlciBpcyBpbiBBTVAsIHNvIHdlIHdpbGwgbG9nIGl0IHJlZ2FyZGxlc3Mgb2ZcbiAgICAgKiBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIHJldHVybiAoXG4gICAgICBldmVudC5ldmVudFR5cGUgPT09IEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fUEFHRV9MT0FEICYmXG4gICAgICBldmVudC5ldmVudE9yaWdpbmF0b3IgPT09IEV2ZW50T3JpZ2luYXRvci5BTVBfQ0xJRU5UXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgTGlzdGVucyBmb3IgbmV3IGV2ZW50cyBmcm9tIHRoZSBldmVudHMgbWFuYWdlciBhbmQgaGFuZGxlcyBsb2dnaW5nXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnR9IGV2ZW50XG4gICAqL1xuICBoYW5kbGVDbGllbnRFdmVudF8oZXZlbnQpIHtcbiAgICAvL3RoaXMgZXZlbnQgaXMganVzdCB1c2VkIHRvIGNvbW11bmljYXRlIGluZm9ybWF0aW9uIGludGVybmFsbHkuICBJdCBzaG91bGRcbiAgICAvL25vdCBiZSByZXBvcnRlZCB0byB0aGUgU3dHIGFuYWx5dGljcyBzZXJ2aWNlLlxuICAgIGlmIChldmVudC5ldmVudFR5cGUgPT09IEFuYWx5dGljc0V2ZW50LkVWRU5UX1NVQlNDUklQVElPTl9TVEFURSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFBlcm1pc3Npb24gc2hvdWxkIGJlIGFza2VkIGZyb20gYSBwcml2YWN5IHdvcmtncm91cCBiZWZvcmUgdGhpcyBvcmlnaW5hdG9yXG4gICAgLy8gY2FuIGJlIHN1Ym1pdHRlZCB0byB0aGUgYW5hbHl0aWNzIHNlcnZpY2UuICBJdCBzaG91bGQgbW9zdCBsaWtlbHkgYmUgdHJlYXRlZFxuICAgIC8vIGFzIGFub3RoZXIga2luZCBvZiBwdWJsaXNoZXIgZXZlbnQgaGVyZSB0aG91Z2guXG4gICAgaWYgKGV2ZW50LmV2ZW50T3JpZ2luYXRvciA9PT0gRXZlbnRPcmlnaW5hdG9yLlNIT1dDQVNFX0NMSUVOVCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIENsaWVudEV2ZW50TWFuYWdlci5pc1B1Ymxpc2hlckV2ZW50KGV2ZW50KSAmJlxuICAgICAgIXRoaXMuc2hvdWxkTG9nUHVibGlzaGVyRXZlbnRzXygpICYmXG4gICAgICAhdGhpcy5zaG91bGRBbHdheXNMb2dFdmVudF8oZXZlbnQpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVhZHlGb3JMb2dnaW5nXykge1xuICAgICAgLy8gUmVnaXN0ZXIgd2Ugc2VudCBhIGxvZywgdGhlIHBvcnQgd2lsbCBjYWxsIHRoaXMuYWZ0ZXJMb2dnaW5nXyB3aGVuIGRvbmUuXG4gICAgICB0aGlzLnVuZmluaXNoZWRMb2dzXysrO1xuICAgICAgdGhpcy5sYXN0QWN0aW9uXyA9IHRoaXMuc3RhcnQoKS50aGVuKChwb3J0KSA9PiB7XG4gICAgICAgIGNvbnN0IGFuYWx5dGljc1JlcXVlc3QgPSB0aGlzLmNyZWF0ZUxvZ1JlcXVlc3RfKGV2ZW50KTtcbiAgICAgICAgcG9ydC5leGVjdXRlKGFuYWx5dGljc1JlcXVlc3QpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNFeHBlcmltZW50T24odGhpcy5kb2NfLmdldFdpbigpLCBFeHBlcmltZW50RmxhZ3MuTE9HR0lOR19CRUFDT04pXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuc2VuZEJlYWNvbl8oYW5hbHl0aWNzUmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSdyZSBub3QgcmVhZHkgdG8gbG9nIGV2ZW50cyB5ZXQsIHN0b3JlIHRoZSBldmVudCBzbyB3ZSBjYW4gbG9nIGl0IGxhdGVyLlxuICAgICAgdGhpcy5sb2dzXy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgdGhlIGlmcmFtZSBhZnRlciBpdCBzZW5kcyB0aGUgbG9nIHRvIHRoZSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7Li4vcHJvdG8vYXBpX21lc3NhZ2VzLk1lc3NhZ2U9fSBtZXNzYWdlXG4gICAqL1xuICBhZnRlckxvZ2dpbmdfKG1lc3NhZ2UpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IC8qKiBAdHlwZSB7IUZpbmlzaGVkTG9nZ2luZ1Jlc3BvbnNlfSAqLyAobWVzc2FnZSk7XG4gICAgY29uc3Qgc3VjY2VzcyA9IChyZXNwb25zZSAmJiByZXNwb25zZS5nZXRDb21wbGV0ZSgpKSB8fCBmYWxzZTtcbiAgICBjb25zdCBlcnJvciA9IChyZXNwb25zZSAmJiByZXNwb25zZS5nZXRFcnJvcigpKSB8fCAnVW5rbm93biBsb2dnaW5nIEVycm9yJztcbiAgICBjb25zdCBpc1RpbWVvdXQgPSBlcnJvciA9PT0gVElNRU9VVF9FUlJPUjtcblxuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgbG9nKCdFcnJvciB3aGVuIGxvZ2dpbmc6ICcgKyBlcnJvcik7XG4gICAgfVxuXG4gICAgdGhpcy51bmZpbmlzaGVkTG9nc18tLTtcbiAgICBpZiAoIWlzVGltZW91dCkge1xuICAgICAgdGhpcy5ldmVyRmluaXNoZWRMb2dfID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBOb3RoaW5nIGlzIHdhaXRpbmdcbiAgICBpZiAodGhpcy5sb2dnaW5nUmVzb2x2ZXJfID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudW5maW5pc2hlZExvZ3NfID09PSAwIHx8IHRoaXMubG9nZ2luZ0Jyb2tlbl8gfHwgaXNUaW1lb3V0KSB7XG4gICAgICBpZiAodGhpcy50aW1lb3V0XyAhPT0gbnVsbCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0Xyk7XG4gICAgICAgIHRoaXMudGltZW91dF8gPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2dnaW5nUmVzb2x2ZXJfKHN1Y2Nlc3MpO1xuICAgICAgdGhpcy5wcm9taXNlVG9Mb2dfID0gbnVsbDtcbiAgICAgIHRoaXMubG9nZ2luZ1Jlc29sdmVyXyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgbG9ncyBzZW50IGFmdGVyIGdldExvZ2dpbmdQcm9taXNlIGlzIGNhbGxlZCBhcmUgbm90XG4gICAqIGd1YXJhbnRlZWQgdG8gYmUgZmluaXNoZWQgd2hlbiB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZC4gIFlvdSBzaG91bGQgY2FsbFxuICAgKiB0aGlzIGZ1bmN0aW9uIGp1c3QgcHJpb3IgdG8gcmVkaXJlY3RpbmcgdGhlIHBhZ2UgYWZ0ZXIgU3dHIGlzIGZpbmlzaGVkXG4gICAqIGxvZ2dpbmcuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgZ2V0TG9nZ2luZ1Byb21pc2UoKSB7XG4gICAgaWYgKHRoaXMudW5maW5pc2hlZExvZ3NfID09PSAwIHx8IHRoaXMubG9nZ2luZ0Jyb2tlbl8pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb21pc2VUb0xvZ18gPT09IG51bGwpIHtcbiAgICAgIHRoaXMucHJvbWlzZVRvTG9nXyA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2luZ1Jlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhlIHByb21pc2UgYWJvdmUgc2hvdWxkIG5vdCB3YWl0IGZvcmV2ZXIgaWYgdGhpbmdzIGdvIHdyb25nLiAgTGV0XG4gICAgICAvLyB0aGUgdXNlciBwcm9jZWVkIVxuICAgICAgY29uc3Qgd2hlbkRvbmUgPSB0aGlzLmFmdGVyTG9nZ2luZ18uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMudGltZW91dF8gPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgdGhpcy50aW1lb3V0XyA9IG51bGw7XG4gICAgICAgICAgd2hlbkRvbmUoY3JlYXRlRXJyb3JSZXNwb25zZShUSU1FT1VUX0VSUk9SKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuZXZlckZpbmlzaGVkTG9nXyA/IE1BWF9XQUlUIDogTUFYX0ZJUlNUX1dBSVRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZVRvTG9nXztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGJlYWNvbiBpcyBhIHJhcGlkIGZpcmUgYnJvd3NlciByZXF1ZXN0IHRoYXQgZG9lcyBub3Qgd2FpdCBmb3IgYSByZXNwb25zZVxuICAgKiBmcm9tIHRoZSBzZXJ2ZXIuICBJdCBpcyBndWFyYW50ZWVkIHRvIGdvIG91dCBiZWZvcmUgdGhlIHBhZ2UgcmVkaXJlY3RzLlxuICAgKiBAcGFyYW0geyFBbmFseXRpY3NSZXF1ZXN0fSBhbmFseXRpY3NSZXF1ZXN0XG4gICAqL1xuICBzZW5kQmVhY29uXyhhbmFseXRpY3NSZXF1ZXN0KSB7XG4gICAgY29uc3QgcHViSWQgPSBlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICB0aGlzLmRlcHNfLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKClcbiAgICApO1xuICAgIGNvbnN0IHVybCA9IHNlcnZpY2VVcmwoJy9wdWJsaWNhdGlvbi8nICsgcHViSWQgKyAnL2NsaWVudGxvZ3MnKTtcbiAgICB0aGlzLmZldGNoZXJfLnNlbmRCZWFjb24odXJsLCBhbmFseXRpY3NSZXF1ZXN0KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FuYWx5dGljc0V2ZW50fSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuaW1wb3J0IHtTV0dfSTE4Tl9TVFJJTkdTfSBmcm9tICcuLi9pMThuL3N3Zy1zdHJpbmdzJztcbmltcG9ydCB7U21hcnRTdWJzY3JpcHRpb25CdXR0b25BcGksIFRoZW1lfSBmcm9tICcuL3NtYXJ0LWJ1dHRvbi1hcGknO1xuaW1wb3J0IHtjcmVhdGVFbGVtZW50fSBmcm9tICcuLi91dGlscy9kb20nO1xuaW1wb3J0IHttc2d9IGZyb20gJy4uL3V0aWxzL2kxOG4nO1xuXG4vKipcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGxhbmc6IFNldHMgdGhlIGJ1dHRvbiBTVkcgYW5kIHRpdGxlLiBEZWZhdWx0IGlzIFwiZW5cIi5cbiAqIC0gdGhlbWU6IFwibGlnaHRcIiBvciBcImRhcmtcIi4gRGVmYXVsdCBpcyBcImxpZ2h0XCIuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgb3B0aW9uczogKCEuLi9hcGkvc3Vic2NyaXB0aW9ucy5TbWFydEJ1dHRvbk9wdGlvbnN8IS4uL2FwaS9zdWJzY3JpcHRpb25zLkJ1dHRvbk9wdGlvbnMpLFxuICogICBjbGlja0Z1bjogIWZ1bmN0aW9uKCFFdmVudD0pLFxuICogfX0gQnV0dG9uUGFyYW1zXG4gKi9cbmV4cG9ydCBsZXQgQnV0dG9uUGFyYW1zO1xuXG4vKiogQGVudW0ge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBCdXR0b25BdHRyaWJ1dGVWYWx1ZXMgPSB7XG4gIFNVQlNDUklQVElPTjogJ3N1YnNjcmlwdGlvbicsXG4gIENPTlRSSUJVVElPTjogJ2NvbnRyaWJ1dGlvbicsXG59O1xuXG5jb25zdCBCVVRUT05fSU5ORVJfSFRNTCA9IGA8ZGl2IGNsYXNzPVwic3dnLWJ1dHRvbi12Mi1pY29uLSR0aGVtZSRcIj48L2Rpdj4kdGV4dENvbnRlbnQkYDtcblxuLyoqXG4gKiBUaGUgYnV0dG9uIHN0eWxlc2hlZXQgY2FuIGJlIGZvdW5kIGluIHRoZSBgL2Fzc2V0cy9zd2ctYnV0dG9uLmNzc2AuXG4gKiBJdCdzIHByb2R1Y2VkIGJ5IHRoZSBgZ3VscCBhc3NldHNgIHRhc2sgYW5kIGRlcGxveWVkIHRvXG4gKiBgaHR0cHM6Ly9uZXdzLmdvb2dsZS5jb20vc3dnL2pzL3YxL3N3Zy1idXR0b24uY3NzYC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ1dHRvbkFwaSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9tb2RlbC9kb2MuRG9jfSBkb2NcbiAgICogQHBhcmFtIHshUHJvbWlzZTwhLi9ydW50aW1lLkNvbmZpZ3VyZWRSdW50aW1lPn0gY29uZmlndXJlZFJ1bnRpbWVQcm9taXNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MsIGNvbmZpZ3VyZWRSdW50aW1lUHJvbWlzZSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9kb2MuRG9jfSAqL1xuICAgIHRoaXMuZG9jXyA9IGRvYztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPCEuL3J1bnRpbWUuQ29uZmlndXJlZFJ1bnRpbWU+fSAqL1xuICAgIHRoaXMuY29uZmlndXJlZFJ1bnRpbWVQcm9taXNlXyA9IGNvbmZpZ3VyZWRSdW50aW1lUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKi9cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBoZWFkID0gdGhpcy5kb2NfLmdldEhlYWQoKTtcbiAgICBpZiAoIWhlYWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cmwgPSAnJGFzc2V0cyQvc3dnLWJ1dHRvbi5jc3MnO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gaGVhZC5xdWVyeVNlbGVjdG9yKGBsaW5rW2hyZWY9XCIke3VybH1cIl1gKTtcbiAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIi4uLlwiIHR5cGU9XCJ0ZXh0L2Nzc1wiPlxuICAgIGhlYWQuYXBwZW5kQ2hpbGQoXG4gICAgICBjcmVhdGVFbGVtZW50KHRoaXMuZG9jXy5nZXRXaW4oKS5kb2N1bWVudCwgJ2xpbmsnLCB7XG4gICAgICAgICdyZWwnOiAnc3R5bGVzaGVldCcsXG4gICAgICAgICd0eXBlJzogJ3RleHQvY3NzJyxcbiAgICAgICAgJ2hyZWYnOiB1cmwsXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuQnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGNyZWF0ZShvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICBjb25zdCBidXR0b24gPSBjcmVhdGVFbGVtZW50KHRoaXMuZG9jXy5nZXRXaW4oKS5kb2N1bWVudCwgJ2J1dHRvbicsIHt9KTtcbiAgICByZXR1cm4gdGhpcy5hdHRhY2goYnV0dG9uLCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIHRoZSBDbGFzc2ljICdTdWJzY3JpYmUgV2l0aCBHb29nbGUnIGJ1dHRvbi5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gYnV0dG9uXG4gICAqIEBwYXJhbSB7Li4vYXBpL3N1YnNjcmlwdGlvbnMuQnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGF0dGFjaChidXR0b24sIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnNldHVwQnV0dG9uQW5kR2V0UGFyYW1zXyhcbiAgICAgIGJ1dHRvbixcbiAgICAgIEFuYWx5dGljc0V2ZW50LkFDVElPTl9TV0dfQlVUVE9OX0NMSUNLLFxuICAgICAgb3B0aW9uc09yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja1xuICAgICkub3B0aW9ucztcblxuICAgIGNvbnN0IHRoZW1lID0gb3B0aW9uc1sndGhlbWUnXTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChgc3dnLWJ1dHRvbi0ke3RoZW1lfWApO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgaWYgKG9wdGlvbnNbJ2xhbmcnXSkge1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnbGFuZycsIG9wdGlvbnNbJ2xhbmcnXSk7XG4gICAgfVxuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXG4gICAgICAndGl0bGUnLFxuICAgICAgbXNnKFNXR19JMThOX1NUUklOR1MuU1VCU0NSSVBUSU9OX1RJVExFX0xBTkdfTUFQLCBidXR0b24pIHx8ICcnXG4gICAgKTtcbiAgICB0aGlzLmxvZ1N3Z0V2ZW50XyhBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX1NXR19CVVRUT04pO1xuXG4gICAgcmV0dXJuIGJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyB0aGUgbmV3IHN1YnNjcmliZSBidXR0b24sIGZvciBzdWJzY3JpcHRpb24gcHJvZHVjdCB0eXBlcy5cbiAgICogQHBhcmFtIHshRWxlbWVudH0gYnV0dG9uXG4gICAqIEBwYXJhbSB7Li4vYXBpL3N1YnNjcmlwdGlvbnMuQnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGF0dGFjaFN1YnNjcmliZUJ1dHRvbihidXR0b24sIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnNldHVwQnV0dG9uQW5kR2V0UGFyYW1zXyhcbiAgICAgIGJ1dHRvbixcbiAgICAgIEFuYWx5dGljc0V2ZW50LkFDVElPTl9TV0dfQlVUVE9OX1NIT1dfT0ZGRVJTX0NMSUNLLFxuICAgICAgb3B0aW9uc09yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja1xuICAgICkub3B0aW9ucztcblxuICAgIGNvbnN0IHRoZW1lID0gb3B0aW9uc1sndGhlbWUnXTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChgc3dnLWJ1dHRvbi12Mi0ke3RoZW1lfWApO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgaWYgKG9wdGlvbnNbJ2xhbmcnXSkge1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnbGFuZycsIG9wdGlvbnNbJ2xhbmcnXSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9uc1snZW5hYmxlJ10pIHtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGJ1dHRvbi4vKk9LKi8gaW5uZXJIVE1MID0gQlVUVE9OX0lOTkVSX0hUTUwucmVwbGFjZShcbiAgICAgICckdGhlbWUkJyxcbiAgICAgIHRoZW1lXG4gICAgKS5yZXBsYWNlKFxuICAgICAgJyR0ZXh0Q29udGVudCQnLFxuICAgICAgbXNnKFNXR19JMThOX1NUUklOR1MuU1VCU0NSSVBUSU9OX1RJVExFX0xBTkdfTUFQLCBidXR0b24pIHx8ICcnXG4gICAgKTtcbiAgICB0aGlzLmxvZ1N3Z0V2ZW50XyhBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX1NIT1dfT0ZGRVJTX1NXR19CVVRUT04pO1xuXG4gICAgcmV0dXJuIGJ1dHRvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyB0aGUgbmV3IGNvbnRyaWJ1dGUgYnV0dG9uLCBmb3IgY29udHJpYnV0aW9uIHByb2R1Y3QgdHlwZXMuXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGJ1dHRvblxuICAgKiBAcGFyYW0gey4uL2FwaS9zdWJzY3JpcHRpb25zLkJ1dHRvbk9wdGlvbnN8ZnVuY3Rpb24oKX0gb3B0aW9uc09yQ2FsbGJhY2tcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpPX0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7IUVsZW1lbnR9XG4gICAqL1xuICBhdHRhY2hDb250cmlidXRlQnV0dG9uKGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuc2V0dXBCdXR0b25BbmRHZXRQYXJhbXNfKFxuICAgICAgYnV0dG9uLFxuICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1NXR19CVVRUT05fU0hPV19DT05UUklCVVRJT05TX0NMSUNLLFxuICAgICAgb3B0aW9uc09yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja1xuICAgICkub3B0aW9ucztcblxuICAgIGNvbnN0IHRoZW1lID0gb3B0aW9uc1sndGhlbWUnXTtcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZChgc3dnLWJ1dHRvbi12Mi0ke3RoZW1lfWApO1xuICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gICAgaWYgKG9wdGlvbnNbJ2xhbmcnXSkge1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZSgnbGFuZycsIG9wdGlvbnNbJ2xhbmcnXSk7XG4gICAgfVxuICAgIGlmICghb3B0aW9uc1snZW5hYmxlJ10pIHtcbiAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGJ1dHRvbi4vKk9LKi8gaW5uZXJIVE1MID0gQlVUVE9OX0lOTkVSX0hUTUwucmVwbGFjZShcbiAgICAgICckdGhlbWUkJyxcbiAgICAgIHRoZW1lXG4gICAgKS5yZXBsYWNlKFxuICAgICAgJyR0ZXh0Q29udGVudCQnLFxuICAgICAgbXNnKFNXR19JMThOX1NUUklOR1MuQ09OVFJJQlVUSU9OX1RJVExFX0xBTkdfTUFQLCBidXR0b24pIHx8ICcnXG4gICAgKTtcbiAgICB0aGlzLmxvZ1N3Z0V2ZW50XyhBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX1NIT1dfQ09OVFJJQlVUSU9OU19TV0dfQlVUVE9OKTtcblxuICAgIHJldHVybiBidXR0b247XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoZXMgYWxsIGJ1dHRvbnMgd2l0aCB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZSBzZXQgdG8gYW55IG9mIHRoZVxuICAgKiBhdHRyaWJ1dGUgdmFsdWVzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlidXRlXG4gICAqIEBwYXJhbSB7IUFycmF5PHN0cmluZz59IGF0dHJpYnV0ZVZhbHVlc1xuICAgKiBAcGFyYW0gey4uL2FwaS9zdWJzY3JpcHRpb25zLkJ1dHRvbk9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgZnVuY3Rpb24oKT59IGF0dHJpYnV0ZVZhbHVlVG9DYWxsYmFja1xuICAgKi9cbiAgYXR0YWNoQnV0dG9uc1dpdGhBdHRyaWJ1dGUoXG4gICAgYXR0cmlidXRlLFxuICAgIGF0dHJpYnV0ZVZhbHVlcyxcbiAgICBvcHRpb25zLFxuICAgIGF0dHJpYnV0ZVZhbHVlVG9DYWxsYmFja1xuICApIHtcbiAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZVZhbHVlIG9mIGF0dHJpYnV0ZVZhbHVlcykge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmRvY19cbiAgICAgICAgLmdldFJvb3ROb2RlKClcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoYFske2F0dHJpYnV0ZX09XCIke2F0dHJpYnV0ZVZhbHVlfVwiXWApO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXR0cmlidXRlVmFsdWUgPT09IEJ1dHRvbkF0dHJpYnV0ZVZhbHVlcy5TVUJTQ1JJUFRJT04pIHtcbiAgICAgICAgICB0aGlzLmF0dGFjaFN1YnNjcmliZUJ1dHRvbihcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlVG9DYWxsYmFja1thdHRyaWJ1dGVWYWx1ZV1cbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZVZhbHVlID09PSBCdXR0b25BdHRyaWJ1dGVWYWx1ZXMuQ09OVFJJQlVUSU9OKSB7XG4gICAgICAgICAgdGhpcy5hdHRhY2hDb250cmlidXRlQnV0dG9uKFxuICAgICAgICAgICAgZWxlbWVudHNbaV0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgYXR0cmlidXRlVmFsdWVUb0NhbGxiYWNrW2F0dHJpYnV0ZVZhbHVlXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQW5hbHl0aWNzRXZlbnR9IGV2ZW50VHlwZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpc0Zyb21Vc2VyQWN0aW9uXG4gICAqL1xuICBsb2dTd2dFdmVudF8oZXZlbnRUeXBlLCBpc0Zyb21Vc2VyQWN0aW9uKSB7XG4gICAgdGhpcy5jb25maWd1cmVkUnVudGltZVByb21pc2VfLnRoZW4oKGNvbmZpZ3VyZWRSdW50aW1lKSA9PiB7XG4gICAgICBjb25maWd1cmVkUnVudGltZS5ldmVudE1hbmFnZXIoKS5sb2dTd2dFdmVudChldmVudFR5cGUsIGlzRnJvbVVzZXJBY3Rpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7Li4vYXBpL3N1YnNjcmlwdGlvbnMuQnV0dG9uT3B0aW9uc3wuLi9hcGkvc3Vic2NyaXB0aW9ucy5TbWFydEJ1dHRvbk9wdGlvbnN8ZnVuY3Rpb24oKX0gb3B0aW9uc09yQ2FsbGJhY2tcbiAgICogQHJldHVybiB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLkJ1dHRvbk9wdGlvbnN8IS4uL2FwaS9zdWJzY3JpcHRpb25zLlNtYXJ0QnV0dG9uT3B0aW9uc31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldE9wdGlvbnNfKG9wdGlvbnNPckNhbGxiYWNrKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9XG4gICAgICAvKiogQHR5cGUgeyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5CdXR0b25PcHRpb25zfCEuLi9hcGkvc3Vic2NyaXB0aW9ucy5TbWFydEJ1dHRvbk9wdGlvbnN9ICovIChcbiAgICAgICAgb3B0aW9uc09yQ2FsbGJhY2sgJiYgdHlwZW9mIG9wdGlvbnNPckNhbGxiYWNrICE9ICdmdW5jdGlvbidcbiAgICAgICAgICA/IG9wdGlvbnNPckNhbGxiYWNrXG4gICAgICAgICAgOiB7J3RoZW1lJzogVGhlbWUuTElHSFR9XG4gICAgICApO1xuXG4gICAgY29uc3QgdGhlbWUgPSBvcHRpb25zWyd0aGVtZSddO1xuICAgIGlmICh0aGVtZSAhPT0gVGhlbWUuTElHSFQgJiYgdGhlbWUgIT09IFRoZW1lLkRBUkspIHtcbiAgICAgIG9wdGlvbnNbJ3RoZW1lJ10gPSBUaGVtZS5MSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHs/Li4vYXBpL3N1YnNjcmlwdGlvbnMuQnV0dG9uT3B0aW9uc3w/Li4vYXBpL3N1YnNjcmlwdGlvbnMuU21hcnRCdXR0b25PcHRpb25zfGZ1bmN0aW9uKCl9IG9wdGlvbnNPckNhbGxiYWNrXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKT19IGNhbGxiYWNrXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9uKCl8ZnVuY3Rpb24oRXZlbnQpOmJvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRDYWxsYmFja18ob3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7ZnVuY3Rpb24oKXxmdW5jdGlvbihFdmVudCk6Ym9vbGVhbn0gKi8gKFxuICAgICAgKHR5cGVvZiBvcHRpb25zT3JDYWxsYmFjayA9PSAnZnVuY3Rpb24nID8gb3B0aW9uc09yQ2FsbGJhY2sgOiBudWxsKSB8fFxuICAgICAgICBjYWxsYmFja1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRWxlbWVudH0gYnV0dG9uXG4gICAqIEBwYXJhbSB7QW5hbHl0aWNzRXZlbnR9IGNsaWNrRXZlbnRcbiAgICogQHBhcmFtIHsuLi9hcGkvc3Vic2NyaXB0aW9ucy5TbWFydEJ1dHRvbk9wdGlvbnN8ZnVuY3Rpb24oKXwuLi9hcGkvc3Vic2NyaXB0aW9ucy5CdXR0b25PcHRpb25zfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja0Z1blxuICAgKiBAcmV0dXJuIHtCdXR0b25QYXJhbXN9XG4gICAqL1xuICBzZXR1cEJ1dHRvbkFuZEdldFBhcmFtc18oYnV0dG9uLCBjbGlja0V2ZW50LCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2tGdW4pIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5nZXRPcHRpb25zXyhvcHRpb25zT3JDYWxsYmFjayk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLmdldENhbGxiYWNrXyhvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2tGdW4pO1xuICAgIGNvbnN0IGNsaWNrRnVuID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmxvZ1N3Z0V2ZW50XyhjbGlja0V2ZW50LCB0cnVlKTtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2soZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tGdW4pO1xuICAgIHJldHVybiB7b3B0aW9ucywgY2xpY2tGdW59O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGJ1dHRvblxuICAgKiBAcGFyYW0gey4uL2FwaS9zdWJzY3JpcHRpb25zLlNtYXJ0QnV0dG9uT3B0aW9uc3xmdW5jdGlvbigpfSBvcHRpb25zT3JDYWxsYmFja1xuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCk9fSBjYWxsYmFja1xuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGF0dGFjaFNtYXJ0QnV0dG9uKGRlcHMsIGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcGFyYW1zID0gdGhpcy5zZXR1cEJ1dHRvbkFuZEdldFBhcmFtc18oXG4gICAgICBidXR0b24sXG4gICAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fU1dHX0JVVFRPTl9DTElDSyxcbiAgICAgIG9wdGlvbnNPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tcbiAgICApO1xuICAgIC8vIEFkZCByZXF1aXJlZCBDU1MgY2xhc3MsIGlmIG1pc3NpbmcuXG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3N3Zy1zbWFydC1idXR0b24nKTtcbiAgICByZXR1cm4gbmV3IFNtYXJ0U3Vic2NyaXB0aW9uQnV0dG9uQXBpKFxuICAgICAgZGVwcyxcbiAgICAgIGJ1dHRvbixcbiAgICAgIHBhcmFtcy5vcHRpb25zLFxuICAgICAgcGFyYW1zLmNsaWNrRnVuXG4gICAgKS5zdGFydCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge2lzQ2FuY2VsRXJyb3J9IGZyb20gJy4uL3V0aWxzL2Vycm9ycyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5cbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuY29uc3QgQ2FsbGJhY2tJZCA9IHtcbiAgRU5USVRMRU1FTlRTOiAxLFxuICBTVUJTQ1JJQkVfUkVRVUVTVDogMixcbiAgUEFZTUVOVF9SRVNQT05TRTogMyxcbiAgTE9HSU5fUkVRVUVTVDogNCxcbiAgTElOS19QUk9HUkVTUzogNSxcbiAgTElOS19DT01QTEVURTogNixcbiAgRkxPV19TVEFSVEVEOiA3LFxuICBGTE9XX0NBTkNFTEVEOiA4LFxuICBQQVlfQ09ORklSTV9PUEVORUQ6IDksXG4gIE9GRkVSU19GTE9XX1JFUVVFU1Q6IDEwLFxufTtcblxuLyoqXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsYmFja3Mge1xuICAvKipcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8Q2FsbGJhY2tJZCwgZnVuY3Rpb24oKik+fSAqL1xuICAgIHRoaXMuY2FsbGJhY2tzXyA9IHt9O1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8Q2FsbGJhY2tJZCwgKj59ICovXG4gICAgdGhpcy5yZXN1bHRCdWZmZXJfID0ge307XG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLnBheW1lbnRSZXNwb25zZVByb21pc2VfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFQcm9taXNlPCEuLi9hcGkvZW50aXRsZW1lbnRzLkVudGl0bGVtZW50cz4pfSBjYWxsYmFja1xuICAgKi9cbiAgc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZShjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FsbGJhY2tfKENhbGxiYWNrSWQuRU5USVRMRU1FTlRTLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUHJvbWlzZTwhLi4vYXBpL2VudGl0bGVtZW50cy5FbnRpdGxlbWVudHM+fSBwcm9taXNlXG4gICAqL1xuICB0cmlnZ2VyRW50aXRsZW1lbnRzUmVzcG9uc2UocHJvbWlzZSkge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJfKFxuICAgICAgQ2FsbGJhY2tJZC5FTlRJVExFTUVOVFMsXG4gICAgICBwcm9taXNlLnRoZW4oKHJlcykgPT4gcmVzLmNsb25lKCkpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzRW50aXRsZW1lbnRzUmVzcG9uc2VQZW5kaW5nKCkge1xuICAgIHJldHVybiAhIXRoaXMucmVzdWx0QnVmZmVyX1tDYWxsYmFja0lkLkVOVElUTEVNRU5UU107XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbighLi4vYXBpL3N1YnNjcmlwdGlvbnMuTG9naW5SZXF1ZXN0KX0gY2FsbGJhY2tcbiAgICovXG4gIHNldE9uTG9naW5SZXF1ZXN0KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYWxsYmFja18oQ2FsbGJhY2tJZC5MT0dJTl9SRVFVRVNULCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuTG9naW5SZXF1ZXN0fSByZXF1ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGZvdW5kLlxuICAgKi9cbiAgdHJpZ2dlckxvZ2luUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIHRoaXMudHJpZ2dlcl8oQ2FsbGJhY2tJZC5MT0dJTl9SRVFVRVNULCByZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrXG4gICAqL1xuICBzZXRPbkxpbmtQcm9ncmVzcyhjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FsbGJhY2tfKENhbGxiYWNrSWQuTElOS19QUk9HUkVTUywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGZvdW5kLlxuICAgKi9cbiAgdHJpZ2dlckxpbmtQcm9ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy50cmlnZ2VyXyhDYWxsYmFja0lkLkxJTktfUFJPR1JFU1MsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqL1xuICByZXNldExpbmtQcm9ncmVzcygpIHtcbiAgICB0aGlzLnJlc2V0Q2FsbGJhY2tfKENhbGxiYWNrSWQuTElOS19QUk9HUkVTUyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFja1xuICAgKi9cbiAgc2V0T25MaW5rQ29tcGxldGUoY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldENhbGxiYWNrXyhDYWxsYmFja0lkLkxJTktfQ09NUExFVEUsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBmb3VuZC5cbiAgICovXG4gIHRyaWdnZXJMaW5rQ29tcGxldGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudHJpZ2dlcl8oQ2FsbGJhY2tJZC5MSU5LX0NPTVBMRVRFLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzTGlua0NvbXBsZXRlUGVuZGluZygpIHtcbiAgICByZXR1cm4gISF0aGlzLnJlc3VsdEJ1ZmZlcl9bQ2FsbGJhY2tJZC5MSU5LX0NPTVBMRVRFXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCEuLi91aS9hY3Rpdml0eS1pZnJhbWUtdmlldy5BY3Rpdml0eUlmcmFtZVZpZXcpfSBjYWxsYmFja1xuICAgKi9cbiAgc2V0T25QYXlDb25maXJtT3BlbmVkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYWxsYmFja18oQ2FsbGJhY2tJZC5QQVlfQ09ORklSTV9PUEVORUQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi91aS9hY3Rpdml0eS1pZnJhbWUtdmlldy5BY3Rpdml0eUlmcmFtZVZpZXd9IGFjdGl2aXR5SWZyYW1lVmlld1xuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBmb3VuZC5cbiAgICovXG4gIHRyaWdnZXJQYXlDb25maXJtT3BlbmVkKGFjdGl2aXR5SWZyYW1lVmlldykge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJfKENhbGxiYWNrSWQuUEFZX0NPTkZJUk1fT1BFTkVELCBhY3Rpdml0eUlmcmFtZVZpZXcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAgICovXG4gIHNldE9uU3Vic2NyaWJlUmVxdWVzdChjYWxsYmFjaykge1xuICAgIHRoaXMuc2V0Q2FsbGJhY2tfKENhbGxiYWNrSWQuU1VCU0NSSUJFX1JFUVVFU1QsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBmb3VuZC5cbiAgICovXG4gIHRyaWdnZXJTdWJzY3JpYmVSZXF1ZXN0KCkge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJfKENhbGxiYWNrSWQuU1VCU0NSSUJFX1JFUVVFU1QsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNTdWJzY3JpYmVSZXF1ZXN0Q2FsbGJhY2soKSB7XG4gICAgcmV0dXJuICEhdGhpcy5jYWxsYmFja3NfW0NhbGxiYWNrSWQuU1VCU0NSSUJFX1JFUVVFU1RdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAgICovXG4gIHNldE9uT2ZmZXJzRmxvd1JlcXVlc3QoY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldENhbGxiYWNrXyhDYWxsYmFja0lkLk9GRkVSU19GTE9XX1JFUVVFU1QsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBmb3VuZC5cbiAgICovXG4gIHRyaWdnZXJPZmZlcnNGbG93UmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy50cmlnZ2VyXyhDYWxsYmFja0lkLk9GRkVSU19GTE9XX1JFUVVFU1QsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXNPZmZlcnNGbG93UmVxdWVzdENhbGxiYWNrKCkge1xuICAgIHJldHVybiAhIXRoaXMuY2FsbGJhY2tzX1tDYWxsYmFja0lkLk9GRkVSU19GTE9XX1JFUVVFU1RdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IS4uL2FwaS9zdWJzY3JpYmUtcmVzcG9uc2UuU3Vic2NyaWJlUmVzcG9uc2U+KX0gY2FsbGJhY2tcbiAgICovXG4gIHNldE9uU3Vic2NyaWJlUmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICB3YXJuKFxuICAgICAgYFtzd2cuanM6c2V0T25TdWJzY3JpYmVSZXNwb25zZV06IFRoaXMgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSBzd2l0Y2ggdXNhZ2VzIHRvICdzZXRPblBheW1lbnRSZXNwb25zZSdgXG4gICAgKTtcbiAgICB0aGlzLnNldENhbGxiYWNrXyhDYWxsYmFja0lkLlBBWU1FTlRfUkVTUE9OU0UsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFQcm9taXNlPCEuLi9hcGkvc3Vic2NyaWJlLXJlc3BvbnNlLlN1YnNjcmliZVJlc3BvbnNlPil9IGNhbGxiYWNrXG4gICAqL1xuICBzZXRPbkNvbnRyaWJ1dGlvblJlc3BvbnNlKGNhbGxiYWNrKSB7XG4gICAgd2FybihcbiAgICAgIGBbc3dnLmpzOnNldE9uQ29udHJpYnV0aW9uUmVzcG9uc2VdOiBUaGlzIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2Ugc3dpdGNoIHVzYWdlcyB0byAnc2V0T25QYXltZW50UmVzcG9uc2UnYFxuICAgICk7XG4gICAgdGhpcy5zZXRDYWxsYmFja18oQ2FsbGJhY2tJZC5QQVlNRU5UX1JFU1BPTlNFLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbighUHJvbWlzZTwhLi4vYXBpL3N1YnNjcmliZS1yZXNwb25zZS5TdWJzY3JpYmVSZXNwb25zZT4pfSBjYWxsYmFja1xuICAgKi9cbiAgc2V0T25QYXltZW50UmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLnNldENhbGxiYWNrXyhDYWxsYmFja0lkLlBBWU1FTlRfUkVTUE9OU0UsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFQcm9taXNlPCEuLi9hcGkvc3Vic2NyaWJlLXJlc3BvbnNlLlN1YnNjcmliZVJlc3BvbnNlPn0gcmVzcG9uc2VQcm9taXNlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGZvdW5kLlxuICAgKi9cbiAgdHJpZ2dlclBheW1lbnRSZXNwb25zZShyZXNwb25zZVByb21pc2UpIHtcbiAgICB0aGlzLnBheW1lbnRSZXNwb25zZVByb21pc2VfID0gcmVzcG9uc2VQcm9taXNlLnRoZW4oXG4gICAgICAocmVzKSA9PiB7XG4gICAgICAgIHRoaXMudHJpZ2dlcl8oXG4gICAgICAgICAgQ2FsbGJhY2tJZC5QQVlNRU5UX1JFU1BPTlNFLFxuICAgICAgICAgIFByb21pc2UucmVzb2x2ZShyZXMuY2xvbmUoKSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmIChpc0NhbmNlbEVycm9yKHJlYXNvbikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICEhdGhpcy5jYWxsYmFja3NfW0NhbGxiYWNrSWQuUEFZTUVOVF9SRVNQT05TRV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGhhc1BheW1lbnRSZXNwb25zZVBlbmRpbmcoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5yZXN1bHRCdWZmZXJfW0NhbGxiYWNrSWQuUEFZTUVOVF9SRVNQT05TRV07XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbih7Zmxvdzogc3RyaW5nLCBkYXRhOiAhT2JqZWN0fSl9IGNhbGxiYWNrXG4gICAqL1xuICBzZXRPbkZsb3dTdGFydGVkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYWxsYmFja18oQ2FsbGJhY2tJZC5GTE9XX1NUQVJURUQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZmxvd1xuICAgKiBAcGFyYW0geyFPYmplY3Q9fSBkYXRhXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGZvdW5kLlxuICAgKi9cbiAgdHJpZ2dlckZsb3dTdGFydGVkKGZsb3csIGRhdGEgPSB7fSkge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJfKENhbGxiYWNrSWQuRkxPV19TVEFSVEVELCB7XG4gICAgICBmbG93LFxuICAgICAgZGF0YSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHtmbG93OiBzdHJpbmcsIGRhdGE6ICFPYmplY3R9KX0gY2FsbGJhY2tcbiAgICovXG4gIHNldE9uRmxvd0NhbmNlbGVkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zZXRDYWxsYmFja18oQ2FsbGJhY2tJZC5GTE9XX0NBTkNFTEVELCBjYWxsYmFjayk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZsb3dcbiAgICogQHBhcmFtIHshT2JqZWN0PX0gZGF0YVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBmb3VuZC5cbiAgICovXG4gIHRyaWdnZXJGbG93Q2FuY2VsZWQoZmxvdywgZGF0YSA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMudHJpZ2dlcl8oQ2FsbGJhY2tJZC5GTE9XX0NBTkNFTEVELCB7XG4gICAgICBmbG93LFxuICAgICAgZGF0YSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFDYWxsYmFja0lkfSBpZFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pfSBjYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0Q2FsbGJhY2tfKGlkLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmNhbGxiYWNrc19baWRdKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgW3N3Zy5qc106IFlvdSBoYXZlIHJlZ2lzdGVyZWQgbXVsdGlwbGUgY2FsbGJhY2tzIGZvciB0aGUgc2FtZSByZXNwb25zZS5gXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNhbGxiYWNrc19baWRdID0gY2FsbGJhY2s7XG4gICAgLy8gSWYgcmVzdWx0IGFscmVhZHkgZXhpc3QsIGV4ZWN1dGUgdGhlIGNhbGxiYWNrIHJpZ2h0IGF3YXkuXG4gICAgaWYgKGlkIGluIHRoaXMucmVzdWx0QnVmZmVyXykge1xuICAgICAgdGhpcy5leGVjdXRlQ2FsbGJhY2tfKGlkLCBjYWxsYmFjaywgdGhpcy5yZXN1bHRCdWZmZXJfW2lkXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUNhbGxiYWNrSWR9IGlkXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdHJpZ2dlcl8oaWQsIGRhdGEpIHtcbiAgICB0aGlzLnJlc3VsdEJ1ZmZlcl9baWRdID0gZGF0YTtcbiAgICBjb25zdCBjYWxsYmFjayA9IHRoaXMuY2FsbGJhY2tzX1tpZF07XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmV4ZWN1dGVDYWxsYmFja18oaWQsIGNhbGxiYWNrLCBkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuICEhY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQ2FsbGJhY2tJZH0gaWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHJlc2V0Q2FsbGJhY2tfKGlkKSB7XG4gICAgaWYgKGlkIGluIHRoaXMucmVzdWx0QnVmZmVyXykge1xuICAgICAgZGVsZXRlIHRoaXMucmVzdWx0QnVmZmVyX1tpZF07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUNhbGxiYWNrSWR9IGlkXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKil9IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZXhlY3V0ZUNhbGxiYWNrXyhpZCwgY2FsbGJhY2ssIGRhdGEpIHtcbiAgICAvLyBBbHdheXMgZXhlY3V0ZSBjYWxsYmFja3MgaW4gYSBtaWNyb3Rhc2suXG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgIHRoaXMucmVzZXRDYWxsYmFja18oaWQpO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDIxIFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7QXR0cmlidXRpb25QYXJhbXN9IGZyb20gJy4uL21vZGVsL2F0dHJpYnV0aW9uLXBhcmFtcyc7XG5pbXBvcnQge0F1dG9Qcm9tcHRDb25maWd9IGZyb20gJy4uL21vZGVsL2F1dG8tcHJvbXB0LWNvbmZpZyc7XG5pbXBvcnQge0NsaWVudENvbmZpZywgVWlQcmVkaWNhdGVzfSBmcm9tICcuLi9tb2RlbC9jbGllbnQtY29uZmlnJztcbmltcG9ydCB7Q2xpZW50VGhlbWV9IGZyb20gJy4uL2FwaS9iYXNpYy1zdWJzY3JpcHRpb25zJztcbmltcG9ydCB7c2VydmljZVVybH0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5cbi8qKlxuICogTWFuYWdlciBvZiBob3cgdGhlIGNsaWVudCBzaG91bGQgYmUgY29uZmlndXJlZC4gRmV0Y2hlcyBhbmQgc3RvcmVzXG4gKiBjb25maWd1cmF0aW9uIGRldGFpbHMgZnJvbSB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY2xhc3MgQ2xpZW50Q29uZmlnTWFuYWdlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVibGljYXRpb25JZFxuICAgKiBAcGFyYW0geyEuL2ZldGNoZXIuRmV0Y2hlcn0gZmV0Y2hlclxuICAgKiBAcGFyYW0geyEuLi9hcGkvYmFzaWMtc3Vic2NyaXB0aW9ucy5DbGllbnRPcHRpb25zPX0gY2xpZW50T3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcywgcHVibGljYXRpb25JZCwgZmV0Y2hlciwgY2xpZW50T3B0aW9ucykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2RlcHMuRGVwc0RlZn0gKi9cbiAgICB0aGlzLmRlcHNfID0gZGVwcztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9hcGkvYmFzaWMtc3Vic2NyaXB0aW9ucy5DbGllbnRPcHRpb25zfSAqL1xuICAgIHRoaXMuY2xpZW50T3B0aW9uc18gPSBjbGllbnRPcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMucHVibGljYXRpb25JZF8gPSBwdWJsaWNhdGlvbklkO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZmV0Y2hlci5GZXRjaGVyfSAqL1xuICAgIHRoaXMuZmV0Y2hlcl8gPSBmZXRjaGVyO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZTwhQ2xpZW50Q29uZmlnPn0gKi9cbiAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Q2xpZW50Q29uZmlnfSAqL1xuICAgIHRoaXMuZGVmYXVsdENvbmZpZ18gPSBuZXcgQ2xpZW50Q29uZmlnKHtcbiAgICAgIHNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW46IHRoaXMuY2xpZW50T3B0aW9uc18uc2tpcEFjY291bnRDcmVhdGlvblNjcmVlbixcbiAgICAgIHVzZVByZWZpeGVkSG9zdFBhdGg6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgY2xpZW50IGNvbmZpZyBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSB7UHJvbWlzZTx2b2lkPj19IHJlYWR5UHJvbWlzZSBvcHRpb25hbCBwcm9taXNlIHRvIHdhaXQgb24gYmVmb3JlXG4gICAqIGF0dGVtcHRpbmcgdG8gZmV0Y2ggdGhlIGNsaWVudENvbmZpZ3VyYXRpb24uXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFDbGllbnRDb25maWc+fVxuICAgKi9cbiAgZmV0Y2hDbGllbnRDb25maWcocmVhZHlQcm9taXNlKSB7XG4gICAgaWYgKCF0aGlzLnB1YmxpY2F0aW9uSWRfKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZldGNoQ2xpZW50Q29uZmlnIHJlcXVpcmVzIHB1YmxpY2F0aW9uSWQnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnJlc3BvbnNlUHJvbWlzZV8pIHtcbiAgICAgIHJlYWR5UHJvbWlzZSA9IHJlYWR5UHJvbWlzZSB8fCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHRoaXMucmVzcG9uc2VQcm9taXNlXyA9IHJlYWR5UHJvbWlzZS50aGVuKCgpID0+IHRoaXMuZmV0Y2hfKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNsaWVudCBjb25maWcsIGlmIGFscmVhZHkgcmVxdWVzdGVkLiBPdGhlcndpc2UgcmV0dXJucyBhIFByb21pc2VcbiAgICogd2l0aCBhbiBlbXB0eSBDbGllbnRDb25maWcuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFDbGllbnRDb25maWc+fVxuICAgKi9cbiAgZ2V0Q2xpZW50Q29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZV8gfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuZGVmYXVsdENvbmZpZ18pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgcmV0cmlldmluZyB0aGUgYXV0byBwcm9tcHQgcG9ydGlvbiBvZiB0aGUgY2xpZW50XG4gICAqIGNvbmZpZ3VyYXRpb24uXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCEuLi9tb2RlbC9hdXRvLXByb21wdC1jb25maWcuQXV0b1Byb21wdENvbmZpZ3x1bmRlZmluZWQ+fVxuICAgKi9cbiAgZ2V0QXV0b1Byb21wdENvbmZpZygpIHtcbiAgICBpZiAoIXRoaXMucmVzcG9uc2VQcm9taXNlXykge1xuICAgICAgdGhpcy5mZXRjaENsaWVudENvbmZpZygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZVByb21pc2VfLnRoZW4oXG4gICAgICAoY2xpZW50Q29uZmlnKSA9PiBjbGllbnRDb25maWcuYXV0b1Byb21wdENvbmZpZ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbGFuZ3VhZ2UgdGhlIFVJIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4uIFNlZVxuICAgKiBzcmMvYXBpL2Jhc2ljLXN1YnNjcmlwdGlvbnMuQ2xpZW50T3B0aW9ucy5sYW5nLlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBnZXRMYW5ndWFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRPcHRpb25zXy5sYW5nIHx8ICdlbic7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdGhlbWUgdGhlIFVJIHNob3VsZCBiZSBkaXNwbGF5ZWQgaW4uIFNlZVxuICAgKiBzcmMvYXBpL2Jhc2ljLXN1YnNjcmlwdGlvbnMuQ2xpZW50T3B0aW9ucy50aGVtZS5cbiAgICogQHJldHVybiB7IS4uL2FwaS9iYXNpYy1zdWJzY3JpcHRpb25zLkNsaWVudFRoZW1lfVxuICAgKi9cbiAgZ2V0VGhlbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50T3B0aW9uc18udGhlbWUgfHwgQ2xpZW50VGhlbWUuTElHSFQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHNjcm9sbGluZyBvbiBtYWluIHBhZ2Ugc2hvdWxkIGJlIGFsbG93ZWQgd2hlblxuICAgKiBzdWJzY3JpcHRpb24gb3IgY29udHJpYnV0aW9uIGRpYWxvZyBpcyBkaXNwbGF5ZWQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzaG91bGRBbGxvd1Njcm9sbCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmNsaWVudE9wdGlvbnNfLmFsbG93U2Nyb2xsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciBpZnJhbWVzIHNob3VsZCBhbHNvIHVzZSB0aGUgbGFuZ3VhZ2Ugc3BlY2lmaWVkIGluIHRoZVxuICAgKiBjbGllbnQgb3B0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGRlZmF1bHQgb2YgbGV0dGluZyB0aGUgaWZyYW1lcyBkZWNpZGUgdGhlXG4gICAqIGRpc3BsYXkgbGFuZ3VhZ2UuIE5vdGUgdGhhdCB0aGlzIHdpbGwgcmV0dXJuIGZhbHNlIGlmIHRoZSBsYW5nIG9wdGlvbiBpc1xuICAgKiBub3Qgc2V0LCBldmVuIGlmIGZvcmNlTGFuZ0luSWZyYW1lcyB3YXMgc2V0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc2hvdWxkRm9yY2VMYW5nSW5JZnJhbWVzKCkge1xuICAgIHJldHVybiAoXG4gICAgICAhIXRoaXMuY2xpZW50T3B0aW9uc18uZm9yY2VMYW5nSW5JZnJhbWVzICYmICEhdGhpcy5jbGllbnRPcHRpb25zXy5sYW5nXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdWJzY3JpcHRpb24gb3IgY29udHJpYnV0aW9uIGJ1dHRvbiBzaG91bGQgYmUgZGlzYWJsZWQuXG4gICAqIEByZXR1cm5zIHshUHJvbWlzZTxib29sZWFufHVuZGVmaW5lZD59XG4gICAqL1xuICBzaG91bGRFbmFibGVCdXR0b24oKSB7XG4gICAgLy8gRGlzYWJsZSBidXR0b24gaWYgZGlzYWJsZUJ1dHRvbiBpcyBzZXQgdG8gYmUgdHJ1ZSBpbiBjbGllbnRPcHRpb25zLlxuICAgIC8vIElmIGRpc2FibGVCdXR0b24gaXMgc2V0IHRvIGJlIGZhbHNlIG9yIG5vdCBzZXQsIHRoZW4gYWx3YXlzIGVuYWJsZSBidXR0b24uXG4gICAgLy8gVGhpcyBpcyBmb3IgdGVzdGluZyBwdXJwb3NlLlxuICAgIGlmICh0aGlzLmNsaWVudE9wdGlvbnNfLmRpc2FibGVCdXR0b24pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yZXNwb25zZVByb21pc2VfKSB7XG4gICAgICB0aGlzLmZldGNoQ2xpZW50Q29uZmlnKCk7XG4gICAgfVxuICAgIC8vIFVJIHByZWRpY2F0ZXMgZGVjaWRlcyB3aGV0aGVyIHRvIGVuYWJsZSBidXR0b24uXG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlXy50aGVuKChjbGllbnRDb25maWcpID0+IHtcbiAgICAgIGlmIChjbGllbnRDb25maWcudWlQcmVkaWNhdGVzPy5jYW5EaXNwbGF5QnV0dG9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIGNsaWVudCBjb25maWcgZnJvbSB0aGUgc2VydmVyLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQ2xpZW50Q29uZmlnPn1cbiAgICovXG4gIGZldGNoXygpIHtcbiAgICByZXR1cm4gdGhpcy5kZXBzX1xuICAgICAgLmVudGl0bGVtZW50c01hbmFnZXIoKVxuICAgICAgLmdldEFydGljbGUoKVxuICAgICAgLnRoZW4oKGFydGljbGUpID0+IHtcbiAgICAgICAgaWYgKGFydGljbGUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUNsaWVudENvbmZpZ18oYXJ0aWNsZVsnY2xpZW50Q29uZmlnJ10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBhcnRpY2xlIGZyb20gdGhlIGVudGl0bGVtZW50IG1hbmFnZXIsIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBmZXRjaCBvdXIgb3duIHVzaW5nIHRoZSBpbnRlcm5hbCB2ZXJzaW9uLlxuICAgICAgICAgIGNvbnN0IHVybCA9IHNlcnZpY2VVcmwoXG4gICAgICAgICAgICAnL3B1YmxpY2F0aW9uLycgK1xuICAgICAgICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodGhpcy5wdWJsaWNhdGlvbklkXykgK1xuICAgICAgICAgICAgICAnL2NsaWVudGNvbmZpZ3VyYXRpb24nXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mZXRjaGVyXy5mZXRjaENyZWRlbnRpYWxlZEpzb24odXJsKS50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgICBpZiAoanNvbi5lcnJvck1lc3NhZ2VzICYmIGpzb24uZXJyb3JNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgZXJyb3JNZXNzYWdlIG9mIGpzb24uZXJyb3JNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1N3RyBDbGllbnRDb25maWdNYW5hZ2VyOiAnICsgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VDbGllbnRDb25maWdfKGpzb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIGZldGNoZWQgY29uZmlnIGludG8gdGhlIENsaWVudENvbmZpZyBjb250YWluZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0geyFPYmplY3R9IGpzb25cbiAgICogQHJldHVybiB7IUNsaWVudENvbmZpZ31cbiAgICovXG4gIHBhcnNlQ2xpZW50Q29uZmlnXyhqc29uKSB7XG4gICAgY29uc3QgcGF5U3dnVmVyc2lvbiA9IGpzb25bJ3BheVN3Z1ZlcnNpb24nXTtcbiAgICBjb25zdCBhdXRvUHJvbXB0Q29uZmlnSnNvbiA9IGpzb25bJ2F1dG9Qcm9tcHRDb25maWcnXTtcbiAgICBsZXQgYXV0b1Byb21wdENvbmZpZyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoYXV0b1Byb21wdENvbmZpZ0pzb24pIHtcbiAgICAgIGF1dG9Qcm9tcHRDb25maWcgPSBuZXcgQXV0b1Byb21wdENvbmZpZyh7XG4gICAgICAgIGRpc3BsYXlEZWxheVNlY29uZHM6XG4gICAgICAgICAgYXV0b1Byb21wdENvbmZpZ0pzb24uY2xpZW50RGlzcGxheVRyaWdnZXI/LmRpc3BsYXlEZWxheVNlY29uZHMsXG4gICAgICAgIGRpc21pc3NhbEJhY2tPZmZTZWNvbmRzOlxuICAgICAgICAgIGF1dG9Qcm9tcHRDb25maWdKc29uLmV4cGxpY2l0RGlzbWlzc2FsQ29uZmlnPy5iYWNrT2ZmU2Vjb25kcyxcbiAgICAgICAgbWF4RGlzbWlzc2Fsc1BlcldlZWs6XG4gICAgICAgICAgYXV0b1Byb21wdENvbmZpZ0pzb24uZXhwbGljaXREaXNtaXNzYWxDb25maWc/Lm1heERpc21pc3NhbHNQZXJXZWVrLFxuICAgICAgICBtYXhEaXNtaXNzYWxzUmVzdWx0aW5nSGlkZVNlY29uZHM6XG4gICAgICAgICAgYXV0b1Byb21wdENvbmZpZ0pzb24uZXhwbGljaXREaXNtaXNzYWxDb25maWdcbiAgICAgICAgICAgID8ubWF4RGlzbWlzc2Fsc1Jlc3VsdGluZ0hpZGVTZWNvbmRzLFxuICAgICAgICBpbXByZXNzaW9uQmFja09mZlNlY29uZHM6XG4gICAgICAgICAgYXV0b1Byb21wdENvbmZpZ0pzb24uaW1wcmVzc2lvbkNvbmZpZz8uYmFja09mZlNlY29uZHMsXG4gICAgICAgIG1heEltcHJlc3Npb25zOiBhdXRvUHJvbXB0Q29uZmlnSnNvbi5pbXByZXNzaW9uQ29uZmlnPy5tYXhJbXByZXNzaW9ucyxcbiAgICAgICAgbWF4SW1wcmVzc2lvbnNSZXN1bHRpbmdIaWRlU2Vjb25kczpcbiAgICAgICAgICBhdXRvUHJvbXB0Q29uZmlnSnNvbi5pbXByZXNzaW9uQ29uZmlnXG4gICAgICAgICAgICA/Lm1heEltcHJlc3Npb25zUmVzdWx0aW5nSGlkZVNlY29uZHMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB1aVByZWRpY2F0ZXNKc29uID0ganNvblsndWlQcmVkaWNhdGVzJ107XG4gICAgbGV0IHVpUHJlZGljYXRlcyA9IHVuZGVmaW5lZDtcbiAgICBpZiAodWlQcmVkaWNhdGVzSnNvbikge1xuICAgICAgdWlQcmVkaWNhdGVzID0gbmV3IFVpUHJlZGljYXRlcyhcbiAgICAgICAgdWlQcmVkaWNhdGVzSnNvbi5jYW5EaXNwbGF5QXV0b1Byb21wdCxcbiAgICAgICAgdWlQcmVkaWNhdGVzSnNvbi5jYW5EaXNwbGF5QnV0dG9uLFxuICAgICAgICB1aVByZWRpY2F0ZXNKc29uLnB1cmNoYXNlVW5hdmFpbGFibGVSZWdpb25cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRpb25QYXJhbXNKc29uID0ganNvblsnYXR0cmlidXRpb25QYXJhbXMnXTtcbiAgICBsZXQgYXR0cmlidXRpb25QYXJhbXM7XG4gICAgaWYgKGF0dHJpYnV0aW9uUGFyYW1zSnNvbikge1xuICAgICAgYXR0cmlidXRpb25QYXJhbXMgPSBuZXcgQXR0cmlidXRpb25QYXJhbXMoXG4gICAgICAgIGF0dHJpYnV0aW9uUGFyYW1zSnNvbi5kaXNwbGF5TmFtZSxcbiAgICAgICAgYXR0cmlidXRpb25QYXJhbXNKc29uLmF2YXRhclVybFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENsaWVudENvbmZpZyh7XG4gICAgICBhdXRvUHJvbXB0Q29uZmlnLFxuICAgICAgcGF5U3dnVmVyc2lvbixcbiAgICAgIHVzZVByZWZpeGVkSG9zdFBhdGg6IGpzb25bJ3VzZVByZWZpeGVkSG9zdFBhdGgnXSxcbiAgICAgIHVzZVVwZGF0ZWRPZmZlckZsb3dzOiBqc29uWyd1c2VVcGRhdGVkT2ZmZXJGbG93cyddLFxuICAgICAgc2tpcEFjY291bnRDcmVhdGlvblNjcmVlbjogdGhpcy5jbGllbnRPcHRpb25zXy5za2lwQWNjb3VudENyZWF0aW9uU2NyZWVuLFxuICAgICAgdWlQcmVkaWNhdGVzLFxuICAgICAgYXR0cmlidXRpb25QYXJhbXMsXG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBbmFseXRpY3NFdmVudCwgRXZlbnRPcmlnaW5hdG9yfSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuaW1wb3J0IHtGaWx0ZXJSZXN1bHR9IGZyb20gJy4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGknO1xuaW1wb3J0IHtpc0Jvb2xlYW4sIGlzRW51bVZhbHVlLCBpc0Z1bmN0aW9uLCBpc09iamVjdH0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHtsb2d9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRlc2NyaWJlIGFuIGlzc3VlIHdpdGggYW4gZXZlbnQgb2JqZWN0XG4gKiBAcGFyYW0geyFzdHJpbmd9IHZhbHVlTmFtZVxuICogQHBhcmFtIHs/Kn0gdmFsdWVcbiAqIEByZXR1cm5zIHshc3RyaW5nfVxuICovXG5mdW5jdGlvbiBjcmVhdGVFdmVudEVycm9yTWVzc2FnZSh2YWx1ZU5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiAnRXZlbnQgaGFzIGFuIGludmFsaWQgJyArIHZhbHVlTmFtZSArICcoJyArIHZhbHVlICsgJyknO1xufVxuXG4vKipcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZXZlbnQgaXMgaW52YWxpZC5cbiAqIEBwYXJhbSB7IS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlRXZlbnQoZXZlbnQpIHtcbiAgaWYgKCFpc09iamVjdChldmVudCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50IG11c3QgYmUgYSB2YWxpZCBvYmplY3QnKTtcbiAgfVxuXG4gIGlmICghaXNFbnVtVmFsdWUoQW5hbHl0aWNzRXZlbnQsIGV2ZW50LmV2ZW50VHlwZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlRXZlbnRFcnJvck1lc3NhZ2UoJ2V2ZW50VHlwZScsIGV2ZW50LmV2ZW50VHlwZSkpO1xuICB9XG5cbiAgaWYgKCFpc0VudW1WYWx1ZShFdmVudE9yaWdpbmF0b3IsIGV2ZW50LmV2ZW50T3JpZ2luYXRvcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBjcmVhdGVFdmVudEVycm9yTWVzc2FnZSgnZXZlbnRPcmlnaW5hdG9yJywgZXZlbnQuZXZlbnRPcmlnaW5hdG9yKVxuICAgICk7XG4gIH1cblxuICBpZiAoXG4gICAgIWlzT2JqZWN0KGV2ZW50LmFkZGl0aW9uYWxQYXJhbWV0ZXJzKSAmJlxuICAgIGV2ZW50LmFkZGl0aW9uYWxQYXJhbWV0ZXJzICE9IG51bGxcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgY3JlYXRlRXZlbnRFcnJvck1lc3NhZ2UoXG4gICAgICAgICdhZGRpdGlvbmFsUGFyYW1ldGVycycsXG4gICAgICAgIGV2ZW50LmFkZGl0aW9uYWxQYXJhbWV0ZXJzXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGlmIChldmVudC5pc0Zyb21Vc2VyQWN0aW9uICE9IG51bGwgJiYgIWlzQm9vbGVhbihldmVudC5pc0Zyb21Vc2VyQWN0aW9uKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGNyZWF0ZUV2ZW50RXJyb3JNZXNzYWdlKCdpc0Zyb21Vc2VyQWN0aW9uJywgZXZlbnQuaXNGcm9tVXNlckFjdGlvbilcbiAgICApO1xuICB9XG59XG5cbi8qKiBAaW1wbGVtZW50cyB7Li4vYXBpL2NsaWVudC1ldmVudC1tYW5hZ2VyLWFwaS5DbGllbnRFdmVudE1hbmFnZXJBcGl9ICovXG5leHBvcnQgY2xhc3MgQ2xpZW50RXZlbnRNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnR9IGV2ZW50XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNQdWJsaXNoZXJFdmVudChldmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICBldmVudC5ldmVudE9yaWdpbmF0b3IgPT09IEV2ZW50T3JpZ2luYXRvci5QUk9QRU5TSVRZX0NMSUVOVCB8fFxuICAgICAgZXZlbnQuZXZlbnRPcmlnaW5hdG9yID09PSBFdmVudE9yaWdpbmF0b3IuUFVCTElTSEVSX0NMSUVOVCB8fFxuICAgICAgZXZlbnQuZXZlbnRPcmlnaW5hdG9yID09PSBFdmVudE9yaWdpbmF0b3IuQU1QX0NMSUVOVFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHshUHJvbWlzZX0gY29uZmlndXJlZFByb21pc2VcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZ3VyZWRQcm9taXNlKSB7XG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8ZnVuY3Rpb24oIS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnQsICghLi4vYXBpL2NsaWVudC1ldmVudC1tYW5hZ2VyLWFwaS5DbGllbnRFdmVudFBhcmFtc3x1bmRlZmluZWQpPSk+fSAqL1xuICAgIHRoaXMubGlzdGVuZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHshQXJyYXk8ZnVuY3Rpb24oIS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnQpOiFGaWx0ZXJSZXN1bHQ+fSAqL1xuICAgIHRoaXMuZmlsdGVyZXJzXyA9IFtdO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLmxhc3RBY3Rpb25fID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMuaXNSZWFkeVByb21pc2VfID0gY29uZmlndXJlZFByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlc1xuICAgKi9cbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudCBtYW5hZ2VyIGxpc3RlbmVycyBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdGhpcy5saXN0ZW5lcnNfLnB1c2gobGlzdGVuZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZXNcbiAgICovXG4gIHJlZ2lzdGVyRXZlbnRGaWx0ZXJlcihmaWx0ZXJlcikge1xuICAgIGlmICghaXNGdW5jdGlvbihmaWx0ZXJlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgbWFuYWdlciBmaWx0ZXJlcnMgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHRoaXMuZmlsdGVyZXJzXy5wdXNoKGZpbHRlcmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVzXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9jbGllbnQtZXZlbnQtbWFuYWdlci1hcGkuQ2xpZW50RXZlbnR9IGV2ZW50XG4gICAqIEBwYXJhbSB7KCEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50UGFyYW1zfHVuZGVmaW5lZCk9fSBldmVudFBhcmFtc1xuICAgKi9cbiAgbG9nRXZlbnQoZXZlbnQsIGV2ZW50UGFyYW1zID0gdW5kZWZpbmVkKSB7XG4gICAgdmFsaWRhdGVFdmVudChldmVudCk7XG4gICAgdGhpcy5sYXN0QWN0aW9uXyA9IHRoaXMuaXNSZWFkeVByb21pc2VfLnRoZW4oKCkgPT4ge1xuICAgICAgZm9yIChsZXQgZmlsdGVyZXIgPSAwOyBmaWx0ZXJlciA8IHRoaXMuZmlsdGVyZXJzXy5sZW5ndGg7IGZpbHRlcmVyKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5maWx0ZXJlcnNfW2ZpbHRlcmVyXShldmVudCkgPT09IEZpbHRlclJlc3VsdC5DQU5DRUxfRVZFTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2coZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGxpc3RlbmVyID0gMDsgbGlzdGVuZXIgPCB0aGlzLmxpc3RlbmVyc18ubGVuZ3RoOyBsaXN0ZW5lcisrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnNfW2xpc3RlbmVyXShldmVudCwgZXZlbnRQYXJhbXMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgbG9nKGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBldmVudCB3aXRoIHRoZSBhcmd1bWVudHMgcHJvdmlkZWQgYW5kIGNhbGxzIGxvZ0V2ZW50LlxuICAgKiBAcGFyYW0geyFBbmFseXRpY3NFdmVudH0gZXZlbnRUeXBlXG4gICAqIEBwYXJhbSB7P2Jvb2xlYW49fSBpc0Zyb21Vc2VyQWN0aW9uXG4gICAqIEBwYXJhbSB7Li4vcHJvdG8vYXBpX21lc3NhZ2VzLkV2ZW50UGFyYW1zPX0gZXZlbnRQYXJhbXNcbiAgICovXG4gIGxvZ1N3Z0V2ZW50KGV2ZW50VHlwZSwgaXNGcm9tVXNlckFjdGlvbiA9IGZhbHNlLCBldmVudFBhcmFtcyA9IG51bGwpIHtcbiAgICB0aGlzLmxvZ0V2ZW50KHtcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIGV2ZW50T3JpZ2luYXRvcjogRXZlbnRPcmlnaW5hdG9yLlNXR19DTElFTlQsXG4gICAgICBpc0Zyb21Vc2VyQWN0aW9uLFxuICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IGV2ZW50UGFyYW1zLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEByZXR1cm4geyFQcm9taXNlPG51bGw+fSAqL1xuICBnZXRSZWFkeVByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNSZWFkeVByb21pc2VfO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7QWN0aXZpdHlJZnJhbWVWaWV3fSBmcm9tICcuLi91aS9hY3Rpdml0eS1pZnJhbWUtdmlldyc7XG5pbXBvcnQge1xuICBBbHJlYWR5U3Vic2NyaWJlZFJlc3BvbnNlLFxuICBFbnRpdGxlbWVudHNSZXNwb25zZSxcbiAgU2t1U2VsZWN0ZWRSZXNwb25zZSxcbn0gZnJvbSAnLi4vcHJvdG8vYXBpX21lc3NhZ2VzJztcbmltcG9ydCB7UGF5U3RhcnRGbG93fSBmcm9tICcuL3BheS1mbG93JztcbmltcG9ydCB7UHJvZHVjdFR5cGUsIFN1YnNjcmlwdGlvbkZsb3dzfSBmcm9tICcuLi9hcGkvc3Vic2NyaXB0aW9ucyc7XG5pbXBvcnQge2ZlQXJncywgZmVVcmx9IGZyb20gJy4vc2VydmljZXMnO1xuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgQ29udHJpYnV0aW9ucyBmbG93LlxuICovXG5leHBvcnQgY2xhc3MgQ29udHJpYnV0aW9uc0Zsb3cge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuT2ZmZXJzUmVxdWVzdHx1bmRlZmluZWR9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlcHMsIG9wdGlvbnMpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuT2ZmZXJzUmVxdWVzdHx1bmRlZmluZWR9ICovXG4gICAgdGhpcy5vcHRpb25zXyA9IG9wdGlvbnM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IGRlcHMud2luKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9jbGllbnQtY29uZmlnLW1hbmFnZXIuQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gZGVwcy5jbGllbnRDb25maWdNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGRlcHMuYWN0aXZpdGllcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvZGlhbG9nLW1hbmFnZXIuRGlhbG9nTWFuYWdlcn0gKi9cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfID0gZGVwcy5kaWFsb2dNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBudWxsO1xuXG4gICAgLy8gRGVmYXVsdCB0byBzaG93aW5nIGNsb3NlIGJ1dHRvbi5cbiAgICBjb25zdCBpc0Nsb3NhYmxlID0gb3B0aW9ucz8uaXNDbG9zYWJsZSA/PyB0cnVlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IUFjdGl2aXR5SWZyYW1lVmlldz59ICovXG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdQcm9taXNlXyA9IHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl9cbiAgICAgIC5nZXRDbGllbnRDb25maWcoKVxuICAgICAgLnRoZW4oKGNsaWVudENvbmZpZykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG91bGRTaG93XyhjbGllbnRDb25maWcpXG4gICAgICAgICAgPyBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgICAgICAgICB0aGlzLndpbl8sXG4gICAgICAgICAgICAgIHRoaXMuYWN0aXZpdHlQb3J0c18sXG4gICAgICAgICAgICAgIHRoaXMuZ2V0VXJsXyhjbGllbnRDb25maWcsIGRlcHMucGFnZUNvbmZpZygpKSxcbiAgICAgICAgICAgICAgZmVBcmdzKHtcbiAgICAgICAgICAgICAgICAncHJvZHVjdElkJzogZGVwcy5wYWdlQ29uZmlnKCkuZ2V0UHJvZHVjdElkKCksXG4gICAgICAgICAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAgICAgICAgICAgJ3Byb2R1Y3RUeXBlJzogUHJvZHVjdFR5cGUuVUlfQ09OVFJJQlVUSU9OLFxuICAgICAgICAgICAgICAgICdsaXN0JzogKG9wdGlvbnMgJiYgb3B0aW9ucy5saXN0KSB8fCAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgJ3NrdXMnOiAob3B0aW9ucyAmJiBvcHRpb25zLnNrdXMpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgJ2lzQ2xvc2FibGUnOiBpc0Nsb3NhYmxlLFxuICAgICAgICAgICAgICAgICdzdXBwb3J0c0V2ZW50TWFuYWdlcic6IHRydWUsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAvKiBzaG91bGRGYWRlQm9keSAqLyB0cnVlXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtBbHJlYWR5U3Vic2NyaWJlZFJlc3BvbnNlfSByZXNwb25zZVxuICAgKi9cbiAgaGFuZGxlTGlua1JlcXVlc3RfKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLmdldFN1YnNjcmliZXJPck1lbWJlcigpKSB7XG4gICAgICB0aGlzLmRlcHNfLmNhbGxiYWNrcygpLnRyaWdnZXJMb2dpblJlcXVlc3Qoe1xuICAgICAgICBsaW5rUmVxdWVzdGVkOiAhIXJlc3BvbnNlLmdldExpbmtSZXF1ZXN0ZWQoKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NrdVNlbGVjdGVkUmVzcG9uc2V9IHJlc3BvbnNlXG4gICAqL1xuICBzdGFydFBheUZsb3dfKHJlc3BvbnNlKSB7XG4gICAgY29uc3Qgc2t1ID0gcmVzcG9uc2UuZ2V0U2t1KCk7XG4gICAgY29uc3QgaXNPbmVUaW1lID0gcmVzcG9uc2UuZ2V0T25lVGltZSgpO1xuICAgIGlmIChza3UpIHtcbiAgICAgIGNvbnN0IC8qKiBAdHlwZSB7Li4vYXBpL3N1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uUmVxdWVzdH0gKi8gY29udHJpYnV0aW9uUmVxdWVzdCA9XG4gICAgICAgICAge1xuICAgICAgICAgICAgJ3NrdUlkJzogc2t1LFxuICAgICAgICAgIH07XG4gICAgICBpZiAoaXNPbmVUaW1lKSB7XG4gICAgICAgIGNvbnRyaWJ1dGlvblJlcXVlc3RbJ29uZVRpbWUnXSA9IGlzT25lVGltZTtcbiAgICAgIH1cbiAgICAgIG5ldyBQYXlTdGFydEZsb3coXG4gICAgICAgIHRoaXMuZGVwc18sXG4gICAgICAgIGNvbnRyaWJ1dGlvblJlcXVlc3QsXG4gICAgICAgIFByb2R1Y3RUeXBlLlVJX0NPTlRSSUJVVElPTlxuICAgICAgKS5zdGFydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGNvbnRyaWJ1dGlvbnMgZmxvdyBvciBhbHJlYWR5TWVtYmVyIGZsb3cuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3UHJvbWlzZV8udGhlbigoYWN0aXZpdHlJZnJhbWVWaWV3KSA9PiB7XG4gICAgICBpZiAoIWFjdGl2aXR5SWZyYW1lVmlldykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0YXJ0L2NhbmNlbCBldmVudHMuXG4gICAgICB0aGlzLmRlcHNfXG4gICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAudHJpZ2dlckZsb3dTdGFydGVkKFN1YnNjcmlwdGlvbkZsb3dzLlNIT1dfQ09OVFJJQlVUSU9OX09QVElPTlMpO1xuICAgICAgYWN0aXZpdHlJZnJhbWVWaWV3Lm9uQ2FuY2VsKCgpID0+IHtcbiAgICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAgIC50cmlnZ2VyRmxvd0NhbmNlbGVkKFN1YnNjcmlwdGlvbkZsb3dzLlNIT1dfQ09OVFJJQlVUSU9OX09QVElPTlMpO1xuICAgICAgfSk7XG4gICAgICBhY3Rpdml0eUlmcmFtZVZpZXcub24oXG4gICAgICAgIEFscmVhZHlTdWJzY3JpYmVkUmVzcG9uc2UsXG4gICAgICAgIHRoaXMuaGFuZGxlTGlua1JlcXVlc3RfLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgICBhY3Rpdml0eUlmcmFtZVZpZXcub24oU2t1U2VsZWN0ZWRSZXNwb25zZSwgdGhpcy5zdGFydFBheUZsb3dfLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfID0gYWN0aXZpdHlJZnJhbWVWaWV3O1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl9cbiAgICAgICAgLmdldENsaWVudENvbmZpZygpXG4gICAgICAgIC50aGVuKChjbGllbnRDb25maWcpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dNYW5hZ2VyXy5vcGVuVmlldyhcbiAgICAgICAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyxcbiAgICAgICAgICAgIC8qIGhpZGRlbiAqLyBmYWxzZSxcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlhbG9nQ29uZmlnXyhcbiAgICAgICAgICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfLnNob3VsZEFsbG93U2Nyb2xsKClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGRpc3BsYXkgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgb3BlbmVkIGRpYWxvZy4gVXNlcyB0aGVcbiAgICogcmVzcG9uc2l2ZSBkZXNrdG9wIGRlc2lnbiBwcm9wZXJ0aWVzIGlmIHRoZSB1cGRhdGVkIG9mZmVyIGZsb3dzIFVJIChmb3JcbiAgICogU3dHIEJhc2ljKSBpcyBlbmFibGVkLiBQZXJtaXRzIG92ZXJyaWRlIHRvIGFsbG93IHNjcm9sbGluZy5cbiAgICogQHBhcmFtIHshLi4vbW9kZWwvY2xpZW50LWNvbmZpZy5DbGllbnRDb25maWd9IGNsaWVudENvbmZpZ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNob3VsZEFsbG93U2Nyb2xsXG4gICAqIEByZXR1cm4geyEuLi9jb21wb25lbnRzL2RpYWxvZy5EaWFsb2dDb25maWd9XG4gICAqL1xuICBnZXREaWFsb2dDb25maWdfKGNsaWVudENvbmZpZywgc2hvdWxkQWxsb3dTY3JvbGwpIHtcbiAgICByZXR1cm4gY2xpZW50Q29uZmlnLnVzZVVwZGF0ZWRPZmZlckZsb3dzICYmICFzaG91bGRBbGxvd1Njcm9sbFxuICAgICAgPyB7c2hvdWxkRGlzYWJsZUJvZHlTY3JvbGxpbmc6IHRydWV9XG4gICAgICA6IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGlzIGZsb3cgaXMgY29uZmlndXJlZCBhcyBlbmFibGVkLCBub3Qgc2hvd2luZ1xuICAgKiBldmVuIG9uIGV4cGxpY2l0IHN0YXJ0IHdoZW4gZmxhZyBpcyBjb25maWd1cmVkIGZhbHNlLlxuICAgKlxuICAgKiBAcGFyYW0geyEuLi9tb2RlbC9jbGllbnQtY29uZmlnLkNsaWVudENvbmZpZ30gY2xpZW50Q29uZmlnXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBzaG91bGRTaG93XyhjbGllbnRDb25maWcpIHtcbiAgICByZXR1cm4gY2xpZW50Q29uZmlnLnVpUHJlZGljYXRlcz8uY2FuRGlzcGxheUF1dG9Qcm9tcHQgIT09IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbXBsZXRlIFVSTCB0aGF0IHNob3VsZCBiZSB1c2VkIGZvciB0aGUgYWN0aXZpdHkgaUZyYW1lIHZpZXcuXG4gICAqIEBwYXJhbSB7IS4uL21vZGVsL2NsaWVudC1jb25maWcuQ2xpZW50Q29uZmlnfSBjbGllbnRDb25maWdcbiAgICogQHBhcmFtIHshLi4vbW9kZWwvcGFnZS1jb25maWcuUGFnZUNvbmZpZ30gcGFnZUNvbmZpZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBnZXRVcmxfKGNsaWVudENvbmZpZywgcGFnZUNvbmZpZykge1xuICAgIGlmICghY2xpZW50Q29uZmlnLnVzZVVwZGF0ZWRPZmZlckZsb3dzKSB7XG4gICAgICByZXR1cm4gZmVVcmwoJy9jb250cmlidXRpb25zaWZyYW1lJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl8uc2hvdWxkRm9yY2VMYW5nSW5JZnJhbWVzKCkpIHtcbiAgICAgIHJldHVybiBmZVVybCgnL2NvbnRyaWJ1dGlvbm9mZmVyc2lmcmFtZScsIHtcbiAgICAgICAgJ2hsJzogdGhpcy5jbGllbnRDb25maWdNYW5hZ2VyXy5nZXRMYW5ndWFnZSgpLFxuICAgICAgICAncHVibGljYXRpb25JZCc6IHBhZ2VDb25maWcuZ2V0UHVibGljYXRpb25JZCgpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZlVXJsKCcvY29udHJpYnV0aW9ub2ZmZXJzaWZyYW1lJywge1xuICAgICAgJ3B1YmxpY2F0aW9uSWQnOiBwYWdlQ29uZmlnLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyBcIm5vIGNvbnRyaWJ1dGlvbiBmb3VuZFwiIG9uIGFjdGl2aXR5IGlGcmFtZSB2aWV3LlxuICAgKi9cbiAgc2hvd05vRW50aXRsZW1lbnRGb3VuZFRvYXN0KCkge1xuICAgIGlmICh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pIHtcbiAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5leGVjdXRlKG5ldyBFbnRpdGxlbWVudHNSZXNwb25zZSgpKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpdml0eUlmcmFtZVZpZXd9IGZyb20gJy4uL3VpL2FjdGl2aXR5LWlmcmFtZS12aWV3JztcbmltcG9ydCB7QW5hbHl0aWNzRXZlbnR9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge0RlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2V9IGZyb20gJy4uL2FwaS9kZWZlcnJlZC1hY2NvdW50LWNyZWF0aW9uJztcbmltcG9ydCB7Snd0SGVscGVyfSBmcm9tICcuLi91dGlscy9qd3QnO1xuaW1wb3J0IHtQYXlDb21wbGV0ZUZsb3d9IGZyb20gJy4vcGF5LWZsb3cnO1xuaW1wb3J0IHtQdXJjaGFzZURhdGEsIFN1YnNjcmliZVJlc3BvbnNlfSBmcm9tICcuLi9hcGkvc3Vic2NyaWJlLXJlc3BvbnNlJztcbmltcG9ydCB7U3Vic2NyaXB0aW9uRmxvd3N9IGZyb20gJy4uL2FwaS9zdWJzY3JpcHRpb25zJztcbmltcG9ydCB7VXNlckRhdGF9IGZyb20gJy4uL2FwaS91c2VyLWRhdGEnO1xuaW1wb3J0IHtmZUFyZ3MsIGZlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7aXNDYW5jZWxFcnJvcn0gZnJvbSAnLi4vdXRpbHMvZXJyb3JzJztcblxuLyoqXG4gKiBUaGUgZmxvdyB0byBpbml0aWF0ZSBkZWZlcnJlZCBhY2NvdW50IHByb2Nlc3MuXG4gKiBTZWUgYFN1YnNjcmlwdGlvbnMuY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbmAgQVBJLlxuICovXG5leHBvcnQgY2xhc3MgRGVmZXJyZWRBY2NvdW50RmxvdyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKiBAcGFyYW0gez8uLi9hcGkvZGVmZXJyZWQtYWNjb3VudC1jcmVhdGlvbi5EZWZlcnJlZEFjY291bnRDcmVhdGlvblJlcXVlc3R9IG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlcHMsIG9wdGlvbnMpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IGRlcHMud2luKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGRlcHMuYWN0aXZpdGllcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvZGlhbG9nLW1hbmFnZXIuRGlhbG9nTWFuYWdlcn0gKi9cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfID0gZGVwcy5kaWFsb2dNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9BY3Rpdml0eUlmcmFtZVZpZXd9ICovXG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2V9ICovXG4gICAgdGhpcy5vcGVuUHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEB0eXBlIHshLi4vYXBpL2RlZmVycmVkLWFjY291bnQtY3JlYXRpb24uRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25SZXF1ZXN0fSAqL1xuICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZW50aXRsZW1lbnRzOiBudWxsLFxuICAgICAgY29uc2VudDogdHJ1ZSxcbiAgICB9O1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9hcGkvZGVmZXJyZWQtYWNjb3VudC1jcmVhdGlvbi5EZWZlcnJlZEFjY291bnRDcmVhdGlvblJlcXVlc3R9ICovXG4gICAgdGhpcy5vcHRpb25zXyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMgfHwge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgZGVmZXJyZWQgYWNjb3VudCBmbG93LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhRGVmZXJyZWRBY2NvdW50Q3JlYXRpb25SZXNwb25zZT59XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBjb25zdCBlbnRpdGxlbWVudHMgPSB0aGlzLm9wdGlvbnNfLmVudGl0bGVtZW50cztcblxuICAgIC8vIEZvciBub3csIGVudGl0bGVtZW50cyBhcmUgcmVxdWlyZWQgdG8gYmUgcHJlc2VudCBhbmQgaGF2ZSB0aGUgR29vZ2xlXG4gICAgLy8gdG9rZW4uIFRoaXMgaXMgc3RyaWN0bHkgbm90IHJlcXVpcmVkIGZvciB0aGUgaW1wbGVtZW50YXRpb24uIEJ1dCBpdCdzXG4gICAgLy8gcHJlZmVycmFibGUgQVBJLXdpc2UgYXQgdGhpcyB0aW1lLlxuICAgIGlmICghZW50aXRsZW1lbnRzIHx8ICFlbnRpdGxlbWVudHMuZ2V0RW50aXRsZW1lbnRGb3JTb3VyY2UoJ2dvb2dsZScpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVudGl0bGVtZW50cyB3aXRoIFwiZ29vZ2xlXCIgc291cmNlJyk7XG4gICAgfVxuXG4gICAgLy8gU3RhcnQvY2FuY2VsIGV2ZW50cy5cbiAgICB0aGlzLmRlcHNfXG4gICAgICAuY2FsbGJhY2tzKClcbiAgICAgIC50cmlnZ2VyRmxvd1N0YXJ0ZWQoU3Vic2NyaXB0aW9uRmxvd3MuQ09NUExFVEVfREVGRVJSRURfQUNDT1VOVF9DUkVBVElPTik7XG5cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcy5hY3Rpdml0eVBvcnRzXyxcbiAgICAgIGZlVXJsKCcvcmVjb3ZlcmlmcmFtZScpLFxuICAgICAgZmVBcmdzKHtcbiAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiB0aGlzLmRlcHNfLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAgICdwcm9kdWN0SWQnOiB0aGlzLmRlcHNfLnBhZ2VDb25maWcoKS5nZXRQcm9kdWN0SWQoKSxcbiAgICAgICAgJ2VudGl0bGVtZW50cyc6IChlbnRpdGxlbWVudHMgJiYgZW50aXRsZW1lbnRzLnJhdykgfHwgbnVsbCxcbiAgICAgICAgJ2NvbnNlbnQnOiB0aGlzLm9wdGlvbnNfLmNvbnNlbnQsXG4gICAgICB9KSxcbiAgICAgIC8qIHNob3VsZEZhZGVCb2R5ICovIHRydWVcbiAgICApO1xuXG4gICAgdGhpcy5vcGVuUHJvbWlzZV8gPSB0aGlzLmRpYWxvZ01hbmFnZXJfLm9wZW5WaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5hY2NlcHRSZXN1bHQoKS50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAvLyBUaGUgY29uc2VudCBwYXJ0IGlzIGNvbXBsZXRlLlxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVDb25zZW50UmVzcG9uc2VfKFxuICAgICAgICAgIC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKHJlc3VsdC5kYXRhKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKGlzQ2FuY2VsRXJyb3IocmVhc29uKSkge1xuICAgICAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAgICAgLnRyaWdnZXJGbG93Q2FuY2VsZWQoXG4gICAgICAgICAgICAgIFN1YnNjcmlwdGlvbkZsb3dzLkNPTVBMRVRFX0RFRkVSUkVEX0FDQ09VTlRfQ1JFQVRJT05cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5jb21wbGV0ZVZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFPYmplY3R9IGRhdGFcbiAgICogQHJldHVybiB7IURlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVDb25zZW50UmVzcG9uc2VfKGRhdGEpIHtcbiAgICB0aGlzLmRlcHNfLmVudGl0bGVtZW50c01hbmFnZXIoKS5ibG9ja05leHROb3RpZmljYXRpb24oKTtcblxuICAgIC8vIFBhcnNlIHRoZSByZXNwb25zZS5cbiAgICBjb25zdCBlbnRpdGxlbWVudHNKd3QgPSBkYXRhWydlbnRpdGxlbWVudHMnXTtcbiAgICBjb25zdCBpZFRva2VuID0gZGF0YVsnaWRUb2tlbiddO1xuICAgIGNvbnN0IHByb2R1Y3RUeXBlID0gZGF0YVsncHJvZHVjdFR5cGUnXTtcbiAgICBjb25zdCBlbnRpdGxlbWVudHMgPSB0aGlzLmRlcHNfXG4gICAgICAuZW50aXRsZW1lbnRzTWFuYWdlcigpXG4gICAgICAucGFyc2VFbnRpdGxlbWVudHMoeydzaWduZWRFbnRpdGxlbWVudHMnOiBlbnRpdGxlbWVudHNKd3R9KTtcbiAgICBjb25zdCB1c2VyRGF0YSA9IG5ldyBVc2VyRGF0YShcbiAgICAgIGlkVG9rZW4sXG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovIChuZXcgSnd0SGVscGVyKCkuZGVjb2RlKGlkVG9rZW4pKVxuICAgICk7XG4gICAgY29uc3QgcHVyY2hhc2VEYXRhTGlzdCA9IGRhdGFbJ3B1cmNoYXNlRGF0YUxpc3QnXVxuICAgICAgPyBkYXRhWydwdXJjaGFzZURhdGFMaXN0J10ubWFwKFxuICAgICAgICAgIChwZCkgPT4gbmV3IFB1cmNoYXNlRGF0YShwZFsnZGF0YSddLCBwZFsnc2lnbmF0dXJlJ10pXG4gICAgICAgIClcbiAgICAgIDogW1xuICAgICAgICAgIC8vIFRPRE8oZHZveXRlbmtvKTogY2xlYW51cC9kZXByZWNhdGUuXG4gICAgICAgICAgbmV3IFB1cmNoYXNlRGF0YShcbiAgICAgICAgICAgIGRhdGFbJ3B1cmNoYXNlRGF0YSddWydkYXRhJ10sXG4gICAgICAgICAgICBkYXRhWydwdXJjaGFzZURhdGEnXVsnc2lnbmF0dXJlJ11cbiAgICAgICAgICApLFxuICAgICAgICBdO1xuXG4gICAgLy8gRm9yIG5vdywgd2UnbGwgdXNlIHRoZSBgUGF5Q29tcGxldGVGbG93YCBhcyBhIFwiY3JlYXRpbmcgYWNjb3VudFwiIGZsb3cuXG4gICAgLy8gQnV0IHRoaXMgY2FuIGJlIGV2ZW50dWFsbHkgaW1wbGVtZW50ZWQgYnkgdGhlIHNhbWUgaWZyYW1lLlxuICAgIGNvbnN0IGNyZWF0aW5nRmxvdyA9IG5ldyBQYXlDb21wbGV0ZUZsb3codGhpcy5kZXBzXyk7XG4gICAgY29uc3QgY29tcGxldGVIYW5kbGVyID0gY3JlYXRpbmdGbG93LmNvbXBsZXRlLmJpbmQoY3JlYXRpbmdGbG93KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IERlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2UoXG4gICAgICBlbnRpdGxlbWVudHMsXG4gICAgICB1c2VyRGF0YSxcbiAgICAgIHB1cmNoYXNlRGF0YUxpc3QsXG4gICAgICBjb21wbGV0ZUhhbmRsZXJcbiAgICApO1xuXG4gICAgdGhpcy5kZXBzX1xuICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuQUNUSU9OX05FV19ERUZFUlJFRF9BQ0NPVU5ULCB0cnVlKTtcblxuICAgIC8vIFN0YXJ0IHRoZSBcInN5bmNcIiBmbG93LlxuICAgIGNyZWF0aW5nRmxvdy5zdGFydChcbiAgICAgIG5ldyBTdWJzY3JpYmVSZXNwb25zZShcbiAgICAgICAgJycsIC8vIHJhdyBmaWVsZCBkb2Vzbid0IG1hdHRlciBpbiB0aGlzIGNhc2VcbiAgICAgICAgcHVyY2hhc2VEYXRhTGlzdFswXSxcbiAgICAgICAgdXNlckRhdGEsXG4gICAgICAgIGVudGl0bGVtZW50cyxcbiAgICAgICAgcHJvZHVjdFR5cGUsXG4gICAgICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgpIC8vIGNvbXBsZXRlSGFuZGxlciBkb2Vzbid0IG1hdHRlciBpbiB0aGlzIGNhc2VcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiogQGludGVyZmFjZSAqL1xuZXhwb3J0IGNsYXNzIERlcHNEZWYge1xuICAvKipcbiAgICogQHJldHVybiB7IS4uL21vZGVsL2RvYy5Eb2N9XG4gICAqL1xuICBkb2MoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshV2luZG93fVxuICAgKi9cbiAgd2luKCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLkNvbmZpZ31cbiAgICovXG4gIGNvbmZpZygpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfVxuICAgKi9cbiAgcGFnZUNvbmZpZygpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c31cbiAgICovXG4gIGFjdGl2aXRpZXMoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshLi9wYXktY2xpZW50LlBheUNsaWVudH1cbiAgICovXG4gIHBheUNsaWVudCgpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9XG4gICAqL1xuICBkaWFsb2dNYW5hZ2VyKCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7IS4vZW50aXRsZW1lbnRzLW1hbmFnZXIuRW50aXRsZW1lbnRzTWFuYWdlcn1cbiAgICovXG4gIGVudGl0bGVtZW50c01hbmFnZXIoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshLi9jYWxsYmFja3MuQ2FsbGJhY2tzfVxuICAgKi9cbiAgY2FsbGJhY2tzKCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7IS4uL3J1bnRpbWUvc3RvcmFnZS5TdG9yYWdlfVxuICAgKi9cbiAgc3RvcmFnZSgpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyEuLi9ydW50aW1lL2FuYWx5dGljcy1zZXJ2aWNlLkFuYWx5dGljc1NlcnZpY2V9XG4gICAqL1xuICBhbmFseXRpY3MoKSB7fVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshLi4vcnVudGltZS9qc2Vycm9yLkpzRXJyb3J9XG4gICAqL1xuICBqc2Vycm9yKCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfVxuICAgKi9cbiAgZXZlbnRNYW5hZ2VyKCkge31cblxuICAvKipcbiAgICogQHJldHVybiB7IS4uL3J1bnRpbWUvY2xpZW50LWNvbmZpZy1tYW5hZ2VyLkNsaWVudENvbmZpZ01hbmFnZXJ9XG4gICAqL1xuICBjbGllbnRDb25maWdNYW5hZ2VyKCkge31cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgQW5hbHl0aWNzRXZlbnQsXG4gIEVudGl0bGVtZW50Snd0LFxuICBFbnRpdGxlbWVudFJlc3VsdCxcbiAgRW50aXRsZW1lbnRTb3VyY2UsXG4gIEVudGl0bGVtZW50c1JlcXVlc3QsXG4gIEV2ZW50T3JpZ2luYXRvcixcbiAgRXZlbnRQYXJhbXMsXG59IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIEVudGl0bGVtZW50LFxuICBFbnRpdGxlbWVudHMsXG4gIEdPT0dMRV9NRVRFUklOR19TT1VSQ0UsXG4gIFBSSVZJTEVHRURfU09VUkNFLFxufSBmcm9tICcuLi9hcGkvZW50aXRsZW1lbnRzJztcbmltcG9ydCB7XG4gIEdldEVudGl0bGVtZW50c1BhcmFtc0V4dGVybmFsRGVmLFxuICBHZXRFbnRpdGxlbWVudHNQYXJhbXNJbnRlcm5hbERlZixcbn0gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtKd3RIZWxwZXJ9IGZyb20gJy4uL3V0aWxzL2p3dCc7XG5pbXBvcnQge01ldGVyQ2xpZW50VHlwZXN9IGZyb20gJy4uL2FwaS9tZXRlcmluZyc7XG5pbXBvcnQge01ldGVyVG9hc3RBcGl9IGZyb20gJy4vbWV0ZXItdG9hc3QtYXBpJztcbmltcG9ydCB7VG9hc3R9IGZyb20gJy4uL3VpL3RvYXN0JztcbmltcG9ydCB7YWRkUXVlcnlQYXJhbSwgZ2V0Q2Fub25pY2FsVXJsLCBwYXJzZVF1ZXJ5U3RyaW5nfSBmcm9tICcuLi91dGlscy91cmwnO1xuaW1wb3J0IHthbmFseXRpY3NFdmVudFRvRW50aXRsZW1lbnRSZXN1bHR9IGZyb20gJy4vZXZlbnQtdHlwZS1tYXBwaW5nJztcbmltcG9ydCB7YmFzZTY0VXJsRW5jb2RlRnJvbUJ5dGVzLCB1dGY4RW5jb2RlU3luY30gZnJvbSAnLi4vdXRpbHMvYnl0ZXMnO1xuaW1wb3J0IHtmZUFyZ3MsIGZlVXJsfSBmcm9tICcuLi9ydW50aW1lL3NlcnZpY2VzJztcbmltcG9ydCB7aGFzaH0gZnJvbSAnLi4vdXRpbHMvc3RyaW5nJztcbmltcG9ydCB7cXVlcnlTdHJpbmdIYXNGcmVzaEdhYVBhcmFtc30gZnJvbSAnLi4vdXRpbHMvZ2FhJztcbmltcG9ydCB7c2VydmljZVVybH0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge3RvVGltZXN0YW1wfSBmcm9tICcuLi91dGlscy9kYXRlLXV0aWxzJztcbmltcG9ydCB7d2Fybn0gZnJvbSAnLi4vdXRpbHMvbG9nJztcblxuY29uc3QgU0VSVklDRV9JRCA9ICdzdWJzY3JpYmUuZ29vZ2xlLmNvbSc7XG5jb25zdCBUT0FTVF9TVE9SQUdFX0tFWSA9ICd0b2FzdCc7XG5jb25zdCBFTlRTX1NUT1JBR0VfS0VZID0gJ2VudHMnO1xuY29uc3QgSVNfUkVBRFlfVE9fUEFZX1NUT1JBR0VfS0VZID0gJ2lzcmVhZHl0b3BheSc7XG5cbi8qKlxuICogQXJ0aWNsZSByZXNwb25zZSBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICBlbnRpdGxlbWVudHM6ICguLi9hcGkvZW50aXRsZW1lbnRzLkVudGl0bGVtZW50cyksXG4gKiAgY2xpZW50Q29uZmlnOiAoLi4vbW9kZWwvY2xpZW50LWNvbmZpZy5DbGllbnRDb25maWcpLFxuICogIGF1ZGllbmNlQWN0aW9uczogKHtcbiAqICAgIGFjdGlvbnM6IEFycmF5PHtcbiAqICAgICAgdHlwZTogKHN0cmluZylcbiAqICAgIH0+LFxuICogICAgZW5naW5lSWQ6IChzdHJpbmcpXG4gKiAgfSksXG4gKiAgZXhwZXJpbWVudENvbmZpZzogKHtcbiAqICAgIGV4cGVyaW1lbnRGbGFnczogQXJyYXk8e1xuICogICAgICB0eXBlOiAoc3RyaW5nKVxuICogICAgfT5cbiAqICB9KVxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBBcnRpY2xlO1xuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIEVudGl0bGVtZW50c01hbmFnZXIge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshLi4vbW9kZWwvcGFnZS1jb25maWcuUGFnZUNvbmZpZ30gcGFnZUNvbmZpZ1xuICAgKiBAcGFyYW0geyEuL2ZldGNoZXIuRmV0Y2hlcn0gZmV0Y2hlclxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKiBAcGFyYW0geyFib29sZWFufSB1c2VBcnRpY2xlRW5kcG9pbnRcbiAgICogQHBhcmFtIHshYm9vbGVhbn0gZW5hYmxlRGVmYXVsdE1ldGVyaW5nSGFuZGxlclxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgd2luLFxuICAgIHBhZ2VDb25maWcsXG4gICAgZmV0Y2hlcixcbiAgICBkZXBzLFxuICAgIHVzZUFydGljbGVFbmRwb2ludCxcbiAgICBlbmFibGVEZWZhdWx0TWV0ZXJpbmdIYW5kbGVyXG4gICkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL21vZGVsL3BhZ2UtY29uZmlnLlBhZ2VDb25maWd9ICovXG4gICAgdGhpcy5wYWdlQ29uZmlnXyA9IHBhZ2VDb25maWc7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5wdWJsaWNhdGlvbklkXyA9IHRoaXMucGFnZUNvbmZpZ18uZ2V0UHVibGljYXRpb25JZCgpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZmV0Y2hlci5GZXRjaGVyfSAqL1xuICAgIHRoaXMuZmV0Y2hlcl8gPSBmZXRjaGVyO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUp3dEhlbHBlcn0gKi9cbiAgICB0aGlzLmp3dEhlbHBlcl8gPSBuZXcgSnd0SGVscGVyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9Qcm9taXNlPCFFbnRpdGxlbWVudHM+fSAqL1xuICAgIHRoaXMucmVzcG9uc2VQcm9taXNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLnBvc2l0aXZlUmV0cmllc18gPSAwO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuYmxvY2tOZXh0Tm90aWZpY2F0aW9uXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHtib29sZWFufSAqL1xuICAgIHRoaXMuYmxvY2tOZXh0VG9hc3RfID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTdHJpbmcgY29udGFpbmluZyBlbmNvZGVkIG1ldGVyaW5nIHBhcmFtZXRlcnMgY3VycmVudGx5LlxuICAgICAqIFdlIG1heSBleHBhbmQgdGhpcyB0byBjb250YWluIG1vcmUgaW5mb3JtYXRpb24gaW4gdGhlIGZ1dHVyZS5cbiAgICAgKiBAcHJpdmF0ZSB7P3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmVuY29kZWRQYXJhbXNfID0gbnVsbDtcblxuICAgIC8qKiBAcHJvdGVjdGVkIHshc3RyaW5nfSAqL1xuICAgIHRoaXMuZW5jb2RlZFBhcmFtTmFtZV8gPSB1c2VBcnRpY2xlRW5kcG9pbnRcbiAgICAgID8gJ2VuY29kZWRFbnRpdGxlbWVudHNQYXJhbXMnXG4gICAgICA6ICdlbmNvZGVkUGFyYW1zJztcblxuICAgIC8qKiBAcHJvdGVjdGVkIHshc3RyaW5nfSAqL1xuICAgIHRoaXMuYWN0aW9uXyA9IHVzZUFydGljbGVFbmRwb2ludCA/ICcvYXJ0aWNsZScgOiAnL2VudGl0bGVtZW50cyc7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9zdG9yYWdlLlN0b3JhZ2V9ICovXG4gICAgdGhpcy5zdG9yYWdlXyA9IGRlcHMuc3RvcmFnZSgpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvYW5hbHl0aWNzLXNlcnZpY2UuQW5hbHl0aWNzU2VydmljZX0gKi9cbiAgICB0aGlzLmFuYWx5dGljc1NlcnZpY2VfID0gZGVwcy5hbmFseXRpY3MoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5Db25maWd9ICovXG4gICAgdGhpcy5jb25maWdfID0gZGVwcy5jb25maWcoKTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGNhbiB1c2UgdGhpcyBwcm9taXNlIHRvIHdhaXQgZm9yIFBPU1QgcmVxdWVzdHMgdG8gZmluaXNoLlxuICAgICAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICAgICAqL1xuICAgIHRoaXMuZW50aXRsZW1lbnRzUG9zdFByb21pc2UgPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnVzZUFydGljbGVFbmRwb2ludF8gPSB1c2VBcnRpY2xlRW5kcG9pbnQ7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtib29sZWFufSAqL1xuICAgIHRoaXMuZW5hYmxlRGVmYXVsdE1ldGVyaW5nSGFuZGxlcl8gPSBlbmFibGVEZWZhdWx0TWV0ZXJpbmdIYW5kbGVyO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/QXJ0aWNsZX0gKi9cbiAgICB0aGlzLmFydGljbGVfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmVuYWJsZU1ldGVyZWRCeUdvb2dsZV8gPSBmYWxzZTtcblxuICAgIHRoaXMuZGVwc19cbiAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcih0aGlzLnBvc3NpYmx5UGluZ2JhY2tPbkNsaWVudEV2ZW50Xy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBleHBlY3RQb3NpdGl2ZVxuICAgKi9cbiAgcmVzZXQoZXhwZWN0UG9zaXRpdmUpIHtcbiAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZV8gPSBudWxsO1xuICAgIHRoaXMucG9zaXRpdmVSZXRyaWVzXyA9IE1hdGgubWF4KFxuICAgICAgdGhpcy5wb3NpdGl2ZVJldHJpZXNfLFxuICAgICAgZXhwZWN0UG9zaXRpdmUgPyAzIDogMFxuICAgICk7XG4gICAgaWYgKGV4cGVjdFBvc2l0aXZlKSB7XG4gICAgICB0aGlzLnN0b3JhZ2VfLnJlbW92ZShFTlRTX1NUT1JBR0VfS0VZKTtcbiAgICAgIHRoaXMuc3RvcmFnZV8ucmVtb3ZlKElTX1JFQURZX1RPX1BBWV9TVE9SQUdFX0tFWSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgb2YgdGhlIGVudGl0bGVtZW50cyBzdGF0ZSBhbmQgY2FjaGUuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZV8gPSBudWxsO1xuICAgIHRoaXMucG9zaXRpdmVSZXRyaWVzXyA9IDA7XG4gICAgdGhpcy51bmJsb2NrTmV4dE5vdGlmaWNhdGlvbigpO1xuICAgIHRoaXMuc3RvcmFnZV8ucmVtb3ZlKEVOVFNfU1RPUkFHRV9LRVkpO1xuICAgIHRoaXMuc3RvcmFnZV8ucmVtb3ZlKFRPQVNUX1NUT1JBR0VfS0VZKTtcbiAgICB0aGlzLnN0b3JhZ2VfLnJlbW92ZShJU19SRUFEWV9UT19QQVlfU1RPUkFHRV9LRVkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0V4dGVybmFsRGVmPX0gcGFyYW1zXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFFbnRpdGxlbWVudHM+fVxuICAgKi9cbiAgZ2V0RW50aXRsZW1lbnRzKHBhcmFtcykge1xuICAgIC8vIFJlbWFpbiBiYWNrd2FyZHMgY29tcGF0aWJsZSBieSBhY2NlcHRpbmdcbiAgICAvLyBgZW5jcnlwdGVkRG9jdW1lbnRLZXlgIHN0cmluZyBhcyBhIGZpcnN0IHBhcmFtLlxuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVE9ETzogRGVsZXRlIHRoZSBmYWxsYmFjayBpZiBub2JvZHkgbmVlZHMgaXQuIFVzZSBhIGxvZyB0byB2ZXJpZnkuXG4gICAgICBpZiAoRGF0ZS5ub3coKSA+IDE2MDAyODkwMTY5NTkpIHtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZSBjb25kaXRpb25hbCBjaGVjayBmb3IgdGhpcyB3YXJuaW5nXG4gICAgICAgIC8vIGFmdGVyIHRoZSBBTVAgZXh0ZW5zaW9uIGlzIHVwZGF0ZWQgdG8gcGFzcyBhbiBvYmplY3QuXG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFtzd2cuanM6Z2V0RW50aXRsZW1lbnRzXTogSWYgcHJlc2VudCwgdGhlIGZpcnN0IHBhcmFtIG9mIGdldEVudGl0bGVtZW50cygpIHNob3VsZCBiZSBhbiBvYmplY3Qgb2YgdHlwZSBHZXRFbnRpdGxlbWVudHNQYXJhbXNFeHRlcm5hbERlZi5gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgZW5jcnlwdGlvbjoge2VuY3J5cHRlZERvY3VtZW50S2V5OiAvKipAdHlwZSB7c3RyaW5nfSAqLyAocGFyYW1zKX0sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yZXNwb25zZVByb21pc2VfKSB7XG4gICAgICB0aGlzLnJlc3BvbnNlUHJvbWlzZV8gPSB0aGlzLmdldEVudGl0bGVtZW50c0Zsb3dfKHBhcmFtcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZV8udGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5pc1JlYWR5VG9QYXkgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmFuYWx5dGljc1NlcnZpY2VfLnNldFJlYWR5VG9QYXkocmVzcG9uc2UuaXNSZWFkeVRvUGF5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmF3XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGlzUmVhZHlUb1BheVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgcHVzaE5leHRFbnRpdGxlbWVudHMocmF3LCBpc1JlYWR5VG9QYXkpIHtcbiAgICBjb25zdCBlbnRpdGxlbWVudHMgPSB0aGlzLmdldFZhbGlkSnd0RW50aXRsZW1lbnRzXyhcbiAgICAgIHJhdyxcbiAgICAgIC8qIHJlcXVpcmVOb25FeHBpcmVkICovIHRydWUsXG4gICAgICBpc1JlYWR5VG9QYXlcbiAgICApO1xuICAgIGlmIChlbnRpdGxlbWVudHMgJiYgZW50aXRsZW1lbnRzLmVuYWJsZXNUaGlzKCkpIHtcbiAgICAgIHRoaXMuc3RvcmFnZV8uc2V0KEVOVFNfU1RPUkFHRV9LRVksIHJhdyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgJ2dhYV9uJyBwYXJhbWV0ZXIgZnJvbSB0aGUgcXVlcnkgc3RyaW5nLlxuICAgKi9cbiAgZ2V0R2FhVG9rZW5fKCkge1xuICAgIHJldHVybiBwYXJzZVF1ZXJ5U3RyaW5nKHRoaXMud2luXy5sb2NhdGlvbi5zZWFyY2gpWydnYWFfbiddO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcGluZ2JhY2sgdGhhdCBtYXJrcyBhIG1ldGVyaW5nIGVudGl0bGVtZW50IGFzIHVzZWQuXG4gICAqIEBwYXJhbSB7IUVudGl0bGVtZW50fG51bGx9IGVudGl0bGVtZW50XG4gICAqL1xuICBjb25zdW1lTWV0ZXJfKGVudGl0bGVtZW50KSB7XG4gICAgaWYgKCFlbnRpdGxlbWVudCB8fCBlbnRpdGxlbWVudC5zb3VyY2UgIT09IEdPT0dMRV9NRVRFUklOR19TT1VSQ0UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBHQUEgcGFyYW1zIGFyZSBwcmVzZW50LCBpbmNsdWRlIHRoZW0gaW4gdGhlIHBpbmdiYWNrLlxuICAgIGxldCBnYWFUb2tlbjtcbiAgICBsZXQgZW50aXRsZW1lbnRTb3VyY2U7XG4gICAgaWYgKFxuICAgICAgZW50aXRsZW1lbnQuc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50cyAmJlxuICAgICAgZW50aXRsZW1lbnQuc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50c1snbWV0ZXJpbmcnXVsnY2xpZW50VHlwZSddID09PVxuICAgICAgICBNZXRlckNsaWVudFR5cGVzLk1FVEVSRURfQllfR09PR0xFXG4gICAgKSB7XG4gICAgICAvLyBJZiBjbGllbnRUeXBlIGlzIE1FVEVSRURfQllfR09PR0xFLCB0aGlzIGlzIHRoZSBhcHByb3ByaWF0ZVxuICAgICAgLy8gRW50aXRsZW1lbnRTb3VyY2UsIGFuZCBubyBHQUEgcGFyYW1zIGFyZSByZXF1aXJlZC5cbiAgICAgIGVudGl0bGVtZW50U291cmNlID1cbiAgICAgICAgRW50aXRsZW1lbnRTb3VyY2UuU1VCU0NSSUJFX1dJVEhfR09PR0xFX01FVEVSSU5HX1NFUlZJQ0U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEV4cGVjdGVkOiBjbGllbnRUeXBlIGlzIExJQ0VOU0VEX0JZX0dPT0dMRVxuICAgICAgaWYgKHF1ZXJ5U3RyaW5nSGFzRnJlc2hHYWFQYXJhbXModGhpcy53aW5fLmxvY2F0aW9uLnNlYXJjaCkpIHtcbiAgICAgICAgLy8gR0FBIHBhcmFtcyBhcmUgdmFsaWQuIFBvc3QgYmFjayBhcyBTaG93Y2FzZS5cbiAgICAgICAgZW50aXRsZW1lbnRTb3VyY2UgPSBFbnRpdGxlbWVudFNvdXJjZS5HT09HTEVfU0hPV0NBU0VfTUVURVJJTkdfU0VSVklDRTtcbiAgICAgICAgZ2FhVG9rZW4gPSB0aGlzLmdldEdhYVRva2VuXygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2FuaXR5IGNoZWNrOlxuICAgICAgICAvLyBJZiB3ZSdyZSBub3QgTUVURVJFRF9CWV9HT09HTEUsIGFuZCBHQUEgcGFyYW1zIGFyZSBub3QgdmFsaWQsIGRvIG5vdFxuICAgICAgICAvLyBwb3N0IGJhY2suXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRlcHNfXG4gICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5FVkVOVF9VTkxPQ0tFRF9CWV9NRVRFUiwgZmFsc2UpO1xuXG4gICAgY29uc3Qgand0ID0gbmV3IEVudGl0bGVtZW50Snd0KCk7XG4gICAgand0LnNldFNvdXJjZShlbnRpdGxlbWVudC5zb3VyY2UpO1xuICAgIGp3dC5zZXRKd3QoZW50aXRsZW1lbnQuc3Vic2NyaXB0aW9uVG9rZW4pO1xuICAgIHJldHVybiB0aGlzLnBvc3RFbnRpdGxlbWVudHNSZXF1ZXN0XyhcbiAgICAgIC8qIHVzZWRFbnRpdGxlbWVudCAqLyBqd3QsXG4gICAgICAvKiBlbnRpdGxlbWVudFJlc3VsdCAqLyBFbnRpdGxlbWVudFJlc3VsdC5VTkxPQ0tFRF9NRVRFUixcbiAgICAgIC8qIGVudGl0bGVtZW50U291cmNlICovIGVudGl0bGVtZW50U291cmNlLFxuICAgICAgLyogb3B0aW9uYWxUb2tlbiAqLyBnYWFUb2tlblxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTGlzdGVucyBmb3IgZXZlbnRzIGZyb20gdGhlIGV2ZW50IG1hbmFnZXIgYW5kIGluZm9ybXMgdGhlIHNlcnZlclxuICAgKiBhYm91dCBwdWJsaXNoZXIgZW50aXRsZW1lbnRzIGFuZCBub24tY29uc3VtYWJsZSBHb29nbGUgZW50aXRsZW1lbnRzLlxuICAgKiBAcGFyYW0geyEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50fSBldmVudFxuICAgKi9cbiAgcG9zc2libHlQaW5nYmFja09uQ2xpZW50RXZlbnRfKGV2ZW50KSB7XG4gICAgLy8gVmVyaWZ5IEdBQSBwYXJhbXMgYXJlIHByZXNlbnQsIG90aGVyd2lzZSBiYWlsIHNpbmNlIHRoZSBwaW5nYmFja1xuICAgIC8vIHNob3VsZG4ndCBoYXBwZW4gb24gbm9uLW1ldGVyaW5nIHJlcXVlc3RzLlxuICAgIC8vIFdlIGRvbid0IHZhbGlkYXRlIGFjY2VzcyB0eXBlIHNpbmNlIHdlIHdhbnQgdG8gcGluZ2JhY2sgb24gYWxsIGFjY2VzcyB0eXBlcy5cbiAgICBpZiAoXG4gICAgICAhcXVlcnlTdHJpbmdIYXNGcmVzaEdhYVBhcmFtcyhcbiAgICAgICAgdGhpcy53aW5fLmxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgLyphbGxvd0FsbEFjY2Vzc1R5cGVzPSovIHRydWVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBIHN1YnNldCBvZiBhbmFseXRpY3MgZXZlbnRzIGFyZSBhbHNvIGFuIGVudGl0bGVtZW50IHJlc3VsdFxuICAgIGNvbnN0IHJlc3VsdCA9IGFuYWx5dGljc0V2ZW50VG9FbnRpdGxlbWVudFJlc3VsdChldmVudC5ldmVudFR5cGUpO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzb3VyY2UgPSBudWxsO1xuXG4gICAgc3dpdGNoIChldmVudC5ldmVudE9yaWdpbmF0b3IpIHtcbiAgICAgIC8vIFB1Ymxpc2hlciBKUyBsb2dnZWQgdGhpcyBldmVudC5cbiAgICAgIGNhc2UgRXZlbnRPcmlnaW5hdG9yLlNIT1dDQVNFX0NMSUVOVDpcbiAgICAgICAgc291cmNlID0gRW50aXRsZW1lbnRTb3VyY2UuUFVCTElTSEVSX0VOVElUTEVNRU5UO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIFN3Z2pzIGxvZ2dlZCB0aGlzIGV2ZW50LlxuICAgICAgY2FzZSBFdmVudE9yaWdpbmF0b3IuU1dHX0NMSUVOVDpcbiAgICAgICAgaWYgKHJlc3VsdCA9PSBFbnRpdGxlbWVudFJlc3VsdC5VTkxPQ0tFRF9NRVRFUikge1xuICAgICAgICAgIC8vIFRoZSBgY29uc3VtZU1ldGVyX2AgbWV0aG9kIGFscmVhZHkgdHJhY2tzIHRoaXMuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlID0gRW50aXRsZW1lbnRTb3VyY2UuR09PR0xFX1NVQlNDUklCRVJfRU5USVRMRU1FTlQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IHRoaXMuZ2V0R2FhVG9rZW5fKCk7XG4gICAgY29uc3QgaXNVc2VyUmVnaXN0ZXJlZCA9XG4gICAgICBldmVudD8uYWRkaXRpb25hbFBhcmFtZXRlcnM/LmdldElzVXNlclJlZ2lzdGVyZWQ/LigpO1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvblRpbWVzdGFtcCA9XG4gICAgICBldmVudD8uYWRkaXRpb25hbFBhcmFtZXRlcnM/LmdldFN1YnNjcmlwdGlvblRpbWVzdGFtcD8uKCk7XG4gICAgdGhpcy5wb3N0RW50aXRsZW1lbnRzUmVxdWVzdF8oXG4gICAgICBuZXcgRW50aXRsZW1lbnRKd3QoKSxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHNvdXJjZSxcbiAgICAgIHRva2VuLFxuICAgICAgaXNVc2VyUmVnaXN0ZXJlZCxcbiAgICAgIHN1YnNjcmlwdGlvblRpbWVzdGFtcFxuICAgICk7XG4gIH1cblxuICAvLyBJbmZvcm1zIHRoZSBFbnRpdGxlbWVudHMgc2VydmVyIGFib3V0IHRoZSBlbnRpdGxlbWVudCB1c2VkXG4gIC8vIHRvIHVubG9jayB0aGUgcGFnZS5cbiAgcG9zdEVudGl0bGVtZW50c1JlcXVlc3RfKFxuICAgIHVzZWRFbnRpdGxlbWVudCxcbiAgICBlbnRpdGxlbWVudFJlc3VsdCxcbiAgICBlbnRpdGxlbWVudFNvdXJjZSxcbiAgICBvcHRpb25hbFRva2VuID0gJycsXG4gICAgb3B0aW9uYWxJc1VzZXJSZWdpc3RlcmVkID0gbnVsbCxcbiAgICBvcHRpb25hbFN1YnNjcmlwdGlvblRpbWVzdGFtcCA9IG51bGxcbiAgKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IG5ldyBFbnRpdGxlbWVudHNSZXF1ZXN0KCk7XG4gICAgbWVzc2FnZS5zZXRVc2VkRW50aXRsZW1lbnQodXNlZEVudGl0bGVtZW50KTtcbiAgICBtZXNzYWdlLnNldENsaWVudEV2ZW50VGltZSh0b1RpbWVzdGFtcChEYXRlLm5vdygpKSk7XG4gICAgbWVzc2FnZS5zZXRFbnRpdGxlbWVudFJlc3VsdChlbnRpdGxlbWVudFJlc3VsdCk7XG4gICAgbWVzc2FnZS5zZXRFbnRpdGxlbWVudFNvdXJjZShlbnRpdGxlbWVudFNvdXJjZSk7XG4gICAgbWVzc2FnZS5zZXRUb2tlbihvcHRpb25hbFRva2VuKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbmFsSXNVc2VyUmVnaXN0ZXJlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBtZXNzYWdlLnNldElzVXNlclJlZ2lzdGVyZWQob3B0aW9uYWxJc1VzZXJSZWdpc3RlcmVkKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbmFsU3Vic2NyaXB0aW9uVGltZXN0YW1wKSB7XG4gICAgICBtZXNzYWdlLnNldFN1YnNjcmlwdGlvblRpbWVzdGFtcChvcHRpb25hbFN1YnNjcmlwdGlvblRpbWVzdGFtcCk7XG4gICAgfVxuXG4gICAgbGV0IHVybCA9XG4gICAgICAnL3B1YmxpY2F0aW9uLycgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5wdWJsaWNhdGlvbklkXykgKyB0aGlzLmFjdGlvbl87XG4gICAgdXJsID0gYWRkRGV2TW9kZVBhcmFtc1RvVXJsKHRoaXMud2luXy5sb2NhdGlvbiwgdXJsKTtcblxuICAgIC8vIFByb21pc2UgdGhhdCBzZXRzIHRoaXMuZW5jb2RlZFBhcmFtc18gd2hlbiBpdCByZXNvbHZlcy5cbiAgICBjb25zdCBlbmNvZGVkUGFyYW1zUHJvbWlzZSA9IHRoaXMuZW5jb2RlZFBhcmFtc19cbiAgICAgID8gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIDogaGFzaChnZXRDYW5vbmljYWxVcmwodGhpcy5kZXBzXy5kb2MoKSkpLnRoZW4oKGhhc2hlZENhbm9uaWNhbFVybCkgPT4ge1xuICAgICAgICAgIC8qKiBAdHlwZSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0ludGVybmFsRGVmfSAqL1xuICAgICAgICAgIGNvbnN0IGVuY29kYWJsZVBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1ldGVyaW5nOiB7XG4gICAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICAgICAgaGFzaGVkQ2Fub25pY2FsVXJsLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuZW5jb2RlZFBhcmFtc18gPSBiYXNlNjRVcmxFbmNvZGVGcm9tQnl0ZXMoXG4gICAgICAgICAgICB1dGY4RW5jb2RlU3luYyhKU09OLnN0cmluZ2lmeShlbmNvZGFibGVQYXJhbXMpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgLy8gR2V0IHN3Z1VzZXJUb2tlbiBmcm9tIGxvY2FsIHN0b3JhZ2VcbiAgICBjb25zdCBzd2dVc2VyVG9rZW5Qcm9taXNlID0gdGhpcy5zdG9yYWdlXy5nZXQoQ29uc3RhbnRzLlVTRVJfVE9LRU4sIHRydWUpO1xuICAgIHRoaXMuZW50aXRsZW1lbnRzUG9zdFByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgICBzd2dVc2VyVG9rZW5Qcm9taXNlLFxuICAgICAgZW5jb2RlZFBhcmFtc1Byb21pc2UsXG4gICAgXSkudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICBjb25zdCBzd2dVc2VyVG9rZW4gPSB2YWx1ZXNbMF07XG4gICAgICBpZiAoc3dnVXNlclRva2VuKSB7XG4gICAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAnc3V0Jywgc3dnVXNlclRva2VuKTtcbiAgICAgIH1cbiAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0oXG4gICAgICAgIHVybCxcbiAgICAgICAgdGhpcy5lbmNvZGVkUGFyYW1OYW1lXyxcbiAgICAgICAgLyoqIEB0eXBlIHshc3RyaW5nfSAqLyAodGhpcy5lbmNvZGVkUGFyYW1zXylcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB0aGlzLmZldGNoZXJfLnNlbmRQb3N0KHNlcnZpY2VVcmwodXJsKSwgbWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshR2V0RW50aXRsZW1lbnRzUGFyYW1zRXh0ZXJuYWxEZWY9fSBwYXJhbXNcbiAgICogQHJldHVybiB7IVByb21pc2U8IUVudGl0bGVtZW50cz59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRFbnRpdGxlbWVudHNGbG93XyhwYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcy5mZXRjaEVudGl0bGVtZW50c1dpdGhDYWNoaW5nXyhwYXJhbXMpLnRoZW4oKGVudGl0bGVtZW50cykgPT4ge1xuICAgICAgdGhpcy5vbkVudGl0bGVtZW50c0ZldGNoZWRfKGVudGl0bGVtZW50cyk7XG4gICAgICByZXR1cm4gZW50aXRsZW1lbnRzO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0V4dGVybmFsRGVmPX0gcGFyYW1zXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFFbnRpdGxlbWVudHM+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hFbnRpdGxlbWVudHNXaXRoQ2FjaGluZ18ocGFyYW1zKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuc3RvcmFnZV8uZ2V0KEVOVFNfU1RPUkFHRV9LRVkpLFxuICAgICAgdGhpcy5zdG9yYWdlXy5nZXQoSVNfUkVBRFlfVE9fUEFZX1NUT1JBR0VfS0VZKSxcbiAgICBdKS50aGVuKChjYWNoZWRWYWx1ZXMpID0+IHtcbiAgICAgIGNvbnN0IHJhdyA9IGNhY2hlZFZhbHVlc1swXTtcbiAgICAgIGNvbnN0IGlydHAgPSBjYWNoZWRWYWx1ZXNbMV07XG4gICAgICAvLyBUcnkgY2FjaGUgZmlyc3QuXG4gICAgICBjb25zdCBuZWVkc0RlY3J5cHRpb24gPSAhIShwYXJhbXMgJiYgcGFyYW1zLmVuY3J5cHRpb24pO1xuICAgICAgaWYgKHJhdyAmJiAhbmVlZHNEZWNyeXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IHRoaXMuZ2V0VmFsaWRKd3RFbnRpdGxlbWVudHNfKFxuICAgICAgICAgIHJhdyxcbiAgICAgICAgICAvKiByZXF1aXJlTm9uRXhwaXJlZCAqLyB0cnVlLFxuICAgICAgICAgIGlydHBTdHJpbmdUb0Jvb2xlYW4oaXJ0cClcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNhY2hlZCAmJiBjYWNoZWQuZW5hYmxlc1RoaXMoKSkge1xuICAgICAgICAgIC8vIEFscmVhZHkgaGF2ZSBhIHBvc2l0aXZlIHJlc3BvbnNlLlxuICAgICAgICAgIHRoaXMucG9zaXRpdmVSZXRyaWVzXyA9IDA7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gSWYgY2FjaGUgZGlkbid0IG1hdGNoLCBwZXJmb3JtIGZldGNoLlxuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hFbnRpdGxlbWVudHNfKHBhcmFtcykudGhlbigoZW50cykgPT4ge1xuICAgICAgICAvLyBJZiB0aGUgcHJvZHVjdCBpcyBlbmFibGVkIGJ5IGNhY2hlYWJsZSBlbnRpdGxlbWVudHMsIHN0b3JlIHRoZW0gaW4gY2FjaGUuXG4gICAgICAgIGlmIChlbnRzICYmIGVudHMuZW5hYmxlc1RoaXNXaXRoQ2FjaGVhYmxlRW50aXRsZW1lbnRzKCkgJiYgZW50cy5yYXcpIHtcbiAgICAgICAgICB0aGlzLnN0b3JhZ2VfLnNldChFTlRTX1NUT1JBR0VfS0VZLCBlbnRzLnJhdyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudHM7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgbWFuYWdlciBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciBmZXRjaGluZyB0aGUgQXJ0aWNsZSwgaXRcbiAgICogd2lsbCBiZSBhY2Nlc3NpYmxlIGZyb20gaGVyZSBhbmQgc2hvdWxkIHJlc29sdmUgYSBudWxsIHByb21pc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcmV0dXJucyB7IVByb21pc2U8P0FydGljbGU+fVxuICAgKi9cbiAgZ2V0QXJ0aWNsZSgpIHtcbiAgICAvLyBUaGUgYmFzZSBtYW5hZ2VyIG9ubHkgZmV0Y2hlcyBmcm9tIHRoZSBlbnRpdGxlbWVudHMgZW5kcG9pbnQsIHdoaWNoIGRvZXNcbiAgICAvLyBub3QgY29udGFpbiBhbiBBcnRpY2xlLlxuICAgIGlmICghdGhpcy51c2VBcnRpY2xlRW5kcG9pbnRfIHx8ICF0aGlzLnJlc3BvbnNlUHJvbWlzZV8pIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlXy50aGVuKCgpID0+IFByb21pc2UucmVzb2x2ZSh0aGlzLmFydGljbGVfKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGV4cGVyaW1lbnQgZmxhZ3MgdGhhdCBhcmUgcmV0dXJuZWQgYnkgdGhlIGFydGljbGUgZW5kcG9pbnQgc2hvdWxkIGJlIGFjY2Vzc2libGUgZnJvbSBoZXJlLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBcnJheTxzdHJpbmc+Pn1cbiAgICovXG4gIGdldEV4cGVyaW1lbnRDb25maWdGbGFncygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBcnRpY2xlKCkudGhlbigoYXJ0aWNsZSkgPT4ge1xuICAgICAgY29uc3QgZXhwQ29uZmlnID0gYXJ0aWNsZVsnZXhwZXJpbWVudENvbmZpZyddO1xuICAgICAgaWYgKGV4cENvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGV4cEZsYWdzID0gZXhwQ29uZmlnWydleHBlcmltZW50RmxhZ3MnXTtcbiAgICAgICAgaWYgKGV4cEZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZXhwRmxhZ3M7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFHZXRFbnRpdGxlbWVudHNQYXJhbXNFeHRlcm5hbERlZj19IHBhcmFtc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhRW50aXRsZW1lbnRzPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZldGNoRW50aXRsZW1lbnRzXyhwYXJhbXMpIHtcbiAgICAvLyBUT0RPKGR2b3l0ZW5rbyk6IFJlcGxhY2UgcmV0cmllcyB3aXRoIGNvbnNpc3RlbnQgZmV0Y2guXG4gICAgbGV0IHBvc2l0aXZlUmV0cmllcyA9IHRoaXMucG9zaXRpdmVSZXRyaWVzXztcbiAgICB0aGlzLnBvc2l0aXZlUmV0cmllc18gPSAwO1xuICAgIGNvbnN0IGF0dGVtcHQgPSAoKSA9PiB7XG4gICAgICBwb3NpdGl2ZVJldHJpZXMtLTtcbiAgICAgIHJldHVybiB0aGlzLmZldGNoXyhwYXJhbXMpLnRoZW4oKGVudGl0bGVtZW50cykgPT4ge1xuICAgICAgICBpZiAoZW50aXRsZW1lbnRzLmVuYWJsZXNUaGlzKCkgfHwgcG9zaXRpdmVSZXRyaWVzIDw9IDApIHtcbiAgICAgICAgICByZXR1cm4gZW50aXRsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHRoaXMud2luXy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoYXR0ZW1wdCgpKTtcbiAgICAgICAgICB9LCA1NTApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGF0dGVtcHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlXG4gICAqL1xuICBzZXRUb2FzdFNob3duKHZhbHVlKSB7XG4gICAgdGhpcy5zdG9yYWdlXy5zZXQoVE9BU1RfU1RPUkFHRV9LRVksIHZhbHVlID8gJzEnIDogJzAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKi9cbiAgYmxvY2tOZXh0Tm90aWZpY2F0aW9uKCkge1xuICAgIHRoaXMuYmxvY2tOZXh0Tm90aWZpY2F0aW9uXyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICovXG4gIGJsb2NrTmV4dFRvYXN0KCkge1xuICAgIHRoaXMuYmxvY2tOZXh0VG9hc3RfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKi9cbiAgdW5ibG9ja05leHROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5ibG9ja05leHROb3RpZmljYXRpb25fID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3cgR29vZ2xlIHRvIGhhbmRsZSBtZXRlcmluZyBmb3IgdGhlIGdpdmVuIHBhZ2UuXG4gICAqL1xuICBlbmFibGVNZXRlcmVkQnlHb29nbGUoKSB7XG4gICAgdGhpcy5lbmFibGVNZXRlcmVkQnlHb29nbGVfID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgSlNPTiBtdXN0IGVpdGhlciBjb250YWluIGEgXCJzaWduZWRFbnRpdGxlbWVudHNcIiB3aXRoIEpXVCwgb3JcbiAgICogXCJlbnRpdGxlbWVudHNcIiBmaWVsZCB3aXRoIHBsYWluIEpTT04gb2JqZWN0LlxuICAgKiBAcGFyYW0geyFPYmplY3R9IGpzb25cbiAgICogQHJldHVybiB7IUVudGl0bGVtZW50c31cbiAgICovXG4gIHBhcnNlRW50aXRsZW1lbnRzKGpzb24pIHtcbiAgICBjb25zdCBpc1JlYWR5VG9QYXkgPSBqc29uWydpc1JlYWR5VG9QYXknXTtcbiAgICBpZiAoaXNSZWFkeVRvUGF5ID09IG51bGwpIHtcbiAgICAgIHRoaXMuc3RvcmFnZV8ucmVtb3ZlKElTX1JFQURZX1RPX1BBWV9TVE9SQUdFX0tFWSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcmFnZV8uc2V0KElTX1JFQURZX1RPX1BBWV9TVE9SQUdFX0tFWSwgU3RyaW5nKGlzUmVhZHlUb1BheSkpO1xuICAgIH1cbiAgICBjb25zdCBzaWduZWREYXRhID0ganNvblsnc2lnbmVkRW50aXRsZW1lbnRzJ107XG4gICAgY29uc3QgZGVjcnlwdGVkRG9jdW1lbnRLZXkgPSBqc29uWydkZWNyeXB0ZWREb2N1bWVudEtleSddO1xuICAgIGNvbnN0IHN3Z1VzZXJUb2tlbiA9IGpzb25bJ3N3Z1VzZXJUb2tlbiddO1xuICAgIGlmIChzd2dVc2VyVG9rZW4pIHtcbiAgICAgIHRoaXMuc2F2ZVN3Z1VzZXJUb2tlbl8oc3dnVXNlclRva2VuKTtcbiAgICB9XG4gICAgaWYgKHNpZ25lZERhdGEpIHtcbiAgICAgIGNvbnN0IGVudGl0bGVtZW50cyA9IHRoaXMuZ2V0VmFsaWRKd3RFbnRpdGxlbWVudHNfKFxuICAgICAgICBzaWduZWREYXRhLFxuICAgICAgICAvKiByZXF1aXJlTm9uRXhwaXJlZCAqLyBmYWxzZSxcbiAgICAgICAgaXNSZWFkeVRvUGF5LFxuICAgICAgICBkZWNyeXB0ZWREb2N1bWVudEtleVxuICAgICAgKTtcbiAgICAgIGlmIChlbnRpdGxlbWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0bGVtZW50cztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGxhaW5FbnRpdGxlbWVudHMgPSBqc29uWydlbnRpdGxlbWVudHMnXTtcbiAgICAgIGlmIChwbGFpbkVudGl0bGVtZW50cykge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVFbnRpdGxlbWVudHNfKFxuICAgICAgICAgICcnLFxuICAgICAgICAgIHBsYWluRW50aXRsZW1lbnRzLFxuICAgICAgICAgIGlzUmVhZHlUb1BheSxcbiAgICAgICAgICBkZWNyeXB0ZWREb2N1bWVudEtleVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBFbXB0eSByZXNwb25zZS5cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVFbnRpdGxlbWVudHNfKCcnLCBbXSwgaXNSZWFkeVRvUGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJzaXN0IHN3Z1VzZXJUb2tlbiBpbiBsb2NhbCBzdG9yYWdlIGlmIGVudGl0bGVtZW50cyBhbmQgc3dnVXNlclRva2VuIGV4aXN0XG4gICAqIEBwYXJhbSB7P3N0cmluZ3x1bmRlZmluZWR9IHN3Z1VzZXJUb2tlblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2F2ZVN3Z1VzZXJUb2tlbl8oc3dnVXNlclRva2VuKSB7XG4gICAgaWYgKHN3Z1VzZXJUb2tlbikge1xuICAgICAgdGhpcy5zdG9yYWdlXy5zZXQoQ29uc3RhbnRzLlVTRVJfVE9LRU4sIHN3Z1VzZXJUb2tlbiwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByYXdcbiAgICogQHBhcmFtIHtib29sZWFufSByZXF1aXJlTm9uRXhwaXJlZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpc1JlYWR5VG9QYXlcbiAgICogQHBhcmFtIHs/c3RyaW5nPX0gZGVjcnlwdGVkRG9jdW1lbnRLZXlcbiAgICogQHJldHVybiB7P0VudGl0bGVtZW50c31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFZhbGlkSnd0RW50aXRsZW1lbnRzXyhcbiAgICByYXcsXG4gICAgcmVxdWlyZU5vbkV4cGlyZWQsXG4gICAgaXNSZWFkeVRvUGF5LFxuICAgIGRlY3J5cHRlZERvY3VtZW50S2V5XG4gICkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBqd3QgPSB0aGlzLmp3dEhlbHBlcl8uZGVjb2RlKHJhdyk7XG4gICAgICBpZiAocmVxdWlyZU5vbkV4cGlyZWQpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgZXhwID0gand0WydleHAnXTtcbiAgICAgICAgaWYgKHBhcnNlRmxvYXQoZXhwKSAqIDEwMDAgPCBub3cpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZW50aXRsZW1lbnRzQ2xhaW0gPSBqd3RbJ2VudGl0bGVtZW50cyddO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGVudGl0bGVtZW50c0NsYWltICYmXG4gICAgICAgICAgdGhpcy5jcmVhdGVFbnRpdGxlbWVudHNfKFxuICAgICAgICAgICAgcmF3LFxuICAgICAgICAgICAgZW50aXRsZW1lbnRzQ2xhaW0sXG4gICAgICAgICAgICBpc1JlYWR5VG9QYXksXG4gICAgICAgICAgICBkZWNyeXB0ZWREb2N1bWVudEtleVxuICAgICAgICAgICkpIHx8XG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWdub3JlIHRoZSBlcnJvci5cbiAgICAgIHRoaXMud2luXy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmF3XG4gICAqIEBwYXJhbSB7IU9iamVjdHwhQXJyYXk8IU9iamVjdD59IGpzb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gaXNSZWFkeVRvUGF5XG4gICAqIEBwYXJhbSB7P3N0cmluZz19IGRlY3J5cHRlZERvY3VtZW50S2V5XG4gICAqIEByZXR1cm4geyFFbnRpdGxlbWVudHN9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVFbnRpdGxlbWVudHNfKHJhdywganNvbiwgaXNSZWFkeVRvUGF5LCBkZWNyeXB0ZWREb2N1bWVudEtleSkge1xuICAgIHJldHVybiBuZXcgRW50aXRsZW1lbnRzKFxuICAgICAgU0VSVklDRV9JRCxcbiAgICAgIHJhdyxcbiAgICAgIEVudGl0bGVtZW50LnBhcnNlTGlzdEZyb21Kc29uKGpzb24sIHRoaXMuand0SGVscGVyXyksXG4gICAgICB0aGlzLnBhZ2VDb25maWdfLmdldFByb2R1Y3RJZCgpLFxuICAgICAgdGhpcy5hY2tfLmJpbmQodGhpcyksXG4gICAgICB0aGlzLmNvbnN1bWVfLmJpbmQodGhpcyksXG4gICAgICBpc1JlYWR5VG9QYXksXG4gICAgICBkZWNyeXB0ZWREb2N1bWVudEtleVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnRzfSBlbnRpdGxlbWVudHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uRW50aXRsZW1lbnRzRmV0Y2hlZF8oZW50aXRsZW1lbnRzKSB7XG4gICAgLy8gU2tpcCBhbnkgbm90aWZpY2F0aW9ucyBhbmQgdG9hc3QgaWYgb3RoZXIgZmxvd3MgYXJlIG9uZ29pbmcuXG4gICAgLy8gVE9ETyhkdm95dGVua28pOiB3aGF0J3MgdGhlIHJpZ2h0IGFjdGlvbiB3aGVuIHBheSBmbG93IHdhcyBjYW5jZWxlZD9cbiAgICBjb25zdCBibG9ja05vdGlmaWNhdGlvbiA9IHRoaXMuYmxvY2tOZXh0Tm90aWZpY2F0aW9uXztcbiAgICB0aGlzLmJsb2NrTmV4dE5vdGlmaWNhdGlvbl8gPSBmYWxzZTtcbiAgICAvLyBMZXQgcGVvcGxlIHNwZWNpZmljYWxseSBibG9jayB0b2FzdHMgdG9vLCB3aXRob3V0IGJsb2NraW5nIG5vdGlmaWNhdGlvbnMuXG4gICAgY29uc3QgYmxvY2tUb2FzdCA9IHRoaXMuYmxvY2tOZXh0VG9hc3RfO1xuICAgIHRoaXMuYmxvY2tOZXh0VG9hc3RfID0gZmFsc2U7XG4gICAgaWYgKGJsb2NrTm90aWZpY2F0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTm90aWZ5IG9uIHRoZSByZWNlaXZlZCBlbnRpdGxlbWVudHMuXG4gICAgdGhpcy5kZXBzX1xuICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAudHJpZ2dlckVudGl0bGVtZW50c1Jlc3BvbnNlKFByb21pc2UucmVzb2x2ZShlbnRpdGxlbWVudHMpKTtcblxuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIHRoZSBkZWZhdWx0IGFiaWxpdHkgdG8gYWx3YXlzIGNvbnN1bWUgbWV0ZXJlZCBlbnRpdGxlbWVudHNcbiAgICAvLyBpZiB0aGV5IGFyZSBwcm92aWRlZCBpbiBhbiBlbnRpdGxlbWVudHMgcmVzcG9uc2UuXG4gICAgaWYgKHRoaXMuZW5hYmxlRGVmYXVsdE1ldGVyaW5nSGFuZGxlcl8pIHtcbiAgICAgIGlmIChlbnRpdGxlbWVudHMuZW5hYmxlc1RoaXNXaXRoR29vZ2xlTWV0ZXJpbmcoKSkge1xuICAgICAgICBlbnRpdGxlbWVudHMuY29uc3VtZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGVudGl0bGVtZW50ID0gZW50aXRsZW1lbnRzLmdldEVudGl0bGVtZW50Rm9yVGhpcygpO1xuICAgIGlmICghZW50aXRsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5FVkVOVF9OT19FTlRJVExFTUVOVFMsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYmxvY2tUb2FzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm1heWJlU2hvd1RvYXN0XyhlbnRpdGxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnR9IGVudGl0bGVtZW50XG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWF5YmVTaG93VG9hc3RfKGVudGl0bGVtZW50KSB7XG4gICAgLy8gRG9uJ3Qgc2hvdyB0b2FzdCBmb3IgbWV0ZXJpbmcgZW50aXRsZW1lbnRzLlxuICAgIGlmIChlbnRpdGxlbWVudC5zb3VyY2UgPT09IEdPT0dMRV9NRVRFUklOR19TT1VSQ0UpIHtcbiAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5FVkVOVF9IQVNfTUVURVJJTkdfRU5USVRMRU1FTlRTLCBmYWxzZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IEV2ZW50UGFyYW1zKCk7XG4gICAgcGFyYW1zLnNldElzVXNlclJlZ2lzdGVyZWQodHJ1ZSk7XG4gICAgaWYgKGVudGl0bGVtZW50LnN1YnNjcmlwdGlvblRpbWVzdGFtcCkge1xuICAgICAgcGFyYW1zLnNldFN1YnNjcmlwdGlvblRpbWVzdGFtcChlbnRpdGxlbWVudC5zdWJzY3JpcHRpb25UaW1lc3RhbXApO1xuICAgIH1cblxuICAgIC8vIExvZyB1bmxvY2sgZXZlbnQuXG4gICAgY29uc3QgZXZlbnRUeXBlID1cbiAgICAgIGVudGl0bGVtZW50LnNvdXJjZSA9PT0gUFJJVklMRUdFRF9TT1VSQ0VcbiAgICAgICAgPyBBbmFseXRpY3NFdmVudC5FVkVOVF9VTkxPQ0tFRF9GT1JfQ1JBV0xFUlxuICAgICAgICA6IEFuYWx5dGljc0V2ZW50LkVWRU5UX1VOTE9DS0VEX0JZX1NVQlNDUklQVElPTjtcbiAgICB0aGlzLmRlcHNfLmV2ZW50TWFuYWdlcigpLmxvZ1N3Z0V2ZW50KGV2ZW50VHlwZSwgZmFsc2UsIHBhcmFtcyk7XG5cbiAgICAvLyBDaGVjayBpZiBzdG9yYWdlIGJpdCBpcyBzZXQuIEl0J3Mgb25seSBzZXQgYnkgdGhlIGBFbnRpdGxlbWVudHMuYWNrYCBtZXRob2QuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZV8uZ2V0KFRPQVNUX1NUT1JBR0VfS0VZKS50aGVuKCh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdG9hc3RXYXNTaG93biA9IHZhbHVlID09PSAnMSc7XG4gICAgICBpZiAodG9hc3RXYXNTaG93bikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cgdG9hc3QuXG4gICAgICBjb25zdCBzb3VyY2UgPSBlbnRpdGxlbWVudC5zb3VyY2UgfHwgR09PR0xFX01FVEVSSU5HX1NPVVJDRTtcbiAgICAgIHJldHVybiBuZXcgVG9hc3QoXG4gICAgICAgIHRoaXMuZGVwc18sXG4gICAgICAgIGZlVXJsKCcvdG9hc3RpZnJhbWUnKSxcbiAgICAgICAgZmVBcmdzKHtcbiAgICAgICAgICAncHVibGljYXRpb25JZCc6IHRoaXMucHVibGljYXRpb25JZF8sXG4gICAgICAgICAgJ3NvdXJjZSc6IHNvdXJjZSxcbiAgICAgICAgfSlcbiAgICAgICkub3BlbigpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVudGl0bGVtZW50c30gZW50aXRsZW1lbnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhY2tfKGVudGl0bGVtZW50cykge1xuICAgIGlmIChlbnRpdGxlbWVudHMuZ2V0RW50aXRsZW1lbnRGb3JUaGlzKCkpIHtcbiAgICAgIHRoaXMuc2V0VG9hc3RTaG93bih0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnRzfSBlbnRpdGxlbWVudHNcbiAgICogQHBhcmFtIHs/RnVuY3Rpb249fSBvbkNsb3NlRGlhbG9nIENhbGxlZCBhZnRlciB0aGUgdXNlciBjbG9zZXMgdGhlIGRpYWxvZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN1bWVfKGVudGl0bGVtZW50cywgb25DbG9zZURpYWxvZykge1xuICAgIGlmIChlbnRpdGxlbWVudHMuZW5hYmxlc1RoaXNXaXRoR29vZ2xlTWV0ZXJpbmcoKSkge1xuICAgICAgY29uc3QgZW50aXRsZW1lbnQgPSBlbnRpdGxlbWVudHMuZ2V0RW50aXRsZW1lbnRGb3JUaGlzKCk7XG5cbiAgICAgIGNvbnN0IG9uQ29uc3VtZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAob25DbG9zZURpYWxvZykge1xuICAgICAgICAgIG9uQ2xvc2VEaWFsb2coKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnN1bWVNZXRlcl8oZW50aXRsZW1lbnQpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFlbnRpdGxlbWVudC5zdWJzY3JpcHRpb25Ub2tlbkNvbnRlbnRzKSB7XG4gICAgICAgIC8vIElnbm9yZSBkZWNvZGluZyBlcnJvcnMuIERvbid0IHNob3cgYSB0b2FzdCwgYW5kIHJldHVyblxuICAgICAgICAvLyBvbkNvbnN1bWVDYWxsYmFjayBkaXJlY3RseS5cbiAgICAgICAgcmV0dXJuIG9uQ29uc3VtZUNhbGxiYWNrKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgZW50aXRsZW1lbnQuc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50c1snbWV0ZXJpbmcnXSAmJlxuICAgICAgICBlbnRpdGxlbWVudC5zdWJzY3JpcHRpb25Ub2tlbkNvbnRlbnRzWydtZXRlcmluZyddWydzaG93VG9hc3QnXSA9PT0gdHJ1ZVxuICAgICAgKSB7XG4gICAgICAgIC8vIFJldHVybiBhIGRlbGVnYXRpb24gdG8gdGhlIG1ldGVyVG9hc3RBcGksIHdoaWNoIHdpbGwgcmV0dXJuIHRoZVxuICAgICAgICAvLyBvbkNvbnN1bWVDYWxsYmFjayB3aGVuIHRoZSB0b2FzdCBpcyBkaXNtaXNzZWQuXG4gICAgICAgIGNvbnN0IG1ldGVyVG9hc3RBcGkgPSBuZXcgTWV0ZXJUb2FzdEFwaSh0aGlzLmRlcHNfLCB7XG4gICAgICAgICAgbWV0ZXJDbGllbnRUeXBlOlxuICAgICAgICAgICAgZW50aXRsZW1lbnQuc3Vic2NyaXB0aW9uVG9rZW5Db250ZW50c1snbWV0ZXJpbmcnXVsnY2xpZW50VHlwZSddLFxuICAgICAgICAgIG1ldGVyQ2xpZW50VXNlckF0dHJpYnV0ZTpcbiAgICAgICAgICAgIGVudGl0bGVtZW50LnN1YnNjcmlwdGlvblRva2VuQ29udGVudHNbJ21ldGVyaW5nJ11bXG4gICAgICAgICAgICAgICdjbGllbnRVc2VyQXR0cmlidXRlJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIG1ldGVyVG9hc3RBcGkuc2V0T25Db25zdW1lQ2FsbGJhY2sob25Db25zdW1lQ2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gbWV0ZXJUb2FzdEFwaS5zdGFydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgc2hvd1RvYXN0IGlzbid0IHRydWUsIGRvbid0IHNob3cgYSB0b2FzdCwgYW5kIHJldHVyblxuICAgICAgICAvLyBvbkNvbnN1bWVDYWxsYmFjayBkaXJlY3RseS5cbiAgICAgICAgcmV0dXJuIG9uQ29uc3VtZUNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0V4dGVybmFsRGVmPX0gcGFyYW1zXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFFbnRpdGxlbWVudHM+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hfKHBhcmFtcykge1xuICAgIC8vIEdldCBzd2dVc2VyVG9rZW4gZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgY29uc3Qgc3dnVXNlclRva2VuUHJvbWlzZSA9IHRoaXMuc3RvcmFnZV8uZ2V0KENvbnN0YW50cy5VU0VSX1RPS0VOLCB0cnVlKTtcblxuICAgIC8vIEdldCByZWFkX3RpbWUgZnJvbSBzZXNzaW9uIHN0b3JhZ2VcbiAgICBjb25zdCByZWFkVGltZVByb21pc2UgPSB0aGlzLnN0b3JhZ2VfLmdldChcbiAgICAgIENvbnN0YW50cy5SRUFEX1RJTUUsXG4gICAgICAvKnVzZUxvY2FsU3RvcmFnZT0qLyBmYWxzZVxuICAgICk7XG5cbiAgICBsZXQgdXJsID1cbiAgICAgICcvcHVibGljYXRpb24vJyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnB1YmxpY2F0aW9uSWRfKSArIHRoaXMuYWN0aW9uXztcblxuICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICBoYXNoKGdldENhbm9uaWNhbFVybCh0aGlzLmRlcHNfLmRvYygpKSksXG4gICAgICBzd2dVc2VyVG9rZW5Qcm9taXNlLFxuICAgICAgcmVhZFRpbWVQcm9taXNlLFxuICAgIF0pXG4gICAgICAudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc2hlZENhbm9uaWNhbFVybCA9IHZhbHVlc1swXTtcbiAgICAgICAgY29uc3Qgc3dnVXNlclRva2VuID0gdmFsdWVzWzFdO1xuICAgICAgICBjb25zdCByZWFkVGltZSA9IHZhbHVlc1syXTtcblxuICAgICAgICB1cmwgPSBhZGREZXZNb2RlUGFyYW1zVG9VcmwodGhpcy53aW5fLmxvY2F0aW9uLCB1cmwpO1xuXG4gICAgICAgIC8vIEFkZCBlbmNyeXB0aW9uIHBhcmFtLlxuICAgICAgICBpZiAocGFyYW1zPy5lbmNyeXB0aW9uKSB7XG4gICAgICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbShcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICdjcnlwdCcsXG4gICAgICAgICAgICBwYXJhbXMuZW5jcnlwdGlvbi5lbmNyeXB0ZWREb2N1bWVudEtleVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgc3dnVXNlclRva2VuIHBhcmFtLlxuICAgICAgICBpZiAoc3dnVXNlclRva2VuKSB7XG4gICAgICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICdzdXQnLCBzd2dVc2VyVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBwdWJsaXNoZXJQcm92aWRlZElkIHBhcmFtIGZvciBzd2ctYmFzaWMuXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ18ucHVibGlzaGVyUHJvdmlkZWRJZCkge1xuICAgICAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAncHBpZCcsIHRoaXMuY29uZmlnXy5wdWJsaXNoZXJQcm92aWRlZElkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgcHVibGlzaGVyUHJvdmlkZWRJZCBwYXJhbSBmb3Igc3dnLWNsYXNzaWMuXG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIHBhcmFtcz8ucHVibGlzaGVyUHJvdmlkZWRJZCAmJlxuICAgICAgICAgIHR5cGVvZiBwYXJhbXMucHVibGlzaGVyUHJvdmlkZWRJZCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICBwYXJhbXMucHVibGlzaGVyUHJvdmlkZWRJZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAncHBpZCcsIHBhcmFtcy5wdWJsaXNoZXJQcm92aWRlZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBpbnRlcmFjdGlvbl9hZ2UgcGFyYW0uXG4gICAgICAgIGlmIChyZWFkVGltZSkge1xuICAgICAgICAgIGNvbnN0IGxhc3QgPSBwYXJzZUludChyZWFkVGltZSwgMTApO1xuICAgICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkFnZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSBsYXN0KSAvIDEwMDApO1xuICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uQWdlID49IDApIHtcbiAgICAgICAgICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbShcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgJ2ludGVyYWN0aW9uX2FnZScsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25BZ2UudG9TdHJpbmcoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7IUdldEVudGl0bGVtZW50c1BhcmFtc0ludGVybmFsRGVmfHVuZGVmaW5lZH0gKi9cbiAgICAgICAgbGV0IGVuY29kYWJsZVBhcmFtcyA9IHRoaXMuZW5hYmxlTWV0ZXJlZEJ5R29vZ2xlX1xuICAgICAgICAgID8ge1xuICAgICAgICAgICAgICBtZXRlcmluZzoge1xuICAgICAgICAgICAgICAgIGNsaWVudFR5cGVzOiBbTWV0ZXJDbGllbnRUeXBlcy5NRVRFUkVEX0JZX0dPT0dMRV0sXG4gICAgICAgICAgICAgICAgb3duZXI6IHRoaXMucHVibGljYXRpb25JZF8sXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgIGhhc2hlZENhbm9uaWNhbFVybCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vIEFkZCBtZXRlcmluZyBwYXJhbXMuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnB1YmxpY2F0aW9uSWRfICYmXG4gICAgICAgICAgcGFyYW1zPy5tZXRlcmluZz8uc3RhdGUgJiZcbiAgICAgICAgICBxdWVyeVN0cmluZ0hhc0ZyZXNoR2FhUGFyYW1zKHRoaXMud2luXy5sb2NhdGlvbi5zZWFyY2gpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG1ldGVyaW5nU3RhdGVJZCA9IHBhcmFtcy5tZXRlcmluZy5zdGF0ZS5pZDtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0eXBlb2YgbWV0ZXJpbmdTdGF0ZUlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgbWV0ZXJpbmdTdGF0ZUlkLmxlbmd0aCA+IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVuY29kYWJsZVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgbWV0ZXJpbmc6IHtcbiAgICAgICAgICAgICAgICBjbGllbnRUeXBlczogW01ldGVyQ2xpZW50VHlwZXMuTElDRU5TRURfQllfR09PR0xFXSxcbiAgICAgICAgICAgICAgICBvd25lcjogdGhpcy5wdWJsaWNhdGlvbklkXyxcbiAgICAgICAgICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgICAgICAgaGFzaGVkQ2Fub25pY2FsVXJsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQWRkIHB1Ymxpc2hlciBwcm92aWRlZCBzdGF0ZSBhbmQgYWRkaXRpb25hbCBmaWVsZHMuXG4gICAgICAgICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgIGlkOiBtZXRlcmluZ1N0YXRlSWQsXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLmdldEdhYVRva2VuXygpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQ29sbGVjdCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgZnVuY3Rpb24gY29sbGVjdEF0dHJpYnV0ZXMoe2F0dHJpYnV0ZXMsIGNhdGVnb3J5fSkge1xuICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVOYW1lcyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZU5hbWUgb2YgYXR0cmlidXRlTmFtZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7Y2F0ZWdvcnl9XyR7YXR0cmlidXRlTmFtZX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE51bWJlcihhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnRpbWVzdGFtcCk7XG5cbiAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wSXNUb29GYXJJblRoZUZ1dHVyZSA9XG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPiAoRGF0ZS5ub3coKSAvIDEwMDApICogMjtcbiAgICAgICAgICAgICAgICBpZiAoIXRpbWVzdGFtcCB8fCB0aW1lc3RhbXBJc1Rvb0ZhckluVGhlRnV0dXJlKSB7XG4gICAgICAgICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICAgICAgICBgU3dHIEVudGl0bGVtZW50czogUGxlYXNlIHNwZWNpZnkgYSBVbml4IHRpbWVzdGFtcCwgaW4gc2Vjb25kcywgZm9yIHRoZSBcIiR7YXR0cmlidXRlTmFtZX1cIiAke2NhdGVnb3J5fSBhdHRyaWJ1dGUuIFRoZSB0aW1lc3RhbXAgeW91IHBhc3NlZCAoJHthdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnRpbWVzdGFtcH0pIGxvb2tzIGludmFsaWQuYFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb2xsZWN0IGF0dHJpYnV0ZS5cbiAgICAgICAgICAgICAgICBlbmNvZGFibGVQYXJhbXMubWV0ZXJpbmcuc3RhdGUuYXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbGxlY3RBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogcGFyYW1zLm1ldGVyaW5nLnN0YXRlLnN0YW5kYXJkQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdzdGFuZGFyZCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbGxlY3RBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgYXR0cmlidXRlczogcGFyYW1zLm1ldGVyaW5nLnN0YXRlLmN1c3RvbUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAnY3VzdG9tJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgICBgU3dHIEVudGl0bGVtZW50czogUGxlYXNlIHNwZWNpZnkgYSBtZXRlcmluZyBzdGF0ZSBJRCBzdHJpbmcsIGlkZWFsbHkgYSBoYXNoIHRvIGF2b2lkIFBJSS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmNvZGFibGVQYXJhbXMpIHtcbiAgICAgICAgICAvLyBFbmNvZGUgcGFyYW1zLlxuICAgICAgICAgIHRoaXMuZW5jb2RlZFBhcmFtc18gPSBiYXNlNjRVcmxFbmNvZGVGcm9tQnl0ZXMoXG4gICAgICAgICAgICB1dGY4RW5jb2RlU3luYyhKU09OLnN0cmluZ2lmeShlbmNvZGFibGVQYXJhbXMpKVxuICAgICAgICAgICk7XG4gICAgICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsIHRoaXMuZW5jb2RlZFBhcmFtTmFtZV8sIHRoaXMuZW5jb2RlZFBhcmFtc18pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQnVpbGQgVVJMLlxuICAgICAgICByZXR1cm4gc2VydmljZVVybCh1cmwpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCh1cmwpID0+IHtcbiAgICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5BQ1RJT05fR0VUX0VOVElUTEVNRU5UUywgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaGVyXy5mZXRjaENyZWRlbnRpYWxlZEpzb24odXJsKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBqc29uO1xuICAgICAgICBpZiAodGhpcy51c2VBcnRpY2xlRW5kcG9pbnRfKSB7XG4gICAgICAgICAgdGhpcy5hcnRpY2xlXyA9IGpzb247XG4gICAgICAgICAgcmVzcG9uc2UgPSBqc29uWydlbnRpdGxlbWVudHMnXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChqc29uLmVycm9yTWVzc2FnZXMgJiYganNvbi5lcnJvck1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGVycm9yTWVzc2FnZSBvZiBqc29uLmVycm9yTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHdhcm4oJ1N3RyBFbnRpdGxlbWVudHM6ICcgKyBlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUVudGl0bGVtZW50cyhyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlcyBlbnRpdGxlbWVudCBkZXYgbW9kZSBwYXJhbXMgZnJvbSB0aGUgZ2l2ZW4gaGFzaCBmcmFnbWVudCBhbmQgYWRkcyBpdFxuICogdG8gdGhlIGdpdmVuIFVSTC5cbiAqIEBwYXJhbSB7IUxvY2F0aW9ufSBsb2NhdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBhZGREZXZNb2RlUGFyYW1zVG9VcmwobG9jYXRpb24sIHVybCkge1xuICBjb25zdCBoYXNoUGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZyhsb2NhdGlvbi5oYXNoKTtcbiAgY29uc3QgZGV2TW9kZVNjZW5hcmlvID0gaGFzaFBhcmFtc1snc3dnLmRldmVudGl0bGVtZW50J107XG4gIGlmIChkZXZNb2RlU2NlbmFyaW8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgcmV0dXJuIGFkZFF1ZXJ5UGFyYW0odXJsLCAnZGV2RW50JywgZGV2TW9kZVNjZW5hcmlvKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IFN0cmluZyB2YWx1ZSBvZiBpc1JlYWR5VG9QYXlcbiAqIChmcm9tIEpTT04gb3IgQ2FjaGUpIHRvIGEgYm9vbGVhbiB2YWx1ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpcnRwU3RyaW5nVG9Cb29sZWFuKHZhbHVlKSB7XG4gIHN3aXRjaCAodmFsdWUpIHtcbiAgICBjYXNlICd0cnVlJzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgJ2ZhbHNlJzpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FuYWx5dGljc0V2ZW50LCBFbnRpdGxlbWVudFJlc3VsdH0gZnJvbSAnLi4vcHJvdG8vYXBpX21lc3NhZ2VzJztcbmltcG9ydCB7RXZlbnR9IGZyb20gJy4uL2FwaS9sb2dnZXItYXBpJztcbmltcG9ydCB7U2hvd2Nhc2VFdmVudCwgU3Vic2NyaXB0aW9uRmxvd3N9IGZyb20gJy4uL2FwaS9zdWJzY3JpcHRpb25zJztcblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsQW5hbHl0aWNzRXZlbnQ+fSAqL1xuY29uc3QgUHVibGlzaGVyRXZlbnRUb0FuYWx5dGljc0V2ZW50ID0ge1xuICBbRXZlbnQuSU1QUkVTU0lPTl9QQVlXQUxMXTogQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9QQVlXQUxMLFxuICBbRXZlbnQuSU1QUkVTU0lPTl9BRF06IEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fQUQsXG4gIFtFdmVudC5JTVBSRVNTSU9OX09GRkVSU106IEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fT0ZGRVJTLFxuICBbRXZlbnQuQUNUSU9OX1NVQlNDUklQVElPTlNfTEFORElOR19QQUdFXTpcbiAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fU1VCU0NSSVBUSU9OU19MQU5ESU5HX1BBR0UsXG4gIFtFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURURdOiBBbmFseXRpY3NFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURUQsXG4gIFtFdmVudC5BQ1RJT05fUEFZTUVOVF9GTE9XX1NUQVJURURdOlxuICAgIEFuYWx5dGljc0V2ZW50LkFDVElPTl9QQVlNRU5UX0ZMT1dfU1RBUlRFRCxcbiAgW0V2ZW50LkFDVElPTl9QQVlNRU5UX0NPTVBMRVRFRF06IEFuYWx5dGljc0V2ZW50LkFDVElPTl9QQVlNRU5UX0NPTVBMRVRFLFxuICBbRXZlbnQuRVZFTlRfQ1VTVE9NXTogQW5hbHl0aWNzRXZlbnQuRVZFTlRfQ1VTVE9NLFxufTtcblxuLyoqIEBjb25zdCB7IU9iamVjdDw/QW5hbHl0aWNzRXZlbnQsP0V2ZW50Pn0gKi9cbmNvbnN0IEFuYWx5dGljc0V2ZW50VG9QdWJsaXNoZXJFdmVudCA9IHtcbiAgW0FuYWx5dGljc0V2ZW50LlVOS05PV05dOiBudWxsLFxuICBbQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9QQVlXQUxMXTogRXZlbnQuSU1QUkVTU0lPTl9QQVlXQUxMLFxuICBbQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9BRF06IEV2ZW50LklNUFJFU1NJT05fQUQsXG4gIFtBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX09GRkVSU106IEV2ZW50LklNUFJFU1NJT05fT0ZGRVJTLFxuICBbQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9TVUJTQ1JJQkVfQlVUVE9OXTogbnVsbCxcbiAgW0FuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fU01BUlRCT1hdOiBudWxsLFxuICBbQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1NVQlNDUklCRV06IG51bGwsXG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fUEFZTUVOVF9DT01QTEVURV06IEV2ZW50LkFDVElPTl9QQVlNRU5UX0NPTVBMRVRFRCxcbiAgW0FuYWx5dGljc0V2ZW50LkFDVElPTl9BQ0NPVU5UX0NSRUFURURdOiBudWxsLFxuICBbQW5hbHl0aWNzRXZlbnQuQUNUSU9OX0FDQ09VTlRfQUNLTk9XTEVER0VEXTogbnVsbCxcbiAgW0FuYWx5dGljc0V2ZW50LkFDVElPTl9TVUJTQ1JJUFRJT05TX0xBTkRJTkdfUEFHRV06XG4gICAgRXZlbnQuQUNUSU9OX1NVQlNDUklQVElPTlNfTEFORElOR19QQUdFLFxuICBbQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1BBWU1FTlRfRkxPV19TVEFSVEVEXTpcbiAgICBFdmVudC5BQ1RJT05fUEFZTUVOVF9GTE9XX1NUQVJURUQsXG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURURdOiBFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURUQsXG4gIFtBbmFseXRpY3NFdmVudC5FVkVOVF9QQVlNRU5UX0ZBSUxFRF06IG51bGwsXG4gIFtBbmFseXRpY3NFdmVudC5FVkVOVF9DVVNUT01dOiBFdmVudC5FVkVOVF9DVVNUT00sXG59O1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZyw/QXJyYXk8QW5hbHl0aWNzRXZlbnQ+Pn0gKi9cbmNvbnN0IFNob3djYXNlRXZlbnRzID0ge1xuICAvLyBFdmVudHMgcmVsYXRlZCB0byBjb250ZW50IGJlaW5nIHBvdGVudGlhbGx5IHVubG9ja2FibGVcbiAgW1Nob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfTUVURVJfT0ZGRVJFRF06IFtcbiAgICBBbmFseXRpY3NFdmVudC5FVkVOVF9IQVNfTUVURVJJTkdfRU5USVRMRU1FTlRTLFxuICAgIEFuYWx5dGljc0V2ZW50LkVWRU5UX09GRkVSRURfTUVURVIsXG4gIF0sXG5cbiAgLy8gRXZlbnRzIHJlbGF0ZWQgdG8gY29udGVudCBiZWluZyB1bmxvY2tlZFxuICBbU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9CWV9TVUJTQ1JJUFRJT05dOiBbXG4gICAgQW5hbHl0aWNzRXZlbnQuRVZFTlRfVU5MT0NLRURfQllfU1VCU0NSSVBUSU9OLFxuICBdLFxuICBbU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9CWV9NRVRFUl06IFtcbiAgICBBbmFseXRpY3NFdmVudC5FVkVOVF9IQVNfTUVURVJJTkdfRU5USVRMRU1FTlRTLFxuICAgIEFuYWx5dGljc0V2ZW50LkVWRU5UX1VOTE9DS0VEX0JZX01FVEVSLFxuICBdLFxuICBbU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9GUkVFX1BBR0VdOiBbXG4gICAgQW5hbHl0aWNzRXZlbnQuRVZFTlRfVU5MT0NLRURfRlJFRV9QQUdFLFxuICBdLFxuXG4gIC8vIEV2ZW50cyByZXF1aXJpbmcgdXNlciBhY3Rpb24gdG8gdW5sb2NrIGNvbnRlbnRcbiAgW1Nob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfTk9fRU5USVRMRU1FTlRTX1JFR1dBTExdOiBbXG4gICAgQW5hbHl0aWNzRXZlbnQuRVZFTlRfTk9fRU5USVRMRU1FTlRTLFxuICAgIEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fUkVHV0FMTCxcbiAgICBBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX1NIT1dDQVNFX1JFR1dBTEwsXG4gIF0sXG5cbiAgLy8gRXZlbnRzIHJlcXVpcmluZyBzdWJzY3JpcHRpb24gdG8gdW5sb2NrIGNvbnRlbnRcbiAgW1Nob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfTk9fRU5USVRMRU1FTlRTX1BBWVdBTExdOiBbXG4gICAgQW5hbHl0aWNzRXZlbnQuRVZFTlRfTk9fRU5USVRMRU1FTlRTLFxuICAgIEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fUEFZV0FMTCxcbiAgXSxcbiAgW1Nob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfSU5FTElHSUJMRV9QQVlXQUxMXTogW1xuICAgIEFuYWx5dGljc0V2ZW50LkVWRU5UX0lORUxJR0lCTEVfUEFZV0FMTCxcbiAgICBBbmFseXRpY3NFdmVudC5FVkVOVF9OT19FTlRJVExFTUVOVFMsXG4gIF0sXG59O1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PD9BbmFseXRpY3NFdmVudCw/RXZlbnQ+fSAqL1xuY29uc3QgQW5hbHl0aWNzRXZlbnRUb0VudGl0bGVtZW50UmVzdWx0ID0ge1xuICBbQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9SRUdXQUxMXTogRW50aXRsZW1lbnRSZXN1bHQuTE9DS0VEX1JFR1dBTEwsXG4gIFtBbmFseXRpY3NFdmVudC5FVkVOVF9VTkxPQ0tFRF9CWV9NRVRFUl06IEVudGl0bGVtZW50UmVzdWx0LlVOTE9DS0VEX01FVEVSLFxuICBbQW5hbHl0aWNzRXZlbnQuRVZFTlRfVU5MT0NLRURfQllfU1VCU0NSSVBUSU9OXTpcbiAgICBFbnRpdGxlbWVudFJlc3VsdC5VTkxPQ0tFRF9TVUJTQ1JJQkVSLFxuICBbQW5hbHl0aWNzRXZlbnQuRVZFTlRfVU5MT0NLRURfRlJFRV9QQUdFXTogRW50aXRsZW1lbnRSZXN1bHQuVU5MT0NLRURfRlJFRSxcbiAgW0FuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fUEFZV0FMTF06IEVudGl0bGVtZW50UmVzdWx0LkxPQ0tFRF9QQVlXQUxMLFxuICBbQW5hbHl0aWNzRXZlbnQuRVZFTlRfSU5FTElHSUJMRV9QQVlXQUxMXTpcbiAgICBFbnRpdGxlbWVudFJlc3VsdC5JTkVMSUdJQkxFX1BBWVdBTEwsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IXN0cmluZ30gZXZlbnRDYXRlZ29yeVxuICogQHBhcmFtIHshc3RyaW5nfSBldmVudEFjdGlvblxuICogQHBhcmFtIHshc3RyaW5nfSBldmVudExhYmVsXG4gKiBAcGFyYW0geyFib29sZWFufSBub25JbnRlcmFjdGlvblxuICogQHJldHVybnMgeyFPYmplY3R9XG4gKi9cbmNvbnN0IGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50ID0gKFxuICBldmVudENhdGVnb3J5LFxuICBldmVudEFjdGlvbixcbiAgZXZlbnRMYWJlbCxcbiAgbm9uSW50ZXJhY3Rpb25cbikgPT4gKHtcbiAgZXZlbnRDYXRlZ29yeSxcbiAgZXZlbnRBY3Rpb24sXG4gIGV2ZW50TGFiZWwsXG4gIG5vbkludGVyYWN0aW9uLFxufSk7XG5cbi8qKiBAY29uc3QgeyFPYmplY3Q8P0FuYWx5dGljc0V2ZW50LD9PYmplY3Q+fSAqL1xuZXhwb3J0IGNvbnN0IEFuYWx5dGljc0V2ZW50VG9Hb29nbGVBbmFseXRpY3NFdmVudCA9IHtcbiAgW0FuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fT0ZGRVJTXTogY3JlYXRlR29vZ2xlQW5hbHl0aWNzRXZlbnQoXG4gICAgJ05URyBwYXl3YWxsJyxcbiAgICAncGF5d2FsbCBtb2RhbCBpbXByZXNzaW9uJyxcbiAgICAnJyxcbiAgICB0cnVlXG4gICksXG4gIFtBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX0NPTlRSSUJVVElPTl9PRkZFUlNdOiBjcmVhdGVHb29nbGVBbmFseXRpY3NFdmVudChcbiAgICAnTlRHIG1lbWJlcnNoaXAnLFxuICAgICdvZmZlciBpbXByZXNzaW9ucycsXG4gICAgJycsXG4gICAgdHJ1ZVxuICApLFxuXG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURURdOiBjcmVhdGVHb29nbGVBbmFseXRpY3NFdmVudChcbiAgICAnTlRHIHBheXdhbGwnLFxuICAgICdjbGljaycsXG4gICAgJycsXG4gICAgZmFsc2VcbiAgKSxcbiAgW0FuYWx5dGljc0V2ZW50LkFDVElPTl9TV0dfU1VCU0NSSVBUSU9OX01JTklfUFJPTVBUX0NMSUNLXTpcbiAgICBjcmVhdGVHb29nbGVBbmFseXRpY3NFdmVudChcbiAgICAgICdOVEcgc3Vic2NyaXB0aW9uJyxcbiAgICAgICdtYXJrZXRpbmcgbW9kYWwgY2xpY2snLFxuICAgICAgJycsXG4gICAgICBmYWxzZVxuICAgICksXG4gIFtBbmFseXRpY3NFdmVudC5JTVBSRVNTSU9OX1NXR19TVUJTQ1JJUFRJT05fTUlOSV9QUk9NUFRdOlxuICAgIGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICAgJ05URyBzdWJzY3JpcHRpb24nLFxuICAgICAgJ21hcmtldGluZyBtb2RhbCBpbXByZXNzaW9uJyxcbiAgICAgICcnLFxuICAgICAgdHJ1ZVxuICAgICksXG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fU1dHX0NPTlRSSUJVVElPTl9NSU5JX1BST01QVF9DTElDS106XG4gICAgY3JlYXRlR29vZ2xlQW5hbHl0aWNzRXZlbnQoXG4gICAgICAnTlRHIG1lbWJlcnNoaXAnLFxuICAgICAgJ21hcmtldGluZyBtb2RhbCBjbGljaycsXG4gICAgICAnJyxcbiAgICAgIGZhbHNlXG4gICAgKSxcbiAgW0FuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fU1dHX0NPTlRSSUJVVElPTl9NSU5JX1BST01QVF06XG4gICAgY3JlYXRlR29vZ2xlQW5hbHl0aWNzRXZlbnQoXG4gICAgICAnTlRHIG1lbWJlcnNoaXAnLFxuICAgICAgJ21lbWJlcnNoaXAgbW9kYWwgaW1wcmVzc2lvbicsXG4gICAgICAnJyxcbiAgICAgIHRydWVcbiAgICApLFxuICBbQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9ORVdTTEVUVEVSX09QVF9JTl06IGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICdOVEcgbmV3c2xldHRlcicsXG4gICAgJ25ld3NsZXR0ZXIgbW9kYWwgaW1wcmVzc2lvbicsXG4gICAgJycsXG4gICAgdHJ1ZVxuICApLFxuICBbQW5hbHl0aWNzRXZlbnQuRVZFTlRfTkVXU0xFVFRFUl9PUFRFRF9JTl06IGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICdOVEcgbmV3c2xldHRlcicsXG4gICAgJ25ld3NsZXR0ZXIgc2lnbnVwJyxcbiAgICAnc3VjY2VzcycsXG4gICAgZmFsc2VcbiAgKSxcbiAgW0FuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fUkVHV0FMTF9PUFRfSU5dOiBjcmVhdGVHb29nbGVBbmFseXRpY3NFdmVudChcbiAgICAnTlRHIGFjY291bnQnLFxuICAgICdyZWdpc3RyYXRpb24gbW9kYWwgaW1wcmVzc2lvbicsXG4gICAgJycsXG4gICAgdHJ1ZVxuICApLFxuICBbQW5hbHl0aWNzRXZlbnQuRVZFTlRfUkVHV0FMTF9PUFRFRF9JTl06IGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICdOVEcgYWNjb3VudCcsXG4gICAgJ3JlZ2lzdHJhdGlvbicsXG4gICAgJ3N1Y2Nlc3MnLFxuICAgIGZhbHNlXG4gICksXG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fU1VSVkVZX0RBVEFfVFJBTlNGRVJdOiBjcmVhdGVHb29nbGVBbmFseXRpY3NFdmVudChcbiAgICAnJyxcbiAgICAnc3VydmV5IHN1Ym1pc3Npb24nLFxuICAgICcnLFxuICAgIGZhbHNlXG4gICksXG59O1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PD9BbmFseXRpY3NFdmVudCw/T2JqZWN0Pn0gKi9cbmV4cG9ydCBjb25zdCBTdWJzY3JpcHRpb25TcGVjaWZpY0FuYWx5dGljc0V2ZW50VG9Hb29nbGVBbmFseXRpY3NFdmVudCA9IHtcbiAgW0FuYWx5dGljc0V2ZW50LkFDVElPTl9QQVlNRU5UX0NPTVBMRVRFXTogY3JlYXRlR29vZ2xlQW5hbHl0aWNzRXZlbnQoXG4gICAgJ05URyBzdWJzY3JpcHRpb24nLFxuICAgICdzdWJtaXQnLFxuICAgICdzdWNjZXNzJyxcbiAgICBmYWxzZVxuICApLFxufTtcblxuLyoqIEBjb25zdCB7IU9iamVjdDw/QW5hbHl0aWNzRXZlbnQsP09iamVjdD59ICovXG5leHBvcnQgY29uc3QgQ29udHJpYnV0aW9uU3BlY2lmaWNBbmFseXRpY3NFdmVudFRvR29vZ2xlQW5hbHl0aWNzRXZlbnQgPSB7XG4gIFtBbmFseXRpY3NFdmVudC5BQ1RJT05fUEFZTUVOVF9DT01QTEVURV06IGNyZWF0ZUdvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICdOVEcgbWVtYmVyc2hpcCcsXG4gICAgJ3N1Ym1pdCcsXG4gICAgJ3N1Y2Nlc3MnLFxuICAgIGZhbHNlXG4gICksXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgcHJvcGVuc2l0eSBldmVudCBlbnVtIGludG8gYW4gYW5hbHl0aWNzIGV2ZW50IGVudW0uXG4gKiBAcGFyYW0geyFFdmVudHxzdHJpbmd9IHByb3BlbnNpdHlFdmVudFxuICogQHJldHVybnMgeyFBbmFseXRpY3NFdmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1Ymxpc2hlckV2ZW50VG9BbmFseXRpY3NFdmVudChwcm9wZW5zaXR5RXZlbnQpIHtcbiAgcmV0dXJuIFB1Ymxpc2hlckV2ZW50VG9BbmFseXRpY3NFdmVudFtwcm9wZW5zaXR5RXZlbnRdO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIGFuYWx5dGljcyBldmVudCBlbnVtIGludG8gYSBwcm9wZW5zaXR5IGV2ZW50IGVudW0uXG4gKiBAcGFyYW0gez9BbmFseXRpY3NFdmVudH0gYW5hbHl0aWNzRXZlbnRcbiAqIEByZXR1cm5zIHs/RXZlbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbmFseXRpY3NFdmVudFRvUHVibGlzaGVyRXZlbnQoYW5hbHl0aWNzRXZlbnQpIHtcbiAgcmV0dXJuIEFuYWx5dGljc0V2ZW50VG9QdWJsaXNoZXJFdmVudFthbmFseXRpY3NFdmVudF07XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBwdWJsaXNoZXIgZW50aXRsZW1lbnQgZXZlbnQgZW51bSBpbnRvIGFuIGFycmF5IGFuYWx5dGljcyBldmVudHMuXG4gKiBAcGFyYW0geyFTaG93Y2FzZUV2ZW50fSBldmVudFxuICogQHJldHVybnMgeyFBcnJheTxBbmFseXRpY3NFdmVudD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93Y2FzZUV2ZW50VG9BbmFseXRpY3NFdmVudHMoZXZlbnQpIHtcbiAgcmV0dXJuIFNob3djYXNlRXZlbnRzW2V2ZW50XSB8fCBbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5dGljc0V2ZW50VG9FbnRpdGxlbWVudFJlc3VsdChldmVudCkge1xuICByZXR1cm4gQW5hbHl0aWNzRXZlbnRUb0VudGl0bGVtZW50UmVzdWx0W2V2ZW50XTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhbmFseXRpY3MgZXZlbnQgZW51bSBpbnRvIGEgR29vZ2xlIEFuYWx5dGljcyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0gez9BbmFseXRpY3NFdmVudH0gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdWJzY3JpcHRpb25GbG93XG4gKiBAcmV0dXJucyB7P09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5dGljc0V2ZW50VG9Hb29nbGVBbmFseXRpY3NFdmVudChldmVudCwgc3Vic2NyaXB0aW9uRmxvdykge1xuICBsZXQgZ2FFdmVudCA9IG51bGw7XG4gIGlmIChzdWJzY3JpcHRpb25GbG93KSB7XG4gICAgaWYgKHN1YnNjcmlwdGlvbkZsb3cgPT0gU3Vic2NyaXB0aW9uRmxvd3MuU1VCU0NSSUJFKSB7XG4gICAgICBnYUV2ZW50ID0gU3Vic2NyaXB0aW9uU3BlY2lmaWNBbmFseXRpY3NFdmVudFRvR29vZ2xlQW5hbHl0aWNzRXZlbnRbZXZlbnRdO1xuICAgIH0gZWxzZSBpZiAoc3Vic2NyaXB0aW9uRmxvdyA9PSBTdWJzY3JpcHRpb25GbG93cy5DT05UUklCVVRFKSB7XG4gICAgICBnYUV2ZW50ID0gQ29udHJpYnV0aW9uU3BlY2lmaWNBbmFseXRpY3NFdmVudFRvR29vZ2xlQW5hbHl0aWNzRXZlbnRbZXZlbnRdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ2FFdmVudCB8fCBBbmFseXRpY3NFdmVudFRvR29vZ2xlQW5hbHl0aWNzRXZlbnRbZXZlbnRdO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBFeHBlcmltZW50RmxhZ3MgPSB7XG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBmZWF0dXJlIHRoYXQgYWxsb3dzIHlvdSB0byByZXBsYWNlIG9uZSBzdWJzY3JpcHRpb25cbiAgICogZm9yIGFub3RoZXIgaW4gdGhlIHN1YnNjcmliZSgpIEFQSS5cbiAgICovXG4gIFJFUExBQ0VfU1VCU0NSSVBUSU9OOiAncmVwbGFjZS1zdWJzY3JpcHRpb24nLFxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBjb250cmlidXRpb25zIGZlYXR1cmUuXG4gICAqIERFUFJFQ0FURUQuIFRoaXMgZmxhZyBjYW4gYmUgcmVtb3ZlZCBvbmNlIG5vdCB1c2VkIGJ5IGFueW9uZS5cbiAgICovXG4gIENPTlRSSUJVVElPTlM6ICdjb250cmlidXRpb25zJyxcblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgUHJvcGVuc2l0eSBmZWF0dXJlXG4gICAqL1xuICBQUk9QRU5TSVRZOiAncHJvcGVuc2l0eScsXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgdGhlIFNtYXJ0Ym94IGZlYXR1cmUuXG4gICAqL1xuICBTTUFSVEJPWDogJ3NtYXJ0Ym94JyxcblxuICAvKipcbiAgICogRW5hYmxlcyB1c2luZyBuZXcgQWN0aXZpdGllcyBBUElzXG4gICAqL1xuICBIRUpJUkE6ICdoZWppcmEnLFxuXG4gIC8qKiBFbmFibGVzIGxvZ2dpbmcgdG8gYm90aCB0aGUgbmV3IFN3RyBDbGVhcmN1dCBzZXJ2aWNlIGFuZCB0aGUgcHJlLWV4aXN0aW5nXG4gICAqICBDbGVhcmN1dCBpZnJhbWUgd2hpbGUgd2UgdmVyaWZ5IHRoZSBuZXcgbG9nZ2luZyBzeXN0ZW0gd29ya3MuXG4gICAqICBQdWJsaXNoZXJzIHNob3VsZCBub3QgYWN0aXZhdGUgdGhpcyBleHBlcmltZW50LlxuICAgKi9cbiAgTE9HR0lOR19CRUFDT046ICdsb2dnaW5nLWJlYWNvbicsXG5cbiAgLyoqIEVuYWJsZXMgZ29vZ2xlVHJhbnNhY3Rpb25JRCBjaGFuZ2UuIFdpdGggdGhlIGV4cGVyaW1lbnQgb24gdGhlIElEIGlzXG4gICAqICBjaGFuZ2VkIGZyb20gJzx1dWlkPicgdG8gJzx1dWlkPi5zd2cnLlxuICAgKi9cbiAgVVBEQVRFX0dPT0dMRV9UUkFOU0FDVElPTl9JRDogJ3VwZGF0ZS1nb29nbGUtdHJhbnNhY3Rpb24taWQnLFxuXG4gIC8qKlxuICAgKiBFeHBlcmltZW50IGZsYWcgZm9yIGd1YXJkaW5nIGNoYW5nZXMgdG8gZml4IFBheUNsaWVudCByZWRpcmVjdCBmbG93LlxuICAgKi9cbiAgUEFZX0NMSUVOVF9SRURJUkVDVDogJ3BheS1jbGllbnQtcmVkaXJlY3QnLFxuXG4gIC8qKlxuICAgKiBEaXJlY3RzIGJhc2ljLXJ1bnRpbWUgdG8gdXNlIHRoZSBhcnRpY2xlIGVuZHBvaW50IGluc3RlYWQgb2YgdGhlIHNlcGFyYXRlXG4gICAqIGVudGl0bGVtZW50cyBhbmQgY2xpZW50Y29uZmlndXJhdGlvbiBlbmRwb2ludHMuXG4gICAqL1xuICBVU0VfQVJUSUNMRV9FTkRQT0lOVDogJ3VzZS1hcnRpY2xlLWVuZHBvaW50JyxcblxuICAvKipcbiAgICogRXhwZXJpbWVudCBmbGFnIGZvciBsb2dnaW5nIGF1ZGllbmNlIGFjdGl2aXR5LlxuICAgKi9cbiAgTE9HR0lOR19BVURJRU5DRV9BQ1RJVklUWTogJ2xvZ2dpbmctYXVkaWVuY2UtYWN0aXZpdHknLFxuXG4gIC8qKlxuICAgKiBFeHBlcmltZW50IGZsYWcgZm9yIHN3YXBwaW5nIHRoZSBsb2NhdGlvbiBvZiB0aGUgY291bnRlciBhbmQgdGhlIG1haW4gQ1RBIGluIEFtcGxpbyBibG9ncy5cbiAgICovXG4gIFRXR19TV0FQX0NPVU5URVJfQU5EX0NUQTogJ2NvdW50ZXJfY3RhX3N3YXBfZW5hYmxlX2V4cGVyaW1lbnQnLFxuXG4gIC8qKlxuICAgKiBFeHBlcmltZW50IGZsYWcgZm9yIGRpc2FibGluZyB0aGUgbWluaXByb21wdCBpY29uIG9uIGRlc2t0b3Agc2NyZWVucyB3aWRlciB0aGFuIDQ4MHB4LlxuICAgKi9cbiAgRElTQUJMRV9ERVNLVE9QX01JTklQUk9NUFQ6ICdkaXNhYmxlLWRlc2t0b3AtbWluaXByb21wdCcsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0Vycm9yVXRpbHN9IGZyb20gJy4uL3V0aWxzL2Vycm9ycyc7XG5pbXBvcnQge3BhcnNlUXVlcnlTdHJpbmd9IGZyb20gJy4uL3V0aWxzL3VybCc7XG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIENsaWVudC1zaWRlIGV4cGVyaW1lbnRzIGluIFN3Ry5cbiAqXG4gKiBUaGUgZXhwZXJpbWVudHMgY2FuIGJlIHNldCBpbiBhIGZldyBkaWZmZXJlbnQgd2F5czpcbiAqICAxLiBCeSBndWxwIGJ1aWxkIHJ1bGVzIHVzaW5nIGAtLWV4cGVyaW1lbnRzPSR7ZXhwZXJpbWVudHNTdHJpbmd9YCBhcmd1bWVudC5cbiAqICAyLiBCeSBgI3N3Zy5leHBlcmltZW50cz0ke2V4cGVyaW1lbnRzU3RyaW5nfWAgcGFyYW1ldGVyIGluIHRoZSBVUkwnc1xuICogICAgIGZyYWdtZW50LlxuICogIDMuIEJ5IGBzd2cuY29uZmlndXJlKHtleHBlcmltZW50czogW2FycmF5XX0pYCBjYWxsLlxuICpcbiAqIFRoZSBgJHtleHBlcmltZW50c1N0cmluZ31gIGlzIGRlZmluZWQgYXMgZm9sbG93aW5nOlxuICogIC0gZXhwZXJpbWVudFN0cmluZyA9IChleHBlcmltZW50U3BlYywpKlxuICogIC0gZXhwZXJpbWVudFNwZWMgPSBleHBlcmltZW50SWQgfCBleHBlcmltZW50SWQgJz0nIG51bTEwMCAoJ2MnKT9cbiAqXG4gKiBTb21lIGV4YW1wbGVzOlxuICogIC0gYEEsQmAgLSBkZWZpbmVzIHR3byBleHBlcmltZW50cyBcIkFcIiBhbmQgXCJCXCIgdGhhdCB3aWxsIGJlIHR1cm5lZCBvbi5cbiAqICAtIGBBOjEwMCxCOjEwMGAgLSB0aGUgc2FtZTogXCJBXCIgYW5kIFwiQlwiIHdpbGwgYmUgdHVybmVkIG9uLlxuICogIC0gYEE6MGAgLSB0aGUgZXhwZXJpbWVudCBcIkFcIiB3aWxsIGJlIGRpc2FibGVkLlxuICogIC0gYEE6MWAgLSBlbmFibGUgdGhlIGV4cGVyaW1lbnQgXCJBXCIgaW4gMSUgb2YgaW1wcmVzc2lvbnMuXG4gKiAgLSBgQToxMGNgIC0gZW5hYmxlIHRoZSBleHBlcmltZW50IFwiQVwiIGluIDEwJSBvZiBpbXByZXNzaW9ucyB3aXRoIDEwJVxuICogICAgY29udHJvbC4gSW4gdGhpcyBjYXNlLCAyMCUgb2YgdGhlIGltcHJlc3Npb25zIHdpbGwgYmUgc3BsaXQgaW50byB0d29cbiAqICAgIGNhdGVnb3JpZXM6IGV4cGVyaW1lbnQgYW5kIGNvbnRyb2wuIE5vdGljZSwgYSBjb250cm9sIGNhbiBiZSByZXF1ZXN0ZWRcbiAqICAgIG9ubHkgZm9yIHRoZSBmcmFjdGlvbiB1bmRlciAyMCUuXG4gKlxuICogU2VydmVyLXNpZGUgZXhwZXJpbWVudHMgaW4gU3dHLlxuICpcbiAqIFRoZXNlIGFyZSBvbmx5IG9ic2VydmVkIGF0IHJ1bnRpbWUgdmlhIHRoZSBgI3N3Zy5leHBlcmltZW50cz0ke2V4cGVyaW1lbnRzU3RyaW5nfWBcbiAqIHBhcmFtZXRlciBpbiB0aGUgVVJMJ3MgZnJhZ21lbnQuXG4gKlxuICogVGhlIGAke2V4cGVyaW1lbnRzU3RyaW5nfWAgZm9sbG93cyB0aGUgY29udmVudGlvbiBvZiBjb21tYSBzZXBhcmF0ZWRcbiAqIGV4cGVyaW1lbnQgSUQncywgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGh5cGhlbiAoYC1gKSBpbmRpY2F0aW5nIHlvdSB3YW50XG4gKiB0aGUgZXhwZXJpbWVudCB0byBiZSBkaXNhYmxlZC5cbiAqXG4gKiBBbiBleGFtcGxlIHdvdWxkIGxvb2sgbGlrZTpcbiAqICAtIGBNeUV4cGVyaW1lbnQsLU90aGVyRXhwZXJpbWVudGAgLSBpbmRpY2F0ZXMgdGhhdCB5b3Ugd291bGQgbGlrZSBgTXlFeHBlcmltZW50YFxuICogdG8gYmUgZW5hYmxlZCBhbmQgYE90aGVyRXhwZXJpbWVudGAgdG8gYmUgZGlzYWJsZWQuXG4gKlxuICogRHVlIHRvIHJlc3RyaWN0aW9ucywgc2VydmVyIGZsYWdzIGNhbiBvbmx5IGJlIGVuYWJsZWQgZm9sbG93aW5nIHRoZVxuICogaW50ZXJuYWwgcG9saWN5OyBvdGhlcndpc2UgdGhleSBhcmUgaWdub3JlZC5cbiAqL1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFNlbGVjdGlvbiA9IHtcbiAgRVhQRVJJTUVOVDogJ2UnLFxuICBDT05UUk9MOiAnYycsXG59O1xuXG4vKipcbiAqIEEgY29tbWEtc2VwYXJhdGVkIHNldCBvZiBleHBlcmltZW50cy5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmxldCBleHBlcmltZW50c1N0cmluZyA9ICckZXhwZXJpbWVudHMkJztcblxuLyoqXG4gKiBBIHBhcnNlZCBtYXAgb2YgZXhwZXJpbWVudHMuXG4gKiBAdHlwZSB7P09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5sZXQgZXhwZXJpbWVudE1hcCA9IG51bGw7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEBwYWNrYWdlIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEV4cGVyaW1lbnRzU3RyaW5nRm9yVGVzdGluZyhzKSB7XG4gIGV4cGVyaW1lbnRzU3RyaW5nID0gcztcbiAgZXhwZXJpbWVudE1hcCA9IG51bGw7XG59XG5cbi8qKlxuICogRW5zdXJlcyB0aGF0IHRoZSBleHBlcmltZW50cyBoYXZlIGJlZW4gaW5pdGlhbGl6ZWQgYW5kIHJldHVybnMgdGhlbS5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcmV0dXJuIHshT2JqZWN0PHN0cmluZywgYm9vbGVhbj59XG4gKi9cbmZ1bmN0aW9uIGdldEV4cGVyaW1lbnRzKHdpbikge1xuICBpZiAoIWV4cGVyaW1lbnRNYXApIHtcbiAgICBleHBlcmltZW50TWFwID0ge307XG4gICAgbGV0IGNvbWJpbmVkRXhwZXJpbWVudFN0cmluZyA9IGV4cGVyaW1lbnRzU3RyaW5nO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcod2luLmxvY2F0aW9uLmhhc2gpO1xuICAgICAgY29uc3QgZXhwZXJpbWVudFN0cmluZ0Zyb21IYXNoID0gcXVlcnlbJ3N3Zy5leHBlcmltZW50cyddO1xuICAgICAgaWYgKGV4cGVyaW1lbnRTdHJpbmdGcm9tSGFzaCkge1xuICAgICAgICBjb21iaW5lZEV4cGVyaW1lbnRTdHJpbmcgKz0gJywnICsgZXhwZXJpbWVudFN0cmluZ0Zyb21IYXNoO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElnbm9yZTogZXhwZXJpbWVudCBwYXJzaW5nIGNhbm5vdCBibG9jayBydW50aW1lLlxuICAgICAgRXJyb3JVdGlscy50aHJvd0FzeW5jKGUpO1xuICAgIH1cblxuICAgIC8vIEZvcm1hdDpcbiAgICAvLyAtIGV4cGVyaW1lbnRTdHJpbmcgPSAoZXhwZXJpbWVudFNwZWMsKSpcbiAgICBmb3IgKGxldCBleHBlcmltZW50U3RyaW5nIG9mIGNvbWJpbmVkRXhwZXJpbWVudFN0cmluZy5zcGxpdCgnLCcpKSB7XG4gICAgICBleHBlcmltZW50U3RyaW5nID0gZXhwZXJpbWVudFN0cmluZy50cmltKCk7XG4gICAgICBpZiAoIWV4cGVyaW1lbnRTdHJpbmcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZVNldEV4cGVyaW1lbnQod2luLCBleHBlcmltZW50TWFwLCBleHBlcmltZW50U3RyaW5nKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWdub3JlOiBleHBlcmltZW50IHBhcnNpbmcgY2Fubm90IGJsb2NrIHJ1bnRpbWUuXG4gICAgICAgIEVycm9yVXRpbHMudGhyb3dBc3luYyhlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGVyaW1lbnRNYXA7XG59XG5cbi8qKlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7P09iamVjdDxzdHJpbmcsIGJvb2xlYW4+fSBleHBlcmltZW50TWFwXG4gKiBAcGFyYW0ge3N0cmluZ30gc3BlY1xuICovXG5mdW5jdGlvbiBwYXJzZVNldEV4cGVyaW1lbnQod2luLCBleHBlcmltZW50TWFwLCBzcGVjKSB7XG4gIC8vIEZvcm1hdDpcbiAgLy8gLSBleHBlcmltZW50U3BlYyA9IGV4cGVyaW1lbnRJZCB8IGV4cGVyaW1lbnRJZCAnPScgbnVtMTAwICgnYycpP1xuICBsZXQgZXhwZXJpbWVudElkO1xuICBsZXQgZnJhY3Rpb247XG4gIGxldCBjb250cm9sID0gZmFsc2U7XG4gIGNvbnN0IGVxID0gc3BlYy5pbmRleE9mKCc6Jyk7XG4gIGlmIChlcSA9PSAtMSkge1xuICAgIGV4cGVyaW1lbnRJZCA9IHNwZWM7XG4gICAgZnJhY3Rpb24gPSAxMDA7XG4gICAgY29udHJvbCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIGV4cGVyaW1lbnRJZCA9IHNwZWMuc3Vic3RyaW5nKDAsIGVxKS50cmltKCk7XG4gICAgc3BlYyA9IHNwZWMuc3Vic3RyaW5nKGVxICsgMSk7XG4gICAgaWYgKHNwZWMuc3Vic3RyaW5nKHNwZWMubGVuZ3RoIC0gMSkgPT0gU2VsZWN0aW9uLkNPTlRST0wpIHtcbiAgICAgIGNvbnRyb2wgPSB0cnVlO1xuICAgICAgc3BlYyA9IHNwZWMuc3Vic3RyaW5nKDAsIHNwZWMubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIGZyYWN0aW9uID0gcGFyc2VJbnQoc3BlYywgMTApO1xuICB9XG4gIGlmIChpc05hTihmcmFjdGlvbikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZnJhY3Rpb24nKTtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBcIm9uXCIvXCJvZmZcIi5cbiAgbGV0IG9uO1xuICBpZiAoZnJhY3Rpb24gPiA5OSkge1xuICAgIC8vIEV4cGxpY2l0bHkgXCJvblwiLlxuICAgIG9uID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChmcmFjdGlvbiA8IDEpIHtcbiAgICAvLyBFeHBsaWNpdGx5IFwib2ZmXCIuXG4gICAgb24gPSBmYWxzZTtcbiAgfSBlbHNlIGlmICh3aW4uc2Vzc2lvblN0b3JhZ2UpIHtcbiAgICAvLyBGcmFjdGlvbmFsIGFuZCBwb3NzaWJseSB3aXRoIHRoZSBjb250cm9sLlxuICAgIC8vIE5vdGUgdGhhdDpcbiAgICAvLyBhLiBXZSBjYW4ndCBkbyBwZXJzaXN0ZW50IGV4cGVyaW1lbnRzIGlmIHN0b3JhZ2UgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAvLyBiLiBXZSBjYW4ndCBydW4gY29udHJvbCBvbiBtb3JlIHRoYW4gMjAlLlxuICAgIGNvbnRyb2wgPSBjb250cm9sICYmIGZyYWN0aW9uIDw9IDIwO1xuICAgIHRyeSB7XG4gICAgICAvLyBTZXQgZnJhY3Rpb24gaW4gdGhlIGV4cGVyaW1lbnQgdG8gbWFrZSBpdCB1bmxhdW5jaGFibGUuXG4gICAgICBjb25zdCBzdG9yYWdlS2V5ID1cbiAgICAgICAgJ3N1YnNjcmliZS5nb29nbGUuY29tOmU6JyArXG4gICAgICAgIGV4cGVyaW1lbnRJZCArXG4gICAgICAgICc6JyArXG4gICAgICAgIGZyYWN0aW9uICtcbiAgICAgICAgKGNvbnRyb2wgPyAnYycgOiAnJyk7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gcGFyc2VTZWxlY3Rpb24od2luLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkpO1xuICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgLy8gSXMgZXhwZXJpbWVudC9jb250cm9sIHJhbmdlP1xuICAgICAgICBpZiAod2luLk1hdGgucmFuZG9tKCkgKiAxMDAgPD0gZnJhY3Rpb24gKiAoY29udHJvbCA/IDIgOiAxKSkge1xuICAgICAgICAgIGNvbnN0IGluRXhwZXJpbWVudCA9IGNvbnRyb2wgPyB3aW4uTWF0aC5yYW5kb20oKSA8PSAwLjUgOiB0cnVlO1xuICAgICAgICAgIHNlbGVjdGlvbiA9IGluRXhwZXJpbWVudCA/IFNlbGVjdGlvbi5FWFBFUklNRU5UIDogU2VsZWN0aW9uLkNPTlRST0w7XG4gICAgICAgICAgd2luLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgc2VsZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb24gPSAhIXNlbGVjdGlvbjtcbiAgICAgIGlmIChzZWxlY3Rpb24gPT0gU2VsZWN0aW9uLkNPTlRST0wpIHtcbiAgICAgICAgZXhwZXJpbWVudElkID0gJ2MtJyArIGV4cGVyaW1lbnRJZDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBJZ25vcmU6IGV4cGVyaW1lbnQgcGFyc2luZyBjYW5ub3QgYmxvY2sgcnVudGltZS5cbiAgICAgIG9uID0gZmFsc2U7XG4gICAgICBFcnJvclV0aWxzLnRocm93QXN5bmMoZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9uID0gZmFsc2U7XG4gIH1cblxuICBleHBlcmltZW50TWFwW2V4cGVyaW1lbnRJZF0gPSBvbjtcbn1cblxuLyoqXG4gKiBAcGFyYW0gez9zdHJpbmd9IHNcbiAqIEByZXR1cm4gez9TZWxlY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2VsZWN0aW9uKHMpIHtcbiAgLy8gRG8gYSBzaW1wbGUgaWYtdGhlbiB0byBpbmxpbmUgdGhlIHdob2xlIFNlbGVjdGlvbiBlbnVtLlxuICByZXR1cm4gcyA9PSBTZWxlY3Rpb24uRVhQRVJJTUVOVFxuICAgID8gU2VsZWN0aW9uLkVYUEVSSU1FTlRcbiAgICA6IHMgPT0gU2VsZWN0aW9uLkNPTlRST0xcbiAgICA/IFNlbGVjdGlvbi5DT05UUk9MXG4gICAgOiBudWxsO1xufVxuXG4vKipcbiAqIFdoZXRoZXIgdGhlIHNwZWNpZmllZCBleHBlcmltZW50IGlzIG9uIG9yIG9mZi5cbiAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwZXJpbWVudElkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFeHBlcmltZW50T24od2luLCBleHBlcmltZW50SWQpIHtcbiAgcmV0dXJuIGdldEV4cGVyaW1lbnRzKHdpbilbZXhwZXJpbWVudElkXSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBUb2dnbGVzIHRoZSBleHBlcmltZW50IG9uIG9yIG9mZi4gUmV0dXJucyB0aGUgYWN0dWFsIHZhbHVlIG9mIHRoZSBleHBlcmltZW50XG4gKiBhZnRlciB0b2dnbGluZyBpcyBkb25lLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHBlcmltZW50SWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEV4cGVyaW1lbnQod2luLCBleHBlcmltZW50SWQsIG9uKSB7XG4gIGdldEV4cGVyaW1lbnRzKHdpbilbZXhwZXJpbWVudElkXSA9IG9uO1xufVxuXG4vKipcbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T25FeHBlcmltZW50cyh3aW4pIHtcbiAgY29uc3QgZXhwZXJpbWVudE1hcCA9IGdldEV4cGVyaW1lbnRzKHdpbik7XG4gIGNvbnN0IGV4cGVyaW1lbnRzID0gW107XG4gIGZvciAoY29uc3QgZXhwZXJpbWVudCBpbiBleHBlcmltZW50TWFwKSB7XG4gICAgaWYgKGV4cGVyaW1lbnRNYXBbZXhwZXJpbWVudF0pIHtcbiAgICAgIGV4cGVyaW1lbnRzLnB1c2goZXhwZXJpbWVudCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBleHBlcmltZW50cztcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtFcnJvclV0aWxzfSBmcm9tICcuLi91dGlscy9lcnJvcnMnO1xuaW1wb3J0IHtYaHJ9IGZyb20gJy4uL3V0aWxzL3hocic7XG5pbXBvcnQge3BhcnNlSnNvbn0gZnJvbSAnLi4vdXRpbHMvanNvbic7XG5pbXBvcnQge3NlcmlhbGl6ZVByb3RvTWVzc2FnZUZvclVybH0gZnJvbSAnLi4vdXRpbHMvdXJsJztcblxuY29uc3QganNvblNhZnR5UHJlZml4ID0gL14oXFwpXFxdXFx9J1xcbikvO1xuXG4vKipcbiAqIEBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEZldGNoZXIge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVudXNlZFVybFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhT2JqZWN0Pn1cbiAgICovXG4gIGZldGNoQ3JlZGVudGlhbGVkSnNvbih1bnVzZWRVcmwpIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1bnVzZWRVcmxcbiAgICogQHBhcmFtIHshLi4vdXRpbHMveGhyLkZldGNoSW5pdERlZn0gdW51c2VkSW5pdFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhLi4vdXRpbHMveGhyLkZldGNoUmVzcG9uc2U+fVxuICAgKi9cbiAgZmV0Y2godW51c2VkVXJsLCB1bnVzZWRJbml0KSB7fVxuXG4gIC8qKlxuICAgKiBQT1NUIGRhdGEgdG8gYSBVUkwgZW5kcG9pbnQsIGRvIG5vdCB3YWl0IGZvciBhIHJlc3BvbnNlLlxuICAgKiBAcGFyYW0geyFzdHJpbmd9IHVudXNlZFVybFxuICAgKiBAcGFyYW0geyEuLi9wcm90by9hcGlfbWVzc2FnZXMuTWVzc2FnZX0gdW51c2VkRGF0YVxuICAgKi9cbiAgc2VuZEJlYWNvbih1bnVzZWRVcmwsIHVudXNlZERhdGEpIHt9XG5cbiAgLyoqXG4gICAqIFBPU1QgZGF0YSB0byBhIFVSTCBlbmRwb2ludCwgZ2V0IGEgUHJvbWlzZSBmb3IgYSByZXNwb25zZVxuICAgKiBAcGFyYW0geyFzdHJpbmd9IHVudXNlZFVybFxuICAgKiBAcGFyYW0geyEuLi9wcm90by9hcGlfbWVzc2FnZXMuTWVzc2FnZX0gdW51c2VkTWVzc2FnZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhLi4vdXRpbHMveGhyLkZldGNoUmVzcG9uc2U+fVxuICAgKi9cbiAgc2VuZFBvc3QodW51c2VkVXJsLCB1bnVzZWRNZXNzYWdlKSB7fVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtGZXRjaGVyfVxuICovXG5leHBvcnQgY2xhc3MgWGhyRmV0Y2hlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBjb25zdCB7IVhocn0gKi9cbiAgICB0aGlzLnhocl8gPSBuZXcgWGhyKHdpbik7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZldGNoQ3JlZGVudGlhbGVkSnNvbih1cmwpIHtcbiAgICBjb25zdCBpbml0ID0gLyoqIEB0eXBlIHshLi4vdXRpbHMveGhyLkZldGNoSW5pdERlZn0gKi8gKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7J0FjY2VwdCc6ICd0ZXh0L3BsYWluLCBhcHBsaWNhdGlvbi9qc29uJ30sXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmZldGNoKHVybCwgaW5pdCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAvLyBSZW1vdmUgXCJcIildfSdcXG5cIiBYU1NJIHByZXZlbnRpb24gcHJlZml4IGluIHNhZmUgcmVzcG9uc2VzLlxuICAgICAgICBjb25zdCBjbGVhbmVkVGV4dCA9IHRleHQucmVwbGFjZShqc29uU2FmdHlQcmVmaXgsICcnKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlSnNvbihjbGVhbmVkVGV4dCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2VuZFBvc3QodXJsLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgaW5pdCA9IC8qKiBAdHlwZSB7IS4uL3V0aWxzL3hoci5GZXRjaEluaXREZWZ9ICovICh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcsXG4gICAgICB9LFxuICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIGJvZHk6ICdmLnJlcT0nICsgc2VyaWFsaXplUHJvdG9NZXNzYWdlRm9yVXJsKG1lc3NhZ2UpLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmZldGNoKHVybCwgaW5pdCkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gUmVtb3ZlIFwiXCIpXX0nXFxuXCIgWFNTSSBwcmV2ZW50aW9uIHByZWZpeCBpbiBzYWZlIHJlc3BvbnNlcy5cbiAgICAgICAgICBjb25zdCBjbGVhbmVkVGV4dCA9IHRleHQucmVwbGFjZShqc29uU2FmdHlQcmVmaXgsICcnKTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VKc29uKGNsZWFuZWRUZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIEVycm9yVXRpbHMudGhyb3dBc3luYyhlKTtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBmZXRjaCh1cmwsIGluaXQpIHtcbiAgICByZXR1cm4gdGhpcy54aHJfLmZldGNoKHVybCwgaW5pdCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNlbmRCZWFjb24odXJsLCBkYXRhKSB7XG4gICAgaWYgKG5hdmlnYXRvci5zZW5kQmVhY29uKSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0ge3R5cGU6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCd9O1xuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFxuICAgICAgICBbJ2YucmVxPScgKyBzZXJpYWxpemVQcm90b01lc3NhZ2VGb3JVcmwoZGF0YSldLFxuICAgICAgICBoZWFkZXJzXG4gICAgICApO1xuICAgICAgbmF2aWdhdG9yLnNlbmRCZWFjb24odXJsLCBibG9iKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gT25seSBuZXdlciBicm93c2VycyBzdXBwb3J0IGJlYWNvbi4gIEZhbGxiYWNrIHRvIHN0YW5kYXJkIFhIUiBQT1NULlxuICAgIHRoaXMuc2VuZFBvc3QodXJsLCBkYXRhKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2FuYWx5dGljc0V2ZW50VG9Hb29nbGVBbmFseXRpY3NFdmVudH0gZnJvbSAnLi9ldmVudC10eXBlLW1hcHBpbmcnO1xuaW1wb3J0IHtpc0Z1bmN0aW9ufSBmcm9tICcuLi91dGlscy90eXBlcyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4vKiogQHR5cGVkZWYgez9mdW5jdGlvbihzdHJpbmcsIHN0cmluZywgT2JqZWN0KX0gKi9cbmxldCBBbmFseXRpY3NNZXRob2Q7XG5cbi8qKiBAdHlwZWRlZiB7e2dhOiBBbmFseXRpY3NNZXRob2QsIGd0YWc6IEFuYWx5dGljc01ldGhvZH19ICovXG5sZXQgV2luZG93V2l0aEFuYWx5dGljc01ldGhvZHM7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXG5cbmV4cG9ydCBjbGFzcyBHb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9jbGllbnQtZXZlbnQtbWFuYWdlci5DbGllbnRFdmVudE1hbmFnZXJ9ICovXG4gICAgdGhpcy5ldmVudE1hbmFnZXJfID0gZGVwcy5ldmVudE1hbmFnZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBsaXN0ZW5pbmcgdG8gY2xpZW50IGV2ZW50c1xuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRoaXMuaGFuZGxlQ2xpZW50RXZlbnRfLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqICBMaXN0ZW5zIGZvciBuZXcgZXZlbnRzIGZyb20gdGhlIGV2ZW50cyBtYW5hZ2VyIGFuZCBsb2dzIGFwcHJvcHJpYXRlIGV2ZW50cyB0byBHb29nbGUgQW5hbHl0aWNzLlxuICAgKiBAcGFyYW0geyEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50fSBldmVudFxuICAgKiBAcGFyYW0geyghLi4vYXBpL2NsaWVudC1ldmVudC1tYW5hZ2VyLWFwaS5DbGllbnRFdmVudFBhcmFtc3x1bmRlZmluZWQpPX0gZXZlbnRQYXJhbXNcbiAgICovXG4gIGhhbmRsZUNsaWVudEV2ZW50XyhldmVudCwgZXZlbnRQYXJhbXMgPSB1bmRlZmluZWQpIHtcbiAgICAvLyBSZXF1aXJlIGVpdGhlciBnYSBmdW5jdGlvbiAoYW5hbHl0aWNzLmpzKSBvciBndGFnIGZ1bmN0aW9uIChndGFnLmpzKS5cbiAgICBjb25zdCBnYUlzRWxpZ2libGUgPSBHb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyLmlzR2FFbGlnaWJsZSh0aGlzLmRlcHNfKTtcbiAgICBjb25zdCBndGFnSXNFbGlnaWJsZSA9IEdvb2dsZUFuYWx5dGljc0V2ZW50TGlzdGVuZXIuaXNHdGFnRWxpZ2libGUoXG4gICAgICB0aGlzLmRlcHNfXG4gICAgKTtcbiAgICBjb25zdCBuZWl0aGVySXNFbGlnaWJsZSA9ICFnYUlzRWxpZ2libGUgJiYgIWd0YWdJc0VsaWdpYmxlO1xuICAgIGlmIChuZWl0aGVySXNFbGlnaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgbWV0aG9kcyBmcm9tIHdpbmRvdy5cbiAgICBjb25zdCB7Z2EsIGd0YWd9ID0gLyoqIEB0eXBlIHshV2luZG93V2l0aEFuYWx5dGljc01ldGhvZHN9ICovIChcbiAgICAgIHRoaXMuZGVwc18ud2luKClcbiAgICApO1xuXG4gICAgbGV0IHN1YnNjcmlwdGlvbkZsb3cgPSAnJztcbiAgICBpZiAoZXZlbnQuYWRkaXRpb25hbFBhcmFtZXRlcnMpIHtcbiAgICAgIC8vIGFkZGl0aW9uYWxQYXJhbWV0ZXJzIGlzbid0IHN0cm9uZ2x5IHR5cGVkIHNvIGNoZWNraW5nIGZvciBib3RoIG9iamVjdCBhbmQgY2xhc3Mgbm90YXRpb24uXG4gICAgICBzdWJzY3JpcHRpb25GbG93ID1cbiAgICAgICAgZXZlbnQuYWRkaXRpb25hbFBhcmFtZXRlcnMuc3Vic2NyaXB0aW9uRmxvdyB8fFxuICAgICAgICBldmVudC5hZGRpdGlvbmFsUGFyYW1ldGVycy5nZXRTdWJzY3JpcHRpb25GbG93KCk7XG4gICAgfVxuICAgIGxldCBnYUV2ZW50ID0gYW5hbHl0aWNzRXZlbnRUb0dvb2dsZUFuYWx5dGljc0V2ZW50KFxuICAgICAgZXZlbnQuZXZlbnRUeXBlLFxuICAgICAgc3Vic2NyaXB0aW9uRmxvd1xuICAgICk7XG4gICAgaWYgKCFnYUV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYW5hbHl0aWNzUGFyYW1zID0gZXZlbnRQYXJhbXM/Lmdvb2dsZUFuYWx5dGljc1BhcmFtZXRlcnMgfHwge307XG4gICAgZ2FFdmVudCA9IHtcbiAgICAgIC4uLmdhRXZlbnQsXG4gICAgICBldmVudENhdGVnb3J5OiBhbmFseXRpY3NQYXJhbXMuZXZlbnRfY2F0ZWdvcnkgfHwgZ2FFdmVudC5ldmVudENhdGVnb3J5LFxuICAgICAgZXZlbnRMYWJlbDogYW5hbHl0aWNzUGFyYW1zLmV2ZW50X2xhYmVsIHx8IGdhRXZlbnQuZXZlbnRMYWJlbCxcbiAgICB9O1xuXG4gICAgLy8gVE9ETyhiLzIzNDgyNTg0Nyk6IFJlbW92ZSB0aGlzIG9uY2UgdW5pdmVyc2FsIGFuYWx5dGljcyBpcyBkZXByZWNhdGVkIGluIDIwMjMuXG4gICAgaWYgKGdhSXNFbGlnaWJsZSkge1xuICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCBnYUV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoZ3RhZ0lzRWxpZ2libGUpIHtcbiAgICAgIGNvbnN0IGd0YWdFdmVudCA9IHtcbiAgICAgICAgJ2V2ZW50X2NhdGVnb3J5JzogZ2FFdmVudC5ldmVudENhdGVnb3J5LFxuICAgICAgICAnZXZlbnRfbGFiZWwnOiBnYUV2ZW50LmV2ZW50TGFiZWwsXG4gICAgICAgICdub25faW50ZXJhY3Rpb24nOiBnYUV2ZW50Lm5vbkludGVyYWN0aW9uLFxuICAgICAgICAuLi5hbmFseXRpY3NQYXJhbXMsXG4gICAgICB9O1xuICAgICAgZ3RhZygnZXZlbnQnLCBnYUV2ZW50LmV2ZW50QWN0aW9uLCBndGFnRXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciBldmVudCBpcyBlbGlnaWJsZSBmb3IgR0EgbG9nZ2luZy5cbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNHYUVsaWdpYmxlKGRlcHMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihcbiAgICAgIC8qKiBAdHlwZSB7IVdpbmRvd1dpdGhBbmFseXRpY3NNZXRob2RzfSAqLyAoZGVwcy53aW4oKSkuZ2FcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIGV2ZW50IGlzIGVsaWdpYmxlIGZvciBnVGFnIGxvZ2dpbmcuXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIGlzR3RhZ0VsaWdpYmxlKGRlcHMpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihcbiAgICAgIC8qKiBAdHlwZSB7IVdpbmRvd1dpdGhBbmFseXRpY3NNZXRob2RzfSAqLyAoZGVwcy53aW4oKSkuZ3RhZ1xuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKi9cbmV4cG9ydCBjbGFzcyBKc0Vycm9yIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL21vZGVsL2RvYy5Eb2N9IGRvY1xuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL21vZGVsL2RvYy5Eb2N9ICovXG4gICAgdGhpcy5kb2NfID0gZG9jO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy5taWNyb1Rhc2tfID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGVycm9yKHZhcl9hcmdzKSB7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgcmV0dXJuIHRoaXMubWljcm9UYXNrXy50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gY3JlYXRlRXJyb3JWYXJncy5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIGlmIChlcnJvci5yZXBvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpbWcgPSB0aGlzLmRvY18uZ2V0V2luKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBpbWcuc3JjID1cbiAgICAgICAgJyRmcm9udGVuZCQvXy9TdWJzY3JpYmV3aXRoZ29vZ2xlQ2xpZW50VWkvanNlcnJvcicgK1xuICAgICAgICAnP2Vycm9yPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGVycm9yKSkgK1xuICAgICAgICAnJnNjcmlwdD0nICtcbiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KCckZnJvbnRlbmQkL3N3Zy9qcy92MS9zd2cuanMnKSArXG4gICAgICAgICcmbGluZT0nICtcbiAgICAgICAgKGVycm9yLmxpbmVOdW1iZXIgfHwgMSkgK1xuICAgICAgICAnJnRyYWNlPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoZXJyb3Iuc3RhY2spO1xuICAgICAgLy8gQXBwZW5kaW5nIHRoaXMgaW1hZ2UgdG8gRE9NIGlzIG5vdCBuZWNlc3NhcnkuXG4gICAgICBlcnJvci5yZXBvcnRlZCA9IHRydWU7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gKiBAcmV0dXJuIHshRXJyb3J9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVmFyZ3ModmFyX2FyZ3MpIHtcbiAgbGV0IGVycm9yID0gbnVsbDtcbiAgbGV0IG1lc3NhZ2UgPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvcikge1xuICAgICAgZXJyb3IgPSBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KGFyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2UgKz0gJyAnO1xuICAgICAgfVxuICAgICAgbWVzc2FnZSArPSBhcmc7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFlcnJvcikge1xuICAgIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UpIHtcbiAgICBlcnJvci5tZXNzYWdlID0gbWVzc2FnZSArICc6ICcgKyBlcnJvci5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cblxuLyoqXG4gKiBTb21lIGV4Y2VwdGlvbnMgKERPTUV4Y2VwdGlvbiwgbmFtZWx5KSBoYXZlIHJlYWQtb25seSBtZXNzYWdlLlxuICogQHBhcmFtIHshRXJyb3J9IGVycm9yXG4gKiBAcmV0dXJuIHshRXJyb3J9XG4gKi9cbmZ1bmN0aW9uIGR1cGxpY2F0ZUVycm9ySWZOZWNlc3NhcnkoZXJyb3IpIHtcbiAgY29uc3QgbWVzc2FnZVByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlcnJvciwgJ21lc3NhZ2UnKTtcbiAgaWYgKG1lc3NhZ2VQcm9wZXJ0eSAmJiBtZXNzYWdlUHJvcGVydHkud3JpdGFibGUpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICBjb25zdCB7bWVzc2FnZSwgc3RhY2t9ID0gZXJyb3I7XG4gIGNvbnN0IGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIC8vIENvcHkgYWxsIHRoZSBleHRyYW5lb3VzIHRoaW5ncyB3ZSBhdHRhY2guXG4gIGZvciAoY29uc3QgcHJvcCBpbiBlcnJvcikge1xuICAgIGVbcHJvcF0gPSBlcnJvcltwcm9wXTtcbiAgfVxuICAvLyBFbnN1cmUgdGhlc2UgYXJlIGNvcGllZC5cbiAgZS5zdGFjayA9IHN0YWNrO1xuICByZXR1cm4gZTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpdml0eUlmcmFtZVZpZXd9IGZyb20gJy4uL3VpL2FjdGl2aXR5LWlmcmFtZS12aWV3JztcbmltcG9ydCB7XG4gIEFuYWx5dGljc0V2ZW50LFxuICBMaW5rU2F2ZVRva2VuUmVxdWVzdCxcbiAgTGlua2luZ0luZm9SZXNwb25zZSxcbn0gZnJvbSAnLi4vcHJvdG8vYXBpX21lc3NhZ2VzJztcbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHtTdWJzY3JpcHRpb25GbG93cywgV2luZG93T3Blbk1vZGV9IGZyb20gJy4uL2FwaS9zdWJzY3JpcHRpb25zJztcbmltcG9ydCB7YWNjZXB0UG9ydFJlc3VsdERhdGF9IGZyb20gJy4uL3V0aWxzL2FjdGl2aXR5LXV0aWxzJztcbmltcG9ydCB7Y3JlYXRlQ2FuY2VsRXJyb3IsIGlzQ2FuY2VsRXJyb3J9IGZyb20gJy4uL3V0aWxzL2Vycm9ycyc7XG5pbXBvcnQge2ZlQXJncywgZmVPcmlnaW4sIGZlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcblxuY29uc3QgTElOS19SRVFVRVNUX0lEID0gJ3N3Zy1saW5rJztcblxuLyoqXG4gKiBUaGUgZmxvdyB0byBsaW5rIGFuIGV4aXN0aW5nIHB1Ymxpc2hlciBhY2NvdW50IHRvIGFuIGV4aXN0aW5nIGdvb2dsZSBhY2NvdW50LlxuICovXG5leHBvcnQgY2xhc3MgTGlua2JhY2tGbG93IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfSAqL1xuICAgIHRoaXMucGFnZUNvbmZpZ18gPSBkZXBzLnBhZ2VDb25maWcoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgTGluayBhY2NvdW50IGZsb3cuXG4gICAqIEBwYXJhbSB7e2FtcFJlYWRlcklkOiAoc3RyaW5nfHVuZGVmaW5lZCl9PX0gcGFyYW1zXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQocGFyYW1zID0ge30pIHtcbiAgICB0aGlzLmRlcHNfLmNhbGxiYWNrcygpLnRyaWdnZXJGbG93U3RhcnRlZChTdWJzY3JpcHRpb25GbG93cy5MSU5LX0FDQ09VTlQpO1xuICAgIGNvbnN0IGZvcmNlUmVkaXJlY3QgPVxuICAgICAgdGhpcy5kZXBzXy5jb25maWcoKS53aW5kb3dPcGVuTW9kZSA9PSBXaW5kb3dPcGVuTW9kZS5SRURJUkVDVDtcbiAgICBjb25zdCBhcmdzID0gcGFyYW1zLmFtcFJlYWRlcklkXG4gICAgICA/IGZlQXJncyh7XG4gICAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiB0aGlzLnBhZ2VDb25maWdfLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgICAnYW1wUmVhZGVySWQnOiBwYXJhbXMuYW1wUmVhZGVySWQsXG4gICAgICAgIH0pXG4gICAgICA6IGZlQXJncyh7XG4gICAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiB0aGlzLnBhZ2VDb25maWdfLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgfSk7XG4gICAgY29uc3Qgb3BlbmVyID0gdGhpcy5hY3Rpdml0eVBvcnRzXy5vcGVuKFxuICAgICAgTElOS19SRVFVRVNUX0lELFxuICAgICAgZmVVcmwoJy9saW5rYmFja3N0YXJ0JyksXG4gICAgICBmb3JjZVJlZGlyZWN0ID8gJ190b3AnIDogJ19ibGFuaycsXG4gICAgICBhcmdzLFxuICAgICAge31cbiAgICApO1xuICAgIHRoaXMuZGVwc18uZXZlbnRNYW5hZ2VyKCkubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9MSU5LKTtcbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfLnBvcHVwT3BlbmVkKG9wZW5lciAmJiBvcGVuZXIudGFyZ2V0V2luKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgY2xhc3MgZm9yIExpbmsgYWNjb3VudHMgZmxvdy5cbiAqL1xuZXhwb3J0IGNsYXNzIExpbmtDb21wbGV0ZUZsb3cge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICovXG4gIHN0YXRpYyBjb25maWd1cmVQZW5kaW5nKGRlcHMpIHtcbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnREZWZ9IHBvcnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVyKHBvcnQpIHtcbiAgICAgIGRlcHMuZW50aXRsZW1lbnRzTWFuYWdlcigpLmJsb2NrTmV4dE5vdGlmaWNhdGlvbigpO1xuICAgICAgZGVwcy5jYWxsYmFja3MoKS50cmlnZ2VyTGlua1Byb2dyZXNzKCk7XG4gICAgICBkZXBzLmRpYWxvZ01hbmFnZXIoKS5wb3B1cENsb3NlZCgpO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IGFjY2VwdFBvcnRSZXN1bHREYXRhKFxuICAgICAgICBwb3J0LFxuICAgICAgICBmZU9yaWdpbigpLFxuICAgICAgICAvKiByZXF1aXJlT3JpZ2luVmVyaWZpZWQgKi8gZmFsc2UsXG4gICAgICAgIC8qIHJlcXVpcmVTZWN1cmVDaGFubmVsICovIGZhbHNlXG4gICAgICApO1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihcbiAgICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgZGVwc1xuICAgICAgICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAgICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuQUNUSU9OX0xJTktfQ09OVElOVUUsIHRydWUpO1xuICAgICAgICAgIGNvbnN0IGZsb3cgPSBuZXcgTGlua0NvbXBsZXRlRmxvdyhkZXBzLCByZXNwb25zZSk7XG4gICAgICAgICAgZmxvdy5zdGFydCgpO1xuICAgICAgICB9LFxuICAgICAgICAocmVhc29uKSA9PiB7XG4gICAgICAgICAgaWYgKGlzQ2FuY2VsRXJyb3IocmVhc29uKSkge1xuICAgICAgICAgICAgZGVwc1xuICAgICAgICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgICAgICAgLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LkFDVElPTl9MSU5LX0NBTkNFTCwgdHJ1ZSk7XG4gICAgICAgICAgICBkZXBzXG4gICAgICAgICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAgICAgICAudHJpZ2dlckZsb3dDYW5jZWxlZChTdWJzY3JpcHRpb25GbG93cy5MSU5LX0FDQ09VTlQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgdXNlciBjaG9zZSB0byBjb250aW51ZSBidXQgdGhlcmUgd2FzIGFuIGVycm9yLlxuICAgICAgICAgICAgZGVwc1xuICAgICAgICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgICAgICAgLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LkFDVElPTl9MSU5LX0NPTlRJTlVFLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIGRlcHMuYWN0aXZpdGllcygpLm9uUmVzdWx0KExJTktfUkVRVUVTVF9JRCwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHs/T2JqZWN0fSByZXNwb25zZVxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcywgcmVzcG9uc2UpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IGRlcHMud2luKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9jbGllbnQtY29uZmlnLW1hbmFnZXIuQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gZGVwcy5jbGllbnRDb25maWdNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGRlcHMuYWN0aXZpdGllcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvZGlhbG9nLW1hbmFnZXIuRGlhbG9nTWFuYWdlcn0gKi9cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfID0gZGVwcy5kaWFsb2dNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9lbnRpdGxlbWVudHMtbWFuYWdlci5FbnRpdGxlbWVudHNNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZW50aXRsZW1lbnRzTWFuYWdlcl8gPSBkZXBzLmVudGl0bGVtZW50c01hbmFnZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2NhbGxiYWNrcy5DYWxsYmFja3N9ICovXG4gICAgdGhpcy5jYWxsYmFja3NfID0gZGVwcy5jYWxsYmFja3MoKTtcblxuICAgIGNvbnN0IGluZGV4ID0gKHJlc3BvbnNlICYmIHJlc3BvbnNlWydpbmRleCddKSB8fCAnMCc7XG5cbiAgICAvKiogQHByaXZhdGUgez9BY3Rpdml0eUlmcmFtZVZpZXd9ICovXG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPCFBY3Rpdml0eUlmcmFtZVZpZXc+fSAqL1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3UHJvbWlzZV8gPSB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfXG4gICAgICAuZ2V0Q2xpZW50Q29uZmlnKClcbiAgICAgIC50aGVuKFxuICAgICAgICAoY2xpZW50Q29uZmlnKSA9PlxuICAgICAgICAgIG5ldyBBY3Rpdml0eUlmcmFtZVZpZXcoXG4gICAgICAgICAgICB0aGlzLndpbl8sXG4gICAgICAgICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLFxuICAgICAgICAgICAgZmVVcmwoXG4gICAgICAgICAgICAgICcvbGlua2NvbmZpcm1pZnJhbWUnLFxuICAgICAgICAgICAgICB7fSxcbiAgICAgICAgICAgICAgY2xpZW50Q29uZmlnLnVzZVByZWZpeGVkSG9zdFBhdGgsXG4gICAgICAgICAgICAgICd1LycgKyBpbmRleFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGZlQXJncyh7XG4gICAgICAgICAgICAgICdwcm9kdWN0SWQnOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQcm9kdWN0SWQoKSxcbiAgICAgICAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qIHNob3VsZEZhZGVCb2R5ICovIHRydWVcbiAgICAgICAgICApXG4gICAgICApO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLmNvbXBsZXRlUmVzb2x2ZXJfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMuY29tcGxldGVQcm9taXNlXyA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmNvbXBsZXRlUmVzb2x2ZXJfID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIExpbmsgYWNjb3VudCBmbG93LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld1Byb21pc2VfLnRoZW4oKGFjdGl2aXR5SWZyYW1lVmlldykgPT4ge1xuICAgICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfID0gYWN0aXZpdHlJZnJhbWVWaWV3O1xuXG4gICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfLmFjY2VwdFJlc3VsdEFuZFZlcmlmeShcbiAgICAgICAgZmVPcmlnaW4oKSxcbiAgICAgICAgLyogcmVxdWlyZU9yaWdpblZlcmlmaWVkICovIHRydWUsXG4gICAgICAgIC8qIHJlcXVpcmVTZWN1cmVDaGFubmVsICovIHRydWVcbiAgICAgICk7XG4gICAgICBwcm9taXNlXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHRoaXMuY29tcGxldGVfKHJlc3BvbnNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAvLyBSZXRocm93IGFzeW5jLlxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgLy8gVGhlIGZsb3cgaXMgY29tcGxldGUuXG4gICAgICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5jb21wbGV0ZVZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLmRlcHNfXG4gICAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuRVZFTlRfR09PR0xFX1VQREFURUQsIHRydWUpO1xuICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fR09PR0xFX1VQREFURUQsIHRydWUpO1xuICAgICAgcmV0dXJuIHRoaXMuZGlhbG9nTWFuYWdlcl8ub3BlblZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb21wbGV0ZV8ocmVzcG9uc2UpIHtcbiAgICB0aGlzLmRlcHNfXG4gICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5BQ1RJT05fR09PR0xFX1VQREFURURfQ0xPU0UsIHRydWUpO1xuICAgIGNvbnN0IHVzZXJUb2tlbiA9IHJlc3BvbnNlWydzd2dVc2VyVG9rZW4nXTtcbiAgICBpZiAodXNlclRva2VuKSB7XG4gICAgICB0aGlzLmRlcHNfLnN0b3JhZ2UoKS5zZXQoQ29uc3RhbnRzLlVTRVJfVE9LRU4sIHVzZXJUb2tlbiwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuY2FsbGJhY2tzXy50cmlnZ2VyTGlua0NvbXBsZXRlKCk7XG4gICAgdGhpcy5jYWxsYmFja3NfLnJlc2V0TGlua1Byb2dyZXNzKCk7XG4gICAgdGhpcy5lbnRpdGxlbWVudHNNYW5hZ2VyXy5zZXRUb2FzdFNob3duKHRydWUpO1xuICAgIHRoaXMuZW50aXRsZW1lbnRzTWFuYWdlcl8udW5ibG9ja05leHROb3RpZmljYXRpb24oKTtcbiAgICB0aGlzLmVudGl0bGVtZW50c01hbmFnZXJfLnJlc2V0KChyZXNwb25zZSAmJiByZXNwb25zZVsnc3VjY2VzcyddKSB8fCBmYWxzZSk7XG4gICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlWydlbnRpdGxlbWVudHMnXSkge1xuICAgICAgdGhpcy5lbnRpdGxlbWVudHNNYW5hZ2VyXy5wdXNoTmV4dEVudGl0bGVtZW50cyhyZXNwb25zZVsnZW50aXRsZW1lbnRzJ10pO1xuICAgIH1cbiAgICB0aGlzLmNvbXBsZXRlUmVzb2x2ZXJfKCk7XG4gIH1cblxuICAvKiogQHJldHVybiB7IVByb21pc2V9ICovXG4gIHdoZW5Db21wbGV0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wbGV0ZVByb21pc2VfO1xuICB9XG59XG5cbi8qKlxuICogVGhlIGZsb3cgdG8gc2F2ZSBzdWJzY3JpcHRpb24gaW5mb3JtYXRpb24gZnJvbSBhbiBleGlzdGluZyBwdWJsaXNoZXIgYWNjb3VudFxuICogdG8gYW4gZXhpc3RpbmcgZ29vZ2xlIGFjY291bnQuICBUaGUgYWNjb3VudHMgbWF5IG9yIG1heSBub3QgYWxyZWFkeSBiZVxuICogbGlua2VkLlxuICovXG5leHBvcnQgY2xhc3MgTGlua1NhdmVGbG93IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLlNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzLCBjYWxsYmFjaykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gZGVwcy53aW4oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2RlcHMuRGVwc0RlZn0gKi9cbiAgICB0aGlzLmRlcHNfID0gZGVwcztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gZGVwcy5hY3Rpdml0aWVzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9kaWFsb2ctbWFuYWdlci5EaWFsb2dNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8gPSBkZXBzLmRpYWxvZ01hbmFnZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLlNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2t9ICovXG4gICAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFjaztcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2U8IS4uL2FwaS9zdWJzY3JpcHRpb25zLlNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Pn0gKi9cbiAgICB0aGlzLnJlcXVlc3RQcm9taXNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Qcm9taXNlfSAqL1xuICAgIHRoaXMub3BlblByb21pc2VfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P0FjdGl2aXR5SWZyYW1lVmlld30gKi9cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9Qcm9taXNlPCEuLi9hcGkvc3Vic2NyaXB0aW9ucy5TYXZlU3Vic2NyaXB0aW9uUmVxdWVzdD59XG4gICAqIEBwYWNrYWdlIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gICAqL1xuICBnZXRSZXF1ZXN0UHJvbWlzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0UHJvbWlzZV87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbXBsZXRlXygpIHtcbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfLmNvbXBsZXRlVmlldyh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gcmVzdWx0XG4gICAqIEByZXR1cm4geyFQcm9taXNlPGJvb2xlYW4+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTGlua1NhdmVSZXNwb25zZV8ocmVzdWx0KSB7XG4gICAgLy8gVGhpcyBmbG93IGlzIGNvbXBsZXRlXG4gICAgdGhpcy5jb21wbGV0ZV8oKTtcbiAgICBsZXQgc3RhcnRQcm9taXNlO1xuICAgIGxldCBsaW5rQ29uZmlybSA9IG51bGw7XG4gICAgaWYgKHJlc3VsdFsnbGlua2VkJ10pIHtcbiAgICAgIC8vIFdoZW4gbGlua2luZyBzdWNjZWVkcywgc3RhcnQgbGluayBjb25maXJtYXRpb24gZmxvd1xuICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5wb3B1cENsb3NlZCgpO1xuICAgICAgdGhpcy5kZXBzXy5jYWxsYmFja3MoKS50cmlnZ2VyRmxvd1N0YXJ0ZWQoU3Vic2NyaXB0aW9uRmxvd3MuTElOS19BQ0NPVU5UKTtcbiAgICAgIGxpbmtDb25maXJtID0gbmV3IExpbmtDb21wbGV0ZUZsb3codGhpcy5kZXBzXywgcmVzdWx0KTtcbiAgICAgIHN0YXJ0UHJvbWlzZSA9IGxpbmtDb25maXJtLnN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0UHJvbWlzZSA9IFByb21pc2UucmVqZWN0KGNyZWF0ZUNhbmNlbEVycm9yKHRoaXMud2luXywgJ25vdCBsaW5rZWQnKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBsZXRlUHJvbWlzZSA9IHN0YXJ0UHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuZGVwc18uY2FsbGJhY2tzKCkudHJpZ2dlckxpbmtQcm9ncmVzcygpO1xuICAgICAgcmV0dXJuIGxpbmtDb25maXJtLndoZW5Db21wbGV0ZSgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbXBsZXRlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TGlua2luZ0luZm9SZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNlbmRMaW5rU2F2ZVRva2VuXyhyZXNwb25zZSkge1xuICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLmdldFJlcXVlc3RlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucmVxdWVzdFByb21pc2VfID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlc29sdmUodGhpcy5jYWxsYmFja18oKSkpXG4gICAgICAudGhlbigocmVxdWVzdCkgPT4ge1xuICAgICAgICBjb25zdCBzYXZlUmVxdWVzdCA9IG5ldyBMaW5rU2F2ZVRva2VuUmVxdWVzdCgpO1xuICAgICAgICBpZiAocmVxdWVzdCAmJiByZXF1ZXN0LnRva2VuKSB7XG4gICAgICAgICAgaWYgKHJlcXVlc3QuYXV0aENvZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBhdXRoQ29kZSBhbmQgdG9rZW4gYXJlIGF2YWlsYWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzYXZlUmVxdWVzdC5zZXRUb2tlbihyZXF1ZXN0LnRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVxdWVzdCAmJiByZXF1ZXN0LmF1dGhDb2RlKSB7XG4gICAgICAgICAgc2F2ZVJlcXVlc3Quc2V0QXV0aENvZGUocmVxdWVzdC5hdXRoQ29kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZWl0aGVyIHRva2VuIG9yIGF1dGhDb2RlIGlzIGF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5leGVjdXRlKHNhdmVSZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgLy8gVGhlIGZsb3cgaXMgY29tcGxldGUuXG4gICAgICAgIHRoaXMuY29tcGxldGVfKCk7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gez9Qcm9taXNlfVxuICAgKi9cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc2F2ZSBzdWJzY3JpcHRpb25cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICBjb25zdCBpZnJhbWVBcmdzID0gdGhpcy5hY3Rpdml0eVBvcnRzXy5hZGREZWZhdWx0QXJndW1lbnRzKHtcbiAgICAgICdpc0Nsb3NhYmxlJzogdHJ1ZSxcbiAgICB9KTtcbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcy5hY3Rpdml0eVBvcnRzXyxcbiAgICAgIGZlVXJsKCcvbGlua3NhdmVpZnJhbWUnKSxcbiAgICAgIGlmcmFtZUFyZ3MsXG4gICAgICAvKiBzaG91bGRGYWRlQm9keSAqLyBmYWxzZSxcbiAgICAgIC8qIGhhc0xvYWRpbmdJbmRpY2F0b3IgKi8gdHJ1ZVxuICAgICk7XG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfLm9uKFxuICAgICAgTGlua2luZ0luZm9SZXNwb25zZSxcbiAgICAgIHRoaXMuc2VuZExpbmtTYXZlVG9rZW5fLmJpbmQodGhpcylcbiAgICApO1xuXG4gICAgdGhpcy5vcGVuUHJvbWlzZV8gPSB0aGlzLmRpYWxvZ01hbmFnZXJfLm9wZW5WaWV3KFxuICAgICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfLFxuICAgICAgLyogaGlkZGVuICovIHRydWVcbiAgICApO1xuICAgIHRoaXMuZGVwc19cbiAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fU0FWRV9TVUJTQ1JfVE9fR09PR0xFKTtcbiAgICAvKiogeyFQcm9taXNlPGJvb2xlYW4+fSAqL1xuICAgIHJldHVybiB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld19cbiAgICAgIC5hY2NlcHRSZXN1bHRBbmRWZXJpZnkoXG4gICAgICAgIGZlT3JpZ2luKCksXG4gICAgICAgIC8qIHJlcXVpcmVPcmlnaW5WZXJpZmllZCAqLyB0cnVlLFxuICAgICAgICAvKiByZXF1aXJlU2VjdXJlQ2hhbm5lbCAqLyB0cnVlXG4gICAgICApXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUxpbmtTYXZlUmVzcG9uc2VfKHJlc3VsdCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgLy8gSW4gY2FzZSB0aGlzIGZsb3cgd2Fzbid0IGNvbXBsZXRlLCBjb21wbGV0ZSBpdCBoZXJlXG4gICAgICAgIHRoaXMuY29tcGxldGVfKCk7XG4gICAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb24gZnJvbSB1c2VyLCBsaW5rIGNvbmZpcm0gc3RhcnQgb3IgY29tcGxldGlvbiBoZXJlXG4gICAgICAgIGlmIChpc0NhbmNlbEVycm9yKHJlYXNvbikpIHtcbiAgICAgICAgICB0aGlzLmRlcHNfXG4gICAgICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgICAgIC5sb2dTd2dFdmVudChcbiAgICAgICAgICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1NBVkVfU1VCU0NSX1RPX0dPT0dMRV9DQU5DRUwsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAgICAgICAudHJpZ2dlckZsb3dDYW5jZWxlZChTdWJzY3JpcHRpb25GbG93cy5MSU5LX0FDQ09VTlQpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtBbmFseXRpY3NFdmVudCwgRXZlbnRPcmlnaW5hdG9yfSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuaW1wb3J0IHtFdmVudCwgU3Vic2NyaXB0aW9uU3RhdGV9IGZyb20gJy4uL2FwaS9sb2dnZXItYXBpJztcbmltcG9ydCB7aXNCb29sZWFuLCBpc0VudW1WYWx1ZSwgaXNPYmplY3R9IGZyb20gJy4uL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7cHVibGlzaGVyRXZlbnRUb0FuYWx5dGljc0V2ZW50fSBmcm9tICcuL2V2ZW50LXR5cGUtbWFwcGluZyc7XG5cbi8qKlxuICogQGltcGxlbWVudHMgey4uL2FwaS9sb2dnZXItYXBpLkxvZ2dlckFwaX1cbiAqL1xuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50TWFuYWdlckFwaX0gKi9cbiAgICB0aGlzLmV2ZW50TWFuYWdlcl8gPSBkZXBzLmV2ZW50TWFuYWdlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZW5kU3Vic2NyaXB0aW9uU3RhdGUoc3RhdGUsIGpzb25Qcm9kdWN0cykge1xuICAgIGlmICghaXNFbnVtVmFsdWUoU3Vic2NyaXB0aW9uU3RhdGUsIHN0YXRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN1YnNjcmlwdGlvbiBzdGF0ZSBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAoU3Vic2NyaXB0aW9uU3RhdGUuU1VCU0NSSUJFUiA9PSBzdGF0ZSB8fFxuICAgICAgICBTdWJzY3JpcHRpb25TdGF0ZS5QQVNUX1NVQlNDUklCRVIgPT0gc3RhdGUpICYmXG4gICAgICAhanNvblByb2R1Y3RzXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdFbnRpdGxlbWVudHMgbXVzdCBiZSBwcm92aWRlZCBmb3IgdXNlcnMgd2l0aCcgK1xuICAgICAgICAgICcgYWN0aXZlIG9yIGV4cGlyZWQgc3Vic2NyaXB0aW9ucydcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChqc29uUHJvZHVjdHMgJiYgIWlzT2JqZWN0KGpzb25Qcm9kdWN0cykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRW50aXRsZW1lbnRzIG11c3QgYmUgYW4gT2JqZWN0Jyk7XG4gICAgfVxuICAgIGxldCBwcm9kdWN0c09yU2t1cyA9IG51bGw7XG4gICAgaWYgKGpzb25Qcm9kdWN0cykge1xuICAgICAgcHJvZHVjdHNPclNrdXMgPSBKU09OLnN0cmluZ2lmeShqc29uUHJvZHVjdHMpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TWFuYWdlcl8ubG9nRXZlbnQoe1xuICAgICAgZXZlbnRUeXBlOiBBbmFseXRpY3NFdmVudC5FVkVOVF9TVUJTQ1JJUFRJT05fU1RBVEUsXG4gICAgICBldmVudE9yaWdpbmF0b3I6IEV2ZW50T3JpZ2luYXRvci5QVUJMSVNIRVJfQ0xJRU5ULFxuICAgICAgaXNGcm9tVXNlckFjdGlvbjogbnVsbCxcbiAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBwcm9kdWN0c09yU2t1cyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNlbmRFdmVudCh1c2VyRXZlbnQpIHtcbiAgICBsZXQgZGF0YSA9IG51bGw7XG4gICAgaWYgKFxuICAgICAgIWlzRW51bVZhbHVlKEV2ZW50LCB1c2VyRXZlbnQubmFtZSkgfHxcbiAgICAgICFwdWJsaXNoZXJFdmVudFRvQW5hbHl0aWNzRXZlbnQodXNlckV2ZW50Lm5hbWUpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdXNlciBldmVudCBwcm92aWRlZCgnICsgdXNlckV2ZW50Lm5hbWUgKyAnKScpO1xuICAgIH1cblxuICAgIGlmICh1c2VyRXZlbnQuZGF0YSkge1xuICAgICAgaWYgKCFpc09iamVjdCh1c2VyRXZlbnQuZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVudCBkYXRhIG11c3QgYmUgYW4gT2JqZWN0KCcgKyB1c2VyRXZlbnQuZGF0YSArICcpJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwgdXNlckV2ZW50LmRhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0Jvb2xlYW4odXNlckV2ZW50LmFjdGl2ZSkpIHtcbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICBkYXRhID0ge307XG4gICAgICB9XG4gICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHsnaXNfYWN0aXZlJzogdXNlckV2ZW50LmFjdGl2ZX0pO1xuICAgIH0gZWxzZSBpZiAodXNlckV2ZW50LmFjdGl2ZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50IGFjdGl2ZSBtdXN0IGJlIGEgYm9vbGVhbicpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50TWFuYWdlcl8ubG9nRXZlbnQoe1xuICAgICAgZXZlbnRUeXBlOiBwdWJsaXNoZXJFdmVudFRvQW5hbHl0aWNzRXZlbnQodXNlckV2ZW50Lm5hbWUpLFxuICAgICAgZXZlbnRPcmlnaW5hdG9yOiBFdmVudE9yaWdpbmF0b3IuUFVCTElTSEVSX0NMSUVOVCxcbiAgICAgIGlzRnJvbVVzZXJBY3Rpb246IHVzZXJFdmVudC5hY3RpdmUsXG4gICAgICBhZGRpdGlvbmFsUGFyYW1ldGVyczogZGF0YSxcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGl2aXR5SWZyYW1lVmlld30gZnJvbSAnLi4vdWkvYWN0aXZpdHktaWZyYW1lLXZpZXcnO1xuaW1wb3J0IHtTdWJzY3JpcHRpb25GbG93c30gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtmZUFyZ3MsIGZlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcblxuZXhwb3J0IGNsYXNzIExvZ2luTm90aWZpY2F0aW9uQXBpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLm9wZW5WaWV3UHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFjdGl2aXR5SWZyYW1lVmlld30gKi9cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcy5hY3Rpdml0eVBvcnRzXyxcbiAgICAgIGZlVXJsKCcvbG9naW5pZnJhbWUnKSxcbiAgICAgIGZlQXJncyh7XG4gICAgICAgIHB1YmxpY2F0aW9uSWQ6IGRlcHMucGFnZUNvbmZpZygpLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgcHJvZHVjdElkOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQcm9kdWN0SWQoKSxcbiAgICAgICAgLy8gTm8gbmVlZCB0byBhc2sgdGhlIHVzZXIuIEp1c3QgdGVsbCB0aGVtIHlvdSdyZSBsb2dnaW5nIHRoZW0gaW4uXG4gICAgICAgIHVzZXJDb25zZW50OiBmYWxzZSxcbiAgICAgIH0pLFxuICAgICAgLyogc2hvdWxkRmFkZUJvZHkgKi8gdHJ1ZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ29udGludWVzIHRoZSBMb2dpbiBmbG93IChhZnRlciB3YWl0aW5nKS5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICB0aGlzLmRlcHNfXG4gICAgICAuY2FsbGJhY2tzKClcbiAgICAgIC50cmlnZ2VyRmxvd1N0YXJ0ZWQoU3Vic2NyaXB0aW9uRmxvd3MuU0hPV19MT0dJTl9OT1RJRklDQVRJT04pO1xuXG4gICAgdGhpcy5vcGVuVmlld1Byb21pc2VfID0gdGhpcy5kaWFsb2dNYW5hZ2VyXy5vcGVuVmlldyhcbiAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3X1xuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfLmFjY2VwdFJlc3VsdCgpLnRoZW4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIC8vIFRoZSBjb25zZW50IHBhcnQgaXMgY29tcGxldGUuXG4gICAgICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8uY29tcGxldGVWaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gICAgICB9LFxuICAgICAgKHJlYXNvbikgPT4ge1xuICAgICAgICB0aGlzLmRpYWxvZ01hbmFnZXJfLmNvbXBsZXRlVmlldyh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pO1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGl2aXR5SWZyYW1lVmlld30gZnJvbSAnLi4vdWkvYWN0aXZpdHktaWZyYW1lLXZpZXcnO1xuaW1wb3J0IHtTdWJzY3JpcHRpb25GbG93c30gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtmZUFyZ3MsIGZlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7aXNDYW5jZWxFcnJvcn0gZnJvbSAnLi4vdXRpbHMvZXJyb3JzJztcblxuZXhwb3J0IGNsYXNzIExvZ2luUHJvbXB0QXBpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLm9wZW5WaWV3UHJvbWlzZV8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFjdGl2aXR5SWZyYW1lVmlld30gKi9cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcy5hY3Rpdml0eVBvcnRzXyxcbiAgICAgIGZlVXJsKCcvbG9naW5pZnJhbWUnKSxcbiAgICAgIGZlQXJncyh7XG4gICAgICAgIHB1YmxpY2F0aW9uSWQ6IGRlcHMucGFnZUNvbmZpZygpLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgcHJvZHVjdElkOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQcm9kdWN0SWQoKSxcbiAgICAgICAgLy8gRmlyc3QgYXNrIHRoZSB1c2VyIGlmIHRoZXkgd2FudCB1cyB0byBsb2cgdGhlbSBpbi5cbiAgICAgICAgdXNlckNvbnNlbnQ6IHRydWUsXG4gICAgICB9KSxcbiAgICAgIC8qIHNob3VsZEZhZGVCb2R5ICovIHRydWVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb21wdHMgdGhlIHVzZXIgdG8gbG9naW4uXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5kZXBzX1xuICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAudHJpZ2dlckZsb3dTdGFydGVkKFN1YnNjcmlwdGlvbkZsb3dzLlNIT1dfTE9HSU5fUFJPTVBUKTtcblxuICAgIHRoaXMub3BlblZpZXdQcm9taXNlXyA9IHRoaXMuZGlhbG9nTWFuYWdlcl8ub3BlblZpZXcoXG4gICAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld19cbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5hY2NlcHRSZXN1bHQoKS50aGVuKFxuICAgICAgKCkgPT4ge1xuICAgICAgICAvLyBUaGUgY29uc2VudCBwYXJ0IGlzIGNvbXBsZXRlLlxuICAgICAgICB0aGlzLmRpYWxvZ01hbmFnZXJfLmNvbXBsZXRlVmlldyh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pO1xuICAgICAgfSxcbiAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKGlzQ2FuY2VsRXJyb3IocmVhc29uKSkge1xuICAgICAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAgICAgLnRyaWdnZXJGbG93Q2FuY2VsZWQoU3Vic2NyaXB0aW9uRmxvd3MuU0hPV19MT0dJTl9QUk9NUFQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8uY29tcGxldGVWaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjAgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtBY3Rpdml0eUlmcmFtZVZpZXd9IGZyb20gJy4uL3VpL2FjdGl2aXR5LWlmcmFtZS12aWV3JztcbmltcG9ydCB7QW5hbHl0aWNzRXZlbnR9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge01ldGVyQ2xpZW50VHlwZXN9IGZyb20gJy4uL2FwaS9tZXRlcmluZyc7XG5pbXBvcnQge1N1YnNjcmlwdGlvbkZsb3dzfSBmcm9tICcuLi9hcGkvc3Vic2NyaXB0aW9ucyc7XG5pbXBvcnQge1xuICBUb2FzdENsb3NlUmVxdWVzdCxcbiAgVmlld1N1YnNjcmlwdGlvbnNSZXNwb25zZSxcbn0gZnJvbSAnLi4vcHJvdG8vYXBpX21lc3NhZ2VzJztcbmltcG9ydCB7ZmVVcmx9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtpc0NhbmNlbEVycm9yfSBmcm9tICcuLi91dGlscy9lcnJvcnMnO1xuaW1wb3J0IHtwYXJzZVVybH0gZnJvbSAnLi4vdXRpbHMvdXJsJztcbmltcG9ydCB7c2V0SW1wb3J0YW50U3R5bGVzLCBzZXRTdHlsZX0gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuaW1wb3J0IHt3YXJufSBmcm9tICcuLi91dGlscy9sb2cnO1xuXG5leHBvcnQgY29uc3QgSUZSQU1FX0JPWF9TSEFET1cgPVxuICAncmdiYSg2MCwgNjQsIDY3LCAwLjMpIDBweCAtMnB4IDVweCwgcmdiYSg2MCwgNjQsIDY3LCAwLjE1KSAwcHggLTVweCA1cHgnO1xuZXhwb3J0IGNvbnN0IE1JTklNSVpFRF9JRlJBTUVfU0laRSA9ICc0MjBweCc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9JRlJBTUVfVVJMID0gJy9tZXRlcnRvYXN0aWZyYW1lJztcbmV4cG9ydCBjb25zdCBBTk9OWU1PVVNfVVNFUl9BVFRSSUJVVEUgPSAnYW5vbnltb3VzX3VzZXInO1xuLyoqXG4gKiBUaGUgaWZyYW1lIFVSTHMgdG8gYmUgdXNlZCBwZXIgTWV0ZXJDbGllbnRUeXBlXG4gKiBAdHlwZSB7T2JqZWN0LjxNZXRlckNsaWVudFR5cGVzLCBzdHJpbmc+fVxuICovXG5leHBvcnQgY29uc3QgSWZyYW1lVXJsQnlNZXRlckNsaWVudFR5cGUgPSB7XG4gIFtNZXRlckNsaWVudFR5cGVzLkxJQ0VOU0VEX0JZX0dPT0dMRV06ICcvbWV0ZXJ0b2FzdGlmcmFtZScsXG4gIFtNZXRlckNsaWVudFR5cGVzLk1FVEVSRURfQllfR09PR0xFXTogJy9tZXRlcmlmcmFtZScsXG59O1xuLyoqIEBlbnVtIHtzdHJpbmd9ICovXG5jb25zdCBNZXRlclR5cGUgPSB7XG4gIFVOS05PV046ICdVTktOT1dOJyxcbiAgS05PV046ICdLTk9XTicsXG59O1xuXG4vKipcbiAqIFByb3BlcnRpZXM6XG4gKiAtIGlmcmFtZVVybDogUmVsYXRpdmUgVVJMIG9mIHRoZSBpZnJhbWUsIGUuZy4gXCIvbWV0ZXJpZnJhbWVcIi5cbiAqIC0gaWZyYW1lVXJsUGFyYW1zOiBMaXN0IG9mIGV4dHJhIHBhcmFtcyBhcHBlbmRlZCB0byB0aGUgVVJMLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIG1ldGVyQ2xpZW50VHlwZTogKE1ldGVyQ2xpZW50VHlwZXN8dW5kZWZpbmVkKSxcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgTWV0ZXJUb2FzdEFwaVBhcmFtcztcblxuZXhwb3J0IGNsYXNzIE1ldGVyVG9hc3RBcGkge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHshTWV0ZXJUb2FzdEFwaVBhcmFtcz19IHBhcmFtc1xuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgZGVwcyxcbiAgICB7XG4gICAgICBtZXRlckNsaWVudFR5cGUgPSBNZXRlckNsaWVudFR5cGVzLkxJQ0VOU0VEX0JZX0dPT0dMRSxcbiAgICAgIG1ldGVyQ2xpZW50VXNlckF0dHJpYnV0ZSA9IEFOT05ZTU9VU19VU0VSX0FUVFJJQlVURSxcbiAgICB9ID0ge31cbiAgKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU1ldGVyQ2xpZW50VHlwZXN9ICovXG4gICAgdGhpcy5tZXRlckNsaWVudFR5cGVfID0gbWV0ZXJDbGllbnRUeXBlO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMubWV0ZXJDbGllbnRVc2VyQXR0cmlidXRlXyA9IG1ldGVyQ2xpZW50VXNlckF0dHJpYnV0ZTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoaXMgY2xhc3MgY2FsbHMgd2hlbiBhIHVzZXIgZGlzbWlzc2VzIHRoZSB0b2FzdCB0byBjb25zdW1lIGFcbiAgICAgKiBmcmVlIHJlYWQuXG4gICAgICogQHByaXZhdGUgez9mdW5jdGlvbigpfVxuICAgICAqL1xuICAgIHRoaXMub25Db25zdW1lQ2FsbGJhY2tfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgb25Db25zdW1lQ2FsbGJhY2tfIGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgKiAoZWl0aGVyIGNhbGxlZCBvciBpZ25vcmVkKS4gVGhpcyBpcyB1c2VkIHRvIHByb3RlY3QgYWdhaW5zdCB1bmV4cGVjdGVkXG4gICAgICogY2FuY2VsbGF0aW9ucyBub3QgY29uc3VtaW5nIGEgbWV0ZXIuXG4gICAgICogQHByaXZhdGUgeyFib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub25Db25zdW1lQ2FsbGJhY2tIYW5kbGVkXyA9IGZhbHNlO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLnNjcm9sbEV2ZW50TGlzdGVuZXJfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgdXNlciB0aGUgbWV0ZXJpbmcgdG9hc3QuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgY29uc3QgYWRkaXRpb25hbEFyZ3VtZW50cyA9IHtcbiAgICAgIGlzQ2xvc2FibGU6IHRydWUsXG4gICAgICBoYXNTdWJzY3JpcHRpb25DYWxsYmFjazogdGhpcy5kZXBzX1xuICAgICAgICAuY2FsbGJhY2tzKClcbiAgICAgICAgLmhhc1N1YnNjcmliZVJlcXVlc3RDYWxsYmFjaygpLFxuICAgIH07XG4gICAgaWYgKHRoaXMubWV0ZXJDbGllbnRUeXBlXyA9PT0gTWV0ZXJDbGllbnRUeXBlcy5NRVRFUkVEX0JZX0dPT0dMRSkge1xuICAgICAgYWRkaXRpb25hbEFyZ3VtZW50c1snbWV0ZXJUeXBlJ10gPVxuICAgICAgICB0aGlzLm1ldGVyQ2xpZW50VXNlckF0dHJpYnV0ZV8gPT09IEFOT05ZTU9VU19VU0VSX0FUVFJJQlVURVxuICAgICAgICAgID8gTWV0ZXJUeXBlLlVOS05PV05cbiAgICAgICAgICA6IE1ldGVyVHlwZS5LTk9XTjtcbiAgICB9XG4gICAgY29uc3QgaWZyYW1lQXJncyA9XG4gICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLmFkZERlZmF1bHRBcmd1bWVudHMoYWRkaXRpb25hbEFyZ3VtZW50cyk7XG5cbiAgICBjb25zdCBpZnJhbWVVcmwgPVxuICAgICAgSWZyYW1lVXJsQnlNZXRlckNsaWVudFR5cGVbXG4gICAgICAgIHRoaXMubWV0ZXJDbGllbnRUeXBlXyA/PyBNZXRlckNsaWVudFR5cGVzLkxJQ0VOU0VEX0JZX0dPT0dMRVxuICAgICAgXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFBY3Rpdml0eUlmcmFtZVZpZXd9ICovXG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfID0gbmV3IEFjdGl2aXR5SWZyYW1lVmlldyhcbiAgICAgIHRoaXMud2luXyxcbiAgICAgIHRoaXMuYWN0aXZpdHlQb3J0c18sXG4gICAgICBmZVVybChpZnJhbWVVcmwsIHtcbiAgICAgICAgJ29yaWdpbic6IHBhcnNlVXJsKHRoaXMud2luXy5sb2NhdGlvbi5ocmVmKS5vcmlnaW4sXG4gICAgICAgICdobCc6IHRoaXMuZGVwc18uY2xpZW50Q29uZmlnTWFuYWdlcigpLmdldExhbmd1YWdlKCksXG4gICAgICB9KSxcbiAgICAgIGlmcmFtZUFyZ3MsXG4gICAgICAvKiBzaG91bGRGYWRlQm9keSAqLyBmYWxzZVxuICAgICk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshZnVuY3Rpb24oKX0gKi9cbiAgICB0aGlzLnNlbmRDbG9zZVJlcXVlc3RGdW5jdGlvbl8gPSAoKSA9PiB7XG4gICAgICBjb25zdCBjbG9zZVJlcXVlc3QgPSBuZXcgVG9hc3RDbG9zZVJlcXVlc3QoKTtcbiAgICAgIGNsb3NlUmVxdWVzdC5zZXRDbG9zZSh0cnVlKTtcbiAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5leGVjdXRlKGNsb3NlUmVxdWVzdCk7XG4gICAgICB0aGlzLnJlbW92ZUNsb3NlRXZlbnRMaXN0ZW5lcigpO1xuXG4gICAgICB0aGlzLmRlcHNfXG4gICAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgICAubG9nU3dnRXZlbnQoXG4gICAgICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX01FVEVSX1RPQVNUX0NMT1NFRF9CWV9BUlRJQ0xFX0lOVEVSQUNUSU9OLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcblxuICAgICAgaWYgKHRoaXMub25Db25zdW1lQ2FsbGJhY2tfICYmICF0aGlzLm9uQ29uc3VtZUNhbGxiYWNrSGFuZGxlZF8pIHtcbiAgICAgICAgdGhpcy5vbkNvbnN1bWVDYWxsYmFja0hhbmRsZWRfID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbkNvbnN1bWVDYWxsYmFja18oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kZXBzX1xuICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAudHJpZ2dlckZsb3dTdGFydGVkKFN1YnNjcmlwdGlvbkZsb3dzLlNIT1dfTUVURVJfVE9BU1QpO1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5vbihcbiAgICAgIFZpZXdTdWJzY3JpcHRpb25zUmVzcG9uc2UsXG4gICAgICB0aGlzLnN0YXJ0U3Vic2NyaXB0aW9uRmxvd18uYmluZCh0aGlzKVxuICAgICk7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuZGVwc18uY2FsbGJhY2tzKCkuaGFzU3Vic2NyaWJlUmVxdWVzdENhbGxiYWNrKCkgJiZcbiAgICAgICF0aGlzLmRlcHNfLmNhbGxiYWNrcygpLmhhc09mZmVyc0Zsb3dSZXF1ZXN0Q2FsbGJhY2soKVxuICAgICkge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgJ1tzd2cuanNdOiBgc2V0T25OYXRpdmVTdWJzY3JpYmVSZXF1ZXN0YCBoYXMgbm90IGJlZW4gc2V0ICcgK1xuICAgICAgICAnYmVmb3JlIHN0YXJ0aW5nIHRoZSBtZXRlcmluZyBmbG93LCBzbyB1c2VycyB3aWxsIG5vdCBiZSBhYmxlIHRvICcgK1xuICAgICAgICAnc3Vic2NyaWJlIGZyb20gdGhlIG1ldGVyaW5nIGRpYWxvZyBkaXJlY3RseS4gUGxlYXNlIGNhbGwgJyArXG4gICAgICAgICdgc2V0T25OYXRpdmVTdWJzY3JpYmVSZXF1ZXN0YCB3aXRoIGEgc3Vic2NyaXB0aW9uIGZsb3cgY2FsbGJhY2sgJyArXG4gICAgICAgICdiZWZvcmUgc3RhcnRpbmcgbWV0ZXJpbmcuJztcbiAgICAgIHdhcm4oZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfXG4gICAgICAuaGFuZGxlQ2FuY2VsbGF0aW9ucyh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pXG4gICAgICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAvLyBQb3NzaWJseSBjYWxsIG9uQ29uc3VtZUNhbGxiYWNrIG9uIGFsbCBkaWFsb2cgY2FuY2VsbGF0aW9ucyB0b1xuICAgICAgICAvLyBlbnN1cmUgdW5leHBlY3RlZCBkaWFsb2cgY2xvc3VyZXMgZG9uJ3QgZ2l2ZSBhY2Nlc3Mgd2l0aG91dCBhXG4gICAgICAgIC8vIG1ldGVyIGNvbnN1bWVkLlxuICAgICAgICBpZiAodGhpcy5vbkNvbnN1bWVDYWxsYmFja18gJiYgIXRoaXMub25Db25zdW1lQ2FsbGJhY2tIYW5kbGVkXykge1xuICAgICAgICAgIHRoaXMub25Db25zdW1lQ2FsbGJhY2tIYW5kbGVkXyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5vbkNvbnN1bWVDYWxsYmFja18oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCB0aHJvdyBvbiBjYW5jZWwgZXJyb3JzIHNpbmNlIHRoZXkgaGFwcGVuIHdoZW4gYSB1c2VyIGNsb3Nlc1xuICAgICAgICAvLyB0aGUgdG9hc3QsIHdoaWNoIGlzIGV4cGVjdGVkLlxuICAgICAgICBpZiAoIWlzQ2FuY2VsRXJyb3IocmVhc29uKSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgY29uc29sZSAvKk9LKi9cbiAgICAgICAgICAgIC5lcnJvcihcbiAgICAgICAgICAgICAgJ1tzd2cuanNdOiBFcnJvciBvY2N1cnJlZCBkdXJpbmcgbWV0ZXIgdG9hc3QgaGFuZGxpbmc6ICcgKyByZWFzb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmRpYWxvZ01hbmFnZXJfLm9wZW5EaWFsb2coKS50aGVuKChkaWFsb2cpID0+IHtcbiAgICAgIHRoaXMuc2V0RGlhbG9nQm94U2hhZG93XygpO1xuICAgICAgdGhpcy5zZXRMb2FkaW5nVmlld1dpZHRoXygpO1xuICAgICAgcmV0dXJuIGRpYWxvZy5vcGVuVmlldyh0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18pLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBBbGxvdyBjbG9zaW5nIG9mIHRoZSBpZnJhbWUgd2l0aCBhbnkgc2Nyb2xsIG9yIGNsaWNrIGV2ZW50LlxuICAgICAgICB0aGlzLndpbl8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNlbmRDbG9zZVJlcXVlc3RGdW5jdGlvbl8pO1xuICAgICAgICB0aGlzLndpbl8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgICAgdGhpcy5zZW5kQ2xvc2VSZXF1ZXN0RnVuY3Rpb25fXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMud2luXy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLnNlbmRDbG9zZVJlcXVlc3RGdW5jdGlvbl8pO1xuICAgICAgICAvLyBNYWtpbmcgYm9keSdzIG92ZXJmbG93IHByb3BlcnR5ICdoaWRkZW4nIHRvIHByZXZlbnQgc2Nyb2xsaW5nXG4gICAgICAgIC8vIHdoaWxlIHN3aXBpbmcgb24gdGhlIGlmcmFtZSBvbmx5IG9uIG1vYmlsZS5cbiAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGVfKCkpIHtcbiAgICAgICAgICBjb25zdCAkYm9keSA9IHRoaXMud2luXy5kb2N1bWVudC5ib2R5O1xuICAgICAgICAgIHNldFN0eWxlKCRib2R5LCAnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IHN0YXJ0LCBzY3JvbGxUaW1lb3V0O1xuICAgICAgICAgIHRoaXMuc2Nyb2xsRXZlbnRMaXN0ZW5lcl8gPSAoKSA9PiB7XG4gICAgICAgICAgICBzdGFydCA9IHN0YXJ0IHx8IHRoaXMud2luXy4vKlJFVklFVyovIHBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy53aW5fLmNsZWFyVGltZW91dChzY3JvbGxUaW1lb3V0KTtcbiAgICAgICAgICAgIHNjcm9sbFRpbWVvdXQgPSB0aGlzLndpbl8uc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBzY3JvbGwgaXMgbG9uZ2VyIHRoYW4gMTAwLCBjbG9zZSB0aGUgdG9hc3QuXG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLndpbl8uLypSRVZJRVcqLyBwYWdlWU9mZnNldCAtIHN0YXJ0KSA+IDEwMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZENsb3NlUmVxdWVzdEZ1bmN0aW9uXygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy53aW5fLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsRXZlbnRMaXN0ZW5lcl8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9NRVRFUl9UT0FTVCk7XG4gICAgICAgIHRoaXMuZGVwc19cbiAgICAgICAgICAuZXZlbnRNYW5hZ2VyKClcbiAgICAgICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuRVZFTlRfT0ZGRVJFRF9NRVRFUik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgY2FsbGJhY2sgZnVuY3Rpb24gdGhpcyBjbGFzcyBjYWxscyB3aGVuIGEgdXNlciBkaXNtaXNzZXMgdGhlIHRvYXN0IHRvIGNvbnN1bWUgYSBmcmVlIHJlYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gb25Db25zdW1lQ2FsbGJhY2tcbiAgICovXG4gIHNldE9uQ29uc3VtZUNhbGxiYWNrKG9uQ29uc3VtZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5vbkNvbnN1bWVDYWxsYmFja18gPSBvbkNvbnN1bWVDYWxsYmFjaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBldmVudCBsaXN0ZW5lcnMgdGhhdCBjbG9zZSB0aGUgaWZyYW1lIGFuZCBtYWtlIHRoZSBib2R5IHZpc2libGUuXG4gICAqL1xuICByZW1vdmVDbG9zZUV2ZW50TGlzdGVuZXIoKSB7XG4gICAgdGhpcy53aW5fLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zZW5kQ2xvc2VSZXF1ZXN0RnVuY3Rpb25fKTtcbiAgICB0aGlzLndpbl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuc2VuZENsb3NlUmVxdWVzdEZ1bmN0aW9uXyk7XG4gICAgdGhpcy53aW5fLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuc2VuZENsb3NlUmVxdWVzdEZ1bmN0aW9uXyk7XG4gICAgaWYgKHRoaXMuaXNNb2JpbGVfKCkpIHtcbiAgICAgIGNvbnN0ICRib2R5ID0gdGhpcy53aW5fLmRvY3VtZW50LmJvZHk7XG4gICAgICBzZXRTdHlsZSgkYm9keSwgJ292ZXJmbG93JywgJ3Zpc2libGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53aW5fLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsRXZlbnRMaXN0ZW5lcl8pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHRoZSBpZnJhbWUgYm94IHNoYWRvdyB0byBtYXRjaCBkZXNpcmVkIHNwZWNpZmljYXRpb25zIG9uIG1vYmlsZS5cbiAgICovXG4gIHNldERpYWxvZ0JveFNoYWRvd18oKSB7XG4gICAgY29uc3QgbW9iaWxlTWVkaWFRdWVyeSA9IHRoaXMud2luXy5tYXRjaE1lZGlhKFxuICAgICAgJyhtYXgtd2lkdGg6IDY0MHB4KSwgKG1heC1oZWlnaHQ6IDY0MHB4KSdcbiAgICApO1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmRpYWxvZ01hbmFnZXJfLmdldERpYWxvZygpLmdldEVsZW1lbnQoKTtcbiAgICBpZiAobW9iaWxlTWVkaWFRdWVyeS5tYXRjaGVzKSB7XG4gICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWxlbWVudCwgeydib3gtc2hhZG93JzogSUZSQU1FX0JPWF9TSEFET1d9KTtcbiAgICB9XG4gICAgbW9iaWxlTWVkaWFRdWVyeS5hZGRMaXN0ZW5lcigoY2hhbmdlZCkgPT4ge1xuICAgICAgaWYgKGNoYW5nZWQubWF0Y2hlcykge1xuICAgICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWxlbWVudCwgeydib3gtc2hhZG93JzogSUZSQU1FX0JPWF9TSEFET1d9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEltcG9ydGFudFN0eWxlcyhlbGVtZW50LCB7J2JveC1zaGFkb3cnOiAnJ30pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIHNpemUgb2YgdGhlIGxvYWRpbmcgaWZyYW1lIG9uIGRlc2t0b3AgdG8gbWF0Y2ggdGhlIHNpemUgb2ZcbiAgICogdGhlIG1ldGVyIHRvYXN0IGlmcmFtZS5cbiAgICovXG4gIHNldExvYWRpbmdWaWV3V2lkdGhfKCkge1xuICAgIGNvbnN0IGRlc2t0b3BNZWRpYVF1ZXJ5ID0gdGhpcy53aW5fLm1hdGNoTWVkaWEoXG4gICAgICAnKG1pbi13aWR0aDogNjQwcHgpIGFuZCAobWluLWhlaWdodDogNjQwcHgpJ1xuICAgICk7XG4gICAgaWYgKGRlc2t0b3BNZWRpYVF1ZXJ5Lm1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmRpYWxvZ01hbmFnZXJfXG4gICAgICAgIC5nZXREaWFsb2coKVxuICAgICAgICAuZ2V0TG9hZGluZ1ZpZXcoKVxuICAgICAgICAuZ2V0RWxlbWVudCgpO1xuICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKGVsZW1lbnQsIHtcbiAgICAgICAgJ3dpZHRoJzogTUlOSU1JWkVEX0lGUkFNRV9TSVpFLFxuICAgICAgICAnbWFyZ2luJzogJ2F1dG8nLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Vmlld1N1YnNjcmlwdGlvbnNSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0U3Vic2NyaXB0aW9uRmxvd18ocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlbW92ZUNsb3NlRXZlbnRMaXN0ZW5lcigpO1xuICAgIC8vIFdlIHNob3VsZG4ndCBkZWNyZW1lbnQgdGhlIG1ldGVyIG9uIHJlZGlyZWN0cywgc28gZG9uJ3QgY2FsbCBvbkNvbnN1bWVDYWxsYmFjay5cbiAgICB0aGlzLm9uQ29uc3VtZUNhbGxiYWNrSGFuZGxlZF8gPSB0cnVlO1xuICAgIGlmIChyZXNwb25zZS5nZXROYXRpdmUoKSkge1xuICAgICAgdGhpcy5kZXBzXy5jYWxsYmFja3MoKS50cmlnZ2VyU3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlcHNfLmNhbGxiYWNrcygpLnRyaWdnZXJPZmZlcnNGbG93UmVxdWVzdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHdpbmRvdyB1c2VyQWdlbnQgaXMgYSBtb2JpbGUgcGxhdGZvcm0uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc01vYmlsZV8oKSB7XG4gICAgcmV0dXJuICEhdGhpcy53aW5fLm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXG4gICAgICAvQW5kcm9pZHxpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGUvaVxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtzZXJ2aWNlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcblxuZXhwb3J0IGNsYXNzIE9mZmVyc0FwaSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfSBjb25maWdcbiAgICogQHBhcmFtIHshLi9mZXRjaGVyLkZldGNoZXJ9IGZldGNoZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZmV0Y2hlcikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfSAqL1xuICAgIHRoaXMuY29uZmlnXyA9IGNvbmZpZztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2ZldGNoZXIuRmV0Y2hlcn0gKi9cbiAgICB0aGlzLmZldGNoZXJfID0gZmV0Y2hlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gez9zdHJpbmc9fSBwcm9kdWN0SWRcbiAgICogQHJldHVybiB7IVByb21pc2U8IUFycmF5PCEuLi9hcGkvb2ZmZXIuT2ZmZXI+Pn1cbiAgICovXG4gIGdldE9mZmVycyhwcm9kdWN0SWQgPSB0aGlzLmNvbmZpZ18uZ2V0UHJvZHVjdElkKCkpIHtcbiAgICBpZiAoIXByb2R1Y3RJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZXRPZmZlcnMgcmVxdWlyZXMgcHJvZHVjdElkIGluIGNvbmZpZyBvciBhcmd1bWVudHMnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hfKHByb2R1Y3RJZCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb2R1Y3RJZFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhQXJyYXk8IS4uL2FwaS9vZmZlci5PZmZlcj4+fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hfKHByb2R1Y3RJZCkge1xuICAgIGNvbnN0IHVybCA9IHNlcnZpY2VVcmwoXG4gICAgICAnL3B1YmxpY2F0aW9uLycgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodGhpcy5jb25maWdfLmdldFB1YmxpY2F0aW9uSWQoKSkgK1xuICAgICAgICAnL29mZmVycycgK1xuICAgICAgICAnP2xhYmVsPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQocHJvZHVjdElkKVxuICAgICk7XG4gICAgLy8gVE9ETyhkdm95dGVua28pOiBzd2l0Y2ggdG8gYSBub24tY3JlZGVudGlhbGVkIHJlcXVlc3QgYWZ0ZXIgbGF1bmNoLlxuICAgIHJldHVybiB0aGlzLmZldGNoZXJfLmZldGNoQ3JlZGVudGlhbGVkSnNvbih1cmwpLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uWydvZmZlcnMnXSB8fCBbXTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FjdGl2aXR5SWZyYW1lVmlld30gZnJvbSAnLi4vdWkvYWN0aXZpdHktaWZyYW1lLXZpZXcnO1xuaW1wb3J0IHtcbiAgQWxyZWFkeVN1YnNjcmliZWRSZXNwb25zZSxcbiAgRW50aXRsZW1lbnRzUmVzcG9uc2UsXG4gIFNrdVNlbGVjdGVkUmVzcG9uc2UsXG4gIFN1YnNjcmliZVJlc3BvbnNlLFxuICBWaWV3U3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxufSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuaW1wb3J0IHtBbmFseXRpY3NFdmVudCwgRXZlbnRQYXJhbXN9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge1BheVN0YXJ0Rmxvd30gZnJvbSAnLi9wYXktZmxvdyc7XG5pbXBvcnQge1Byb2R1Y3RUeXBlLCBTdWJzY3JpcHRpb25GbG93c30gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQge2ZlQXJncywgZmVVcmx9IGZyb20gJy4vc2VydmljZXMnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBza3VcbiAqIEByZXR1cm4geyFFdmVudFBhcmFtc31cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRQYXJhbXMoc2t1KSB7XG4gIHJldHVybiBuZXcgRXZlbnRQYXJhbXMoWywgLCAsICwgc2t1XSk7XG59XG5cbi8qKlxuICogT2ZmZXJzIHZpZXcgaXMgY2xvc2FibGUgd2hlbiByZXF1ZXN0IHdhcyBvcmlnaW5hdGVkIGZyb20gJ0FiYnJ2T2ZmZXJGbG93J1xuICogb3IgZnJvbSAnU3Vic2NyaWJlT3B0aW9uRmxvdycuXG4gKi9cbmNvbnN0IE9GRkVSU19WSUVXX0NMT1NBQkxFID0gdHJ1ZTtcblxuLy8gVGhlIHZhbHVlIGxvZ2dlZCB3aGVuIHRoZSBvZmZlcnMgc2NyZWVuIHNob3dzIGFsbCBhdmFpbGFibGUgU0tVcy5cbmNvbnN0IEFMTF9TS1VTID0gJyonO1xuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgT2ZmZXJzIGZsb3cuXG4gKi9cbmV4cG9ydCBjbGFzcyBPZmZlcnNGbG93IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLk9mZmVyc1JlcXVlc3R8dW5kZWZpbmVkfSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzLCBvcHRpb25zKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9jbGllbnQtY29uZmlnLW1hbmFnZXIuQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gZGVwcy5jbGllbnRDb25maWdNYW5hZ2VyKCk7XG5cbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18gPSBudWxsO1xuXG4gICAgLy8gRGVmYXVsdCB0byBoaWRpbmcgY2xvc2UgYnV0dG9uLlxuICAgIGNvbnN0IGlzQ2xvc2FibGUgPSBvcHRpb25zPy5pc0Nsb3NhYmxlID8/IGZhbHNlO1xuXG4gICAgY29uc3QgZmVBcmdzT2JqID0gZGVwcy5hY3Rpdml0aWVzKCkuYWRkRGVmYXVsdEFyZ3VtZW50cyh7XG4gICAgICAnc2hvd05hdGl2ZSc6IGRlcHMuY2FsbGJhY2tzKCkuaGFzU3Vic2NyaWJlUmVxdWVzdENhbGxiYWNrKCksXG4gICAgICAncHJvZHVjdFR5cGUnOiBQcm9kdWN0VHlwZS5TVUJTQ1JJUFRJT04sXG4gICAgICAnbGlzdCc6IChvcHRpb25zICYmIG9wdGlvbnMubGlzdCkgfHwgJ2RlZmF1bHQnLFxuICAgICAgJ3NrdXMnOiAob3B0aW9ucyAmJiBvcHRpb25zLnNrdXMpIHx8IG51bGwsXG4gICAgICAnaXNDbG9zYWJsZSc6IGlzQ2xvc2FibGUsXG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9sZFNrdSkge1xuICAgICAgZmVBcmdzT2JqWydvbGRTa3UnXSA9IG9wdGlvbnMub2xkU2t1O1xuICAgICAgYXNzZXJ0KGZlQXJnc09ialsnc2t1cyddLCAnTmVlZCBhIHNrdSBsaXN0IGlmIG9sZCBza3UgaXMgcHJvdmlkZWQhJyk7XG5cbiAgICAgIC8vIFJlbW92ZSBvbGQgc2t1IGZyb20gb2ZmZXJzIGlmIGluIGxpc3QuXG4gICAgICBsZXQgc2t1TGlzdCA9IGZlQXJnc09ialsnc2t1cyddO1xuICAgICAgY29uc3QgLyoqIEB0eXBlIHtzdHJpbmd9ICovIG9sZFNrdSA9IGZlQXJnc09ialsnb2xkU2t1J107XG4gICAgICBza3VMaXN0ID0gc2t1TGlzdC5maWx0ZXIoKHNrdSkgPT4gc2t1ICE9PSBvbGRTa3UpO1xuXG4gICAgICBhc3NlcnQoXG4gICAgICAgIHNrdUxpc3QubGVuZ3RoID4gMCxcbiAgICAgICAgJ1NrdSBsaXN0IG9ubHkgY29udGFpbmVkIG9mZmVyIHVzZXIgYWxyZWFkeSBoYXMnXG4gICAgICApO1xuICAgICAgZmVBcmdzT2JqWydza3VzJ10gPSBza3VMaXN0O1xuICAgIH1cblxuICAgIC8vIFJlZGlyZWN0IHRvIHBheW1lbnRzIGlmIG9ubHkgb25lIHVwZ3JhZGUgb3B0aW9uIGlzIHBhc3NlZC5cbiAgICBpZiAoZmVBcmdzT2JqWydza3VzJ10gJiYgZmVBcmdzT2JqWydza3VzJ10ubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBza3UgPSBmZUFyZ3NPYmpbJ3NrdXMnXVswXTtcbiAgICAgIGNvbnN0IC8qKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH0gKi8gb2xkU2t1ID0gZmVBcmdzT2JqWydvbGRTa3UnXTtcbiAgICAgIC8vIFVwZGF0ZSBzdWJzY3JpcHRpb24gdHJpZ2dlcnMgZXhwZXJpbWVudGFsIGZsYWcgaWYgb2xkU2t1IGlzIHBhc3NlZCxcbiAgICAgIC8vIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIG9sZFNrdSB0byBkZWNpZGUgaWYgaXQgbmVlZHMgdG8gYmUgc2VudC5cbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBtaWdodCBhY2NpZGVudGFsbHkgYmxvY2sgYSByZWd1bGFyIHN1YnNjcmlwdGlvbiByZXF1ZXN0LlxuICAgICAgaWYgKG9sZFNrdSkge1xuICAgICAgICBjb25zdCBza3VTZWxlY3RlZFJlc3BvbnNlID0gbmV3IFNrdVNlbGVjdGVkUmVzcG9uc2UoKTtcbiAgICAgICAgc2t1U2VsZWN0ZWRSZXNwb25zZS5zZXRTa3Uoc2t1KTtcbiAgICAgICAgc2t1U2VsZWN0ZWRSZXNwb25zZS5zZXRPbGRTa3Uob2xkU2t1KTtcbiAgICAgICAgdGhpcy5zdGFydFBheUZsb3dfKHNrdVNlbGVjdGVkUmVzcG9uc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEBwcml2YXRlICBAY29uc3QgeyFBcnJheTwhc3RyaW5nPn0gKi9cbiAgICB0aGlzLnNrdXNfID0gZmVBcmdzT2JqWydza3VzJ10gfHwgW0FMTF9TS1VTXTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPCEuLi9tb2RlbC9jbGllbnQtY29uZmlnLkNsaWVudENvbmZpZz59ICovXG4gICAgdGhpcy5jbGllbnRDb25maWdfID0gdGhpcy5jbGllbnRDb25maWdNYW5hZ2VyXy5nZXRDbGllbnRDb25maWcoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlPD9BY3Rpdml0eUlmcmFtZVZpZXc+fSAqL1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3UHJvbWlzZV8gPSB0aGlzLmNsaWVudENvbmZpZ18udGhlbihcbiAgICAgIChjbGllbnRDb25maWcpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdWxkU2hvd18oY2xpZW50Q29uZmlnKVxuICAgICAgICAgID8gbmV3IEFjdGl2aXR5SWZyYW1lVmlldyhcbiAgICAgICAgICAgICAgdGhpcy53aW5fLFxuICAgICAgICAgICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLFxuICAgICAgICAgICAgICB0aGlzLmdldFVybF8oY2xpZW50Q29uZmlnLCBkZXBzLnBhZ2VDb25maWcoKSksXG4gICAgICAgICAgICAgIGZlQXJnc09iaixcbiAgICAgICAgICAgICAgLyogc2hvdWxkRmFkZUJvZHkgKi8gdHJ1ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7U2t1U2VsZWN0ZWRSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXJ0UGF5Rmxvd18ocmVzcG9uc2UpIHtcbiAgICBjb25zdCBza3UgPSByZXNwb25zZS5nZXRTa3UoKTtcbiAgICBpZiAoc2t1KSB7XG4gICAgICBjb25zdCAvKiogQHR5cGUgey4uL2FwaS9zdWJzY3JpcHRpb25zLlN1YnNjcmlwdGlvblJlcXVlc3R9ICovIHN1YnNjcmlwdGlvblJlcXVlc3QgPVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICdza3VJZCc6IHNrdSxcbiAgICAgICAgICB9O1xuICAgICAgY29uc3Qgb2xkU2t1ID0gcmVzcG9uc2UuZ2V0T2xkU2t1KCk7XG4gICAgICBpZiAob2xkU2t1KSB7XG4gICAgICAgIHN1YnNjcmlwdGlvblJlcXVlc3RbJ29sZFNrdSddID0gb2xkU2t1O1xuICAgICAgICB0aGlzLmRlcHNfLmFuYWx5dGljcygpLnNldFNrdShvbGRTa3UpO1xuICAgICAgfVxuICAgICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fT0ZGRVJfU0VMRUNURUQsXG4gICAgICAgIHRydWUsXG4gICAgICAgIGdldEV2ZW50UGFyYW1zKHNrdSlcbiAgICAgICk7XG4gICAgICBuZXcgUGF5U3RhcnRGbG93KHRoaXMuZGVwc18sIHN1YnNjcmlwdGlvblJlcXVlc3QpLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QWxyZWFkeVN1YnNjcmliZWRSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZUxpbmtSZXF1ZXN0XyhyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5nZXRTdWJzY3JpYmVyT3JNZW1iZXIoKSkge1xuICAgICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fQUxSRUFEWV9TVUJTQ1JJQkVELFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5kZXBzXy5jYWxsYmFja3MoKS50cmlnZ2VyTG9naW5SZXF1ZXN0KHtcbiAgICAgICAgbGlua1JlcXVlc3RlZDogISFyZXNwb25zZS5nZXRMaW5rUmVxdWVzdGVkKCksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtWaWV3U3Vic2NyaXB0aW9uc1Jlc3BvbnNlfSByZXNwb25zZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhcnROYXRpdmVGbG93XyhyZXNwb25zZSkge1xuICAgIGlmIChyZXNwb25zZS5nZXROYXRpdmUoKSkge1xuICAgICAgdGhpcy5kZXBzXy5jYWxsYmFja3MoKS50cmlnZ2VyU3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIG9mZmVycyBmbG93IG9yIGFscmVhZHlTdWJzY3JpYmVkIGZsb3cuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3UHJvbWlzZV8pIHtcbiAgICAgIHJldHVybiB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld1Byb21pc2VfLnRoZW4oKGFjdGl2aXR5SWZyYW1lVmlldykgPT4ge1xuICAgICAgICBpZiAoIWFjdGl2aXR5SWZyYW1lVmlldykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvIG5vIGVycm9yIGlmIHNraXBwZWQgdG8gcGF5bWVudCBzY3JlZW4uXG4gICAgICAgIC8vIFN0YXJ0L2NhbmNlbCBldmVudHMuXG4gICAgICAgIC8vIFRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkIGJ5IFByb3BlbnNpdHkgaW4gQU1QLlxuICAgICAgICB0aGlzLmRlcHNfXG4gICAgICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAgICAgLnRyaWdnZXJGbG93U3RhcnRlZChTdWJzY3JpcHRpb25GbG93cy5TSE9XX09GRkVSUywge1xuICAgICAgICAgICAgc2t1czogdGhpcy5za3VzXyxcbiAgICAgICAgICAgIHNvdXJjZTogJ1N3RycsXG4gICAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2aXR5SWZyYW1lVmlldy5vbkNhbmNlbCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAgICAgLmNhbGxiYWNrcygpXG4gICAgICAgICAgICAudHJpZ2dlckZsb3dDYW5jZWxlZChTdWJzY3JpcHRpb25GbG93cy5TSE9XX09GRkVSUyk7XG4gICAgICAgIH0pO1xuICAgICAgICBhY3Rpdml0eUlmcmFtZVZpZXcub24oXG4gICAgICAgICAgU2t1U2VsZWN0ZWRSZXNwb25zZSxcbiAgICAgICAgICB0aGlzLnN0YXJ0UGF5Rmxvd18uYmluZCh0aGlzKVxuICAgICAgICApO1xuICAgICAgICBhY3Rpdml0eUlmcmFtZVZpZXcub24oXG4gICAgICAgICAgQWxyZWFkeVN1YnNjcmliZWRSZXNwb25zZSxcbiAgICAgICAgICB0aGlzLmhhbmRsZUxpbmtSZXF1ZXN0Xy5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGFjdGl2aXR5SWZyYW1lVmlldy5vbihcbiAgICAgICAgICBWaWV3U3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgICAgICAgIHRoaXMuc3RhcnROYXRpdmVGbG93Xy5iaW5kKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyA9IGFjdGl2aXR5SWZyYW1lVmlldztcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50Q29uZmlnXy50aGVuKChjbGllbnRDb25maWcpID0+IHtcbiAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dNYW5hZ2VyXy5vcGVuVmlldyhcbiAgICAgICAgICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyxcbiAgICAgICAgICAgIC8qIGhpZGRlbiAqLyBmYWxzZSxcbiAgICAgICAgICAgIHRoaXMuZ2V0RGlhbG9nQ29uZmlnXyhcbiAgICAgICAgICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgICAgICAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfLnNob3VsZEFsbG93U2Nyb2xsKClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgZmxvdyBpcyBjb25maWd1cmVkIGFzIGVuYWJsZWQsIG5vdCBzaG93aW5nXG4gICAqIGV2ZW4gb24gZXhwbGljaXQgc3RhcnQgd2hlbiBmbGFnIGlzIGNvbmZpZ3VyZWQgZmFsc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7IS4uL21vZGVsL2NsaWVudC1jb25maWcuQ2xpZW50Q29uZmlnfSBjbGllbnRDb25maWdcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHNob3VsZFNob3dfKGNsaWVudENvbmZpZykge1xuICAgIHJldHVybiBjbGllbnRDb25maWcudWlQcmVkaWNhdGVzPy5jYW5EaXNwbGF5QXV0b1Byb21wdCAhPT0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBkaXNwbGF5IGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIG9wZW5lZCBkaWFsb2cuIFVzZXMgdGhlXG4gICAqIHJlc3BvbnNpdmUgZGVza3RvcCBkZXNpZ24gcHJvcGVydGllcyBpZiB0aGUgdXBkYXRlZCBvZmZlciBmbG93cyBVSSAoZm9yXG4gICAqIFN3RyBCYXNpYykgaXMgZW5hYmxlZC4gUGVybWl0cyBvdmVycmlkZSB0byBhbGxvdyBzY3JvbGxpbmcuXG4gICAqIEBwYXJhbSB7IS4uL21vZGVsL2NsaWVudC1jb25maWcuQ2xpZW50Q29uZmlnfSBjbGllbnRDb25maWdcbiAgICogQHBhcmFtIHtib29sZWFufSBzaG91bGRBbGxvd1Njcm9sbFxuICAgKiBAcmV0dXJuIHshLi4vY29tcG9uZW50cy9kaWFsb2cuRGlhbG9nQ29uZmlnfVxuICAgKi9cbiAgZ2V0RGlhbG9nQ29uZmlnXyhjbGllbnRDb25maWcsIHNob3VsZEFsbG93U2Nyb2xsKSB7XG4gICAgcmV0dXJuIGNsaWVudENvbmZpZy51c2VVcGRhdGVkT2ZmZXJGbG93c1xuICAgICAgPyB7XG4gICAgICAgICAgZGVza3RvcENvbmZpZzoge2lzQ2VudGVyUG9zaXRpb25lZDogdHJ1ZSwgc3VwcG9ydHNXaWRlU2NyZWVuOiB0cnVlfSxcbiAgICAgICAgICBzaG91bGREaXNhYmxlQm9keVNjcm9sbGluZzogIXNob3VsZEFsbG93U2Nyb2xsLFxuICAgICAgICB9XG4gICAgICA6IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZ1bGwgVVJMIHRoYXQgc2hvdWxkIGJlIHVzZWQgZm9yIHRoZSBhY3Rpdml0eSBpRnJhbWUgdmlldy5cbiAgICogQHBhcmFtIHshLi4vbW9kZWwvY2xpZW50LWNvbmZpZy5DbGllbnRDb25maWd9IGNsaWVudENvbmZpZ1xuICAgKiBAcGFyYW0geyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfSBwYWdlQ29uZmlnXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldFVybF8oY2xpZW50Q29uZmlnLCBwYWdlQ29uZmlnKSB7XG4gICAgaWYgKCFjbGllbnRDb25maWcudXNlVXBkYXRlZE9mZmVyRmxvd3MpIHtcbiAgICAgIHJldHVybiBmZVVybCgnL29mZmVyc2lmcmFtZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHsncHVibGljYXRpb25JZCc6IHBhZ2VDb25maWcuZ2V0UHVibGljYXRpb25JZCgpfTtcblxuICAgIGlmICh0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfLnNob3VsZEZvcmNlTGFuZ0luSWZyYW1lcygpKSB7XG4gICAgICBwYXJhbXNbJ2hsJ10gPSB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfLmdldExhbmd1YWdlKCk7XG4gICAgfVxuXG4gICAgaWYgKGNsaWVudENvbmZpZy51aVByZWRpY2F0ZXM/LnB1cmNoYXNlVW5hdmFpbGFibGVSZWdpb24pIHtcbiAgICAgIHBhcmFtc1sncHVyY2hhc2VVbmF2YWlsYWJsZVJlZ2lvbiddID0gJ3RydWUnO1xuICAgIH1cblxuICAgIHJldHVybiBmZVVybCgnL3N1YnNjcmlwdGlvbm9mZmVyc2lmcmFtZScsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgXCJubyBzdWJzY3JpcHRpb24gZm91bmRcIiBvbiBhY3Rpdml0eSBpRnJhbWUgdmlldy5cbiAgICovXG4gIHNob3dOb0VudGl0bGVtZW50Rm91bmRUb2FzdCgpIHtcbiAgICBpZiAodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKSB7XG4gICAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18uZXhlY3V0ZShuZXcgRW50aXRsZW1lbnRzUmVzcG9uc2UoKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhlIGNsYXNzIGZvciBzdWJzY3JpYmUgb3B0aW9uIGZsb3cuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdWJzY3JpYmVPcHRpb25GbG93IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLk9mZmVyc1JlcXVlc3R8dW5kZWZpbmVkfSBvcHRpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzLCBvcHRpb25zKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLk9mZmVyc1JlcXVlc3R8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMub3B0aW9uc18gPSBvcHRpb25zO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQWN0aXZpdHlJZnJhbWVWaWV3fSAqL1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyA9IG5ldyBBY3Rpdml0eUlmcmFtZVZpZXcoXG4gICAgICBkZXBzLndpbigpLFxuICAgICAgdGhpcy5hY3Rpdml0eVBvcnRzXyxcbiAgICAgIGZlVXJsKCcvb3B0aW9uc2lmcmFtZScpLFxuICAgICAgZmVBcmdzKHtcbiAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAgICdwcm9kdWN0SWQnOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQcm9kdWN0SWQoKSxcbiAgICAgICAgJ2xpc3QnOiAob3B0aW9ucyAmJiBvcHRpb25zLmxpc3QpIHx8ICdkZWZhdWx0JyxcbiAgICAgICAgJ3NrdXMnOiAob3B0aW9ucyAmJiBvcHRpb25zLnNrdXMpIHx8IG51bGwsXG4gICAgICAgICdpc0Nsb3NhYmxlJzogdHJ1ZSxcbiAgICAgIH0pLFxuICAgICAgLyogc2hvdWxkRmFkZUJvZHkgKi8gZmFsc2VcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgb2ZmZXJzIGZsb3cgb3IgYWxyZWFkeVN1YnNjcmliZWQgZmxvdy5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICAvLyBTdGFydC9jYW5jZWwgZXZlbnRzLlxuICAgIHRoaXMuZGVwc19cbiAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgLnRyaWdnZXJGbG93U3RhcnRlZChTdWJzY3JpcHRpb25GbG93cy5TSE9XX1NVQlNDUklCRV9PUFRJT04pO1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5vbkNhbmNlbCgoKSA9PiB7XG4gICAgICB0aGlzLmRlcHNfXG4gICAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgICAudHJpZ2dlckZsb3dDYW5jZWxlZChTdWJzY3JpcHRpb25GbG93cy5TSE9XX1NVQlNDUklCRV9PUFRJT04pO1xuICAgIH0pO1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5vbihcbiAgICAgIFN1YnNjcmliZVJlc3BvbnNlLFxuICAgICAgdGhpcy5tYXliZU9wZW5PZmZlcnNGbG93Xy5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5hY2NlcHRSZXN1bHQoKS50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gcmVzdWx0LmRhdGE7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFN1YnNjcmliZVJlc3BvbnNlKCk7XG4gICAgICAgIGlmIChkYXRhWydzdWJzY3JpYmUnXSkge1xuICAgICAgICAgIHJlc3BvbnNlLnNldFN1YnNjcmliZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1heWJlT3Blbk9mZmVyc0Zsb3dfKHJlc3BvbnNlKTtcbiAgICAgIH0sXG4gICAgICAocmVhc29uKSA9PiB7XG4gICAgICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8uY29tcGxldGVWaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXy5sb2dTd2dFdmVudChcbiAgICAgIEFuYWx5dGljc0V2ZW50LklNUFJFU1NJT05fQ0xJQ0tfVE9fU0hPV19PRkZFUlNcbiAgICApO1xuICAgIHJldHVybiB0aGlzLmRpYWxvZ01hbmFnZXJfLm9wZW5WaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdWJzY3JpYmVSZXNwb25zZX0gcmVzcG9uc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG1heWJlT3Blbk9mZmVyc0Zsb3dfKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLmdldFN1YnNjcmliZSgpKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zXyB8fCB7fTtcbiAgICAgIGlmIChvcHRpb25zLmlzQ2xvc2FibGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMuaXNDbG9zYWJsZSA9IE9GRkVSU19WSUVXX0NMT1NBQkxFO1xuICAgICAgfVxuICAgICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LkFDVElPTl9WSUVXX09GRkVSUywgdHJ1ZSk7XG4gICAgICBuZXcgT2ZmZXJzRmxvdyh0aGlzLmRlcHNfLCBvcHRpb25zKS5zdGFydCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgQWJicmV2aWF0ZWQgT2ZmZXIgZmxvdy5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBBYmJydk9mZmVyRmxvdyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKiBAcGFyYW0geyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5PZmZlcnNSZXF1ZXN0PX0gb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLk9mZmVyc1JlcXVlc3R8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMub3B0aW9uc18gPSBvcHRpb25zO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSAqL1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c18gPSBkZXBzLmFjdGl2aXRpZXMoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2RpYWxvZy1tYW5hZ2VyLkRpYWxvZ01hbmFnZXJ9ICovXG4gICAgdGhpcy5kaWFsb2dNYW5hZ2VyXyA9IGRlcHMuZGlhbG9nTWFuYWdlcigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQWN0aXZpdHlJZnJhbWVWaWV3fSAqL1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyA9IG5ldyBBY3Rpdml0eUlmcmFtZVZpZXcoXG4gICAgICB0aGlzLndpbl8sXG4gICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLFxuICAgICAgZmVVcmwoJy9hYmJydm9mZmVyaWZyYW1lJyksXG4gICAgICBmZUFyZ3Moe1xuICAgICAgICAncHVibGljYXRpb25JZCc6IGRlcHMucGFnZUNvbmZpZygpLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICAgJ3Byb2R1Y3RJZCc6IGRlcHMucGFnZUNvbmZpZygpLmdldFByb2R1Y3RJZCgpLFxuICAgICAgICAnc2hvd05hdGl2ZSc6IGRlcHMuY2FsbGJhY2tzKCkuaGFzU3Vic2NyaWJlUmVxdWVzdENhbGxiYWNrKCksXG4gICAgICAgICdsaXN0JzogKG9wdGlvbnMgJiYgb3B0aW9ucy5saXN0KSB8fCAnZGVmYXVsdCcsXG4gICAgICAgICdza3VzJzogKG9wdGlvbnMgJiYgb3B0aW9ucy5za3VzKSB8fCBudWxsLFxuICAgICAgICAnaXNDbG9zYWJsZSc6IHRydWUsXG4gICAgICB9KSxcbiAgICAgIC8qIHNob3VsZEZhZGVCb2R5ICovIGZhbHNlXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FscmVhZHlTdWJzY3JpYmVkUmVzcG9uc2V9IHJlc3BvbnNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVMaW5rUmVxdWVzdF8ocmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2UuZ2V0U3Vic2NyaWJlck9yTWVtYmVyKCkpIHtcbiAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyXy5sb2dTd2dFdmVudChcbiAgICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX0FMUkVBRFlfU1VCU0NSSUJFRCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIHRoaXMuZGVwc18uY2FsbGJhY2tzKCkudHJpZ2dlckxvZ2luUmVxdWVzdCh7XG4gICAgICAgIGxpbmtSZXF1ZXN0ZWQ6ICEhcmVzcG9uc2UuZ2V0TGlua1JlcXVlc3RlZCgpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgb2ZmZXJzIGZsb3dcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICAvLyBTdGFydC9jYW5jZWwgZXZlbnRzLlxuICAgIHRoaXMuZGVwc19cbiAgICAgIC5jYWxsYmFja3MoKVxuICAgICAgLnRyaWdnZXJGbG93U3RhcnRlZChTdWJzY3JpcHRpb25GbG93cy5TSE9XX0FCQlJWX09GRkVSKTtcbiAgICB0aGlzLmFjdGl2aXR5SWZyYW1lVmlld18ub25DYW5jZWwoKCkgPT4ge1xuICAgICAgdGhpcy5kZXBzX1xuICAgICAgICAuY2FsbGJhY2tzKClcbiAgICAgICAgLnRyaWdnZXJGbG93Q2FuY2VsZWQoU3Vic2NyaXB0aW9uRmxvd3MuU0hPV19BQkJSVl9PRkZFUik7XG4gICAgfSk7XG5cbiAgICAvLyBJZiB0aGUgdXNlciBpcyBhbHJlYWR5IHN1YnNjcmliZWQsIHRyaWdnZXIgbG9naW4gZmxvd1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xy5vbihcbiAgICAgIEFscmVhZHlTdWJzY3JpYmVkUmVzcG9uc2UsXG4gICAgICB0aGlzLmhhbmRsZUxpbmtSZXF1ZXN0Xy5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIC8vIElmIHJlc3VsdCBpcyBkdWUgdG8gcmVxdWVzdGluZyBvZmZlcnMsIHJlZGlyZWN0IHRvIG9mZmVycyBmbG93XG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfLmFjY2VwdFJlc3VsdCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5kYXRhWyd2aWV3T2ZmZXJzJ10pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9uc18gfHwge307XG4gICAgICAgIGlmIChvcHRpb25zLmlzQ2xvc2FibGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgb3B0aW9ucy5pc0Nsb3NhYmxlID0gT0ZGRVJTX1ZJRVdfQ0xPU0FCTEU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KEFuYWx5dGljc0V2ZW50LkFDVElPTl9WSUVXX09GRkVSUywgdHJ1ZSk7XG4gICAgICAgIG5ldyBPZmZlcnNGbG93KHRoaXMuZGVwc18sIG9wdGlvbnMpLnN0YXJ0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuZGF0YVsnbmF0aXZlJ10pIHtcbiAgICAgICAgdGhpcy5kZXBzXy5jYWxsYmFja3MoKS50cmlnZ2VyU3Vic2NyaWJlUmVxdWVzdCgpO1xuICAgICAgICAvLyBUaGUgZmxvdyBpcyBjb21wbGV0ZS5cbiAgICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5jb21wbGV0ZVZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9DTElDS19UT19TSE9XX09GRkVSU19PUl9BTFJFQURZX1NVQlNDUklCRURcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuZGlhbG9nTWFuYWdlcl8ub3BlblZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0V4cGVyaW1lbnRGbGFnc30gZnJvbSAnLi9leHBlcmltZW50LWZsYWdzJztcbmltcG9ydCB7UGF5bWVudHNBc3luY0NsaWVudH0gZnJvbSAnLi4vLi4vdGhpcmRfcGFydHkvZ3BheS9zcmMvcGF5anNfYXN5bmMnO1xuaW1wb3J0IHtQcmVjb25uZWN0fSBmcm9tICcuLi91dGlscy9wcmVjb25uZWN0JztcbmltcG9ydCB7Ynl0ZXNUb1N0cmluZywgc3RyaW5nVG9CeXRlc30gZnJvbSAnLi4vdXRpbHMvYnl0ZXMnO1xuaW1wb3J0IHtjcmVhdGVDYW5jZWxFcnJvcn0gZnJvbSAnLi4vdXRpbHMvZXJyb3JzJztcbmltcG9ydCB7ZmVDYWNoZWR9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtnZXRTd2dNb2RlfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7aXNFeHBlcmltZW50T259IGZyb20gJy4vZXhwZXJpbWVudHMnO1xuXG5jb25zdCBSRURJUkVDVF9TVE9SQUdFX0tFWSA9ICdzdWJzY3JpYmUuZ29vZ2xlLmNvbTpyayc7XG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgZm9yY2VSZWRpcmVjdDogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAqICAgZm9yY2VEaXNhYmxlTmF0aXZlOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBQYXlPcHRpb25zRGVmO1xuXG4vKipcbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKiBAcGFja2FnZSBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHkuXG4gKi9cbmV4cG9ydCBjb25zdCBQQVlfT1JJR0lOID0ge1xuICAnUFJPRFVDVElPTic6ICdodHRwczovL3BheS5nb29nbGUuY29tJyxcbiAgJ1NBTkRCT1gnOiAnaHR0cHM6Ly9wYXkuc2FuZGJveC5nb29nbGUuY29tJyxcbn07XG5cbi8qKiBAcmV0dXJuIHtzdHJpbmd9ICovXG5mdW5jdGlvbiBwYXlVcmwoKSB7XG4gIHJldHVybiBmZUNhY2hlZChQQVlfT1JJR0lOW2dldFN3Z01vZGUoKS5wYXlFbnZdICsgJy9ncC9wL3VpL3BheScpO1xufVxuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIFBheUNsaWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gZGVwcy53aW4oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gZGVwcy5hY3Rpdml0aWVzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbighUHJvbWlzZTwhUGF5bWVudERhdGE+KX0gKi9cbiAgICB0aGlzLnJlc3BvbnNlQ2FsbGJhY2tfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1BheW1lbnREYXRhUmVxdWVzdH0gKi9cbiAgICB0aGlzLnJlcXVlc3RfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2U8IVBheW1lbnREYXRhPn0gKi9cbiAgICB0aGlzLnJlc3BvbnNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9hbmFseXRpY3Mtc2VydmljZS5BbmFseXRpY3NTZXJ2aWNlfSAqL1xuICAgIHRoaXMuYW5hbHl0aWNzXyA9IGRlcHMuYW5hbHl0aWNzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUmVkaXJlY3RWZXJpZmllckhlbHBlcn0gKi9cbiAgICB0aGlzLnJlZGlyZWN0VmVyaWZpZXJIZWxwZXJfID0gbmV3IFJlZGlyZWN0VmVyaWZpZXJIZWxwZXIodGhpcy53aW5fKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1BheW1lbnRzQXN5bmNDbGllbnR9ICovXG4gICAgdGhpcy5jbGllbnRfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcmVjb25uZWN0fSAqL1xuICAgIHRoaXMucHJlY29ubmVjdF8gPSBuZXcgUHJlY29ubmVjdCh0aGlzLndpbl8uZG9jdW1lbnQpO1xuXG4gICAgLy8gSWYgdGhlIHBhZ2UgaXMgc3RhcnRlZCBmcm9tIGEgcmVkaXJlY3QsIGltbWVkaWF0ZWx5IGluaXRpYWxpemVcbiAgICAvLyBjbGllbnQgdG8gYXZvaWQgZHJvcHBpbmcgdXNlciBzdGF0ZS5cbiAgICBpZiAoXG4gICAgICBpc0V4cGVyaW1lbnRPbih0aGlzLndpbl8sIEV4cGVyaW1lbnRGbGFncy5QQVlfQ0xJRU5UX1JFRElSRUNUKSAmJlxuICAgICAgdGhpcy5wYWdlSXNJbml0aWFsaXplZEZyb21QYXlSZWRpcmVjdF8oKVxuICAgICkge1xuICAgICAgdGhpcy5wcmVjb25uZWN0KHRoaXMucHJlY29ubmVjdF8pO1xuICAgICAgdGhpcy5pbml0aWFsaXplUGF5bWVudHNDbGllbnRfKCk7XG4gICAgfVxuXG4gICAgLy8gUHJlcGFyZSBuZXcgdmVyaWZpZXIgcGFpci5cbiAgICB0aGlzLnJlZGlyZWN0VmVyaWZpZXJIZWxwZXJfLnByZXBhcmUoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2NsaWVudC1ldmVudC1tYW5hZ2VyLkNsaWVudEV2ZW50TWFuYWdlcn0gKi9cbiAgICB0aGlzLmV2ZW50TWFuYWdlcl8gPSBkZXBzLmV2ZW50TWFuYWdlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVBheW1lbnRPcHRpb25zfSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBnb29nbGVUcmFuc2FjdGlvbklkXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IVBheW1lbnREYXRhPil9IGhhbmRsZXJcbiAgICogQHJldHVybiB7IVBheW1lbnRzQXN5bmNDbGllbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVDbGllbnRfKG9wdGlvbnMsIGdvb2dsZVRyYW5zYWN0aW9uSWQsIGhhbmRsZXIpIHtcbiAgICAvLyBBc3NpZ24gR29vZ2xlIFRyYW5zYWN0aW9uIElEIHRvIFBheW1lbnRzQXN5bmNDbGllbnQuZ29vZ2xlVHJhbnNhY3Rpb25JZF9cbiAgICAvLyBzbyBpdCBjYW4gYmUgcGFzc2VkIHRvIGdwYXlfYXN5bmMuanMgYW5kIHN0b3JlZCBpbiBwYXltZW50IGNsZWFyY3V0IGxvZy5cbiAgICBQYXltZW50c0FzeW5jQ2xpZW50Lmdvb2dsZVRyYW5zYWN0aW9uSWRfID0gZ29vZ2xlVHJhbnNhY3Rpb25JZDtcbiAgICByZXR1cm4gbmV3IFBheW1lbnRzQXN5bmNDbGllbnQoXG4gICAgICBvcHRpb25zLFxuICAgICAgaGFuZGxlcixcbiAgICAgIC8qIHVzZUlmcmFtZSAqLyBmYWxzZSxcbiAgICAgIHRoaXMuYWN0aXZpdHlQb3J0c18uZ2V0T3JpZ2luYWxXZWJBY3Rpdml0eVBvcnRzKClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4uL3V0aWxzL3ByZWNvbm5lY3QuUHJlY29ubmVjdH0gcHJlXG4gICAqL1xuICBwcmVjb25uZWN0KHByZSkge1xuICAgIHByZS5wcmVmZXRjaChwYXlVcmwoKSk7XG4gICAgcHJlLnByZWZldGNoKFxuICAgICAgJ2h0dHBzOi8vcGF5bWVudHMuZ29vZ2xlLmNvbS9wYXltZW50cy92NC9qcy9pbnRlZ3JhdG9yLmpzP3NzPW1kJ1xuICAgICk7XG4gICAgcHJlLnByZWZldGNoKCdodHRwczovL2NsaWVudHMyLmdvb2dsZS5jb20vZ3IvZ3JfZnVsbF8yLjAuNi5qcycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFBheW1lbnRzIGNsaWVudC5cbiAgICovXG4gIGluaXRpYWxpemVQYXltZW50c0NsaWVudF8oKSB7XG4gICAgdGhpcy5jbGllbnRfID0gdGhpcy5jcmVhdGVDbGllbnRfKFxuICAgICAgLyoqIEB0eXBlIHshUGF5bWVudE9wdGlvbnN9ICovXG4gICAgICAoe1xuICAgICAgICBlbnZpcm9ubWVudDogZ2V0U3dnTW9kZSgpLnBheUVudixcbiAgICAgICAgJ2knOiB7XG4gICAgICAgICAgJ3JlZGlyZWN0S2V5JzogdGhpcy5yZWRpcmVjdFZlcmlmaWVySGVscGVyXy5yZXN0b3JlS2V5KCksXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHRoaXMuYW5hbHl0aWNzXy5nZXRUcmFuc2FjdGlvbklkKCksXG4gICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlXy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3RzIGlmIHRoZSB3aW5kb3cgaXMgc3RhcnRlZCBmcm9tIGEgUGF5IHJlZGlyZWN0IGJ5XG4gICAqIGNoZWNraW5nIHdpbmRvdydzIGhhc2ggZm9yIFdlYiBBY3Rpdml0aWVzIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcGFnZUlzSW5pdGlhbGl6ZWRGcm9tUGF5UmVkaXJlY3RfKCkge1xuICAgIGNvbnN0IGhhc2ggPSB0aGlzLndpbl8ubG9jYXRpb24uaGFzaDtcbiAgICBjb25zdCBoYXNSZWRpcmVjdEVuY3J5cHRlZENhbGxiYWNrRGF0YSA9XG4gICAgICAvcmVkaXJlY3RFbmNyeXB0ZWRDYWxsYmFja0RhdGEvLnRlc3QoaGFzaCk7XG4gICAgY29uc3QgaGFzU3dnUmVxdWVzdCA9IC9zd2dSZXF1ZXN0Ly50ZXN0KGhhc2gpO1xuICAgIHJldHVybiBoYXNSZWRpcmVjdEVuY3J5cHRlZENhbGxiYWNrRGF0YSAmJiBoYXNTd2dSZXF1ZXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldFR5cGUoKSB7XG4gICAgLy8gVE9ETyhhbGluMDQpOiByZW1vdmUgb25jZSBhbGwgcmVmZXJlbmNlcyByZW1vdmVkLlxuICAgIHJldHVybiAnUEFZSlMnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudFJlcXVlc3RcbiAgICogQHBhcmFtIHshUGF5T3B0aW9uc0RlZj19IG9wdGlvbnNcbiAgICovXG4gIHN0YXJ0KHBheW1lbnRSZXF1ZXN0LCBvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlcXVlc3RfID0gcGF5bWVudFJlcXVlc3Q7XG5cbiAgICBpZiAoIXRoaXMuY2xpZW50Xykge1xuICAgICAgdGhpcy5wcmVjb25uZWN0KHRoaXMucHJlY29ubmVjdF8pO1xuICAgICAgdGhpcy5pbml0aWFsaXplUGF5bWVudHNDbGllbnRfKCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmZvcmNlUmVkaXJlY3QpIHtcbiAgICAgIHBheW1lbnRSZXF1ZXN0ID0gT2JqZWN0LmFzc2lnbihwYXltZW50UmVxdWVzdCwge1xuICAgICAgICAnZm9yY2VSZWRpcmVjdCc6IG9wdGlvbnMuZm9yY2VSZWRpcmVjdCB8fCBmYWxzZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRJbnRlcm5hbFBhcmFtKFxuICAgICAgcGF5bWVudFJlcXVlc3QsXG4gICAgICAnZGlzYWJsZU5hdGl2ZScsXG4gICAgICAvLyBUaGUgcGFnZSBjYW5ub3QgYmUgaWZyYW1lZCBhdCB0aGlzIHRpbWUuIE1heSBiZSByZWxheGVkIGxhdGVyXG4gICAgICAvLyBmb3IgQU1QIGFuZCBzaW1pbGFyIGNvbnRleHRzLlxuICAgICAgb3B0aW9ucy5mb3JjZURpc2FibGVOYXRpdmUgfHwgdGhpcy53aW5fICE9IHRoaXMudG9wXygpXG4gICAgKTtcbiAgICBsZXQgcmVzb2x2ZXIgPSBudWxsO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gKHJlc29sdmVyID0gcmVzb2x2ZSkpO1xuICAgIC8vIE5vdGljZSB0aGF0IHRoZSBjYWxsYmFjayBmb3IgdmVyaWZpZXIgbWF5IGV4ZWN1dGUgYXN5bmNocm9ub3VzbHkuXG4gICAgdGhpcy5yZWRpcmVjdFZlcmlmaWVySGVscGVyXy51c2VWZXJpZmllcigodmVyaWZpZXIpID0+IHtcbiAgICAgIGlmICh2ZXJpZmllcikge1xuICAgICAgICBzZXRJbnRlcm5hbFBhcmFtKHBheW1lbnRSZXF1ZXN0LCAncmVkaXJlY3RWZXJpZmllcicsIHZlcmlmaWVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmZvcmNlUmVkaXJlY3QpIHtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5jbGllbnRfO1xuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlcl8uZ2V0UmVhZHlQcm9taXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hbmFseXRpY3NfLmdldExvZ2dpbmdQcm9taXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjbGllbnQubG9hZFBheW1lbnREYXRhKHBheW1lbnRSZXF1ZXN0KTtcbiAgICAgICAgICAgIHJlc29sdmVyKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xpZW50Xy5sb2FkUGF5bWVudERhdGEocGF5bWVudFJlcXVlc3QpO1xuICAgICAgICByZXNvbHZlcih0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFQcm9taXNlPCFQYXltZW50RGF0YT4pfSBjYWxsYmFja1xuICAgKi9cbiAgb25SZXNwb25zZShjYWxsYmFjaykge1xuICAgIHRoaXMucmVzcG9uc2VDYWxsYmFja18gPSBjYWxsYmFjaztcbiAgICBjb25zdCByZXNwb25zZSA9IHRoaXMucmVzcG9uc2VfO1xuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMuY29udmVydFJlc3BvbnNlXyhyZXNwb25zZSwgdGhpcy5yZXF1ZXN0XykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUHJvbWlzZTwhUGF5bWVudERhdGE+fSByZXNwb25zZVByb21pc2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVJlc3BvbnNlXyhyZXNwb25zZVByb21pc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlXyA9IHJlc3BvbnNlUHJvbWlzZTtcbiAgICBpZiAodGhpcy5yZXNwb25zZUNhbGxiYWNrXykge1xuICAgICAgdGhpcy5yZXNwb25zZUNhbGxiYWNrXyhcbiAgICAgICAgdGhpcy5jb252ZXJ0UmVzcG9uc2VfKHRoaXMucmVzcG9uc2VfLCB0aGlzLnJlcXVlc3RfKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUHJvbWlzZTwhUGF5bWVudERhdGE+fSByZXNwb25zZVxuICAgKiBAcGFyYW0gez9QYXltZW50RGF0YVJlcXVlc3R9IHJlcXVlc3RcbiAgICogQHJldHVybiB7IVByb21pc2U8IVBheW1lbnREYXRhPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnZlcnRSZXNwb25zZV8ocmVzcG9uc2UsIHJlcXVlc3QpIHtcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgICAgIC50aGVuKFxuICAgICAgICAvLyBUZW1wb3JhcnkgY2xpZW50IHNpZGUgc29sdXRpb24gdG8gcmVtZW1iZXIgdGhlXG4gICAgICAgIC8vIGlucHV0IHBhcmFtcy4gVE9ETzogUmVtb3ZlIHRoaXMgb25jZSBzZXJ2ZXItc2lkZVxuICAgICAgICAvLyBpbnB1dCBwcmVzZXJ2YXRpb24gaXMgZG9uZSBhbmQgaXMgcGFydCBvZiB0aGUgcmVzcG9uc2UuXG4gICAgICAgIChyZXMpID0+IHtcbiAgICAgICAgICBpZiAocmVxdWVzdCkge1xuICAgICAgICAgICAgcmVzWydwYXltZW50UmVxdWVzdCddID0gcmVxdWVzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgKVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWFzb24gPT0gJ29iamVjdCcgJiYgcmVhc29uWydzdGF0dXNDb2RlJ10gPT0gJ0NBTkNFTEVEJykge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gY3JlYXRlQ2FuY2VsRXJyb3IodGhpcy53aW5fKTtcbiAgICAgICAgICBpZiAocmVxdWVzdCkge1xuICAgICAgICAgICAgZXJyb3JbJ3Byb2R1Y3RUeXBlJ10gPSAvKiogQHR5cGUgeyFQYXltZW50RGF0YVJlcXVlc3R9ICovIChyZXF1ZXN0KVtcbiAgICAgICAgICAgICAgJ2knXG4gICAgICAgICAgICBdWydwcm9kdWN0VHlwZSddO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvclsncHJvZHVjdFR5cGUnXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshV2luZG93fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdG9wXygpIHtcbiAgICAvLyBPbmx5IGV4aXN0cyBmb3IgdGVzdGluZyBzaW5jZSBpdCdzIG5vdCBwb3NzaWJsZSB0byBvdmVycmlkZSBgd2luZG93LnRvcGAuXG4gICAgcmV0dXJuIHRoaXMud2luXy50b3A7XG4gIH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBrZXk6IHN0cmluZyxcbiAqICAgdmVyaWZpZXI6IHN0cmluZyxcbiAqIH19XG4gKi9cbmxldCBSZWRpcmVjdFZlcmlmaWVyUGFpckRlZjtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBnZW5lcmF0ZXMga2V5L3ZlcmlmaWVyIHBhaXIgZm9yIHRoZSByZWRpcmVjdCBtb2RlLiBXaGVuIHRoZVxuICogcmVkaXJlY3QgbW9kZSBpcyB1c2VkLCB0aGUgZW5jcnlwdGVkIHBheWxvYWQgaXMgcmV0dXJuZWQgdmlhIG5pdmlnYXRpb24gVVJMLlxuICogVGhpcyBwYXlsb2FkIG5lZWQgdG8gYmUgZGVjcnlwdGVkIGFuZCB0byBhdm9pZCBzZXNzaW9uIGZpeGF0aW9uIGF0dGFja3MsIGFcbiAqIHZlcmlmaWVyIGhhcyB0byBiZSB1c2VkLiBUaGlzIHJlZGlyZWN0IHZlcmlmaWVyIGlzIG5vdCB0aGUgb25seSBzZXNzaW9uXG4gKiB2ZXJpZmllciBpbiB1c2U6IHdlIGFsc28gdXNlIEdBSUEuIEhvd2V2ZXIsIHdlIGhhdmUgdG8gZmFsbGJhY2sgdG8gdGhpc1xuICogdmVyaWZpZXIgd2hlbiBHQUlBIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQHBhY2thZ2UgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5LlxuICovXG5leHBvcnQgY2xhc3MgUmVkaXJlY3RWZXJpZmllckhlbHBlciB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICAgKi9cbiAgY29uc3RydWN0b3Iod2luKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSB3aW47XG5cbiAgICAvKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG4gICAgdGhpcy5wYWlyQ3JlYXRlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1JlZGlyZWN0VmVyaWZpZXJQYWlyRGVmfSAqL1xuICAgIHRoaXMucGFpcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZTw/UmVkaXJlY3RWZXJpZmllclBhaXJEZWY+fSAqL1xuICAgIHRoaXMucGFpclByb21pc2VfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUbyBhdm9pZCBwb3B1cCBibG9ja2VycywgdGhlIGtleS92ZXJpZmllciBwYWlyIGlzIGNyZWF0ZWQgYXMgc29vbiBhc1xuICAgKiBwb3NzaWJsZS5cbiAgICogQHJldHVybiB7P1Byb21pc2V9XG4gICAqL1xuICBwcmVwYXJlKCkge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlUGFpcl8oKCkgPT4ge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHRoZSBwcm92aWRlZCBjYWxsYmFjayB3aXRoIHRoZSBnZW5lcmF0ZWQgcmVkaXJlY3QgdmVyaWZpZXIuIFRoaXNcbiAgICogQVBJIGlzIHN5bmMvYXN5bmMsIHdoaWNoIGlzIGEgYmlnIGFudGktcGF0dGVybi4gSG93ZXZlciwgaXQncyBuZWNlc3NhcnlcbiAgICogdG8gcmVkdWNlIHRoZSByaXNrIG9mIHBvcHVwIGJsb2NrZXJzLiBJZiB0aGUgdmVyaWZpZXIgaXMgYWxyZWFkeSBhdmFpbGFibGVcbiAgICogKHNlZSBgcHJlcGFyZWAgbWV0aG9kKSwgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGltbWVkaWF0ZWx5IGFuZCB0aHVzXG4gICAqIGluIHRoZSBzYW1lIGV2ZW50IGxvb3AgYXMgdGhlIHVzZXIgYWN0aW9uLlxuICAgKlxuICAgKiBUaGUgcmV0dXJuIHZlcmlmaWVyIGNvdWxkIGJlIGBudWxsYC4gVGhpcyBjb3VsZCBtZWFuIGVpdGhlciB0aGF0IGl0c1xuICAgKiBnZW5lcmF0aW9uIGZhaWxlZCwgb3IgaWYgdGhlIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCBuZWNlc3NhcnkgQVBJcywgc3VjaFxuICAgKiBhcyBXZWIgQ3J5cHRvLiBUaGUgcmVkaXJlY3QgY2FuIHN0aWxsIHByb2NlZWQgYW5kIHRyeSB0byBmYWxsYmFjayBvbiBHQUlBXG4gICAqIGFzIGEgcmVkaXJlY3QgdmVyaWZpZXIuIFRoZSBzZXQgb2YgcGxhdGZvcm1zIHdoZXJlIEdBSUEgaXMgbm90IGF2YWlsYWJsZVxuICAgKiBhbmQgdGhlIHJlZGlyZWN0IHZlcmlmaWVyIGNhbm5vdCBiZSBjcmVhdGVkIGlzIG5lZ2xpZ2libGUuXG4gICAqXG4gICAqIFRoZSBrZXkgY29ycmVzcG9uZGluZyB0byB0aGUgcmV0dXJuZWQgdmVyaWZpZXIgaXMgc3RvcmVkIGluIHRoZSBzZXNzaW9uXG4gICAqIHN0b3JhZ2UgYW5kIGNhbiBiZSBsYXRlciByZXN0b3JlZCB1c2luZyBgcmVzdG9yZUtleWAgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD9zdHJpbmcpfSBjYWxsYmFja1xuICAgKi9cbiAgdXNlVmVyaWZpZXIoY2FsbGJhY2spIHtcbiAgICB0aGlzLmdldE9yQ3JlYXRlUGFpcl8oKHBhaXIpID0+IHtcbiAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy53aW5fLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFJFRElSRUNUX1NUT1JBR0VfS0VZLCBwYWlyLmtleSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBJZiBzdG9yYWdlIGhhcyBmYWlsZWQsIHRoZXJlJ3Mgbm8gcG9pbnQgaW4gdXNpbmcgdGhlIHZlcmlmZXIuXG4gICAgICAgICAgLy8gSG93ZXZlciwgdGhlcmUgYXJlIG90aGVyIHdheXMgdG8gcmVjb3ZlciB0aGUgcmVkaXJlY3QsIHNvIGl0J3NcbiAgICAgICAgICAvLyBub3QgbmVjZXNzYXJpbHkgYSBmYXRhbCBjb25kaXRpb24uXG4gICAgICAgICAgcGFpciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKChwYWlyICYmIHBhaXIudmVyaWZpZXIpIHx8IG51bGwpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmVzIHRoZSByZWRpcmVjdCBrZXkgZnJvbSB0aGUgc2Vzc2lvbiBzdG9yYWdlLiBUaGUga2V5IG1heSBiZSBudWxsLlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgcmVzdG9yZUtleSgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKHRoaXMud2luXy5sb2NhbFN0b3JhZ2UgJiZcbiAgICAgICAgICB0aGlzLndpbl8ubG9jYWxTdG9yYWdlLmdldEl0ZW0oUkVESVJFQ1RfU1RPUkFHRV9LRVkpKSB8fFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD9SZWRpcmVjdFZlcmlmaWVyUGFpckRlZil9IGNhbGxiYWNrXG4gICAqIEByZXR1cm4gez9Qcm9taXNlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0T3JDcmVhdGVQYWlyXyhjYWxsYmFjaykge1xuICAgIHRoaXMuY3JlYXRlUGFpcl8oKTtcbiAgICBpZiAodGhpcy5wYWlyQ3JlYXRlZF8pIHtcbiAgICAgIC8vIEFscmVhZHkgY3JlYXRlZC5cbiAgICAgIGNhbGxiYWNrKHRoaXMucGFpcl8pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wYWlyUHJvbWlzZV8pIHtcbiAgICAgIC8vIE90aGVyd2lzZSB3YWl0IGZvciBpdCB0byBiZSBjcmVhdGVkLlxuICAgICAgdGhpcy5wYWlyUHJvbWlzZV8udGhlbigocGFpcikgPT4gY2FsbGJhY2socGFpcikpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYWlyUHJvbWlzZV87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVBhaXJfKCkge1xuICAgIC8vIEVpdGhlciBhbHJlYWR5IGNyZWF0ZWQgb3IgYWxyZWFkeSBzdGFydGVkLlxuICAgIGlmICh0aGlzLnBhaXJDcmVhdGVkXyB8fCB0aGlzLnBhaXJQcm9taXNlXykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHRoYXQgdGhlIHBsYXRmb3JtIGNhbiBmdWxseSBzdXBwb3J0IHZlcmlmaWNhdGlvbi4gVGhhdCBtZWFuc1xuICAgIC8vIHRoYXQgaXQncyBleHBlY3RlZCB0byBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBBUElzOlxuICAgIC8vIGEuIExvY2FsIHN0b3JhZ2UgKGxvY2FsU3RvcmFnZSk7XG4gICAgLy8gYi4gV2ViQ3J5cHRvIChjcnlwdG8uc3VidGxlKTtcbiAgICAvLyBjLiBDcnlwdG8gcmFuZG9tIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKTtcbiAgICAvLyBkLiBTSEEyODQgKGNyeXB0by5zdWJ0bGUuZGlnZXN0KS5cbiAgICBsZXQgc3VwcG9ydHNMb2NhbFN0b3JhZ2U7XG4gICAgdHJ5IHtcbiAgICAgIHN1cHBvcnRzTG9jYWxTdG9yYWdlID0gISF0aGlzLndpbl8ubG9jYWxTdG9yYWdlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIE5vdGU6IFRoaXMgY2FuIGhhcHBlbiB3aGVuIGNvb2tpZXMgYXJlIGRpc2FibGVkLlxuICAgICAgc3VwcG9ydHNMb2NhbFN0b3JhZ2UgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgY3J5cHRvID0gdGhpcy53aW5fLmNyeXB0bztcbiAgICBpZiAoXG4gICAgICBzdXBwb3J0c0xvY2FsU3RvcmFnZSAmJlxuICAgICAgY3J5cHRvICYmXG4gICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmXG4gICAgICBjcnlwdG8uc3VidGxlICYmXG4gICAgICBjcnlwdG8uc3VidGxlLmRpZ2VzdFxuICAgICkge1xuICAgICAgdGhpcy5wYWlyUHJvbWlzZV8gPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIC8vIDEuIFVzZSBjcnlwdG8gcmFuZG9tIHRvIGNyZWF0ZSBhIDEyOC1iaXQgKDE2IGJ5dGUpIHJlZGlyZWN0IGtleS5cbiAgICAgICAgY29uc3Qga2V5Qnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoa2V5Qnl0ZXMpO1xuXG4gICAgICAgIC8vIDIuIEVuY29kZSBrZXkgYXMgYmFzZTY0LlxuICAgICAgICBjb25zdCBrZXkgPSBidG9hKGJ5dGVzVG9TdHJpbmcoa2V5Qnl0ZXMpKTtcblxuICAgICAgICAvLyAzLiBDcmVhdGUgYSBoYXNoLlxuICAgICAgICBjcnlwdG8uc3VidGxlLmRpZ2VzdCh7bmFtZTogJ1NIQS0zODQnfSwgc3RyaW5nVG9CeXRlcyhrZXkpKS50aGVuKFxuICAgICAgICAgIChidWZmZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVyID0gYnRvYShcbiAgICAgICAgICAgICAgYnl0ZXNUb1N0cmluZyhcbiAgICAgICAgICAgICAgICBuZXcgVWludDhBcnJheSgvKiogQHR5cGUgeyFBcnJheUJ1ZmZlcn0gKi8gKGJ1ZmZlcikpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNvbHZlKHtrZXksIHZlcmlmaWVyfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIC8vIElnbm9yZSBmYWlsdXJlcy4gQSBmYWlsdXJlIHRvIGNyZWF0ZSBhIHJlZGlyZWN0IHZlcmlmaWVyIGlzIG9mdGVuXG4gICAgICAgICAgLy8gcmVjb3ZlcmFibGUuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChwYWlyKSA9PiB7XG4gICAgICAgICAgdGhpcy5wYWlyQ3JlYXRlZF8gPSB0cnVlO1xuICAgICAgICAgIHRoaXMucGFpcl8gPSBwYWlyO1xuICAgICAgICAgIHJldHVybiBwYWlyO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm90IHN1cHBvcnRlZC5cbiAgICAgIHRoaXMucGFpckNyZWF0ZWRfID0gdHJ1ZTtcbiAgICAgIHRoaXMucGFpcl8gPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudFJlcXVlc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbVxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICovXG5mdW5jdGlvbiBzZXRJbnRlcm5hbFBhcmFtKHBheW1lbnRSZXF1ZXN0LCBwYXJhbSwgdmFsdWUpIHtcbiAgcGF5bWVudFJlcXVlc3RbJ2knXSA9IE9iamVjdC5hc3NpZ24ocGF5bWVudFJlcXVlc3RbJ2knXSB8fCB7fSwge1xuICAgIFtwYXJhbV06IHZhbHVlLFxuICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICogVGhlIEZsb3cgZ29lcyBsaWtlIHRoaXM6XG4gKiBhLiBTdGFydCBQYXltZW50c1xuICogYi4gQ29tcGxldGUgUGF5bWVudHNcbiAqIGMuIENyZWF0ZSBBY2NvdW50XG4gKiBkLiBBY2tub3dsZWRnZSBBY2NvdW50XG4gKlxuICogSW4gb3RoZXIgd29yZHMsIEZsb3cgPSBQYXltZW50cyArIEFjY291bnQgQ3JlYXRpb24uXG4gKi9cblxuaW1wb3J0IHtcbiAgQWNjb3VudENyZWF0aW9uUmVxdWVzdCxcbiAgRW50aXRsZW1lbnRzUmVzcG9uc2UsXG59IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge0FjdGl2aXR5SWZyYW1lVmlld30gZnJvbSAnLi4vdWkvYWN0aXZpdHktaWZyYW1lLXZpZXcnO1xuaW1wb3J0IHtBbmFseXRpY3NFdmVudCwgRXZlbnRQYXJhbXN9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7Snd0SGVscGVyfSBmcm9tICcuLi91dGlscy9qd3QnO1xuaW1wb3J0IHtcbiAgUHJvZHVjdFR5cGUsXG4gIFN1YnNjcmlwdGlvbkZsb3dzLFxuICBXaW5kb3dPcGVuTW9kZSxcbn0gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtQdXJjaGFzZURhdGEsIFN1YnNjcmliZVJlc3BvbnNlfSBmcm9tICcuLi9hcGkvc3Vic2NyaWJlLXJlc3BvbnNlJztcbmltcG9ydCB7VXNlckRhdGF9IGZyb20gJy4uL2FwaS91c2VyLWRhdGEnO1xuaW1wb3J0IHtmZUFyZ3MsIGZlVXJsfSBmcm9tICcuL3NlcnZpY2VzJztcbmltcG9ydCB7Z2V0UHJvcGVydHlGcm9tSnNvblN0cmluZywgcGFyc2VKc29ufSBmcm9tICcuLi91dGlscy9qc29uJztcbmltcG9ydCB7Z2V0U3dnTW9kZX0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge2lzQ2FuY2VsRXJyb3J9IGZyb20gJy4uL3V0aWxzL2Vycm9ycyc7XG5pbXBvcnQge3BhcnNlVXJsfSBmcm9tICcuLi91dGlscy91cmwnO1xuXG4vKipcbiAqIFN1YnNjcmliZSB3aXRoIEdvb2dsZSByZXF1ZXN0IHRvIHBhc3MgdG8gcGF5bWVudHMuXG4gKiAgQHR5cGVkZWYge3tcbiAqICAgIHNrdUlkOiBzdHJpbmcsXG4gKiAgICBvbGRTa3U6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgIHJlcGxhY2VTa3VQcm9yYXRpb25Nb2RlOiAobnVtYmVyfHVuZGVmaW5lZCksXG4gKiAgICBwYXltZW50UmVjdXJyZW5jZTogKG51bWJlcnx1bmRlZmluZWQpLFxuICogICAgc3dnVmVyc2lvbjogKHN0cmluZ3x1bmRlZmluZWQpLFxuICogICAgbWV0YWRhdGE6IChPYmplY3R8dW5kZWZpbmVkKVxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBTd2dQYXltZW50UmVxdWVzdDtcblxuLyoqXG4gKiBTdHJpbmcgdmFsdWVzIGlucHV0IGJ5IHRoZSBwdWJsaXNoZXIgYXJlIG1hcHBlZCB0byB0aGUgbnVtYmVyIHZhbHVlcy5cbiAqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgbnVtYmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IFJlcGxhY2VTa3VQcm9yYXRpb25Nb2RlTWFwcGluZyA9IHtcbiAgLy8gVGhlIHJlcGxhY2VtZW50IHRha2VzIGVmZmVjdCBpbW1lZGlhdGVseSwgYW5kIHRoZSByZW1haW5pbmcgdGltZSB3aWxsXG4gIC8vIGJlIHByb3JhdGVkIGFuZCBjcmVkaXRlZCB0byB0aGUgdXNlci4gVGhpcyBpcyB0aGUgY3VycmVudCBkZWZhdWx0XG4gIC8vIGJlaGF2aW9yLlxuICAnSU1NRURJQVRFX1dJVEhfVElNRV9QUk9SQVRJT04nOiAxLFxufTtcblxuZXhwb3J0IGNvbnN0IFJlY3VycmVuY2VNYXBwaW5nID0ge1xuICAnQVVUTyc6IDEsXG4gICdPTkVfVElNRSc6IDIsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBza3VcbiAqIEBwYXJhbSB7P3N0cmluZz19IHN1YnNjcmlwdGlvbkZsb3dcbiAqIEByZXR1cm4geyFFdmVudFBhcmFtc31cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRQYXJhbXMoc2t1LCBzdWJzY3JpcHRpb25GbG93ID0gbnVsbCkge1xuICByZXR1cm4gbmV3IEV2ZW50UGFyYW1zKFssICwgLCAsIHNrdSwgLCAsIHN1YnNjcmlwdGlvbkZsb3ddKTtcbn1cblxuLyoqXG4gKiBUaGUgZmxvdyB0byBpbml0aWF0ZSBwYXltZW50IHByb2Nlc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXlTdGFydEZsb3cge1xuICAvKipcbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uUmVxdWVzdH0gc3Vic2NyaXB0aW9uUmVxdWVzdFxuICAgKiBAcGFyYW0geyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5Qcm9kdWN0VHlwZX0gcHJvZHVjdFR5cGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlcHMsXG4gICAgc3Vic2NyaXB0aW9uUmVxdWVzdCxcbiAgICBwcm9kdWN0VHlwZSA9IFByb2R1Y3RUeXBlLlNVQlNDUklQVElPTlxuICApIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9wYXktY2xpZW50LlBheUNsaWVudH0gKi9cbiAgICB0aGlzLnBheUNsaWVudF8gPSBkZXBzLnBheUNsaWVudCgpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL21vZGVsL3BhZ2UtY29uZmlnLlBhZ2VDb25maWd9ICovXG4gICAgdGhpcy5wYWdlQ29uZmlnXyA9IGRlcHMucGFnZUNvbmZpZygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2NvbXBvbmVudHMvZGlhbG9nLW1hbmFnZXIuRGlhbG9nTWFuYWdlcn0gKi9cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfID0gZGVwcy5kaWFsb2dNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uUmVxdWVzdH0gKi9cbiAgICB0aGlzLnN1YnNjcmlwdGlvblJlcXVlc3RfID0gc3Vic2NyaXB0aW9uUmVxdWVzdDtcblxuICAgIC8qKkBwcml2YXRlIEBjb25zdCB7IVByb2R1Y3RUeXBlfSAqL1xuICAgIHRoaXMucHJvZHVjdFR5cGVfID0gcHJvZHVjdFR5cGU7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vcnVudGltZS9hbmFseXRpY3Mtc2VydmljZS5BbmFseXRpY3NTZXJ2aWNlfSAqL1xuICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZV8gPSBkZXBzLmFuYWx5dGljcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vcnVudGltZS9jbGllbnQtY29uZmlnLW1hbmFnZXIuQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gZGVwcy5jbGllbnRDb25maWdNYW5hZ2VyKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBwYXltZW50cyBmbG93LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHN0YXJ0KCkge1xuICAgIC8vIEdldCB0aGUgcGF5U3dnVmVyc2lvbiBmb3IgYnV5Zmxvdy5cbiAgICBjb25zdCBwcm9taXNlID0gdGhpcy5jbGllbnRDb25maWdNYW5hZ2VyXy5nZXRDbGllbnRDb25maWcoKTtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKChjbGllbnRDb25maWcpID0+IHtcbiAgICAgIHRoaXMuc3RhcnRfKGNsaWVudENvbmZpZy5wYXlTd2dWZXJzaW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHBheW1lbnRzIGZsb3cgZm9yIHRoZSBnaXZlbiB2ZXJzaW9uLlxuICAgKiBAcGFyYW0geyFzdHJpbmc9fSBwYXlTd2dWZXJzaW9uXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnRfKHBheVN3Z1ZlcnNpb24pIHtcbiAgICBjb25zdCAvKiogQHR5cGUge1N3Z1BheW1lbnRSZXF1ZXN0fSAqLyBzd2dQYXltZW50UmVxdWVzdCA9IHtcbiAgICAgICAgJ3NrdUlkJzogdGhpcy5zdWJzY3JpcHRpb25SZXF1ZXN0X1snc2t1SWQnXSxcbiAgICAgICAgJ3B1YmxpY2F0aW9uSWQnOiB0aGlzLnBhZ2VDb25maWdfLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgIH07XG5cbiAgICBpZiAocGF5U3dnVmVyc2lvbikge1xuICAgICAgc3dnUGF5bWVudFJlcXVlc3RbJ3N3Z1ZlcnNpb24nXSA9IHBheVN3Z1ZlcnNpb247XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uUmVxdWVzdF9bJ29sZFNrdSddKSB7XG4gICAgICBzd2dQYXltZW50UmVxdWVzdFsnb2xkU2t1J10gPSB0aGlzLnN1YnNjcmlwdGlvblJlcXVlc3RfWydvbGRTa3UnXTtcbiAgICAgIC8vIE1hcCB0aGUgcHJvcmF0aW9uIG1vZGUgdG8gdGhlIGVudW0gdmFsdWUgKGlmIHByb3JhdGlvbiBleGlzdHMpLlxuICAgICAgY29uc3QgcHJvcmF0aW9uTW9kZSA9XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uUmVxdWVzdF9bJ3JlcGxhY2VTa3VQcm9yYXRpb25Nb2RlJ107XG4gICAgICBpZiAocHJvcmF0aW9uTW9kZSkge1xuICAgICAgICBzd2dQYXltZW50UmVxdWVzdFsncmVwbGFjZVNrdVByb3JhdGlvbk1vZGUnXSA9XG4gICAgICAgICAgUmVwbGFjZVNrdVByb3JhdGlvbk1vZGVNYXBwaW5nW3Byb3JhdGlvbk1vZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dnUGF5bWVudFJlcXVlc3RbJ3JlcGxhY2VTa3VQcm9yYXRpb25Nb2RlJ10gPVxuICAgICAgICAgIFJlcGxhY2VTa3VQcm9yYXRpb25Nb2RlTWFwcGluZ1snSU1NRURJQVRFX1dJVEhfVElNRV9QUk9SQVRJT04nXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZV8uc2V0U2t1KHN3Z1BheW1lbnRSZXF1ZXN0WydvbGRTa3UnXSk7XG4gICAgfVxuXG4gICAgLy8gQXNzaWduIG9uZS10aW1lIHJlY3VycmVuY2UgZW51bSBpZiBhcHBsaWNhYmxlXG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uUmVxdWVzdF9bJ29uZVRpbWUnXSkge1xuICAgICAgc3dnUGF5bWVudFJlcXVlc3RbJ3BheW1lbnRSZWN1cnJlbmNlJ10gPSBSZWN1cnJlbmNlTWFwcGluZ1snT05FX1RJTUUnXTtcbiAgICB9XG5cbiAgICAvLyBBc3NpZ24gYWRkaXRpb25hbCBtZXRhZGF0YSBpZiBhdmFpbGFibGUuXG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9uUmVxdWVzdF9bJ21ldGFkYXRhJ10pIHtcbiAgICAgIHN3Z1BheW1lbnRSZXF1ZXN0WydtZXRhZGF0YSddID0gdGhpcy5zdWJzY3JpcHRpb25SZXF1ZXN0X1snbWV0YWRhdGEnXTtcbiAgICB9XG5cbiAgICAvLyBTdGFydC9jYW5jZWwgZXZlbnRzLlxuICAgIGNvbnN0IGZsb3cgPVxuICAgICAgdGhpcy5wcm9kdWN0VHlwZV8gPT0gUHJvZHVjdFR5cGUuVUlfQ09OVFJJQlVUSU9OXG4gICAgICAgID8gU3Vic2NyaXB0aW9uRmxvd3MuQ09OVFJJQlVURVxuICAgICAgICA6IFN1YnNjcmlwdGlvbkZsb3dzLlNVQlNDUklCRTtcblxuICAgIHRoaXMuZGVwc18uY2FsbGJhY2tzKCkudHJpZ2dlckZsb3dTdGFydGVkKGZsb3csIHRoaXMuc3Vic2NyaXB0aW9uUmVxdWVzdF8pO1xuXG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1BBWU1FTlRfRkxPV19TVEFSVEVELFxuICAgICAgdHJ1ZSxcbiAgICAgIGdldEV2ZW50UGFyYW1zKHN3Z1BheW1lbnRSZXF1ZXN0Wydza3VJZCddKVxuICAgICk7XG4gICAgUGF5Q29tcGxldGVGbG93LndhaXRpbmdGb3JQYXlDbGllbnRfID0gdHJ1ZTtcbiAgICB0aGlzLnBheUNsaWVudF8uc3RhcnQoXG4gICAgICAvKiogQHR5cGUgeyFQYXltZW50RGF0YVJlcXVlc3R9ICovXG4gICAgICAoe1xuICAgICAgICAnYXBpVmVyc2lvbic6IDEsXG4gICAgICAgICdhbGxvd2VkUGF5bWVudE1ldGhvZHMnOiBbJ0NBUkQnXSxcbiAgICAgICAgJ2Vudmlyb25tZW50JzogZ2V0U3dnTW9kZSgpLnBheUVudixcbiAgICAgICAgJ3BsYXlFbnZpcm9ubWVudCc6IGdldFN3Z01vZGUoKS5wbGF5RW52LFxuICAgICAgICAnc3dnJzogc3dnUGF5bWVudFJlcXVlc3QsXG4gICAgICAgICdpJzoge1xuICAgICAgICAgICdzdGFydFRpbWVNcyc6IERhdGUubm93KCksXG4gICAgICAgICAgJ3Byb2R1Y3RUeXBlJzogdGhpcy5wcm9kdWN0VHlwZV8sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHtcbiAgICAgICAgZm9yY2VSZWRpcmVjdDpcbiAgICAgICAgICB0aGlzLmRlcHNfLmNvbmZpZygpLndpbmRvd09wZW5Nb2RlID09IFdpbmRvd09wZW5Nb2RlLlJFRElSRUNULFxuICAgICAgICAvLyBTd0cgYmFzaWMgYW5kIFR3RyBmbG93cyBkbyBub3Qgc3VwcG9ydCBuYXRpdmUuXG4gICAgICAgIGZvcmNlRGlzYWJsZU5hdGl2ZTogcGF5U3dnVmVyc2lvbiA9PSAnMicgfHwgcGF5U3dnVmVyc2lvbiA9PSAnMycsXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgZmxvdyBmb3Igc3VjY2Vzc2Z1bCBwYXltZW50cyBjb21wbGV0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgUGF5Q29tcGxldGVGbG93IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqL1xuICBzdGF0aWMgY29uZmlndXJlUGVuZGluZyhkZXBzKSB7XG4gICAgLyoqIEBjb25zdCBAdHlwZSB7Li9jbGllbnQtZXZlbnQtbWFuYWdlci5DbGllbnRFdmVudE1hbmFnZXJ9ICovXG4gICAgY29uc3QgZXZlbnRNYW5hZ2VyID0gZGVwcy5ldmVudE1hbmFnZXIoKTtcblxuICAgIGRlcHMucGF5Q2xpZW50KCkub25SZXNwb25zZSgocGF5UHJvbWlzZSkgPT4ge1xuICAgICAgZGVwcy5lbnRpdGxlbWVudHNNYW5hZ2VyKCkuYmxvY2tOZXh0Tm90aWZpY2F0aW9uKCk7XG4gICAgICBjb25zdCBmbG93ID0gbmV3IFBheUNvbXBsZXRlRmxvdyhkZXBzKTtcbiAgICAgIGNvbnN0IHByb21pc2UgPSB2YWxpZGF0ZVBheVJlc3BvbnNlKFxuICAgICAgICBkZXBzLFxuICAgICAgICBwYXlQcm9taXNlLFxuICAgICAgICBmbG93LmNvbXBsZXRlLmJpbmQoZmxvdylcbiAgICAgICk7XG4gICAgICBkZXBzLmNhbGxiYWNrcygpLnRyaWdnZXJQYXltZW50UmVzcG9uc2UocHJvbWlzZSk7XG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKFxuICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBjb25zdCBza3UgPSBwYXJzZVNrdUZyb21QdXJjaGFzZURhdGFTYWZlKHJlc3BvbnNlLnB1cmNoYXNlRGF0YSk7XG4gICAgICAgICAgZGVwcy5hbmFseXRpY3MoKS5zZXRTa3Uoc2t1IHx8ICcnKTtcbiAgICAgICAgICBldmVudE1hbmFnZXIubG9nU3dnRXZlbnQoXG4gICAgICAgICAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fUEFZTUVOVF9DT01QTEVURSxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBnZXRFdmVudFBhcmFtcyhcbiAgICAgICAgICAgICAgc2t1IHx8ICcnLFxuICAgICAgICAgICAgICByZXNwb25zZS5wcm9kdWN0VHlwZSA9PSBQcm9kdWN0VHlwZS5VSV9DT05UUklCVVRJT05cbiAgICAgICAgICAgICAgICA/IFN1YnNjcmlwdGlvbkZsb3dzLkNPTlRSSUJVVEVcbiAgICAgICAgICAgICAgICA6IFN1YnNjcmlwdGlvbkZsb3dzLlNVQlNDUklCRVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZmxvdy5zdGFydChyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICBpZiAoaXNDYW5jZWxFcnJvcihyZWFzb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9kdWN0VHlwZSA9IC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKHJlYXNvbilbJ3Byb2R1Y3RUeXBlJ107XG4gICAgICAgICAgICBjb25zdCBmbG93ID1cbiAgICAgICAgICAgICAgcHJvZHVjdFR5cGUgPT0gUHJvZHVjdFR5cGUuVUlfQ09OVFJJQlVUSU9OXG4gICAgICAgICAgICAgICAgPyBTdWJzY3JpcHRpb25GbG93cy5DT05UUklCVVRFXG4gICAgICAgICAgICAgICAgOiBTdWJzY3JpcHRpb25GbG93cy5TVUJTQ1JJQkU7XG4gICAgICAgICAgICBkZXBzLmNhbGxiYWNrcygpLnRyaWdnZXJGbG93Q2FuY2VsZWQoZmxvdyk7XG4gICAgICAgICAgICBkZXBzXG4gICAgICAgICAgICAgIC5ldmVudE1hbmFnZXIoKVxuICAgICAgICAgICAgICAubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1VTRVJfQ0FOQ0VMRURfUEFZRkxPVywgdHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlcHNcbiAgICAgICAgICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAgICAgICAgIC5sb2dTd2dFdmVudChBbmFseXRpY3NFdmVudC5FVkVOVF9QQVlNRU5UX0ZBSUxFRCwgZmFsc2UpO1xuICAgICAgICAgICAgZGVwcy5qc2Vycm9yKCkuZXJyb3IoJ1BheSBmYWlsZWQnLCByZWFzb24pO1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICAgKi9cbiAgY29uc3RydWN0b3IoZGVwcykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gZGVwcy53aW4oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2RlcHMuRGVwc0RlZn0gKi9cbiAgICB0aGlzLmRlcHNfID0gZGVwcztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gZGVwcy5hY3Rpdml0aWVzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9kaWFsb2ctbWFuYWdlci5EaWFsb2dNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8gPSBkZXBzLmRpYWxvZ01hbmFnZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2U8IUFjdGl2aXR5SWZyYW1lVmlldz59ICovXG4gICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdQcm9taXNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Qcm9taXNlfSAqL1xuICAgIHRoaXMucmVhZHlQcm9taXNlXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vcnVudGltZS9hbmFseXRpY3Mtc2VydmljZS5BbmFseXRpY3NTZXJ2aWNlfSAqL1xuICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZV8gPSBkZXBzLmFuYWx5dGljcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL3J1bnRpbWUvY2xpZW50LWV2ZW50LW1hbmFnZXIuQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IGRlcHMuZXZlbnRNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vcnVudGltZS9jbGllbnQtY29uZmlnLW1hbmFnZXIuQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gZGVwcy5jbGllbnRDb25maWdNYW5hZ2VyKCk7XG5cbiAgICAvKiogQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5za3VfID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHBheW1lbnRzIGNvbXBsZXRpb24gZmxvdy5cbiAgICogQHBhcmFtIHt7XG4gICAqICAgcHJvZHVjdFR5cGU6IHN0cmluZyxcbiAgICogICBvbGRTa3U6ID9zdHJpbmcsXG4gICAqICAgcGF5bWVudFJlY3VycmVuY2U6ID9udW1iZXIsXG4gICAqIH19IHJlc3BvbnNlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhcnQocmVzcG9uc2UpIHtcbiAgICB0aGlzLnNrdV8gPSBwYXJzZVNrdUZyb21QdXJjaGFzZURhdGFTYWZlKHJlc3BvbnNlLnB1cmNoYXNlRGF0YSk7XG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9BQ0NPVU5UX0NIQU5HRUQsXG4gICAgICB0cnVlLFxuICAgICAgZ2V0RXZlbnRQYXJhbXModGhpcy5za3VfIHx8ICcnKVxuICAgICk7XG4gICAgdGhpcy5kZXBzXy5lbnRpdGxlbWVudHNNYW5hZ2VyKCkucmVzZXQodHJ1ZSk7XG4gICAgLy8gVE9ETyhkaWFuYWppbmcpOiBmdXR1cmUtcHJvb2YgaXNPbmVUaW1lIGZsYWdcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgJ3B1YmxpY2F0aW9uSWQnOiB0aGlzLmRlcHNfLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAncHJvZHVjdFR5cGUnOiByZXNwb25zZVsncHJvZHVjdFR5cGUnXSxcbiAgICAgICdpc1N1YnNjcmlwdGlvblVwZGF0ZSc6ICEhcmVzcG9uc2VbJ29sZFNrdSddLFxuICAgICAgJ2lzT25lVGltZSc6ICEhcmVzcG9uc2VbJ3BheW1lbnRSZWN1cnJlbmNlJ10sXG4gICAgfTtcblxuICAgIC8vIFRPRE8oZHZveXRlbmtvLCAjNDAwKTogY2xlYW51cCBvbmNlIGVudGl0bGVtZW50cyBpcyBsYXVuY2hlZCBldmVyeXdoZXJlLlxuICAgIGlmIChyZXNwb25zZS51c2VyRGF0YSAmJiByZXNwb25zZS5lbnRpdGxlbWVudHMpIHtcbiAgICAgIGFyZ3NbJ2lkVG9rZW4nXSA9IHJlc3BvbnNlLnVzZXJEYXRhLmlkVG9rZW47XG4gICAgICB0aGlzLmRlcHNfXG4gICAgICAgIC5lbnRpdGxlbWVudHNNYW5hZ2VyKClcbiAgICAgICAgLnB1c2hOZXh0RW50aXRsZW1lbnRzKHJlc3BvbnNlLmVudGl0bGVtZW50cy5yYXcpO1xuICAgICAgLy8gUGVyc2lzdCBzd2dVc2VyVG9rZW4gaW4gbG9jYWwgc3RvcmFnZVxuICAgICAgaWYgKHJlc3BvbnNlLnN3Z1VzZXJUb2tlbikge1xuICAgICAgICB0aGlzLmRlcHNfXG4gICAgICAgICAgLnN0b3JhZ2UoKVxuICAgICAgICAgIC5zZXQoQ29uc3RhbnRzLlVTRVJfVE9LRU4sIHJlc3BvbnNlLnN3Z1VzZXJUb2tlbiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3NbJ2xvZ2luSGludCddID0gcmVzcG9uc2UudXNlckRhdGEgJiYgcmVzcG9uc2UudXNlckRhdGEuZW1haWw7XG4gICAgfVxuXG4gICAgY29uc3QgLyogeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSAqLyB1cmxQYXJhbXMgPSB7fTtcbiAgICBpZiAoYXJncy5wcm9kdWN0VHlwZSA9PT0gUHJvZHVjdFR5cGUuVklSVFVBTF9HSUZUKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHVybFBhcmFtcywge1xuICAgICAgICBwcm9kdWN0VHlwZTogYXJncy5wcm9kdWN0VHlwZSxcbiAgICAgICAgcHVibGljYXRpb25JZDogYXJncy5wdWJsaWNhdGlvbklkLFxuICAgICAgICBvZmZlcklkOiB0aGlzLnNrdV8sXG4gICAgICAgIG9yaWdpbjogcGFyc2VVcmwodGhpcy53aW5fLmxvY2F0aW9uLmhyZWYpLm9yaWdpbixcbiAgICAgICAgaXNQYWlkOiB0cnVlLFxuICAgICAgICBjaGVja09yZGVyU3RhdHVzOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBpZiAocmVzcG9uc2UucmVxdWVzdE1ldGFkYXRhKSB7XG4gICAgICAgIHVybFBhcmFtcy5jYW5vbmljYWxVcmwgPSByZXNwb25zZS5yZXF1ZXN0TWV0YWRhdGEuY29udGVudElkO1xuICAgICAgICB1cmxQYXJhbXMuaXNBbm9ueW1vdXMgPSByZXNwb25zZS5yZXF1ZXN0TWV0YWRhdGEuYW5vbnltb3VzO1xuICAgICAgICBhcmdzWydjb250ZW50VGl0bGUnXSA9IHJlc3BvbnNlLnJlcXVlc3RNZXRhZGF0YS5jb250ZW50VGl0bGU7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBmZUFyZ3MgdG8gYmUgcGFzc2VkIHZpYSBhY3Rpdml0aWVzLlxuICAgICAgaWYgKHJlc3BvbnNlLnN3Z1VzZXJUb2tlbikge1xuICAgICAgICBhcmdzLnN3Z1VzZXJUb2tlbiA9IHJlc3BvbnNlLnN3Z1VzZXJUb2tlbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9yZGVySWQgPSBwYXJzZU9yZGVySWRGcm9tUHVyY2hhc2VEYXRhU2FmZShyZXNwb25zZS5wdXJjaGFzZURhdGEpO1xuICAgICAgaWYgKG9yZGVySWQpIHtcbiAgICAgICAgYXJncy5vcmRlcklkID0gb3JkZXJJZDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl8uc2hvdWxkRm9yY2VMYW5nSW5JZnJhbWVzKCkpIHtcbiAgICAgIHVybFBhcmFtcy5obCA9IHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl8uZ2V0TGFuZ3VhZ2UoKTtcbiAgICB9XG4gICAgY29uc3QgY29uZmlybUZlVXJsID0gZmVVcmwoJy9wYXljb25maXJtaWZyYW1lJywgdXJsUGFyYW1zKTtcblxuICAgIHJldHVybiAodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdQcm9taXNlXyA9IHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl9cbiAgICAgIC5nZXRDbGllbnRDb25maWcoKVxuICAgICAgLnRoZW4oKGNsaWVudENvbmZpZykgPT4ge1xuICAgICAgICBhcmdzWyd1c2VVcGRhdGVkQ29uZmlybVVpJ10gPSBjbGllbnRDb25maWcudXNlVXBkYXRlZE9mZmVyRmxvd3M7XG4gICAgICAgIGFyZ3NbJ3NraXBBY2NvdW50Q3JlYXRpb25TY3JlZW4nXSA9XG4gICAgICAgICAgY2xpZW50Q29uZmlnLnNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW47XG4gICAgICAgIHJldHVybiBuZXcgQWN0aXZpdHlJZnJhbWVWaWV3KFxuICAgICAgICAgIHRoaXMud2luXyxcbiAgICAgICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLFxuICAgICAgICAgIGNvbmZpcm1GZVVybCxcbiAgICAgICAgICBmZUFyZ3MoYXJncyksXG4gICAgICAgICAgLyogc2hvdWxkRmFkZUJvZHkgKi8gdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChhY3Rpdml0eUlmcmFtZVZpZXcpID0+IHtcbiAgICAgICAgYWN0aXZpdHlJZnJhbWVWaWV3Lm9uKFxuICAgICAgICAgIEVudGl0bGVtZW50c1Jlc3BvbnNlLFxuICAgICAgICAgIHRoaXMuaGFuZGxlRW50aXRsZW1lbnRzUmVzcG9uc2VfLmJpbmQodGhpcylcbiAgICAgICAgKTtcblxuICAgICAgICBhY3Rpdml0eUlmcmFtZVZpZXcuYWNjZXB0UmVzdWx0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgLy8gVGhlIGZsb3cgaXMgY29tcGxldGUuXG4gICAgICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5jb21wbGV0ZVZpZXcoYWN0aXZpdHlJZnJhbWVWaWV3KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZWFkeVByb21pc2VfID0gdGhpcy5kaWFsb2dNYW5hZ2VyXy5vcGVuVmlldyhhY3Rpdml0eUlmcmFtZVZpZXcpO1xuXG4gICAgICAgIHRoaXMucmVhZHlQcm9taXNlXy50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRlcHNfLmNhbGxiYWNrcygpLnRyaWdnZXJQYXlDb25maXJtT3BlbmVkKGFjdGl2aXR5SWZyYW1lVmlldyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhY3Rpdml0eUlmcmFtZVZpZXc7XG4gICAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshRW50aXRsZW1lbnRzUmVzcG9uc2V9IHJlc3BvbnNlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVFbnRpdGxlbWVudHNSZXNwb25zZV8ocmVzcG9uc2UpIHtcbiAgICBjb25zdCBqd3QgPSByZXNwb25zZS5nZXRKd3QoKTtcbiAgICBpZiAoand0KSB7XG4gICAgICB0aGlzLmRlcHNfLmVudGl0bGVtZW50c01hbmFnZXIoKS5wdXNoTmV4dEVudGl0bGVtZW50cyhqd3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXy5sb2dTd2dFdmVudChcbiAgICAgIEFuYWx5dGljc0V2ZW50LkFDVElPTl9BQ0NPVU5UX0NSRUFURUQsXG4gICAgICB0cnVlLFxuICAgICAgZ2V0RXZlbnRQYXJhbXModGhpcy5za3VfIHx8ICcnKVxuICAgICk7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xuICAgIHRoaXMuZGVwc19cbiAgICAgIC5zdG9yYWdlKClcbiAgICAgIC5zZXQoQ29uc3RhbnRzLlJFQURfVElNRSwgbm93LCAvKnVzZUxvY2FsU3RvcmFnZT0qLyBmYWxzZSk7XG4gICAgdGhpcy5kZXBzXy5lbnRpdGxlbWVudHNNYW5hZ2VyKCkudW5ibG9ja05leHROb3RpZmljYXRpb24oKTtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdQcm9taXNlXyxcbiAgICAgIHRoaXMucmVhZHlQcm9taXNlXyxcbiAgICAgIHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl8uZ2V0Q2xpZW50Q29uZmlnKCksXG4gICAgXSkudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICBjb25zdCBhY3Rpdml0eUlmcmFtZVZpZXcgPSB2YWx1ZXNbMF07XG4gICAgICBjb25zdCBjbGllbnRDb25maWcgPSB2YWx1ZXNbMl07XG4gICAgICAvLyBTa2lwIGFjY291bnQgY3JlYXRpb24gc2NyZWVuIGlmIHJlcXVlc3RlZCAobmVlZGVkIGZvciBBTVApXG4gICAgICBpZiAoIWNsaWVudENvbmZpZy5za2lwQWNjb3VudENyZWF0aW9uU2NyZWVuKSB7XG4gICAgICAgIGNvbnN0IGFjY291bnRDb21wbGV0aW9uUmVxdWVzdCA9IG5ldyBBY2NvdW50Q3JlYXRpb25SZXF1ZXN0KCk7XG4gICAgICAgIGFjY291bnRDb21wbGV0aW9uUmVxdWVzdC5zZXRDb21wbGV0ZSh0cnVlKTtcbiAgICAgICAgYWN0aXZpdHlJZnJhbWVWaWV3LmV4ZWN1dGUoYWNjb3VudENvbXBsZXRpb25SZXF1ZXN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY3Rpdml0eUlmcmFtZVZpZXdcbiAgICAgICAgLmFjY2VwdFJlc3VsdCgpXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgLy8gSWdub3JlIGVycm9ycy5cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghY2xpZW50Q29uZmlnLnNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyXy5sb2dTd2dFdmVudChcbiAgICAgICAgICAgICAgQW5hbHl0aWNzRXZlbnQuQUNUSU9OX0FDQ09VTlRfQUNLTk9XTEVER0VELFxuICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICBnZXRFdmVudFBhcmFtcyh0aGlzLnNrdV8gfHwgJycpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmRlcHNfLmVudGl0bGVtZW50c01hbmFnZXIoKS5zZXRUb2FzdFNob3duKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogQHByaXZhdGUge2Jvb2xlYW59ICovXG5QYXlDb21wbGV0ZUZsb3cud2FpdGluZ0ZvclBheUNsaWVudF8gPSBmYWxzZTtcblxuLyoqXG4gKiBAcGFyYW0geyEuL2RlcHMuRGVwc0RlZn0gZGVwc1xuICogQHBhcmFtIHshUHJvbWlzZTwhT2JqZWN0Pn0gcGF5UHJvbWlzZVxuICogQHBhcmFtIHtmdW5jdGlvbigpOiFQcm9taXNlfSBjb21wbGV0ZUhhbmRsZXJcbiAqIEByZXR1cm4geyFQcm9taXNlPCFTdWJzY3JpYmVSZXNwb25zZT59XG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUGF5UmVzcG9uc2UoZGVwcywgcGF5UHJvbWlzZSwgY29tcGxldGVIYW5kbGVyKSB7XG4gIGNvbnN0IHdhc1JlZGlyZWN0ID0gIVBheUNvbXBsZXRlRmxvdy53YWl0aW5nRm9yUGF5Q2xpZW50XztcbiAgUGF5Q29tcGxldGVGbG93LndhaXRpbmdGb3JQYXlDbGllbnRfID0gZmFsc2U7XG4gIHJldHVybiBwYXlQcm9taXNlLnRoZW4oKGRhdGEpID0+IHtcbiAgICAvLyAxKSBXZSBsb2cgYWdhaW5zdCBhIHJhbmRvbSBUWCBJRCB3aGljaCBpcyBob3cgd2UgdHJhY2sgYSBzcGVjaWZpYyB1c2VyXG4gICAgLy8gICAgYW5vbnltb3VzbHkuXG4gICAgLy8gMikgSWYgdGhlcmUgd2FzIGEgcmVkaXJlY3QgdG8gZ1BheSwgd2UgbWF5IGhhdmUgbG9zdCBvdXIgc3RvcmVkIFRYIElELlxuICAgIC8vIDMpIFBheSBzZXJ2aWNlIGlzIHN1cHBvc2VkIHRvIGdpdmUgdXMgdGhlIFRYIElEIGl0IGxvZ2dlZCBhZ2FpbnN0LlxuICAgIGxldCBldmVudFR5cGUgPSBBbmFseXRpY3NFdmVudC5VTktOT1dOO1xuICAgIGxldCBldmVudFBhcmFtcyA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnIHx8ICFkYXRhWydnb29nbGVUcmFuc2FjdGlvbklkJ10pIHtcbiAgICAgIC8vIElmIGdQYXkgZG9lc24ndCBnaXZlIHVzIGEgVFggSUQgaXQgbWVhbnMgdGhhdCBzb21ldGhpbmcgbWF5XG4gICAgICAvLyBiZSB3cm9uZy4gIElmIHdlIHByZXZpb3VzbHkgbG9nZ2VkIHRoZW4gd2UgYXJlIGF0IGxlYXN0IGNvbnRpbnVpbmcgdG9cbiAgICAgIC8vIGxvZyBhZ2FpbnN0IHRoZSBzYW1lIFRYIElELiAgSWYgd2UgZGlkbid0IHByZXZpb3VzbHkgbG9nIHRoZW4gd2UgaGF2ZVxuICAgICAgLy8gbG9zdCBhbGwgY29ubmVjdGlvbiB0byB0aGUgZXZlbnRzIHRoYXQgcHJlY2VkZWQgdGhlIHBheW1lbnQgZXZlbnQgYW5kXG4gICAgICAvLyB3ZSBhdCBsZWFzdCB3YW50IHRvIGtub3cgd2h5IHRoYXQgZGF0YSB3YXMgbG9zdC5cbiAgICAgIGV2ZW50UGFyYW1zID0gbmV3IEV2ZW50UGFyYW1zKCk7XG4gICAgICBldmVudFBhcmFtcy5zZXRIYWRMb2dnZWQoIXdhc1JlZGlyZWN0KTtcbiAgICAgIGV2ZW50VHlwZSA9IEFuYWx5dGljc0V2ZW50LkVWRU5UX0dQQVlfTk9fVFhfSUQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG9sZFR4SWQgPSBkZXBzLmFuYWx5dGljcygpLmdldFRyYW5zYWN0aW9uSWQoKTtcbiAgICAgIGNvbnN0IG5ld1R4SWQgPSBkYXRhWydnb29nbGVUcmFuc2FjdGlvbklkJ107XG5cbiAgICAgIGlmICh3YXNSZWRpcmVjdCkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBleHBlY3RlZCBjYXNlIGZvciBmdWxsIHJlZGlyZWN0cy4gIEl0IG1heSBiZSBoYXBwZW5pbmdcbiAgICAgICAgLy8gdW5leHBlY3RlZGx5IGF0IG90aGVyIHRpbWVzIHRvbyB0aG91Z2ggYW5kIHdlIHdhbnQgdG8gYmUgYXdhcmUgb2ZcbiAgICAgICAgLy8gaXQgaWYgaXQgZG9lcy5cbiAgICAgICAgZGVwcy5hbmFseXRpY3MoKS5zZXRUcmFuc2FjdGlvbklkKG5ld1R4SWQpO1xuICAgICAgICBldmVudFR5cGUgPSBBbmFseXRpY3NFdmVudC5FVkVOVF9HUEFZX0NBTk5PVF9DT05GSVJNX1RYX0lEO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG9sZFR4SWQgPT09IG5ld1R4SWQpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBleHBlY3RlZCBjYXNlIGZvciBub24tcmVkaXJlY3QgcGF5IGV2ZW50c1xuICAgICAgICAgIGV2ZW50VHlwZSA9IEFuYWx5dGljc0V2ZW50LkVWRU5UX0NPTkZJUk1fVFhfSUQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhbiB1bmV4cGVjdGVkIGNhc2U6IGdQYXkgcmVqZWN0ZWQgb3VyIFRYIElEIGFuZCBjcmVhdGVkXG4gICAgICAgICAgLy8gaXRzIG93bi4gIExvZyB0aGUgZ1BheSBUWCBJRCBidXQga2VlcCBvdXIgbG9nZ2luZyBjb25zaXN0ZW50LlxuICAgICAgICAgIGV2ZW50UGFyYW1zID0gbmV3IEV2ZW50UGFyYW1zKCk7XG4gICAgICAgICAgZXZlbnRQYXJhbXMuc2V0R3BheVRyYW5zYWN0aW9uSWQobmV3VHhJZCk7XG4gICAgICAgICAgZXZlbnRUeXBlID0gQW5hbHl0aWNzRXZlbnQuRVZFTlRfQ0hBTkdFRF9UWF9JRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZXBzLmV2ZW50TWFuYWdlcigpLmxvZ1N3Z0V2ZW50KGV2ZW50VHlwZSwgdHJ1ZSwgZXZlbnRQYXJhbXMpO1xuICAgIHJldHVybiBwYXJzZVN1YnNjcmlwdGlvblJlc3BvbnNlKGRlcHMsIGRhdGEsIGNvbXBsZXRlSGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gKiBAcGFyYW0geyp9IGRhdGFcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKTohUHJvbWlzZX0gY29tcGxldGVIYW5kbGVyXG4gKiBAcmV0dXJuIHshU3Vic2NyaWJlUmVzcG9uc2V9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN1YnNjcmlwdGlvblJlc3BvbnNlKGRlcHMsIGRhdGEsIGNvbXBsZXRlSGFuZGxlcikge1xuICBsZXQgc3dnRGF0YSA9IG51bGw7XG4gIGxldCByYXcgPSBudWxsO1xuICBsZXQgcHJvZHVjdFR5cGUgPSBQcm9kdWN0VHlwZS5TVUJTQ1JJUFRJT047XG4gIGxldCBvbGRTa3UgPSBudWxsO1xuICBsZXQgcGF5bWVudFJlY3VycmVuY2UgPSBudWxsO1xuICBsZXQgcmVxdWVzdE1ldGFkYXRhID0gbnVsbDtcblxuICBpZiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PSAnc3RyaW5nJykge1xuICAgICAgcmF3ID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXNzdW1lIGl0J3MgYSBqc29uIG9iamVjdCBpbiB0aGUgZm9ybWF0OlxuICAgICAgLy8gYHtpbnRlZ3JhdG9yQ2xpZW50Q2FsbGJhY2tEYXRhOiBcIi4uLlwifWAgb3IgYHtzd2dDYWxsYmFja0RhdGE6IFwiLi4uXCJ9YC5cbiAgICAgIGNvbnN0IGpzb24gPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChkYXRhKTtcbiAgICAgIGlmICgnc3dnQ2FsbGJhY2tEYXRhJyBpbiBqc29uKSB7XG4gICAgICAgIHN3Z0RhdGEgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChqc29uWydzd2dDYWxsYmFja0RhdGEnXSk7XG4gICAgICB9IGVsc2UgaWYgKCdpbnRlZ3JhdG9yQ2xpZW50Q2FsbGJhY2tEYXRhJyBpbiBqc29uKSB7XG4gICAgICAgIHJhdyA9IGpzb25bJ2ludGVncmF0b3JDbGllbnRDYWxsYmFja0RhdGEnXTtcbiAgICAgIH1cbiAgICAgIGlmICgncGF5bWVudFJlcXVlc3QnIGluIGRhdGEpIHtcbiAgICAgICAgY29uc3Qgc3dnT2JqID0gZGF0YVsncGF5bWVudFJlcXVlc3QnXVsnc3dnJ10gfHwge307XG4gICAgICAgIG9sZFNrdSA9IHN3Z09ialsnb2xkU2t1J107XG4gICAgICAgIHBheW1lbnRSZWN1cnJlbmNlID0gc3dnT2JqWydwYXltZW50UmVjdXJyZW5jZSddO1xuICAgICAgICByZXF1ZXN0TWV0YWRhdGEgPSBzd2dPYmpbJ21ldGFkYXRhJ107XG4gICAgICAgIHByb2R1Y3RUeXBlID1cbiAgICAgICAgICAoZGF0YVsncGF5bWVudFJlcXVlc3QnXVsnaSddIHx8IHt9KVsncHJvZHVjdFR5cGUnXSB8fFxuICAgICAgICAgIFByb2R1Y3RUeXBlLlNVQlNDUklQVElPTjtcbiAgICAgIH1cbiAgICAgIC8vIFNldCBwcm9kdWN0VHlwZSBpZiBwYXltZW50UmVxdWVzdCBpcyBub3QgcHJlc2VudCwgd2hpY2ggaGFwcGVuc1xuICAgICAgLy8gaWYgdGhlIHBheSBmbG93IHdhcyBvcGVuZWQgaW4gcmVkaXJlY3QgbW9kZS5cbiAgICAgIGVsc2UgaWYgKCdwcm9kdWN0VHlwZScgaW4gZGF0YSkge1xuICAgICAgICBwcm9kdWN0VHlwZSA9IGRhdGFbJ3Byb2R1Y3RUeXBlJ107XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyYXcgJiYgIXN3Z0RhdGEpIHtcbiAgICByYXcgPSBhdG9iKHJhdyk7XG4gICAgaWYgKHJhdykge1xuICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VKc29uKHJhdyk7XG4gICAgICBzd2dEYXRhID0gcGFyc2VkWydzd2dDYWxsYmFja0RhdGEnXTtcbiAgICB9XG4gIH1cbiAgaWYgKCFzd2dEYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmV4cGVjdGVkIHBheW1lbnQgcmVzcG9uc2UnKTtcbiAgfVxuICByYXcgPSBKU09OLnN0cmluZ2lmeSgvKiogQHR5cGUgeyFKc29uT2JqZWN0fSAqLyAoc3dnRGF0YSkpO1xuICByZXR1cm4gbmV3IFN1YnNjcmliZVJlc3BvbnNlKFxuICAgIHJhdyxcbiAgICBwYXJzZVB1cmNoYXNlRGF0YShzd2dEYXRhKSxcbiAgICBwYXJzZVVzZXJEYXRhKHN3Z0RhdGEpLFxuICAgIHBhcnNlRW50aXRsZW1lbnRzKGRlcHMsIHN3Z0RhdGEpLFxuICAgIHByb2R1Y3RUeXBlLFxuICAgIGNvbXBsZXRlSGFuZGxlcixcbiAgICBvbGRTa3UsXG4gICAgc3dnRGF0YVsnc3dnVXNlclRva2VuJ10sXG4gICAgcGF5bWVudFJlY3VycmVuY2UsXG4gICAgcmVxdWVzdE1ldGFkYXRhXG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0fSBzd2dEYXRhXG4gKiBAcmV0dXJuIHshUHVyY2hhc2VEYXRhfVxuICovXG5mdW5jdGlvbiBwYXJzZVB1cmNoYXNlRGF0YShzd2dEYXRhKSB7XG4gIGNvbnN0IHJhdyA9IHN3Z0RhdGFbJ3B1cmNoYXNlRGF0YSddO1xuICBjb25zdCBzaWduYXR1cmUgPSBzd2dEYXRhWydwdXJjaGFzZURhdGFTaWduYXR1cmUnXTtcbiAgcmV0dXJuIG5ldyBQdXJjaGFzZURhdGEocmF3LCBzaWduYXR1cmUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IU9iamVjdH0gc3dnRGF0YVxuICogQHJldHVybiB7P1VzZXJEYXRhfVxuICogQHBhY2thZ2UgVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXNlckRhdGEoc3dnRGF0YSkge1xuICBjb25zdCBpZFRva2VuID0gc3dnRGF0YVsnaWRUb2tlbiddO1xuICBpZiAoIWlkVG9rZW4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBqd3QgPSAvKiogQHR5cGUgeyFPYmplY3R9ICovIChuZXcgSnd0SGVscGVyKCkuZGVjb2RlKGlkVG9rZW4pKTtcbiAgcmV0dXJuIG5ldyBVc2VyRGF0YShpZFRva2VuLCBqd3QpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gKiBAcGFyYW0geyFPYmplY3R9IHN3Z0RhdGFcbiAqIEByZXR1cm4gez8uLi9hcGkvZW50aXRsZW1lbnRzLkVudGl0bGVtZW50c31cbiAqIEBwYWNrYWdlIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudGl0bGVtZW50cyhkZXBzLCBzd2dEYXRhKSB7XG4gIGlmIChzd2dEYXRhWydzaWduZWRFbnRpdGxlbWVudHMnXSkge1xuICAgIHJldHVybiBkZXBzLmVudGl0bGVtZW50c01hbmFnZXIoKS5wYXJzZUVudGl0bGVtZW50cyhzd2dEYXRhKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFQdXJjaGFzZURhdGF9IHB1cmNoYXNlRGF0YVxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcGFyc2VTa3VGcm9tUHVyY2hhc2VEYXRhU2FmZShwdXJjaGFzZURhdGEpIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7P3N0cmluZ30gKi8gKFxuICAgIGdldFByb3BlcnR5RnJvbUpzb25TdHJpbmcocHVyY2hhc2VEYXRhLnJhdywgJ3Byb2R1Y3RJZCcpIHx8IG51bGxcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFQdXJjaGFzZURhdGF9IHB1cmNoYXNlRGF0YVxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcGFyc2VPcmRlcklkRnJvbVB1cmNoYXNlRGF0YVNhZmUocHVyY2hhc2VEYXRhKSB7XG4gIHJldHVybiAvKiogQHR5cGUgez9zdHJpbmd9ICovIChcbiAgICBnZXRQcm9wZXJ0eUZyb21Kc29uU3RyaW5nKHB1cmNoYXNlRGF0YS5yYXcsICdvcmRlcklkJykgfHwgbnVsbFxuICApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHtcbiAgQW5hbHl0aWNzRXZlbnQsXG4gIEV2ZW50T3JpZ2luYXRvcixcbiAgRXZlbnRQYXJhbXMsXG59IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge2FkZFF1ZXJ5UGFyYW19IGZyb20gJy4uL3V0aWxzL3VybCc7XG5pbXBvcnQge2Fkc1VybH0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5pbXBvcnQge2FuYWx5dGljc0V2ZW50VG9QdWJsaXNoZXJFdmVudH0gZnJvbSAnLi9ldmVudC10eXBlLW1hcHBpbmcnO1xuaW1wb3J0IHtpc0Jvb2xlYW4sIGlzT2JqZWN0fSBmcm9tICcuLi91dGlscy90eXBlcyc7XG5cbi8qKlxuICogSW1wbGVtZW50cyBpbnRlcmZhY2UgdG8gUHJvcGVuc2l0eSBzZXJ2ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlbnNpdHlTZXJ2ZXIge1xuICAvKipcbiAgICogUGFnZSBjb25maWd1cmF0aW9uIGlzIGtub3duIHdoZW4gUHJvcGVuc2l0eSBBUElcbiAgICogaXMgYXZhaWxhYmxlLCBwdWJsaWNhdGlvbiBJRCBpcyB0aGVyZWZvcmUgdXNlZFxuICAgKiBpbiBjb25zdHJ1Y3RvciBmb3IgdGhlIHNlcnZlciBpbnRlcmZhY2UuXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IS4vZmV0Y2hlci5GZXRjaGVyfSBmZXRjaGVyXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIGRlcHMsIGZldGNoZXIpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9kZXBzLkRlcHNEZWZ9ICovXG4gICAgdGhpcy5kZXBzXyA9IGRlcHM7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMucHVibGljYXRpb25JZF8gPSB0aGlzLmRlcHNfLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCk7XG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuY2xpZW50SWRfID0gbnVsbDtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi9mZXRjaGVyLkZldGNoZXJ9ICovXG4gICAgdGhpcy5mZXRjaGVyXyA9IGZldGNoZXI7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7bnVtYmVyfSAqL1xuICAgIHRoaXMudmVyc2lvbl8gPSAxO1xuXG4gICAgdGhpcy5kZXBzX1xuICAgICAgLmV2ZW50TWFuYWdlcigpXG4gICAgICAucmVnaXN0ZXJFdmVudExpc3RlbmVyKHRoaXMuaGFuZGxlQ2xpZW50RXZlbnRfLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldERvY3VtZW50Q29va2llXygpIHtcbiAgICByZXR1cm4gdGhpcy53aW5fLmRvY3VtZW50LmNvb2tpZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjbGllbnQgSUQgdG8gYmUgdXNlZC5cbiAgICogQHJldHVybiB7P3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldENsaWVudElkXygpIHtcbiAgICBpZiAoIXRoaXMuY2xpZW50SWRfKSB7XG4gICAgICAvLyBNYXRjaCAnX19nYWRzJyAobmFtZSBvZiB0aGUgY29va2llKSBkcm9wcGVkIGJ5IEFkcyBUYWcuXG4gICAgICBjb25zdCBnYWRzbWF0Y2ggPSB0aGlzLmdldERvY3VtZW50Q29va2llXygpLm1hdGNoKFxuICAgICAgICAnKF58OylcXFxccypfX2dhZHNcXFxccyo9XFxcXHMqKFteO10rKSdcbiAgICAgICk7XG4gICAgICAvLyBTaW5jZSB0aGUgY29va2llIHdpbGwgYmUgY29uc3VtZWQgdXNpbmcgZGVjb2RlVVJJQ29tcG9uZW50KCksXG4gICAgICAvLyB1c2UgZW5jb2RlVVJJQ29tcG9uZW50KCkgaGVyZSB0byBtYXRjaC5cbiAgICAgIHRoaXMuY2xpZW50SWRfID0gZ2Fkc21hdGNoICYmIGVuY29kZVVSSUNvbXBvbmVudChnYWRzbWF0Y2gucG9wKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbGllbnRJZF87XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBwcm9wZW5zaXR5VXJsXyh1cmwpIHtcbiAgICB1cmwgPSBhZGRRdWVyeVBhcmFtKHVybCwgJ3VfdHonLCAnMjQwJyk7XG4gICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICd2JywgU3RyaW5nKHRoaXMudmVyc2lvbl8pKTtcbiAgICBjb25zdCBjbGllbnRJZCA9IHRoaXMuZ2V0Q2xpZW50SWRfKCk7XG4gICAgaWYgKGNsaWVudElkKSB7XG4gICAgICB1cmwgPSBhZGRRdWVyeVBhcmFtKHVybCwgJ2Nvb2tpZScsIGNsaWVudElkKTtcbiAgICB9XG4gICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICdjZG0nLCB0aGlzLndpbl8ubG9jYXRpb24uaG9zdG5hbWUpO1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gcHJvZHVjdHNPclNrdXNcbiAgICovXG4gIHNlbmRTdWJzY3JpcHRpb25TdGF0ZShzdGF0ZSwgcHJvZHVjdHNPclNrdXMpIHtcbiAgICBjb25zdCBpbml0ID0gLyoqIEB0eXBlIHshLi4vdXRpbHMveGhyLkZldGNoSW5pdERlZn0gKi8gKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIH0pO1xuICAgIGxldCB1cmwgPSBhZHNVcmwoJy9zdWJvcHQvZGF0YScpO1xuICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAnc3RhdGVzJywgdGhpcy5wdWJsaWNhdGlvbklkXyArICc6JyArIHN0YXRlKTtcbiAgICBpZiAocHJvZHVjdHNPclNrdXMpIHtcbiAgICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAnZXh0cmFpbmZvJywgcHJvZHVjdHNPclNrdXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaGVyXy5mZXRjaCh0aGlzLnByb3BlbnNpdHlVcmxfKHVybCksIGluaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNvbnRleHRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNlbmRFdmVudF8oZXZlbnQsIGNvbnRleHQpIHtcbiAgICBjb25zdCBpbml0ID0gLyoqIEB0eXBlIHshLi4vdXRpbHMveGhyLkZldGNoSW5pdERlZn0gKi8gKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIH0pO1xuICAgIGxldCB1cmwgPSBhZHNVcmwoJy9zdWJvcHQvZGF0YScpO1xuICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAnZXZlbnRzJywgdGhpcy5wdWJsaWNhdGlvbklkXyArICc6JyArIGV2ZW50KTtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICdleHRyYWluZm8nLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hlcl8uZmV0Y2godGhpcy5wcm9wZW5zaXR5VXJsXyh1cmwpLCBpbml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0geyEuLi9hcGkvY2xpZW50LWV2ZW50LW1hbmFnZXItYXBpLkNsaWVudEV2ZW50fSBldmVudFxuICAgKi9cbiAgaGFuZGxlQ2xpZW50RXZlbnRfKGV2ZW50KSB7XG4gICAgLy8gUHJvcGVuc2l0eSBkb2VzIG5vdCBuZWVkIHRoaXMgZGF0YSBhbmQgZG9lcyBub3QgaGF2ZSB0aGUgcmlnaHQgdG9cbiAgICAvLyBpdCBhdCB0aGlzIHRpbWUuICBXZSBjYW4gY29uc2lkZXIgdGhpcyBpZiBuZWNlc3NhcnkgaW4gdGhlIGZ1dHVyZS5cbiAgICBpZiAoZXZlbnQuZXZlbnRPcmlnaW5hdG9yID09PSBFdmVudE9yaWdpbmF0b3IuU0hPV0NBU0VfQ0xJRU5UKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRG9lcyBhIGxpdmUgY2hlY2sgb2YgdGhlIGNvbmZpZyBiZWNhdXNlIHdlIGRvbid0IGtub3cgd2hlbiBwdWJsaXNoZXJcbiAgICAgKiBjYWxsZWQgdG8gZW5hYmxlIChpdCBtYXkgYmUgYWZ0ZXIgYSBjb25zZW50IGRpYWxvZykuXG4gICAgICovXG4gICAgaWYgKFxuICAgICAgIXRoaXMuZGVwc18uY29uZmlnKCkuZW5hYmxlUHJvcGVuc2l0eSAmJlxuICAgICAgZXZlbnQuZXZlbnRPcmlnaW5hdG9yICE9PSBFdmVudE9yaWdpbmF0b3IuUFJPUEVOU0lUWV9DTElFTlRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuZXZlbnRUeXBlID09PSBBbmFseXRpY3NFdmVudC5FVkVOVF9TVUJTQ1JJUFRJT05fU1RBVEUpIHtcbiAgICAgIHRoaXMuc2VuZFN1YnNjcmlwdGlvblN0YXRlKFxuICAgICAgICBldmVudC5hZGRpdGlvbmFsUGFyYW1ldGVyc1snc3RhdGUnXSxcbiAgICAgICAgZXZlbnQuYWRkaXRpb25hbFBhcmFtZXRlcnNbJ3Byb2R1Y3RzT3JTa3VzJ11cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByb3BFdmVudCA9IGFuYWx5dGljc0V2ZW50VG9QdWJsaXNoZXJFdmVudChldmVudC5ldmVudFR5cGUpO1xuICAgIGlmIChwcm9wRXZlbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgYWRkaXRpb25hbFBhcmFtZXRlcnMgPSBldmVudC5hZGRpdGlvbmFsUGFyYW1ldGVycztcbiAgICAvLyBUaGUgRXZlbnRQYXJhbXMgb2JqZWN0IGlzIHByaXZhdGUgdG8gU3dHIGFuYWx5dGljcy4gIERvIG5vdCBzZW5kLlxuICAgIGlmIChhZGRpdGlvbmFsUGFyYW1ldGVycyBpbnN0YW5jZW9mIEV2ZW50UGFyYW1zKSB7XG4gICAgICBhZGRpdGlvbmFsUGFyYW1ldGVycyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihldmVudC5pc0Zyb21Vc2VyQWN0aW9uKSkge1xuICAgICAgaWYgKCFpc09iamVjdChhZGRpdGlvbmFsUGFyYW1ldGVycykpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGFkZGl0aW9uYWxQYXJhbWV0ZXJzWydpc19hY3RpdmUnXSA9IGV2ZW50LmlzRnJvbVVzZXJBY3Rpb247XG4gICAgfVxuICAgIHRoaXMuc2VuZEV2ZW50XyhcbiAgICAgIHByb3BFdmVudCxcbiAgICAgIEpTT04uc3RyaW5naWZ5KC8qKiBAdHlwZSB7P0pzb25PYmplY3R9ICovIChhZGRpdGlvbmFsUGFyYW1ldGVycykpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0pzb25PYmplY3R9IHJlc3BvbnNlXG4gICAqIEByZXR1cm4geyEuLi9hcGkvcHJvcGVuc2l0eS1hcGkuUHJvcGVuc2l0eVNjb3JlfVxuICAgKi9cbiAgcGFyc2VQcm9wZW5zaXR5UmVzcG9uc2VfKHJlc3BvbnNlKSB7XG4gICAgbGV0IGRlZmF1bHRTY29yZSA9XG4gICAgICAvKiogQHR5cGUgeyEuLi9hcGkvcHJvcGVuc2l0eS1hcGkuUHJvcGVuc2l0eVNjb3JlfSAqLyAoe30pO1xuICAgIGlmICghcmVzcG9uc2VbJ2hlYWRlciddKSB7XG4gICAgICBkZWZhdWx0U2NvcmUgPSAvKiogQHR5cGUgeyEuLi9hcGkvcHJvcGVuc2l0eS1hcGkuUHJvcGVuc2l0eVNjb3JlfSAqLyAoe1xuICAgICAgICBoZWFkZXI6IHtvazogZmFsc2V9LFxuICAgICAgICBib2R5OiB7ZXJyb3I6ICdObyB2YWxpZCByZXNwb25zZSd9LFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmYXVsdFNjb3JlO1xuICAgIH1cbiAgICBjb25zdCBzdGF0dXMgPSByZXNwb25zZVsnaGVhZGVyJ107XG4gICAgbGV0IHNjb3JlRGV0YWlscyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoc3RhdHVzWydvayddKSB7XG4gICAgICBjb25zdCBzY29yZXMgPSByZXNwb25zZVsnc2NvcmVzJ107XG4gICAgICBzY29yZURldGFpbHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NvcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHNjb3Jlc1tpXTtcbiAgICAgICAgY29uc3Qgc2NvcmVTdGF0dXMgPSAhIXJlc3VsdFsnc2NvcmUnXTtcbiAgICAgICAgbGV0IHNjb3JlRGV0YWlsO1xuICAgICAgICBpZiAoc2NvcmVTdGF0dXMpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IC8qKiBAdHlwZSB7IS4uL2FwaS9wcm9wZW5zaXR5LWFwaS5TY29yZX0gKi8gKHtcbiAgICAgICAgICAgIHZhbHVlOiByZXN1bHRbJ3Njb3JlJ10sXG4gICAgICAgICAgICBidWNrZXRlZDogcmVzdWx0WydzY29yZV90eXBlJ10gPT0gMixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY29yZURldGFpbCA9IC8qKiBAdHlwZSB7IS4uL2FwaS9wcm9wZW5zaXR5LWFwaS5Cb2R5fSAqLyAoe1xuICAgICAgICAgICAgcHJvZHVjdDogcmVzdWx0Wydwcm9kdWN0J10sXG4gICAgICAgICAgICBzY29yZTogdmFsdWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NvcmVEZXRhaWwgPSAvKiogQHR5cGUgeyEuLi9hcGkvcHJvcGVuc2l0eS1hcGkuQm9keX0gKi8gKHtcbiAgICAgICAgICAgIHByb2R1Y3Q6IHJlc3VsdFsncHJvZHVjdCddLFxuICAgICAgICAgICAgZXJyb3I6IHJlc3VsdFsnZXJyb3JfbWVzc2FnZSddLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNjb3JlRGV0YWlscy5wdXNoKHNjb3JlRGV0YWlsKTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29yZURldGFpbHMpIHtcbiAgICAgICAgZGVmYXVsdFNjb3JlID0gLyoqIEB0eXBlIHshLi4vYXBpL3Byb3BlbnNpdHktYXBpLlByb3BlbnNpdHlTY29yZX0gKi8gKHtcbiAgICAgICAgICBoZWFkZXI6IHtvazogdHJ1ZX0sXG4gICAgICAgICAgYm9keToge3Njb3Jlczogc2NvcmVEZXRhaWxzfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmYXVsdFNjb3JlO1xuICAgIH1cbiAgICBkZWZhdWx0U2NvcmUgPSAvKiogQHR5cGUgeyEuLi9hcGkvcHJvcGVuc2l0eS1hcGkuUHJvcGVuc2l0eVNjb3JlfSAqLyAoe1xuICAgICAgaGVhZGVyOiB7b2s6IGZhbHNlfSxcbiAgICAgIGJvZHk6IHtlcnJvcjogcmVzcG9uc2VbJ2Vycm9yJ119LFxuICAgIH0pO1xuICAgIHJldHVybiBkZWZhdWx0U2NvcmU7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWZlcnJlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZTwuLi9hcGkvcHJvcGVuc2l0eS1hcGkuUHJvcGVuc2l0eVNjb3JlPn1cbiAgICovXG4gIGdldFByb3BlbnNpdHkocmVmZXJyZXIsIHR5cGUpIHtcbiAgICBjb25zdCBpbml0ID0gLyoqIEB0eXBlIHshLi4vdXRpbHMveGhyLkZldGNoSW5pdERlZn0gKi8gKHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgIH0pO1xuICAgIGNvbnN0IHVybCA9XG4gICAgICBhZHNVcmwoJy9zdWJvcHQvcHRzP3Byb2R1Y3RzPScpICtcbiAgICAgIHRoaXMucHVibGljYXRpb25JZF8gK1xuICAgICAgJyZ0eXBlPScgK1xuICAgICAgdHlwZSArXG4gICAgICAnJnJlZj0nICtcbiAgICAgIHJlZmVycmVyO1xuICAgIHJldHVybiB0aGlzLmZldGNoZXJfXG4gICAgICAuZmV0Y2godGhpcy5wcm9wZW5zaXR5VXJsXyh1cmwpLCBpbml0KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lmpzb24oKSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVByb3BlbnNpdHlSZXNwb25zZV8ocmVzcG9uc2UpO1xuICAgICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCAqIGFzIFByb3BlbnNpdHlBcGkgZnJvbSAnLi4vYXBpL3Byb3BlbnNpdHktYXBpJztcbmltcG9ydCB7RXZlbnQsIFN1YnNjcmlwdGlvblN0YXRlfSBmcm9tICcuLi9hcGkvbG9nZ2VyLWFwaSc7XG5pbXBvcnQge0V2ZW50T3JpZ2luYXRvcn0gZnJvbSAnLi4vcHJvdG8vYXBpX21lc3NhZ2VzJztcbmltcG9ydCB7UHJvcGVuc2l0eVNlcnZlcn0gZnJvbSAnLi9wcm9wZW5zaXR5LXNlcnZlcic7XG5pbXBvcnQge2lzQm9vbGVhbn0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHtpc0VudW1WYWx1ZSwgaXNPYmplY3R9IGZyb20gJy4uL3V0aWxzL3R5cGVzJztcbmltcG9ydCB7cHVibGlzaGVyRXZlbnRUb0FuYWx5dGljc0V2ZW50fSBmcm9tICcuL2V2ZW50LXR5cGUtbWFwcGluZyc7XG5cbi8qKlxuICogQGltcGxlbWVudHMge1Byb3BlbnNpdHlBcGkuUHJvcGVuc2l0eUFwaX1cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3BlbnNpdHkge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICogQHBhcmFtIHshLi9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHshLi9mZXRjaGVyLkZldGNoZXJ9IGZldGNoZXJcbiAgICpcbiAgICogSU1QT1JUQU5UOiBkZXBzIG1heSBub3QgYmUgZnVsbCBpbml0aWFsaXplZCBjb25maWcgYW5kIHBhZ2VDb25maWcgYXJlXG4gICAqIGF2YWlsYWJsZSBpbW1lZGlhdGVseSwgb3RoZXIgZnVuY3Rpb24gc2hvdWxkIGJlIGdhdGVkIG9uIGEgcmVhZHkgcHJvbWlzZS5cbiAgICogI1RPRE8oanBldHRpdHQpIHN3aXRjaCByZWZhY3RvciB0byB0YWtlIG91dCB0aGUgd2luIGFuZCB1c2UgZGVwcyB0byBnZXQgd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4sIGRlcHMsIGZldGNoZXIpIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcbiAgICAvKiogQHByaXZhdGUge1Byb3BlbnNpdHlTZXJ2ZXJ9ICovXG4gICAgdGhpcy5wcm9wZW5zaXR5U2VydmVyXyA9IG5ldyBQcm9wZW5zaXR5U2VydmVyKHdpbiwgZGVwcywgZmV0Y2hlcik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vYXBpL2NsaWVudC1ldmVudC1tYW5hZ2VyLWFwaS5DbGllbnRFdmVudE1hbmFnZXJBcGl9ICovXG4gICAgdGhpcy5ldmVudE1hbmFnZXJfID0gZGVwcy5ldmVudE1hbmFnZXIoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2VuZFN1YnNjcmlwdGlvblN0YXRlKHN0YXRlLCBqc29uUHJvZHVjdHMpIHtcbiAgICBpZiAoIU9iamVjdC52YWx1ZXMoU3Vic2NyaXB0aW9uU3RhdGUpLmluY2x1ZGVzKHN0YXRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN1YnNjcmlwdGlvbiBzdGF0ZSBwcm92aWRlZCcpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAoU3Vic2NyaXB0aW9uU3RhdGUuU1VCU0NSSUJFUiA9PSBzdGF0ZSB8fFxuICAgICAgICBTdWJzY3JpcHRpb25TdGF0ZS5QQVNUX1NVQlNDUklCRVIgPT0gc3RhdGUpICYmXG4gICAgICAhanNvblByb2R1Y3RzXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdFbnRpdGxlbWVudHMgbXVzdCBiZSBwcm92aWRlZCBmb3IgdXNlcnMgd2l0aCcgK1xuICAgICAgICAgICcgYWN0aXZlIG9yIGV4cGlyZWQgc3Vic2NyaXB0aW9ucydcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChqc29uUHJvZHVjdHMgJiYgIWlzT2JqZWN0KGpzb25Qcm9kdWN0cykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRW50aXRsZW1lbnRzIG11c3QgYmUgYW4gT2JqZWN0Jyk7XG4gICAgfVxuICAgIGxldCBwcm9kdWN0c09yU2t1cyA9IG51bGw7XG4gICAgaWYgKGpzb25Qcm9kdWN0cykge1xuICAgICAgcHJvZHVjdHNPclNrdXMgPSBKU09OLnN0cmluZ2lmeShqc29uUHJvZHVjdHMpO1xuICAgIH1cbiAgICB0aGlzLnByb3BlbnNpdHlTZXJ2ZXJfLnNlbmRTdWJzY3JpcHRpb25TdGF0ZShzdGF0ZSwgcHJvZHVjdHNPclNrdXMpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcm9wZW5zaXR5KHR5cGUpIHtcbiAgICBpZiAodHlwZSAmJiAhT2JqZWN0LnZhbHVlcyhQcm9wZW5zaXR5QXBpLlByb3BlbnNpdHlUeXBlKS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByb3BlbnNpdHkgdHlwZSByZXF1ZXN0ZWQnKTtcbiAgICB9XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICB0eXBlID0gUHJvcGVuc2l0eUFwaS5Qcm9wZW5zaXR5VHlwZS5HRU5FUkFMO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcm9wZW5zaXR5U2VydmVyXy5nZXRQcm9wZW5zaXR5KFxuICAgICAgdGhpcy53aW5fLmRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgdHlwZVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNlbmRFdmVudCh1c2VyRXZlbnQpIHtcbiAgICBjb25zdCBhbmFseXRpY3NFdmVudCA9IHB1Ymxpc2hlckV2ZW50VG9BbmFseXRpY3NFdmVudCh1c2VyRXZlbnQubmFtZSk7XG4gICAgbGV0IGRhdGEgPSBudWxsO1xuICAgIGlmICghaXNFbnVtVmFsdWUoRXZlbnQsIHVzZXJFdmVudC5uYW1lKSB8fCAhYW5hbHl0aWNzRXZlbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB1c2VyIGV2ZW50IHByb3ZpZGVkKCcgKyB1c2VyRXZlbnQubmFtZSArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXJFdmVudC5kYXRhKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHVzZXJFdmVudC5kYXRhKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V2ZW50IGRhdGEgbXVzdCBiZSBhbiBPYmplY3QoJyArIHVzZXJFdmVudC5kYXRhICsgJyknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSB7fTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkYXRhLCB1c2VyRXZlbnQuZGF0YSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQm9vbGVhbih1c2VyRXZlbnQuYWN0aXZlKSkge1xuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIGRhdGEgPSB7fTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgeydpc19hY3RpdmUnOiB1c2VyRXZlbnQuYWN0aXZlfSk7XG4gICAgfSBlbHNlIGlmICh1c2VyRXZlbnQuYWN0aXZlICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXZlbnQgYWN0aXZlIG11c3QgYmUgYSBib29sZWFuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ0V2ZW50KHtcbiAgICAgIGV2ZW50VHlwZTogYW5hbHl0aWNzRXZlbnQsXG4gICAgICBldmVudE9yaWdpbmF0b3I6IEV2ZW50T3JpZ2luYXRvci5QUk9QRU5TSVRZX0NMSUVOVCxcbiAgICAgIGlzRnJvbVVzZXJBY3Rpb246IHVzZXJFdmVudC5hY3RpdmUsXG4gICAgICBhZGRpdGlvbmFsUGFyYW1ldGVyczogZGF0YSxcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0FiYnJ2T2ZmZXJGbG93LCBPZmZlcnNGbG93LCBTdWJzY3JpYmVPcHRpb25GbG93fSBmcm9tICcuL29mZmVycy1mbG93JztcbmltcG9ydCB7QWN0aXZpdHlQb3J0c30gZnJvbSAnLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzJztcbmltcG9ydCB7XG4gIEFuYWx5dGljc0V2ZW50LFxuICBFdmVudE9yaWdpbmF0b3IsXG4gIEV2ZW50UGFyYW1zLFxufSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuaW1wb3J0IHtBbmFseXRpY3NNb2RlfSBmcm9tICcuLi9hcGkvc3Vic2NyaXB0aW9ucyc7XG5pbXBvcnQge0FuYWx5dGljc1NlcnZpY2V9IGZyb20gJy4vYW5hbHl0aWNzLXNlcnZpY2UnO1xuaW1wb3J0IHtCdXR0b25BcGl9IGZyb20gJy4vYnV0dG9uLWFwaSc7XG5pbXBvcnQge0NhbGxiYWNrc30gZnJvbSAnLi9jYWxsYmFja3MnO1xuaW1wb3J0IHtDbGllbnRDb25maWdNYW5hZ2VyfSBmcm9tICcuL2NsaWVudC1jb25maWctbWFuYWdlcic7XG5pbXBvcnQge0NsaWVudEV2ZW50TWFuYWdlcn0gZnJvbSAnLi9jbGllbnQtZXZlbnQtbWFuYWdlcic7XG5pbXBvcnQge0NvbnRyaWJ1dGlvbnNGbG93fSBmcm9tICcuL2NvbnRyaWJ1dGlvbnMtZmxvdyc7XG5pbXBvcnQge0RlZmVycmVkQWNjb3VudEZsb3d9IGZyb20gJy4vZGVmZXJyZWQtYWNjb3VudC1mbG93JztcbmltcG9ydCB7RGVwc0RlZn0gZnJvbSAnLi9kZXBzJztcbmltcG9ydCB7RGlhbG9nTWFuYWdlcn0gZnJvbSAnLi4vY29tcG9uZW50cy9kaWFsb2ctbWFuYWdlcic7XG5pbXBvcnQge0RvYyBhcyBEb2NJbnRlcmZhY2UsIHJlc29sdmVEb2N9IGZyb20gJy4uL21vZGVsL2RvYyc7XG5pbXBvcnQge0VudGl0bGVtZW50c01hbmFnZXJ9IGZyb20gJy4vZW50aXRsZW1lbnRzLW1hbmFnZXInO1xuaW1wb3J0IHtFeHBlcmltZW50RmxhZ3N9IGZyb20gJy4vZXhwZXJpbWVudC1mbGFncyc7XG5pbXBvcnQge0ZldGNoZXIgYXMgRmV0Y2hlckludGVyZmFjZSwgWGhyRmV0Y2hlcn0gZnJvbSAnLi9mZXRjaGVyJztcbmltcG9ydCB7R29vZ2xlQW5hbHl0aWNzRXZlbnRMaXN0ZW5lcn0gZnJvbSAnLi9nb29nbGUtYW5hbHl0aWNzLWV2ZW50LWxpc3RlbmVyJztcbmltcG9ydCB7SnNFcnJvcn0gZnJvbSAnLi9qc2Vycm9yJztcbmltcG9ydCB7XG4gIExpbmtDb21wbGV0ZUZsb3csXG4gIExpbmtTYXZlRmxvdyxcbiAgTGlua2JhY2tGbG93LFxufSBmcm9tICcuL2xpbmstYWNjb3VudHMtZmxvdyc7XG5pbXBvcnQge0xvZ2dlcn0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtMb2dpbk5vdGlmaWNhdGlvbkFwaX0gZnJvbSAnLi9sb2dpbi1ub3RpZmljYXRpb24tYXBpJztcbmltcG9ydCB7TG9naW5Qcm9tcHRBcGl9IGZyb20gJy4vbG9naW4tcHJvbXB0LWFwaSc7XG5pbXBvcnQge09mZmVyc0FwaX0gZnJvbSAnLi9vZmZlcnMtYXBpJztcbmltcG9ydCB7UGFnZUNvbmZpZ30gZnJvbSAnLi4vbW9kZWwvcGFnZS1jb25maWcnO1xuaW1wb3J0IHtcbiAgUGFnZUNvbmZpZ1Jlc29sdmVyLFxuICBnZXRDb250cm9sRmxhZyxcbn0gZnJvbSAnLi4vbW9kZWwvcGFnZS1jb25maWctcmVzb2x2ZXInO1xuaW1wb3J0IHtQYXlDbGllbnR9IGZyb20gJy4vcGF5LWNsaWVudCc7XG5pbXBvcnQge1BheUNvbXBsZXRlRmxvdywgUGF5U3RhcnRGbG93fSBmcm9tICcuL3BheS1mbG93JztcbmltcG9ydCB7UHJlY29ubmVjdH0gZnJvbSAnLi4vdXRpbHMvcHJlY29ubmVjdCc7XG5pbXBvcnQge1xuICBQcm9kdWN0VHlwZSxcbiAgU3Vic2NyaXB0aW9ucyBhcyBTdWJzY3JpcHRpb25zSW50ZXJmYWNlLFxuICBXaW5kb3dPcGVuTW9kZSxcbiAgZGVmYXVsdENvbmZpZyxcbn0gZnJvbSAnLi4vYXBpL3N1YnNjcmlwdGlvbnMnO1xuaW1wb3J0IHtQcm9wZW5zaXR5fSBmcm9tICcuL3Byb3BlbnNpdHknO1xuaW1wb3J0IHtDU1MgYXMgU1dHX0RJQUxPR30gZnJvbSAnLi4vLi4vYnVpbGQvY3NzL2NvbXBvbmVudHMvZGlhbG9nLmNzcyc7XG5pbXBvcnQge1N0b3JhZ2V9IGZyb20gJy4vc3RvcmFnZSc7XG5pbXBvcnQge1dhaXRGb3JTdWJzY3JpcHRpb25Mb29rdXBBcGl9IGZyb20gJy4vd2FpdC1mb3Itc3Vic2NyaXB0aW9uLWxvb2t1cC1hcGknO1xuaW1wb3J0IHthc3NlcnR9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQge1xuICBjb252ZXJ0UG90ZW50aWFsVGltZXN0YW1wVG9NaWxsaXNlY29uZHMsXG4gIHRvVGltZXN0YW1wLFxufSBmcm9tICcuLi91dGlscy9kYXRlLXV0aWxzJztcbmltcG9ydCB7ZGVidWdMb2d9IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5pbXBvcnQge2luamVjdFN0eWxlU2hlZXQsIGlzTGVnYWN5RWRnZUJyb3dzZXJ9IGZyb20gJy4uL3V0aWxzL2RvbSc7XG5pbXBvcnQge2lzQm9vbGVhbn0gZnJvbSAnLi4vdXRpbHMvdHlwZXMnO1xuaW1wb3J0IHtpc0V4cGVyaW1lbnRPbn0gZnJvbSAnLi9leHBlcmltZW50cyc7XG5pbXBvcnQge2lzU2VjdXJlfSBmcm9tICcuLi91dGlscy91cmwnO1xuaW1wb3J0IHtxdWVyeVN0cmluZ0hhc0ZyZXNoR2FhUGFyYW1zfSBmcm9tICcuLi91dGlscy9nYWEnO1xuaW1wb3J0IHtzZXRFeHBlcmltZW50fSBmcm9tICcuL2V4cGVyaW1lbnRzJztcbmltcG9ydCB7c2hvd2Nhc2VFdmVudFRvQW5hbHl0aWNzRXZlbnRzfSBmcm9tICcuL2V2ZW50LXR5cGUtbWFwcGluZyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4uL3V0aWxzL2xvZyc7XG5cbmNvbnN0IFJVTlRJTUVfUFJPUCA9ICdTV0cnO1xuY29uc3QgUlVOVElNRV9MRUdBQ1lfUFJPUCA9ICdTVUJTQ1JJUFRJT05TJzsgLy8gTUlHUkFURVxuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgcnVudGltZSwgZm9yIHRlc3RpbmcuXG4gKiBAcHJpdmF0ZSB7IVJ1bnRpbWV9XG4gKi9cbmxldCBydW50aW1lSW5zdGFuY2VfO1xuXG4vKipcbiAqIFJldHVybnMgcnVudGltZSBmb3IgdGVzdGluZyBpZiBhdmFpbGFibGUuIFRocm93cyBpZiB0aGUgcnVudGltZSBpcyBub3RcbiAqIGluaXRpYWxpemVkIHlldC5cbiAqIEB2aXNpYmxlRm9yVGVzdGluZ1xuICogQHJldHVybiB7IVJ1bnRpbWV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lKCkge1xuICBhc3NlcnQocnVudGltZUluc3RhbmNlXywgJ25vdCBpbml0aWFsaXplZCB5ZXQnKTtcbiAgcmV0dXJuIHJ1bnRpbWVJbnN0YW5jZV87XG59XG5cbi8qKlxuICogSW5zdGFsbHMgU3dHIHJ1bnRpbWUuXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFsbFJ1bnRpbWUod2luKSB7XG4gIC8vIE9ubHkgaW5zdGFsbCB0aGUgU3dHIHJ1bnRpbWUgb25jZS5cbiAgaWYgKHdpbltSVU5USU1FX1BST1BdICYmICFBcnJheS5pc0FycmF5KHdpbltSVU5USU1FX1BST1BdKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIFN3RyBydW50aW1lLlxuICBjb25zdCBydW50aW1lID0gbmV3IFJ1bnRpbWUod2luKTtcblxuICAvLyBDcmVhdGUgYSBwdWJsaWMgdmVyc2lvbiBvZiB0aGUgU3dHIHJ1bnRpbWUuXG4gIGNvbnN0IHB1YmxpY1J1bnRpbWUgPSBjcmVhdGVQdWJsaWNSdW50aW1lKHJ1bnRpbWUpO1xuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBhIGNhbGxiYWNrIHdoZW4gU3dHIHJ1bnRpbWUgaXMgcmVhZHkuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVN1YnNjcmlwdGlvbnNJbnRlcmZhY2UpfSBjYWxsYmFja1xuICAgKi9cbiAgZnVuY3Rpb24gY2FsbFdoZW5SdW50aW1lSXNSZWFkeShjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBydW50aW1lLndoZW5SZWFkeSgpLnRoZW4oKCkgPT4ge1xuICAgICAgY2FsbGJhY2socHVibGljUnVudGltZSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBRdWV1ZSB1cCBhbnkgY2FsbGJhY2tzIHRoZSBwdWJsaWNhdGlvbiBtaWdodCBoYXZlIHByb3ZpZGVkLlxuICBjb25zdCB3YWl0aW5nQ2FsbGJhY2tzID0gW10uY29uY2F0KFxuICAgIHdpbltSVU5USU1FX1BST1BdLFxuICAgIHdpbltSVU5USU1FX0xFR0FDWV9QUk9QXVxuICApO1xuICBmb3IgKGNvbnN0IHdhaXRpbmdDYWxsYmFjayBvZiB3YWl0aW5nQ2FsbGJhY2tzKSB7XG4gICAgY2FsbFdoZW5SdW50aW1lSXNSZWFkeSh3YWl0aW5nQ2FsbGJhY2spO1xuICB9XG5cbiAgLy8gSWYgYW55IG1vcmUgY2FsbGJhY2tzIGFyZSBgcHVzaGBlZCB0byB0aGUgZ2xvYmFsIFN3RyB2YXJpYWJsZXMsXG4gIC8vIHRoZXknbGwgYmUgcXVldWVkIHVwIHRvIHJlY2VpdmUgdGhlIFN3RyBydW50aW1lIHdoZW4gaXQncyByZWFkeS5cbiAgd2luW1JVTlRJTUVfUFJPUF0gPSB3aW5bUlVOVElNRV9MRUdBQ1lfUFJPUF0gPSB7XG4gICAgcHVzaDogY2FsbFdoZW5SdW50aW1lSXNSZWFkeSxcbiAgfTtcblxuICAvLyBTZXQgdmFyaWFibGUgZm9yIHRlc3RpbmcuXG4gIHJ1bnRpbWVJbnN0YW5jZV8gPSBydW50aW1lO1xuXG4gIC8vIEtpY2sgb2ZmIHN1YnNjcmlwdGlvbnMgZmxvdy5cbiAgcnVudGltZS5zdGFydFN1YnNjcmlwdGlvbnNGbG93SWZOZWVkZWQoKTtcbn1cblxuLyoqXG4gKiBAaW1wbGVtZW50cyB7U3Vic2NyaXB0aW9uc0ludGVyZmFjZX1cbiAqL1xuZXhwb3J0IGNsYXNzIFJ1bnRpbWUge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY0ludGVyZmFjZX0gKi9cbiAgICB0aGlzLmRvY18gPSByZXNvbHZlRG9jKHdpbik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUHJvbWlzZX0gKi9cbiAgICB0aGlzLnJlYWR5XyA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMucHJvZHVjdE9yUHVibGljYXRpb25JZF8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLkNvbmZpZ30gKi9cbiAgICB0aGlzLmNvbmZpZ18gPSB7fTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmNvbW1pdHRlZF8gPSBmYWxzZTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P2Z1bmN0aW9uKCghQ29uZmlndXJlZFJ1bnRpbWV8IVByb21pc2UpKX0gKi9cbiAgICB0aGlzLmNvbmZpZ3VyZWRSZXNvbHZlcl8gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2U8IUNvbmZpZ3VyZWRSdW50aW1lPn0gKi9cbiAgICB0aGlzLmNvbmZpZ3VyZWRQcm9taXNlXyA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmNvbmZpZ3VyZWRSZXNvbHZlcl8gPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UGFnZUNvbmZpZ1Jlc29sdmVyfSAqL1xuICAgIHRoaXMucGFnZUNvbmZpZ1Jlc29sdmVyXyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQnV0dG9uQXBpfSAqL1xuICAgIHRoaXMuYnV0dG9uQXBpXyA9IG5ldyBCdXR0b25BcGkodGhpcy5kb2NfLCB0aGlzLmNvbmZpZ3VyZWRQcm9taXNlXyk7XG4gICAgdGhpcy5idXR0b25BcGlfLmluaXQoKTsgLy8gSW5qZWN0cyBzd2ctYnV0dG9uIHN0eWxlc2hlZXQuXG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICB3aGVuUmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHlfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY29tbWl0XG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFDb25maWd1cmVkUnVudGltZT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25maWd1cmVkXyhjb21taXQpIHtcbiAgICBpZiAoIXRoaXMuY29tbWl0dGVkXyAmJiBjb21taXQpIHtcbiAgICAgIHRoaXMuY29tbWl0dGVkXyA9IHRydWU7XG4gICAgICAvKiogQHR5cGUgeyFQcm9taXNlPCFQYWdlQ29uZmlnPn0gKi9cbiAgICAgIGxldCBwYWdlQ29uZmlnUHJvbWlzZTtcbiAgICAgIGlmICh0aGlzLnByb2R1Y3RPclB1YmxpY2F0aW9uSWRfKSB7XG4gICAgICAgIHBhZ2VDb25maWdQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgIG5ldyBQYWdlQ29uZmlnKHRoaXMucHJvZHVjdE9yUHVibGljYXRpb25JZF8sIC8qIGxvY2tlZCAqLyBmYWxzZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFnZUNvbmZpZ1Jlc29sdmVyXyA9IG5ldyBQYWdlQ29uZmlnUmVzb2x2ZXIodGhpcy5kb2NfKTtcbiAgICAgICAgcGFnZUNvbmZpZ1Byb21pc2UgPSB0aGlzLnBhZ2VDb25maWdSZXNvbHZlcl9cbiAgICAgICAgICAucmVzb2x2ZUNvbmZpZygpXG4gICAgICAgICAgLnRoZW4oKGNvbmZpZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5wYWdlQ29uZmlnUmVzb2x2ZXJfID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwYWdlQ29uZmlnUHJvbWlzZS50aGVuKFxuICAgICAgICAocGFnZUNvbmZpZykgPT4ge1xuICAgICAgICAgIHRoaXMuY29uZmlndXJlZFJlc29sdmVyXyhcbiAgICAgICAgICAgIG5ldyBDb25maWd1cmVkUnVudGltZShcbiAgICAgICAgICAgICAgdGhpcy5kb2NfLFxuICAgICAgICAgICAgICBwYWdlQ29uZmlnLFxuICAgICAgICAgICAgICAvKiBpbnRlZ3IgKi8ge2NvbmZpZ1Byb21pc2U6IHRoaXMuY29uZmlndXJlZFByb21pc2VffSxcbiAgICAgICAgICAgICAgdGhpcy5jb25maWdfXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNvbmZpZ3VyZWRSZXNvbHZlcl8gPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICAocmVhc29uKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb25maWd1cmVkUmVzb2x2ZXJfKFByb21pc2UucmVqZWN0KHJlYXNvbikpO1xuICAgICAgICAgIHRoaXMuY29uZmlndXJlZFJlc29sdmVyXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb21taXQgJiYgdGhpcy5wYWdlQ29uZmlnUmVzb2x2ZXJfKSB7XG4gICAgICB0aGlzLnBhZ2VDb25maWdSZXNvbHZlcl8uY2hlY2soKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZFByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc3Vic2NyaXB0aW9uIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbmQgdGhlIHBhZ2UgaXNcbiAgICogY29uZmlndXJlZCB0byBzdGFydCBpdCBhdXRvbWF0aWNhbGx5LlxuICAgKlxuICAgKiBAcmV0dXJuIHs/UHJvbWlzZX1cbiAgICogQHBhY2thZ2VcbiAgICovXG4gIHN0YXJ0U3Vic2NyaXB0aW9uc0Zsb3dJZk5lZWRlZCgpIHtcbiAgICBjb25zdCBjb250cm9sID0gZ2V0Q29udHJvbEZsYWcodGhpcy53aW5fLmRvY3VtZW50KTtcbiAgICBkZWJ1Z0xvZyhjb250cm9sLCAnbW9kZScpO1xuICAgIGlmIChjb250cm9sID09ICdtYW51YWwnKSB7XG4gICAgICAvLyBcIlNraXBwaW5nIGF1dG9tYXRpYyBzdGFydCBiZWNhdXNlIGNvbnRyb2wgZmxhZyBpcyBzZXQgdG8gXCJtYW51YWxcIi5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGFydCgpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpbml0KHByb2R1Y3RPclB1YmxpY2F0aW9uSWQpIHtcbiAgICBhc3NlcnQoIXRoaXMuY29tbWl0dGVkXywgJ2FscmVhZHkgY29uZmlndXJlZCcpO1xuICAgIHRoaXMucHJvZHVjdE9yUHVibGljYXRpb25JZF8gPSBwcm9kdWN0T3JQdWJsaWNhdGlvbklkO1xuXG4gICAgLy8gUHJvY2VzcyB0aGUgcGFnZSdzIGNvbmZpZy4gVGhlbiBzdGFydCBsb2dnaW5nIGV2ZW50cyBpbiB0aGVcbiAgICAvLyBhbmFseXRpY3Mgc2VydmljZS5cbiAgICB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKGNvbmZpZ3VyZWRSdW50aW1lKSA9PiB7XG4gICAgICBjb25maWd1cmVkUnVudGltZS5hbmFseXRpY3MoKS5zZXRSZWFkeUZvckxvZ2dpbmcoKTtcbiAgICAgIGNvbmZpZ3VyZWRSdW50aW1lLmFuYWx5dGljcygpLnN0YXJ0KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAvLyBBY2N1bXVsYXRlIGNvbmZpZyBmb3Igc3RhcnR1cC5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnXywgY29uZmlnKTtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyhmYWxzZSkudGhlbigocnVudGltZSkgPT4gcnVudGltZS5jb25maWd1cmUoY29uZmlnKSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUuc3RhcnQoKSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUucmVzZXQoKSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsZWFyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUuY2xlYXIoKSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldEVudGl0bGVtZW50cyhwYXJhbXMpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5nZXRFbnRpdGxlbWVudHMocGFyYW1zKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uRW50aXRsZW1lbnRzUmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyhmYWxzZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUuc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZShjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRPZmZlcnMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUuZ2V0T2ZmZXJzKG9wdGlvbnMpKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd09mZmVycyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8odHJ1ZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUuc2hvd09mZmVycyhvcHRpb25zKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNob3dVcGRhdGVPZmZlcnMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNob3dVcGRhdGVPZmZlcnMob3B0aW9ucylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzaG93U3Vic2NyaWJlT3B0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zaG93U3Vic2NyaWJlT3B0aW9uKG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd0FiYnJ2T2ZmZXIob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNob3dBYmJydk9mZmVyKG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd0NvbnRyaWJ1dGlvbk9wdGlvbnMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNob3dDb250cmlidXRpb25PcHRpb25zKG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgd2FpdEZvclN1YnNjcmlwdGlvbkxvb2t1cChhY2NvdW50UHJvbWlzZSkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLndhaXRGb3JTdWJzY3JpcHRpb25Mb29rdXAoYWNjb3VudFByb21pc2UpXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2V0T25OYXRpdmVTdWJzY3JpYmVSZXF1ZXN0KGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8oZmFsc2UpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNldE9uTmF0aXZlU3Vic2NyaWJlUmVxdWVzdChjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPblN1YnNjcmliZVJlc3BvbnNlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8oZmFsc2UpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNldE9uU3Vic2NyaWJlUmVzcG9uc2UoY2FsbGJhY2spXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc3Vic2NyaWJlKHNrdSkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUuc3Vic2NyaWJlKHNrdSkpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uUmVxdWVzdCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnVwZGF0ZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25SZXF1ZXN0KVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uQ29udHJpYnV0aW9uUmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyhmYWxzZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUuc2V0T25Db250cmlidXRpb25SZXNwb25zZShjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPblBheW1lbnRSZXNwb25zZShjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKGZhbHNlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zZXRPblBheW1lbnRSZXNwb25zZShjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjb250cmlidXRlKHNrdU9yU3Vic2NyaXB0aW9uUmVxdWVzdCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLmNvbnRyaWJ1dGUoc2t1T3JTdWJzY3JpcHRpb25SZXF1ZXN0KVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNvbXBsZXRlRGVmZXJyZWRBY2NvdW50Q3JlYXRpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLmNvbXBsZXRlRGVmZXJyZWRBY2NvdW50Q3JlYXRpb24ob3B0aW9ucylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbkxvZ2luUmVxdWVzdChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKGZhbHNlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zZXRPbkxvZ2luUmVxdWVzdChjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB0cmlnZ2VyTG9naW5SZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyhmYWxzZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUudHJpZ2dlckxvZ2luUmVxdWVzdChyZXF1ZXN0KVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uTGlua0NvbXBsZXRlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8oZmFsc2UpLnRoZW4oKHJ1bnRpbWUpID0+XG4gICAgICBydW50aW1lLnNldE9uTGlua0NvbXBsZXRlKGNhbGxiYWNrKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGxpbmtBY2NvdW50KHBhcmFtcyA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8odHJ1ZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUubGlua0FjY291bnQocGFyYW1zKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uRmxvd1N0YXJ0ZWQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyhmYWxzZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUuc2V0T25GbG93U3RhcnRlZChjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbkZsb3dDYW5jZWxlZChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKGZhbHNlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zZXRPbkZsb3dDYW5jZWxlZChjYWxsYmFjaylcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3Vic2NyaXB0aW9uKHNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PiB7XG4gICAgICByZXR1cm4gcnVudGltZS5zYXZlU3Vic2NyaXB0aW9uKHNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzaG93TG9naW5Qcm9tcHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8odHJ1ZSkudGhlbigocnVudGltZSkgPT4ge1xuICAgICAgcmV0dXJuIHJ1bnRpbWUuc2hvd0xvZ2luUHJvbXB0KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNob3dMb2dpbk5vdGlmaWNhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PiB7XG4gICAgICByZXR1cm4gcnVudGltZS5zaG93TG9naW5Ob3RpZmljYXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY3JlYXRlQnV0dG9uKG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmJ1dHRvbkFwaV8uY3JlYXRlKG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjayk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGF0dGFjaFNtYXJ0QnV0dG9uKGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8odHJ1ZSkudGhlbigocnVudGltZSkgPT5cbiAgICAgIHJ1bnRpbWUuYXR0YWNoU21hcnRCdXR0b24oYnV0dG9uLCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXR0YWNoQnV0dG9uKGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uQXBpXy5hdHRhY2goYnV0dG9uLCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcm9wZW5zaXR5TW9kdWxlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHtcbiAgICAgIHJldHVybiBydW50aW1lLmdldFByb3BlbnNpdHlNb2R1bGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0TG9nZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyZWRfKHRydWUpLnRoZW4oKHJ1bnRpbWUpID0+IHJ1bnRpbWUuZ2V0TG9nZ2VyKCkpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRFdmVudE1hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJlZF8odHJ1ZSkudGhlbigocnVudGltZSkgPT4gcnVudGltZS5nZXRFdmVudE1hbmFnZXIoKSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldFNob3djYXNlRW50aXRsZW1lbnQoZW50aXRsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zZXRTaG93Y2FzZUVudGl0bGVtZW50KGVudGl0bGVtZW50KVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNvbnN1bWVTaG93Y2FzZUVudGl0bGVtZW50Snd0KHNob3djYXNlRW50aXRsZW1lbnRKd3QsIG9uQ2xvc2VEaWFsb2cpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5jb25zdW1lU2hvd2Nhc2VFbnRpdGxlbWVudEp3dChcbiAgICAgICAgc2hvd2Nhc2VFbnRpdGxlbWVudEp3dCxcbiAgICAgICAgb25DbG9zZURpYWxvZ1xuICAgICAgKVxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNob3dCZXN0QXVkaWVuY2VBY3Rpb24oKSB7XG4gICAgd2FybignTm90IGltcGxlbWVudGVkIHlldCcpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRQdWJsaXNoZXJQcm92aWRlZElkKHB1Ymxpc2hlclByb3ZpZGVkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmVkXyh0cnVlKS50aGVuKChydW50aW1lKSA9PlxuICAgICAgcnVudGltZS5zZXRQdWJsaXNoZXJQcm92aWRlZElkKHB1Ymxpc2hlclByb3ZpZGVkSWQpXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEBpbXBsZW1lbnRzIHtEZXBzRGVmfVxuICogQGltcGxlbWVudHMge1N1YnNjcmlwdGlvbnNJbnRlcmZhY2V9XG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maWd1cmVkUnVudGltZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFXaW5kb3d8IURvY3VtZW50fCFEb2NJbnRlcmZhY2V9IHdpbk9yRG9jXG4gICAqIEBwYXJhbSB7IS4uL21vZGVsL3BhZ2UtY29uZmlnLlBhZ2VDb25maWd9IHBhZ2VDb25maWdcbiAgICogQHBhcmFtIHt7XG4gICAqICAgICBmZXRjaGVyOiAoIUZldGNoZXJJbnRlcmZhY2V8dW5kZWZpbmVkKSxcbiAgICogICAgIGNvbmZpZ1Byb21pc2U6ICghUHJvbWlzZXx1bmRlZmluZWQpLFxuICAgKiAgICAgZW5hYmxlR29vZ2xlQW5hbHl0aWNzOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICAgKiAgICAgZW5hYmxlRGVmYXVsdE1ldGVyaW5nSGFuZGxlcjogKGJvb2xlYW58dW5kZWZpbmVkKSxcbiAgICogICAgIHVzZUFydGljbGVFbmRwb2ludDogKGJvb2xlYW58dW5kZWZpbmVkKVxuICAgKiAgIH09fSBpbnRlZ3JcbiAgICogQHBhcmFtIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuQ29uZmlnPX0gY29uZmlnXG4gICAqIEBwYXJhbSB7IXtcbiAgICogICBsYW5nOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gICAqICAgdGhlbWU6ICghLi4vYXBpL2Jhc2ljLXN1YnNjcmlwdGlvbnMuQ2xpZW50VGhlbWV8dW5kZWZpbmVkKSxcbiAgICogICB9PX0gY2xpZW50T3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Iod2luT3JEb2MsIHBhZ2VDb25maWcsIGludGVnciwgY29uZmlnLCBjbGllbnRPcHRpb25zKSB7XG4gICAgaW50ZWdyID0gaW50ZWdyIHx8IHt9O1xuICAgIGludGVnci5jb25maWdQcm9taXNlID0gaW50ZWdyLmNvbmZpZ1Byb21pc2UgfHwgUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQ2xpZW50RXZlbnRNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZXZlbnRNYW5hZ2VyXyA9IG5ldyBDbGllbnRFdmVudE1hbmFnZXIoaW50ZWdyLmNvbmZpZ1Byb21pc2UpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY0ludGVyZmFjZX0gKi9cbiAgICB0aGlzLmRvY18gPSByZXNvbHZlRG9jKHdpbk9yRG9jKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gdGhpcy5kb2NfLmdldFdpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLkNvbmZpZ30gKi9cbiAgICB0aGlzLmNvbmZpZ18gPSBkZWZhdWx0Q29uZmlnKCk7XG5cbiAgICBpZiAoaXNMZWdhY3lFZGdlQnJvd3Nlcih0aGlzLndpbl8pKSB7XG4gICAgICAvLyBUT0RPKGR2b3l0ZW5rbywgYi8xMjA2MDczNDMpOiBGaW5kIGEgd2F5IHRvIHJlbW92ZSB0aGlzIHJlc3RyaWN0aW9uXG4gICAgICAvLyBvciBtb3ZlIGl0IHRvIFdlYiBBY3Rpdml0aWVzLlxuICAgICAgdGhpcy5jb25maWdfLndpbmRvd09wZW5Nb2RlID0gV2luZG93T3Blbk1vZGUuUkVESVJFQ1Q7XG4gICAgfVxuICAgIGlmIChjb25maWcpIHtcbiAgICAgIHRoaXMuY29uZmlndXJlXyhjb25maWcpO1xuICAgIH1cblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9wYWdlLWNvbmZpZy5QYWdlQ29uZmlnfSAqL1xuICAgIHRoaXMucGFnZUNvbmZpZ18gPSBwYWdlQ29uZmlnO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb21pc2V9ICovXG4gICAgdGhpcy5kb2N1bWVudFBhcnNlZF8gPSB0aGlzLmRvY18ud2hlblJlYWR5KCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSnNFcnJvcn0gKi9cbiAgICB0aGlzLmpzZXJyb3JfID0gbmV3IEpzRXJyb3IodGhpcy5kb2NfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFGZXRjaGVySW50ZXJmYWNlfSAqL1xuICAgIHRoaXMuZmV0Y2hlcl8gPSBpbnRlZ3IuZmV0Y2hlciB8fCBuZXcgWGhyRmV0Y2hlcih0aGlzLndpbl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVN0b3JhZ2V9ICovXG4gICAgdGhpcy5zdG9yYWdlXyA9IG5ldyBTdG9yYWdlKHRoaXMud2luXyk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshRGlhbG9nTWFuYWdlcn0gKi9cbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfID0gbmV3IERpYWxvZ01hbmFnZXIodGhpcy5kb2NfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFDYWxsYmFja3N9ICovXG4gICAgdGhpcy5jYWxsYmFja3NfID0gbmV3IENhbGxiYWNrcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/T2ZmZXJzRmxvd30gKi9cbiAgICB0aGlzLmxhc3RPZmZlcnNGbG93XyA9IG51bGw7XG5cbiAgICAvKiogQHByaXZhdGUgez9Db250cmlidXRpb25zRmxvd30gKi9cbiAgICB0aGlzLmxhc3RDb250cmlidXRpb25zRmxvd18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIHtzdHJpbmd8dW5kZWZpbmVkfSAqL1xuICAgIHRoaXMucHVibGlzaGVyUHJvdmlkZWRJZF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBTdGFydCBsaXN0ZW5pbmcgdG8gR29vZ2xlIEFuYWx5dGljcyBldmVudHMsIGlmIGFwcGxpY2FibGUuXG4gICAgaWYgKGludGVnci5lbmFibGVHb29nbGVBbmFseXRpY3MpIHtcbiAgICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFHb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyfSAqL1xuICAgICAgdGhpcy5nb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyXyA9IG5ldyBHb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgICAgdGhpcy5nb29nbGVBbmFseXRpY3NFdmVudExpc3RlbmVyXy5zdGFydCgpO1xuICAgIH1cblxuICAgIC8vIFdBUk5JTkc6IERlcHNEZWYgKCd0aGlzJykgaXMgYmVpbmcgcHJvZ3Jlc3NpdmVseSBkZWZpbmVkIGJlbG93LlxuICAgIC8vIENvbnN0cnVjdG9ycyB3aWxsIGNyYXNoIGlmIHRoZXkgcmVseSBvbiBzb21ldGhpbmcgdGhhdCBkb2Vzbid0IGV4aXN0IHlldC5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IG5ldyBBY3Rpdml0eVBvcnRzKHRoaXMpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUFuYWx5dGljc1NlcnZpY2V9ICovXG4gICAgdGhpcy5hbmFseXRpY3NTZXJ2aWNlXyA9IG5ldyBBbmFseXRpY3NTZXJ2aWNlKHRoaXMsIHRoaXMuZmV0Y2hlcl8pO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVBheUNsaWVudH0gKi9cbiAgICB0aGlzLnBheUNsaWVudF8gPSBuZXcgUGF5Q2xpZW50KHRoaXMpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUxvZ2dlcn0gKi9cbiAgICB0aGlzLmxvZ2dlcl8gPSBuZXcgTG9nZ2VyKHRoaXMpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVudGl0bGVtZW50c01hbmFnZXJ9ICovXG4gICAgdGhpcy5lbnRpdGxlbWVudHNNYW5hZ2VyXyA9IG5ldyBFbnRpdGxlbWVudHNNYW5hZ2VyKFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcy5wYWdlQ29uZmlnXyxcbiAgICAgIHRoaXMuZmV0Y2hlcl8sXG4gICAgICB0aGlzLCAvLyBTZWUgbm90ZSBhYm91dCAndGhpcycgYWJvdmVcbiAgICAgIGludGVnci51c2VBcnRpY2xlRW5kcG9pbnQgfHwgZmFsc2UsXG4gICAgICBpbnRlZ3IuZW5hYmxlRGVmYXVsdE1ldGVyaW5nSGFuZGxlciB8fCBmYWxzZVxuICAgICk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQ2xpZW50Q29uZmlnTWFuYWdlcn0gKi9cbiAgICB0aGlzLmNsaWVudENvbmZpZ01hbmFnZXJfID0gbmV3IENsaWVudENvbmZpZ01hbmFnZXIoXG4gICAgICB0aGlzLCAvLyBTZWUgbm90ZSBhYm91dCAndGhpcycgYWJvdmVcbiAgICAgIHBhZ2VDb25maWcuZ2V0UHVibGljYXRpb25JZCgpLFxuICAgICAgdGhpcy5mZXRjaGVyXyxcbiAgICAgIGNsaWVudE9wdGlvbnNcbiAgICApO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVByb3BlbnNpdHl9ICovXG4gICAgdGhpcy5wcm9wZW5zaXR5TW9kdWxlXyA9IG5ldyBQcm9wZW5zaXR5KFxuICAgICAgdGhpcy53aW5fLFxuICAgICAgdGhpcywgLy8gU2VlIG5vdGUgYWJvdXQgJ3RoaXMnIGFib3ZlXG4gICAgICB0aGlzLmZldGNoZXJfXG4gICAgKTtcblxuICAgIC8vIEFMTCBDTEVBUjogRGVwc0RlZiBkZWZpbml0aW9uIG5vdyBjb21wbGV0ZS5cbiAgICB0aGlzLmV2ZW50TWFuYWdlcl8ubG9nU3dnRXZlbnQoQW5hbHl0aWNzRXZlbnQuSU1QUkVTU0lPTl9QQUdFX0xPQUQsIGZhbHNlKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFPZmZlcnNBcGl9ICovXG4gICAgdGhpcy5vZmZlcnNBcGlfID0gbmV3IE9mZmVyc0FwaSh0aGlzLnBhZ2VDb25maWdfLCB0aGlzLmZldGNoZXJfKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFCdXR0b25BcGl9ICovXG4gICAgdGhpcy5idXR0b25BcGlfID0gbmV3IEJ1dHRvbkFwaSh0aGlzLmRvY18sIFByb21pc2UucmVzb2x2ZSh0aGlzKSk7XG5cbiAgICBjb25zdCBwcmVjb25uZWN0ID0gbmV3IFByZWNvbm5lY3QodGhpcy53aW5fLmRvY3VtZW50KTtcblxuICAgIHByZWNvbm5lY3QucHJlZmV0Y2goJyRhc3NldHMkL2xvYWRlci5zdmcnKTtcbiAgICBwcmVjb25uZWN0LnByZWNvbm5lY3QoJ2h0dHBzOi8vd3d3LmdzdGF0aWMuY29tLycpO1xuICAgIHByZWNvbm5lY3QucHJlY29ubmVjdCgnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS8nKTtcbiAgICBwcmVjb25uZWN0LnByZWNvbm5lY3QoJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vJyk7XG4gICAgTGlua0NvbXBsZXRlRmxvdy5jb25maWd1cmVQZW5kaW5nKHRoaXMpO1xuICAgIFBheUNvbXBsZXRlRmxvdy5jb25maWd1cmVQZW5kaW5nKHRoaXMpO1xuXG4gICAgaW5qZWN0U3R5bGVTaGVldCh0aGlzLmRvY18sIFNXR19ESUFMT0cpO1xuXG4gICAgLy8gUmVwb3J0IHJlZGlyZWN0IGVycm9ycyBpZiBhbnkuXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXy5vblJlZGlyZWN0RXJyb3IoKGVycm9yKSA9PiB7XG4gICAgICB0aGlzLmFuYWx5dGljc1NlcnZpY2VfLmFkZExhYmVscyhbJ3JlZGlyZWN0J10pO1xuICAgICAgdGhpcy5ldmVudE1hbmFnZXJfLmxvZ1N3Z0V2ZW50KFxuICAgICAgICBBbmFseXRpY3NFdmVudC5FVkVOVF9QQVlNRU5UX0ZBSUxFRCxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLmpzZXJyb3JfLmVycm9yKCdSZWRpcmVjdCBlcnJvcicsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZG9jKCkge1xuICAgIHJldHVybiB0aGlzLmRvY187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHdpbigpIHtcbiAgICByZXR1cm4gdGhpcy53aW5fO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwYWdlQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLnBhZ2VDb25maWdfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBqc2Vycm9yKCkge1xuICAgIHJldHVybiB0aGlzLmpzZXJyb3JfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhY3Rpdml0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLmFjdGl2aXR5UG9ydHNfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwYXlDbGllbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5Q2xpZW50XztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZGlhbG9nTWFuYWdlcigpIHtcbiAgICByZXR1cm4gdGhpcy5kaWFsb2dNYW5hZ2VyXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZW50aXRsZW1lbnRzTWFuYWdlcigpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRpdGxlbWVudHNNYW5hZ2VyXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsbGJhY2tzKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxiYWNrc187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0b3JhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZV87XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsaWVudENvbmZpZ01hbmFnZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50Q29uZmlnTWFuYWdlcl87XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGFuYWx5dGljcygpIHtcbiAgICByZXR1cm4gdGhpcy5hbmFseXRpY3NTZXJ2aWNlXztcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgaW5pdCgpIHtcbiAgICAvLyBJbXBsZW1lbnRlZCBieSB0aGUgYFJ1bnRpbWVgIGNsYXNzLlxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgLy8gSW5kaXJlY3RlZCBmb3IgY29uc3RydWN0b3IgdGVzdGluZy5cbiAgICB0aGlzLmNvbmZpZ3VyZV8oY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5Db25maWd9IGNvbmZpZ1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uZmlndXJlXyhjb25maWcpIHtcbiAgICAvLyBWYWxpZGF0ZSBmaXJzdC5cbiAgICBsZXQgZXJyb3IgPSAnJztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gY29uZmlnW2tleV07XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlICd3aW5kb3dPcGVuTW9kZSc6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdmFsdWUgIT0gV2luZG93T3Blbk1vZGUuQVVUTyAmJlxuICAgICAgICAgICAgdmFsdWUgIT0gV2luZG93T3Blbk1vZGUuUkVESVJFQ1RcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVycm9yID0gJ1Vua25vd24gd2luZG93T3Blbk1vZGU6ICcgKyB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2V4cGVyaW1lbnRzJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IGV4cGVyaW1lbnQgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIHNldEV4cGVyaW1lbnQodGhpcy53aW5fLCBleHBlcmltZW50LCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuYW5hbHl0aWNzKCkpIHtcbiAgICAgICAgICAgIC8vIElmIGFuYWx5dGljcyBzZXJ2aWNlIGlzbid0IHNldCB1cCB5ZXQsIHRoZW4gaXQgd2lsbCBnZXQgdGhlXG4gICAgICAgICAgICAvLyBleHBlcmltZW50cyBsYXRlci5cbiAgICAgICAgICAgIHRoaXMuYW5hbHl0aWNzKCkuYWRkTGFiZWxzKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2FuYWx5dGljc01vZGUnOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHZhbHVlICE9IEFuYWx5dGljc01vZGUuREVGQVVMVCAmJlxuICAgICAgICAgICAgdmFsdWUgIT0gQW5hbHl0aWNzTW9kZS5JTVBSRVNTSU9OU1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3IgPSAnVW5rbm93biBhbmFseXRpY3MgbW9kZTogJyArIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW5hYmxlU3dnQW5hbHl0aWNzJzpcbiAgICAgICAgICBpZiAoIWlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yID0gJ1Vua25vd24gZW5hYmxlU3dnQW5hbHl0aWNzIHZhbHVlOiAnICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbmFibGVQcm9wZW5zaXR5JzpcbiAgICAgICAgICBpZiAoIWlzQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgICAgICAgIGVycm9yID0gJ1Vua25vd24gZW5hYmxlUHJvcGVuc2l0eSB2YWx1ZTogJyArIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2tpcEFjY291bnRDcmVhdGlvblNjcmVlbic6XG4gICAgICAgICAgaWYgKCFpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICAgICAgICBlcnJvciA9ICdVbmtub3duIHNraXBBY2NvdW50Q3JlYXRpb25TY3JlZW4gdmFsdWU6ICcgKyB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3B1Ymxpc2hlclByb3ZpZGVkSWQnOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHZhbHVlICE9IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlICE9ICcnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3IgPSAncHVibGlzaGVyUHJvdmlkZWRJZCBtdXN0IGJlIGEgc3RyaW5nLCB2YWx1ZTogJyArIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBlcnJvciA9ICdVbmtub3duIGNvbmZpZyBwcm9wZXJ0eTogJyArIGtleTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVGhyb3cgZXJyb3Igc3RyaW5nIGlmIGl0J3Mgbm90IG51bGxcbiAgICBhc3NlcnQoIWVycm9yLCBlcnJvciB8fCB1bmRlZmluZWQpO1xuICAgIC8vIEFzc2lnbi5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMuY29uZmlnXywgY29uZmlnKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmNvbmZpZ187XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuZW50aXRsZW1lbnRzTWFuYWdlcl8ucmVzZXQoKTtcbiAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuZW50aXRsZW1lbnRzTWFuYWdlcl8uY2xlYXIoKTtcbiAgICB0aGlzLmNsb3NlRGlhbG9nKCk7XG4gIH1cblxuICAvKiogQ2xvc2UgZGlhbG9nLiAqL1xuICBjbG9zZURpYWxvZygpIHtcbiAgICB0aGlzLmRpYWxvZ01hbmFnZXJfLmNvbXBsZXRlQWxsKCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHN0YXJ0KCkge1xuICAgIC8vIE5vIG5lZWQgdG8gcnVuIGVudGl0bGVtZW50cyB3aXRob3V0IGEgcHJvZHVjdCBvciBmb3IgYW4gdW5sb2NrZWQgcGFnZS5cbiAgICBpZiAoIXRoaXMucGFnZUNvbmZpZ18uZ2V0UHJvZHVjdElkKCkgfHwgIXRoaXMucGFnZUNvbmZpZ18uaXNMb2NrZWQoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLmdldEVudGl0bGVtZW50cygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRFbnRpdGxlbWVudHMocGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcz8ucHVibGlzaGVyUHJvdmlkZWRJZCkge1xuICAgICAgcGFyYW1zLnB1Ymxpc2hlclByb3ZpZGVkSWQgPSB0aGlzLnB1Ymxpc2hlclByb3ZpZGVkSWRfO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5lbnRpdGxlbWVudHNNYW5hZ2VyX1xuICAgICAgLmdldEVudGl0bGVtZW50cyhwYXJhbXMpXG4gICAgICAudGhlbigoZW50aXRsZW1lbnRzKSA9PiB7XG4gICAgICAgIC8vIFRoZSBzd2cgdXNlciB0b2tlbiBpcyBzdG9yZWQgaW4gdGhlIGVudGl0bGVtZW50cyBmbG93LCBzbyB0aGUgYW5hbHl0aWNzIHNlcnZpY2UgaXMgcmVhZHkgZm9yIGxvZ2dpbmcuXG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZV8uc2V0UmVhZHlGb3JMb2dnaW5nKCk7XG4gICAgICAgIHRoaXMuYW5hbHl0aWNzU2VydmljZV8uc3RhcnQoKTtcbiAgICAgICAgLy8gQXV0byB1cGRhdGUgaW50ZXJuYWwgdGhpbmdzIHRyYWNraW5nIHRoZSB1c2VyJ3MgY3VycmVudCBTS1UuXG4gICAgICAgIGlmIChlbnRpdGxlbWVudHMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2t1cyA9IGVudGl0bGVtZW50cy5lbnRpdGxlbWVudHMubWFwKFxuICAgICAgICAgICAgICAoZW50aXRsZW1lbnQpID0+XG4gICAgICAgICAgICAgICAgZW50aXRsZW1lbnQuZ2V0U2t1KCkgfHwgJ3Vua25vd24gc3Vic2NyaXB0aW9uVG9rZW4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHNrdXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICB0aGlzLmFuYWx5dGljc1NlcnZpY2VfLnNldFNrdShza3VzLmpvaW4oJywnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXgpIHt9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudGl0bGVtZW50cy5jbG9uZSgpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uRW50aXRsZW1lbnRzUmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrc18uc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZShjYWxsYmFjayk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGdldE9mZmVycyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMub2ZmZXJzQXBpXy5nZXRPZmZlcnMob3B0aW9ucyAmJiBvcHRpb25zLnByb2R1Y3RJZCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNob3dPZmZlcnMob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50UGFyc2VkXy50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgICdUaGUgc2hvd09mZmVycygpIG1ldGhvZCBjYW5ub3QgYmUgdXNlZCB0byB1cGRhdGUgYSBzdWJzY3JpcHRpb24uICcgK1xuICAgICAgICAnVXNlIHRoZSBzaG93VXBkYXRlT2ZmZXJzKCkgbWV0aG9kIGluc3RlYWQuJztcbiAgICAgIGFzc2VydChvcHRpb25zID8gIW9wdGlvbnNbJ29sZFNrdSddIDogdHJ1ZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIHRoaXMubGFzdE9mZmVyc0Zsb3dfID0gbmV3IE9mZmVyc0Zsb3codGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcy5sYXN0T2ZmZXJzRmxvd18uc3RhcnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd1VwZGF0ZU9mZmVycyhvcHRpb25zKSB7XG4gICAgYXNzZXJ0KFxuICAgICAgaXNFeHBlcmltZW50T24odGhpcy53aW5fLCBFeHBlcmltZW50RmxhZ3MuUkVQTEFDRV9TVUJTQ1JJUFRJT04pLFxuICAgICAgJ05vdCB5ZXQgbGF1bmNoZWQhJ1xuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgJ1RoZSBzaG93VXBkYXRlT2ZmZXJzKCkgbWV0aG9kIGNhbm5vdCBiZSB1c2VkIGZvciBuZXcgc3Vic2NyaWJlcnMuICcgK1xuICAgICAgICAnVXNlIHRoZSBzaG93T2ZmZXJzKCkgbWV0aG9kIGluc3RlYWQuJztcbiAgICAgIGFzc2VydChvcHRpb25zID8gISFvcHRpb25zWydvbGRTa3UnXSA6IGZhbHNlLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgY29uc3QgZmxvdyA9IG5ldyBPZmZlcnNGbG93KHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGZsb3cuc3RhcnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd1N1YnNjcmliZU9wdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZmxvdyA9IG5ldyBTdWJzY3JpYmVPcHRpb25GbG93KHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGZsb3cuc3RhcnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd0FiYnJ2T2ZmZXIob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50UGFyc2VkXy50aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IGZsb3cgPSBuZXcgQWJicnZPZmZlckZsb3codGhpcywgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gZmxvdy5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzaG93Q29udHJpYnV0aW9uT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5sYXN0Q29udHJpYnV0aW9uc0Zsb3dfID0gbmV3IENvbnRyaWJ1dGlvbnNGbG93KHRoaXMsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXMubGFzdENvbnRyaWJ1dGlvbnNGbG93Xy5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCBjb250cmlidXRpb24gb2ZmZXJzIGZsb3cuXG4gICAqIEByZXR1cm4gez9Db250cmlidXRpb25zRmxvd31cbiAgICovXG4gIGdldExhc3RDb250cmlidXRpb25zRmxvdygpIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q29udHJpYnV0aW9uc0Zsb3dfO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB3YWl0Rm9yU3Vic2NyaXB0aW9uTG9va3VwKGFjY291bnRQcm9taXNlKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgd2FpdCA9IG5ldyBXYWl0Rm9yU3Vic2NyaXB0aW9uTG9va3VwQXBpKHRoaXMsIGFjY291bnRQcm9taXNlKTtcbiAgICAgIHJldHVybiB3YWl0LnN0YXJ0KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uTG9naW5SZXF1ZXN0KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3NfLnNldE9uTG9naW5SZXF1ZXN0KGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdHJpZ2dlckxvZ2luUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgdGhpcy5jYWxsYmFja3NfLnRyaWdnZXJMb2dpblJlcXVlc3QocmVxdWVzdCk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldE9uTGlua0NvbXBsZXRlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3NfLnNldE9uTGlua0NvbXBsZXRlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbGlua0FjY291bnQocGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudFBhcnNlZF8udGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IExpbmtiYWNrRmxvdyh0aGlzKS5zdGFydChwYXJhbXMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3Vic2NyaXB0aW9uKHNhdmVTdWJzY3JpcHRpb25SZXF1ZXN0Q2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudFBhcnNlZF8udGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IExpbmtTYXZlRmxvdyh0aGlzLCBzYXZlU3Vic2NyaXB0aW9uUmVxdWVzdENhbGxiYWNrKS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzaG93TG9naW5Qcm9tcHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBMb2dpblByb21wdEFwaSh0aGlzKS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzaG93TG9naW5Ob3RpZmljYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBMb2dpbk5vdGlmaWNhdGlvbkFwaSh0aGlzKS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbk5hdGl2ZVN1YnNjcmliZVJlcXVlc3QoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrc18uc2V0T25TdWJzY3JpYmVSZXF1ZXN0KGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2V0T25TdWJzY3JpYmVSZXNwb25zZShjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2tzXy5zZXRPblN1YnNjcmliZVJlc3BvbnNlKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2V0T25QYXltZW50UmVzcG9uc2UoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrc18uc2V0T25QYXltZW50UmVzcG9uc2UoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdWJzY3JpYmUoc2t1KSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICdUaGUgc3Vic2NyaWJlKCkgbWV0aG9kIGNhbiBvbmx5IHRha2UgYSBza3UgYXMgaXRzIHBhcmFtZXRlcjsgJyArXG4gICAgICAnZm9yIHN1YnNjcmlwdGlvbiB1cGRhdGVzIHBsZWFzZSB1c2UgdGhlIHVwZGF0ZVN1YnNjcmlwdGlvbigpIG1ldGhvZCc7XG4gICAgYXNzZXJ0KHR5cGVvZiBza3UgPT09ICdzdHJpbmcnLCBlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50UGFyc2VkXy50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUGF5U3RhcnRGbG93KHRoaXMsIHsnc2t1SWQnOiBza3V9KS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uUmVxdWVzdCkge1xuICAgIGFzc2VydChcbiAgICAgIGlzRXhwZXJpbWVudE9uKHRoaXMud2luXywgRXhwZXJpbWVudEZsYWdzLlJFUExBQ0VfU1VCU0NSSVBUSU9OKSxcbiAgICAgICdOb3QgeWV0IGxhdW5jaGVkISdcbiAgICApO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAnVGhlIHVwZGF0ZVN1YnNjcmlwdGlvbigpIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBmb3Igc3Vic2NyaXB0aW9uICcgK1xuICAgICAgJ3VwZGF0ZXM7IGZvciBuZXcgc3Vic2NyaXB0aW9ucyBwbGVhc2UgdXNlIHRoZSBzdWJzY3JpYmUoKSBtZXRob2QnO1xuICAgIGFzc2VydChcbiAgICAgIHN1YnNjcmlwdGlvblJlcXVlc3QgPyBzdWJzY3JpcHRpb25SZXF1ZXN0WydvbGRTa3UnXSA6IGZhbHNlLFxuICAgICAgZXJyb3JNZXNzYWdlXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudFBhcnNlZF8udGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFBheVN0YXJ0Rmxvdyh0aGlzLCBzdWJzY3JpcHRpb25SZXF1ZXN0KS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbkNvbnRyaWJ1dGlvblJlc3BvbnNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3NfLnNldE9uQ29udHJpYnV0aW9uUmVzcG9uc2UoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjb250cmlidXRlKHNrdU9yU3Vic2NyaXB0aW9uUmVxdWVzdCkge1xuICAgIC8qKiBAdHlwZSB7IS4uL2FwaS9zdWJzY3JpcHRpb25zLlN1YnNjcmlwdGlvblJlcXVlc3R9ICovXG4gICAgY29uc3QgcmVxdWVzdCA9XG4gICAgICB0eXBlb2Ygc2t1T3JTdWJzY3JpcHRpb25SZXF1ZXN0ID09ICdzdHJpbmcnXG4gICAgICAgID8geydza3VJZCc6IHNrdU9yU3Vic2NyaXB0aW9uUmVxdWVzdH1cbiAgICAgICAgOiBza3VPclN1YnNjcmlwdGlvblJlcXVlc3Q7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRQYXJzZWRfLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQYXlTdGFydEZsb3coXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFByb2R1Y3RUeXBlLlVJX0NPTlRSSUJVVElPTlxuICAgICAgKS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjb21wbGV0ZURlZmVycmVkQWNjb3VudENyZWF0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudFBhcnNlZF8udGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IERlZmVycmVkQWNjb3VudEZsb3codGhpcywgb3B0aW9ucyB8fCBudWxsKS5zdGFydCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbkZsb3dTdGFydGVkKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3NfLnNldE9uRmxvd1N0YXJ0ZWQoY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRPbkZsb3dDYW5jZWxlZChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2tzXy5zZXRPbkZsb3dDYW5jZWxlZChjYWxsYmFjayk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNyZWF0ZUJ1dHRvbihvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spIHtcbiAgICAvLyBUaGlzIGlzIGEgbWlub3IgZHVwbGljYXRpb24gdG8gYWxsb3cgdGhpcyBjb2RlIHRvIGJlIHN5bmMuXG4gICAgcmV0dXJuIHRoaXMuYnV0dG9uQXBpXy5jcmVhdGUob3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYXR0YWNoQnV0dG9uKGJ1dHRvbiwgb3B0aW9uc09yQ2FsbGJhY2ssIGNhbGxiYWNrKSB7XG4gICAgLy8gVGhpcyBpcyBhIG1pbm9yIGR1cGxpY2F0aW9uIHRvIGFsbG93IHRoaXMgY29kZSB0byBiZSBzeW5jLlxuICAgIHRoaXMuYnV0dG9uQXBpXy5hdHRhY2goYnV0dG9uLCBvcHRpb25zT3JDYWxsYmFjaywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhdHRhY2hTbWFydEJ1dHRvbihidXR0b24sIG9wdGlvbnNPckNhbGxiYWNrLCBjYWxsYmFjaykge1xuICAgIGFzc2VydChcbiAgICAgIGlzRXhwZXJpbWVudE9uKHRoaXMud2luXywgRXhwZXJpbWVudEZsYWdzLlNNQVJUQk9YKSxcbiAgICAgICdOb3QgeWV0IGxhdW5jaGVkISdcbiAgICApO1xuICAgIHRoaXMuYnV0dG9uQXBpXy5hdHRhY2hTbWFydEJ1dHRvbihcbiAgICAgIHRoaXMsXG4gICAgICBidXR0b24sXG4gICAgICBvcHRpb25zT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJvcGVuc2l0eU1vZHVsZSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMucHJvcGVuc2l0eU1vZHVsZV8pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgb25lIGV4aXN0cyBhcyBhbiBpbnRlcm5hbCBoZWxwZXIgc28gU3dHIGxvZ2dpbmcgZG9lc24ndCByZXF1aXJlIGEgcHJvbWlzZS5cbiAgICogQHJldHVybiB7IUNsaWVudEV2ZW50TWFuYWdlcn1cbiAgICovXG4gIGV2ZW50TWFuYWdlcigpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudE1hbmFnZXJfO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGFzdCBzdWJzY3JpcHRpb24gb2ZmZXJzIGZsb3cuXG4gICAqIEByZXR1cm4gez9PZmZlcnNGbG93fVxuICAgKi9cbiAgZ2V0TGFzdE9mZmVyc0Zsb3coKSB7XG4gICAgcmV0dXJuIHRoaXMubGFzdE9mZmVyc0Zsb3dfO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgb25lIGV4aXN0cyBhcyBhIHB1YmxpYyBBUEkgc28gcHVibGlzaGVycyBjYW4gc3Vic2NyaWJlIHRvIFN3RyBldmVudHMuXG4gICAqIEBvdmVycmlkZSAqL1xuICBnZXRFdmVudE1hbmFnZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmV2ZW50TWFuYWdlcl8pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRMb2dnZXIoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmxvZ2dlcl8pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzZXRTaG93Y2FzZUVudGl0bGVtZW50KGVudGl0bGVtZW50KSB7XG4gICAgaWYgKFxuICAgICAgIWVudGl0bGVtZW50IHx8XG4gICAgICAhaXNTZWN1cmUodGhpcy53aW4oKS5sb2NhdGlvbikgfHxcbiAgICAgICFxdWVyeVN0cmluZ0hhc0ZyZXNoR2FhUGFyYW1zKFxuICAgICAgICB0aGlzLndpbigpLmxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgLyphbGxvd0FsbEFjY2Vzc1R5cGVzPSovIHRydWVcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBldmVudHNUb0xvZyA9XG4gICAgICBzaG93Y2FzZUV2ZW50VG9BbmFseXRpY3NFdmVudHMoZW50aXRsZW1lbnQuZW50aXRsZW1lbnQpIHx8IFtdO1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBFdmVudFBhcmFtcygpO1xuICAgIHBhcmFtcy5zZXRJc1VzZXJSZWdpc3RlcmVkKGVudGl0bGVtZW50LmlzVXNlclJlZ2lzdGVyZWQpO1xuICAgIGlmIChlbnRpdGxlbWVudC5zdWJzY3JpcHRpb25UaW1lc3RhbXApIHtcbiAgICAgIHBhcmFtcy5zZXRTdWJzY3JpcHRpb25UaW1lc3RhbXAoXG4gICAgICAgIHRvVGltZXN0YW1wKFxuICAgICAgICAgIGNvbnZlcnRQb3RlbnRpYWxUaW1lc3RhbXBUb01pbGxpc2Vjb25kcyhcbiAgICAgICAgICAgIGVudGl0bGVtZW50LnN1YnNjcmlwdGlvblRpbWVzdGFtcFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50c1RvTG9nLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmV2ZW50TWFuYWdlcigpLmxvZ0V2ZW50KHtcbiAgICAgICAgZXZlbnRUeXBlOiBldmVudHNUb0xvZ1tpXSxcbiAgICAgICAgZXZlbnRPcmlnaW5hdG9yOiBFdmVudE9yaWdpbmF0b3IuU0hPV0NBU0VfQ0xJRU5ULFxuICAgICAgICBpc0Zyb21Vc2VyQWN0aW9uOiBmYWxzZSxcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IHBhcmFtcyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY29uc3VtZVNob3djYXNlRW50aXRsZW1lbnRKd3Qoc2hvd2Nhc2VFbnRpdGxlbWVudEp3dCwgb25DbG9zZURpYWxvZykge1xuICAgIGNvbnN0IGVudGl0bGVtZW50cyA9IHRoaXMuZW50aXRsZW1lbnRzTWFuYWdlcigpLnBhcnNlRW50aXRsZW1lbnRzKHtcbiAgICAgIHNpZ25lZEVudGl0bGVtZW50czogc2hvd2Nhc2VFbnRpdGxlbWVudEp3dCxcbiAgICB9KTtcbiAgICBlbnRpdGxlbWVudHMuY29uc3VtZShvbkNsb3NlRGlhbG9nKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2hvd0Jlc3RBdWRpZW5jZUFjdGlvbigpIHtcbiAgICB3YXJuKCdOb3QgaW1wbGVtZW50ZWQgeWV0Jyk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNldFB1Ymxpc2hlclByb3ZpZGVkSWQocHVibGlzaGVyUHJvdmlkZWRJZCkge1xuICAgIHRoaXMucHVibGlzaGVyUHJvdmlkZWRJZF8gPSBwdWJsaXNoZXJQcm92aWRlZElkO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHshUnVudGltZX0gcnVudGltZVxuICogQHJldHVybiB7IVN1YnNjcmlwdGlvbnNJbnRlcmZhY2V9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVB1YmxpY1J1bnRpbWUocnVudGltZSkge1xuICByZXR1cm4gLyoqIEB0eXBlIHshU3Vic2NyaXB0aW9uc0ludGVyZmFjZX0gKi8gKHtcbiAgICBpbml0OiBydW50aW1lLmluaXQuYmluZChydW50aW1lKSxcbiAgICBjb25maWd1cmU6IHJ1bnRpbWUuY29uZmlndXJlLmJpbmQocnVudGltZSksXG4gICAgc3RhcnQ6IHJ1bnRpbWUuc3RhcnQuYmluZChydW50aW1lKSxcbiAgICByZXNldDogcnVudGltZS5yZXNldC5iaW5kKHJ1bnRpbWUpLFxuICAgIGNsZWFyOiBydW50aW1lLmNsZWFyLmJpbmQocnVudGltZSksXG4gICAgZ2V0RW50aXRsZW1lbnRzOiBydW50aW1lLmdldEVudGl0bGVtZW50cy5iaW5kKHJ1bnRpbWUpLFxuICAgIGxpbmtBY2NvdW50OiBydW50aW1lLmxpbmtBY2NvdW50LmJpbmQocnVudGltZSksXG4gICAgc2hvd0xvZ2luUHJvbXB0OiBydW50aW1lLnNob3dMb2dpblByb21wdC5iaW5kKHJ1bnRpbWUpLFxuICAgIHNob3dMb2dpbk5vdGlmaWNhdGlvbjogcnVudGltZS5zaG93TG9naW5Ob3RpZmljYXRpb24uYmluZChydW50aW1lKSxcbiAgICBnZXRPZmZlcnM6IHJ1bnRpbWUuZ2V0T2ZmZXJzLmJpbmQocnVudGltZSksXG4gICAgc2hvd09mZmVyczogcnVudGltZS5zaG93T2ZmZXJzLmJpbmQocnVudGltZSksXG4gICAgc2hvd1VwZGF0ZU9mZmVyczogcnVudGltZS5zaG93VXBkYXRlT2ZmZXJzLmJpbmQocnVudGltZSksXG4gICAgc2hvd0FiYnJ2T2ZmZXI6IHJ1bnRpbWUuc2hvd0FiYnJ2T2ZmZXIuYmluZChydW50aW1lKSxcbiAgICBzaG93U3Vic2NyaWJlT3B0aW9uOiBydW50aW1lLnNob3dTdWJzY3JpYmVPcHRpb24uYmluZChydW50aW1lKSxcbiAgICBzaG93Q29udHJpYnV0aW9uT3B0aW9uczogcnVudGltZS5zaG93Q29udHJpYnV0aW9uT3B0aW9ucy5iaW5kKHJ1bnRpbWUpLFxuICAgIHdhaXRGb3JTdWJzY3JpcHRpb25Mb29rdXA6IHJ1bnRpbWUud2FpdEZvclN1YnNjcmlwdGlvbkxvb2t1cC5iaW5kKHJ1bnRpbWUpLFxuICAgIHN1YnNjcmliZTogcnVudGltZS5zdWJzY3JpYmUuYmluZChydW50aW1lKSxcbiAgICB1cGRhdGVTdWJzY3JpcHRpb246IHJ1bnRpbWUudXBkYXRlU3Vic2NyaXB0aW9uLmJpbmQocnVudGltZSksXG4gICAgY29udHJpYnV0ZTogcnVudGltZS5jb250cmlidXRlLmJpbmQocnVudGltZSksXG4gICAgY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbjpcbiAgICAgIHJ1bnRpbWUuY29tcGxldGVEZWZlcnJlZEFjY291bnRDcmVhdGlvbi5iaW5kKHJ1bnRpbWUpLFxuICAgIHNldE9uRW50aXRsZW1lbnRzUmVzcG9uc2U6IHJ1bnRpbWUuc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZS5iaW5kKHJ1bnRpbWUpLFxuICAgIHNldE9uTG9naW5SZXF1ZXN0OiBydW50aW1lLnNldE9uTG9naW5SZXF1ZXN0LmJpbmQocnVudGltZSksXG4gICAgdHJpZ2dlckxvZ2luUmVxdWVzdDogcnVudGltZS50cmlnZ2VyTG9naW5SZXF1ZXN0LmJpbmQocnVudGltZSksXG4gICAgc2V0T25MaW5rQ29tcGxldGU6IHJ1bnRpbWUuc2V0T25MaW5rQ29tcGxldGUuYmluZChydW50aW1lKSxcbiAgICBzZXRPbk5hdGl2ZVN1YnNjcmliZVJlcXVlc3Q6XG4gICAgICBydW50aW1lLnNldE9uTmF0aXZlU3Vic2NyaWJlUmVxdWVzdC5iaW5kKHJ1bnRpbWUpLFxuICAgIHNldE9uUGF5bWVudFJlc3BvbnNlOiBydW50aW1lLnNldE9uUGF5bWVudFJlc3BvbnNlLmJpbmQocnVudGltZSksXG4gICAgc2V0T25TdWJzY3JpYmVSZXNwb25zZTogcnVudGltZS5zZXRPblN1YnNjcmliZVJlc3BvbnNlLmJpbmQocnVudGltZSksXG4gICAgc2V0T25Db250cmlidXRpb25SZXNwb25zZTogcnVudGltZS5zZXRPbkNvbnRyaWJ1dGlvblJlc3BvbnNlLmJpbmQocnVudGltZSksXG4gICAgc2V0T25GbG93U3RhcnRlZDogcnVudGltZS5zZXRPbkZsb3dTdGFydGVkLmJpbmQocnVudGltZSksXG4gICAgc2V0T25GbG93Q2FuY2VsZWQ6IHJ1bnRpbWUuc2V0T25GbG93Q2FuY2VsZWQuYmluZChydW50aW1lKSxcbiAgICBzYXZlU3Vic2NyaXB0aW9uOiBydW50aW1lLnNhdmVTdWJzY3JpcHRpb24uYmluZChydW50aW1lKSxcbiAgICBjcmVhdGVCdXR0b246IHJ1bnRpbWUuY3JlYXRlQnV0dG9uLmJpbmQocnVudGltZSksXG4gICAgYXR0YWNoQnV0dG9uOiBydW50aW1lLmF0dGFjaEJ1dHRvbi5iaW5kKHJ1bnRpbWUpLFxuICAgIGF0dGFjaFNtYXJ0QnV0dG9uOiBydW50aW1lLmF0dGFjaFNtYXJ0QnV0dG9uLmJpbmQocnVudGltZSksXG4gICAgZ2V0UHJvcGVuc2l0eU1vZHVsZTogcnVudGltZS5nZXRQcm9wZW5zaXR5TW9kdWxlLmJpbmQocnVudGltZSksXG4gICAgZ2V0TG9nZ2VyOiBydW50aW1lLmdldExvZ2dlci5iaW5kKHJ1bnRpbWUpLFxuICAgIGdldEV2ZW50TWFuYWdlcjogcnVudGltZS5nZXRFdmVudE1hbmFnZXIuYmluZChydW50aW1lKSxcbiAgICBzZXRTaG93Y2FzZUVudGl0bGVtZW50OiBydW50aW1lLnNldFNob3djYXNlRW50aXRsZW1lbnQuYmluZChydW50aW1lKSxcbiAgICBjb25zdW1lU2hvd2Nhc2VFbnRpdGxlbWVudEp3dDpcbiAgICAgIHJ1bnRpbWUuY29uc3VtZVNob3djYXNlRW50aXRsZW1lbnRKd3QuYmluZChydW50aW1lKSxcbiAgICBzaG93QmVzdEF1ZGllbmNlQWN0aW9uOiBydW50aW1lLnNob3dCZXN0QXVkaWVuY2VBY3Rpb24uYmluZChydW50aW1lKSxcbiAgICBzZXRQdWJsaXNoZXJQcm92aWRlZElkOiBydW50aW1lLnNldFB1Ymxpc2hlclByb3ZpZGVkSWQuYmluZChydW50aW1lKSxcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7YWRkUXVlcnlQYXJhbSwgcGFyc2VRdWVyeVN0cmluZywgcGFyc2VVcmx9IGZyb20gJy4uL3V0aWxzL3VybCc7XG5cbi8qKlxuICogSGF2ZSB0byBwdXQgdGhlc2UgaW4gdGhlIG1hcCB0byBhdm9pZCBjb21waWxlciBvcHRpbWl6YXRpb24uIER1ZSB0b1xuICogb3B0aW1pemF0aW9uIGlzc3VlcywgdGhpcyBtYXAgb25seSBhbGxvd3MgcHJvcGVydHktc3R5bGUga2V5cy4gRS5nLiBcImhyMVwiLFxuICogYXMgb3Bwb3NlZCB0byBcIjFoclwiLlxuICogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBudW1iZXI+fVxuICogQHBhY2thZ2UgVmlzaWJsZSBmb3IgdGVzdGluZyBvbmx5LlxuICovXG5leHBvcnQgY29uc3QgQ0FDSEVfS0VZUyA9IHtcbiAgJ3plcm8nOiAwLCAvL3Rlc3RpbmcgdmFsdWVcbiAgJ25vY2FjaGUnOiAxLFxuICAnaHIxJzogMzYwMDAwMCwgLy8gMWhyID0gMTAwMCAqIDYwICogNjBcbiAgJ2hyMTInOiA0MzIwMDAwMCwgLy8gMTJociA9IDEwMDAgKiA2MCAqIDYwICogMTJcbn07XG5cbi8qKlxuICogRGVmYXVsdCBvcGVyYXRpbmcgTW9kZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVCA9IHtcbiAgZnJvbnRFbmQ6ICckZnJvbnRlbmQkJyxcbiAgcGF5RW52OiAnJHBheUVudmlyb25tZW50JCcsXG4gIHBsYXlFbnY6ICckcGxheUVudmlyb25tZW50JCcsXG4gIGZlQ2FjaGU6ICckZnJvbnRlbmRDYWNoZSQnLFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IG9wZXJhdGluZyBNb2RlXG4gKi9cbmNvbnN0IFBST0QgPSB7XG4gIGZyb250RW5kOiAnaHR0cHM6Ly9uZXdzLmdvb2dsZS5jb20nLFxuICBwYXlFbnY6ICdQUk9EVUNUSU9OJyxcbiAgcGxheUVudjogJ1BST0QnLFxuICBmZUNhY2hlOiBDQUNIRV9LRVlTLmhyMSxcbn07XG5cbi8qKlxuICogRGVmYXVsdCBvcGVyYXRpbmcgTW9kZVxuICovXG5jb25zdCBBVVRPUFVTSCA9IHtcbiAgZnJvbnRFbmQ6ICdodHRwczovL3N1YnNjcmliZS1hdXRvcHVzaC5zYW5kYm94Lmdvb2dsZS5jb20nLFxuICBwYXlFbnY6ICdQUk9EVUNUSU9OJyxcbiAgcGxheUVudjogJ0FVVE9QVVNIJyxcbiAgZmVDYWNoZTogQ0FDSEVfS0VZUy5ub2NhY2hlLFxufTtcblxuLyoqXG4gKiBEZWZhdWx0IG9wZXJhdGluZyBNb2RlXG4gKi9cbmNvbnN0IFFVQUwgPSB7XG4gIGZyb250RW5kOiAnaHR0cHM6Ly9zdWJzY3JpYmUtcXVhbC5zYW5kYm94Lmdvb2dsZS5jb20nLFxuICBwYXlFbnY6ICdTQU5EQk9YJyxcbiAgcGxheUVudjogJ1NUQUdJTkcnLFxuICBmZUNhY2hlOiBDQUNIRV9LRVlTLmhyMSxcbn07XG5cbi8qKlxuICogT3BlcmF0aW5nIG1vZGVzLCBvbmx5IHJ1bnRpbWUgc3dpdGNoZ2FibGUgbW9kZXMgYXJlIGhlcmVcbiAqIGJ1aWxkIHRpbWUgbW9kZXMgc2V0IHRoZSBkZWZhdWx0IGFuZCBhcmUgY29uZmlndXJlZCBpbiBwcmVwYXJlLnNoXG4gKlxuICogSU1QT1JUQU5UOiBtb2RlcyBvdGhlciB0aGFuIHByb2Qgd2lsbCBvbmx5IHdvcmsgb24gZ29vZ2xlIGludGVybmFsIG5ldHdvcmtzIVxuICogQHR5cGUgeyFPYmplY3Q8T2JqZWN0Pn1cbiAqIEBwYWNrYWdlIFZpc2libGUgZm9yIHRlc3Rpbmcgb25seS5cbiAqL1xuZXhwb3J0IGNvbnN0IE1PREVTID0ge1xuICAnZGVmYXVsdCc6IERFRkFVTFQsXG4gICdwcm9kJzogUFJPRCxcbiAgJ2F1dG9wdXNoJzogQVVUT1BVU0gsXG4gICdxdWFsJzogUVVBTCxcbn07XG5cbi8qKlxuICogQ2hlY2sgZm9yIHN3Zy5tb2RlPSBpbiB1cmwgZnJhZ2VtbmV0IGlmIGl0IGV4aXN0cyB1c2UgaXRcbiAqIG90aGVyd2lzZSB1c2UgdGhlIGRlZmF1bHQgYnVpbGQgbW9kZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTd2dNb2RlKCkge1xuICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VsZi5sb2NhdGlvbi5oYXNoKTtcbiAgY29uc3Qgc3dnTW9kZSA9IHF1ZXJ5Wydzd2cubW9kZSddO1xuICBpZiAoc3dnTW9kZSAmJiBNT0RFU1tzd2dNb2RlXSkge1xuICAgIHJldHVybiBNT0RFU1tzd2dNb2RlXTtcbiAgfVxuICByZXR1cm4gTU9ERVNbJ2RlZmF1bHQnXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZU9yaWdpbigpIHtcbiAgcmV0dXJuIHBhcnNlVXJsKGdldFN3Z01vZGUoKS5mcm9udEVuZCkub3JpZ2luO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgVVJMLCBlLmcuIFwiL3NlcnZpY2UxXCIuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb21wbGV0ZSBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2aWNlVXJsKHVybCkge1xuICAvLyBBbGxvd3MgdXMgdG8gbWFrZSBBUEkgY2FsbHMgd2l0aCBlbmFibGVkIGV4cGVyaW1lbnRzLlxuICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VsZi5sb2NhdGlvbi5oYXNoKTtcbiAgY29uc3QgZXhwZXJpbWVudHMgPSBxdWVyeVsnc3dnLmV4cGVyaW1lbnRzJ107XG4gIGlmIChleHBlcmltZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICdlJywgZXhwZXJpbWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGAke2dldFN3Z01vZGUoKS5mcm9udEVuZH0vc3dnL18vYXBpL3YxYCArIHVybDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsICBSZWxhdGl2ZSBVUkwsIGUuZy4gXCIvc2VydmljZTFcIi5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbXBsZXRlIFVSTC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkc1VybCh1cmwpIHtcbiAgcmV0dXJuICckYWRzU2VydmVyJCcgKyB1cmw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBVUkwsIGUuZy4gXCIvb2ZmZXJzaWZyYW1lXCIuXG4gKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeFxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+PX0gcGFyYW1zIExpc3Qgb2YgZXh0cmEgcGFyYW1zIHRvIGFwcGVuZCB0byB0aGUgVVJMLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29tcGxldGUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVVcmwoXG4gIHVybCxcbiAgcGFyYW1zID0ge30sXG4gIHVzZVByZWZpeGVkSG9zdFBhdGggPSB0cnVlLFxuICBwcmVmaXggPSAnJ1xuKSB7XG4gIC8vIEFkZCBjYWNoZSBwYXJhbS5cbiAgY29uc3QgcHJlZml4ZWQgPSBwcmVmaXhcbiAgICA/IHVzZVByZWZpeGVkSG9zdFBhdGhcbiAgICAgID8gYHN3Zy8ke3ByZWZpeH1gXG4gICAgICA6IGAke3ByZWZpeH0vc3dnYFxuICAgIDogJ3N3Zyc7XG4gIHVybCA9IGZlQ2FjaGVkKGAke2dldFN3Z01vZGUoKS5mcm9udEVuZH0vJHtwcmVmaXhlZH0vXy91aS92MSR7dXJsfWApO1xuXG4gIC8vIE9wdGlvbmFsbHkgYWRkIGpzbW9kZSBwYXJhbS4gVGhpcyBhbGxvd3MgdXMgdG8gdGVzdCBhZ2FpbnN0IFwiYWdncmVzc2l2ZWx5XCIgY29tcGlsZWQgQm9xIEpTLlxuICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnlTdHJpbmcoc2VsZi5sb2NhdGlvbi5oYXNoKTtcbiAgY29uc3QgYm9xSnNNb2RlID0gcXVlcnlbJ3N3Zy5ib3Fqc21vZGUnXTtcbiAgaWYgKGJvcUpzTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsICdqc21vZGUnLCBib3FKc01vZGUpO1xuICB9XG5cbiAgLy8gQWxsb3dzIHVzIHRvIG9wZW4gaWZyYW1lcyB3aXRoIGVuYWJsZWQgZXhwZXJpbWVudHMuXG4gIGNvbnN0IGV4cGVyaW1lbnRzID0gcXVlcnlbJ3N3Zy5leHBlcmltZW50cyddO1xuICBpZiAoZXhwZXJpbWVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHVybCA9IGFkZFF1ZXJ5UGFyYW0odXJsLCAnZScsIGV4cGVyaW1lbnRzKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgcGFyYW0gaW4gcGFyYW1zKSB7XG4gICAgdXJsID0gYWRkUXVlcnlQYXJhbSh1cmwsIHBhcmFtLCBwYXJhbXNbcGFyYW1dKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBGRSBVUkwuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb21wbGV0ZSBVUkwgaW5jbHVkaW5nIGNhY2hlIHBhcmFtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmVDYWNoZWQodXJsKSB7XG4gIHJldHVybiBhZGRRdWVyeVBhcmFtKHVybCwgJ18nLCBjYWNoZVBhcmFtKGdldFN3Z01vZGUoKS5mZUNhY2hlKSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgPz59IGFyZ3NcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCA/Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZlQXJncyhhcmdzKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGFyZ3MsIHtcbiAgICAnX2NsaWVudCc6ICdTd0cgJGludGVybmFsUnVudGltZVZlcnNpb24kJyxcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlS2V5XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKiBAcGFja2FnZSBWaXNpYmxlIGZvciB0ZXN0aW5nIG9ubHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZVBhcmFtKGNhY2hlS2V5KSB7XG4gIGxldCBwZXJpb2QgPSBDQUNIRV9LRVlTW2NhY2hlS2V5XTtcbiAgaWYgKHBlcmlvZCA9PSBudWxsKSB7XG4gICAgcGVyaW9kID0gMTtcbiAgfVxuICBpZiAocGVyaW9kID09PSAwKSB7XG4gICAgcmV0dXJuICdfJztcbiAgfVxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICByZXR1cm4gU3RyaW5nKHBlcmlvZCA8PSAxID8gbm93IDogTWF0aC5mbG9vcihub3cgLyBwZXJpb2QpKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtTbWFydEJveE1lc3NhZ2V9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4uL3V0aWxzL2RvbSc7XG5pbXBvcnQge2ZlQXJncywgZmVVcmx9IGZyb20gJy4vc2VydmljZXMnO1xuaW1wb3J0IHtzZXRJbXBvcnRhbnRTdHlsZXN9IGZyb20gJy4uL3V0aWxzL3N0eWxlJztcblxuLyoqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59ICovXG5jb25zdCBpZnJhbWVBdHRyaWJ1dGVzID0ge1xuICAnZnJhbWVib3JkZXInOiAnMCcsXG4gICdzY3JvbGxpbmcnOiAnbm8nLFxufTtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVGhlbWUgPSB7XG4gIExJR0hUOiAnbGlnaHQnLFxuICBEQVJLOiAnZGFyaycsXG59O1xuXG4vKipcbiAqIFRoZSBjbGFzcyBmb3IgU21hcnQgYnV0dG9uIEFwaS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNtYXJ0U3Vic2NyaXB0aW9uQnV0dG9uQXBpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGJ1dHRvblxuICAgKiBAcGFyYW0geyEuLi9hcGkvc3Vic2NyaXB0aW9ucy5TbWFydEJ1dHRvbk9wdGlvbnN9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQ9KT19IGNhbGxiYWNrXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzLCBidXR0b24sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IS4vZGVwcy5EZXBzRGVmfSAqL1xuICAgIHRoaXMuZGVwc18gPSBkZXBzO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbl8gPSBkZXBzLndpbigpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IHRoaXMud2luXy5kb2N1bWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gZGVwcy5hY3Rpdml0aWVzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshSFRNTElGcmFtZUVsZW1lbnR9ICovXG4gICAgdGhpcy5pZnJhbWVfID0gLyoqIEB0eXBlIHshSFRNTElGcmFtZUVsZW1lbnR9ICovIChcbiAgICAgIGNyZWF0ZUVsZW1lbnQodGhpcy5kb2NfLCAnaWZyYW1lJywgaWZyYW1lQXR0cmlidXRlcylcbiAgICApO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUVsZW1lbnR9ICovXG4gICAgdGhpcy5idXR0b25fID0gYnV0dG9uO1xuXG4gICAgLyoqIEBwcml2YXRlIHshLi4vYXBpL3N1YnNjcmlwdGlvbnMuU21hcnRCdXR0b25PcHRpb25zfSAqL1xuICAgIHRoaXMub3B0aW9uc18gPSBvcHRpb25zO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCAqL1xuICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5zcmNfID0gZmVVcmwoJy9zbWFydGJveGlmcmFtZScpO1xuXG4gICAgY29uc3QgZnJvbnRlbmRBcmd1bWVudHMgPSB7XG4gICAgICAncHJvZHVjdElkJzogdGhpcy5kZXBzXy5wYWdlQ29uZmlnKCkuZ2V0UHJvZHVjdElkKCksXG4gICAgICAncHVibGljYXRpb25JZCc6IHRoaXMuZGVwc18ucGFnZUNvbmZpZygpLmdldFB1YmxpY2F0aW9uSWQoKSxcbiAgICAgICd0aGVtZSc6ICh0aGlzLm9wdGlvbnNfICYmIHRoaXMub3B0aW9uc18udGhlbWUpIHx8ICdsaWdodCcsXG4gICAgICAnbGFuZyc6ICh0aGlzLm9wdGlvbnNfICYmIHRoaXMub3B0aW9uc18ubGFuZykgfHwgJ2VuJyxcbiAgICB9O1xuICAgIGNvbnN0IG1lc3NhZ2VUZXh0Q29sb3IgPSB0aGlzLm9wdGlvbnNfICYmIHRoaXMub3B0aW9uc18ubWVzc2FnZVRleHRDb2xvcjtcbiAgICBpZiAobWVzc2FnZVRleHRDb2xvcikge1xuICAgICAgZnJvbnRlbmRBcmd1bWVudHNbJ21lc3NhZ2VUZXh0Q29sb3InXSA9IG1lc3NhZ2VUZXh0Q29sb3I7XG4gICAgfVxuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdH0gKi9cbiAgICB0aGlzLmFyZ3NfID0gZmVBcmdzKGZyb250ZW5kQXJndW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1NtYXJ0Qm94TWVzc2FnZX0gc21hcnRCb3hNZXNzYWdlXG4gICAqL1xuICBoYW5kbGVTbWFydEJveENsaWNrXyhzbWFydEJveE1lc3NhZ2UpIHtcbiAgICBpZiAoc21hcnRCb3hNZXNzYWdlICYmIHNtYXJ0Qm94TWVzc2FnZS5nZXRJc0NsaWNrZWQoKSkge1xuICAgICAgdGhpcy5jYWxsYmFja18oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIGNhbGwgdG8gYnVpbGQgYnV0dG9uIGNvbnRlbnQgYW5kIGxpc3RlbnMgZm9yIHRoZSAnY2xpY2snIG1lc3NhZ2UuXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgc3RhcnQoKSB7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuaWZyYW1lXywge1xuICAgICAgJ29wYWNpdHknOiAxLFxuICAgICAgJ3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcbiAgICAgICd0b3AnOiAwLFxuICAgICAgJ2JvdHRvbSc6IDAsXG4gICAgICAnbGVmdCc6IDAsXG4gICAgICAnaGVpZ2h0JzogJzEwMCUnLFxuICAgICAgJ3JpZ2h0JzogMCxcbiAgICAgICd3aWR0aCc6ICcxMDAlJyxcbiAgICB9KTtcbiAgICB0aGlzLmJ1dHRvbl8uYXBwZW5kQ2hpbGQodGhpcy5pZnJhbWVfKTtcbiAgICBjb25zdCBhcmdzID0gdGhpcy5hY3Rpdml0eVBvcnRzXy5hZGREZWZhdWx0QXJndW1lbnRzKHRoaXMuYXJnc18pO1xuICAgIHRoaXMuYWN0aXZpdHlQb3J0c19cbiAgICAgIC5vcGVuSWZyYW1lKHRoaXMuaWZyYW1lXywgdGhpcy5zcmNfLCBhcmdzKVxuICAgICAgLnRoZW4oKHBvcnQpID0+IHtcbiAgICAgICAgcG9ydC5vbihTbWFydEJveE1lc3NhZ2UsIHRoaXMuaGFuZGxlU21hcnRCb3hDbGlja18uYmluZCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5pZnJhbWVfO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IFBSRUZJWCA9ICdzdWJzY3JpYmUuZ29vZ2xlLmNvbSc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHN0b3JhZ2Ugb2YgZGF0YSBpbiBzZXNzaW9uIHN0b3JhZ2UuIElmXG4gKiB5b3UncmUgbG9va2luZyB0byBzdG9yZSBkYXRhIGluIGxvY2FsIHN0b3JhZ2UsIHNlZVxuICogc3JjL3J1bnRpbWUvbG9jYWwtc3RvcmFnZS5Mb2NhbFN0b3JhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdG9yYWdlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih3aW4pIHtcbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshV2luZG93fSAqL1xuICAgIHRoaXMud2luXyA9IHdpbjtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhUHJvbWlzZTw/c3RyaW5nPj59ICovXG4gICAgdGhpcy52YWx1ZXNfID0ge307XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB1c2VMb2NhbFN0b3JhZ2VcbiAgICogQHJldHVybiB7IVByb21pc2U8P3N0cmluZz59XG4gICAqL1xuICBnZXQoa2V5LCB1c2VMb2NhbFN0b3JhZ2UgPSBmYWxzZSkge1xuICAgIGlmICghdGhpcy52YWx1ZXNfW2tleV0pIHtcbiAgICAgIHRoaXMudmFsdWVzX1trZXldID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3Qgc3RvcmFnZSA9IHVzZUxvY2FsU3RvcmFnZVxuICAgICAgICAgID8gdGhpcy53aW5fLmxvY2FsU3RvcmFnZVxuICAgICAgICAgIDogdGhpcy53aW5fLnNlc3Npb25TdG9yYWdlO1xuICAgICAgICBpZiAoc3RvcmFnZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvbHZlKHN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KGtleSkpKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IuXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudmFsdWVzX1trZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHVzZUxvY2FsU3RvcmFnZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHNldChrZXksIHZhbHVlLCB1c2VMb2NhbFN0b3JhZ2UgPSBmYWxzZSkge1xuICAgIHRoaXMudmFsdWVzX1trZXldID0gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHN0b3JhZ2UgPSB1c2VMb2NhbFN0b3JhZ2VcbiAgICAgICAgPyB0aGlzLndpbl8ubG9jYWxTdG9yYWdlXG4gICAgICAgIDogdGhpcy53aW5fLnNlc3Npb25TdG9yYWdlO1xuICAgICAgaWYgKHN0b3JhZ2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleShrZXkpLCB2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBJZ25vcmUgZXJyb3IuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHVzZUxvY2FsU3RvcmFnZVxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX1cbiAgICovXG4gIHJlbW92ZShrZXksIHVzZUxvY2FsU3RvcmFnZSA9IGZhbHNlKSB7XG4gICAgZGVsZXRlIHRoaXMudmFsdWVzX1trZXldO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmFnZSA9IHVzZUxvY2FsU3RvcmFnZVxuICAgICAgICA/IHRoaXMud2luXy5sb2NhbFN0b3JhZ2VcbiAgICAgICAgOiB0aGlzLndpbl8uc2Vzc2lvblN0b3JhZ2U7XG4gICAgICBpZiAoc3RvcmFnZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlS2V5KGtleSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gSWdub3JlIGVycm9yLlxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0b3JhZ2VLZXkoa2V5KSB7XG4gIHJldHVybiBQUkVGSVggKyAnOicgKyBrZXk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7QWN0aXZpdHlJZnJhbWVWaWV3fSBmcm9tICcuLi91aS9hY3Rpdml0eS1pZnJhbWUtdmlldyc7XG5pbXBvcnQge0RlZmVycmVkQWNjb3VudENyZWF0aW9uUmVzcG9uc2V9IGZyb20gJy4uL2FwaS9kZWZlcnJlZC1hY2NvdW50LWNyZWF0aW9uJztcbmltcG9ydCB7ZmVBcmdzLCBmZVVybH0gZnJvbSAnLi9zZXJ2aWNlcyc7XG5cbmNvbnN0IE5PX1BST01JU0VfRVJSID0gJ05vIGFjY291bnQgcHJvbWlzZSBwcm92aWRlZCc7XG5cbmV4cG9ydCBjbGFzcyBXYWl0Rm9yU3Vic2NyaXB0aW9uTG9va3VwQXBpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IS4vZGVwcy5EZXBzRGVmfSBkZXBzXG4gICAqIEBwYXJhbSB7P1Byb21pc2V9IGFjY291bnRQcm9taXNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXBzLCBhY2NvdW50UHJvbWlzZSkge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuL2RlcHMuRGVwc0RlZn0gKi9cbiAgICB0aGlzLmRlcHNfID0gZGVwcztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gZGVwcy53aW4oKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXR5UG9ydHNfID0gZGVwcy5hY3Rpdml0aWVzKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9kaWFsb2ctbWFuYWdlci5EaWFsb2dNYW5hZ2VyfSAqL1xuICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8gPSBkZXBzLmRpYWxvZ01hbmFnZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1Byb21pc2V9ICovXG4gICAgdGhpcy5vcGVuVmlld1Byb21pc2VfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSB7IVByb21pc2V9ICovXG4gICAgdGhpcy5hY2NvdW50UHJvbWlzZV8gPSBhY2NvdW50UHJvbWlzZSB8fCBQcm9taXNlLnJlamVjdChOT19QUk9NSVNFX0VSUik7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshQWN0aXZpdHlJZnJhbWVWaWV3fSAqL1xuICAgIHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3XyA9IG5ldyBBY3Rpdml0eUlmcmFtZVZpZXcoXG4gICAgICB0aGlzLndpbl8sXG4gICAgICB0aGlzLmFjdGl2aXR5UG9ydHNfLFxuICAgICAgZmVVcmwoJy93YWl0Zm9yc3Vic2NyaXB0aW9ubG9va3VwaWZyYW1lJyksXG4gICAgICBmZUFyZ3Moe1xuICAgICAgICBwdWJsaWNhdGlvbklkOiBkZXBzLnBhZ2VDb25maWcoKS5nZXRQdWJsaWNhdGlvbklkKCksXG4gICAgICAgIHByb2R1Y3RJZDogZGVwcy5wYWdlQ29uZmlnKCkuZ2V0UHJvZHVjdElkKCksXG4gICAgICB9KSxcbiAgICAgIC8qIHNob3VsZEZhZGVCb2R5ICovIHRydWUsXG4gICAgICAvKiBoYXNMb2FkaW5nSW5kaWNhdG9yICovIHRydWVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgTG9naW4gRmxvdy5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGFydCgpIHtcbiAgICB0aGlzLm9wZW5WaWV3UHJvbWlzZV8gPSB0aGlzLmRpYWxvZ01hbmFnZXJfLm9wZW5WaWV3KFxuICAgICAgdGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmFjY291bnRQcm9taXNlXy50aGVuKFxuICAgICAgKGFjY291bnQpID0+IHtcbiAgICAgICAgLy8gQWNjb3VudCB3YXMgZm91bmQuXG4gICAgICAgIHRoaXMuZGlhbG9nTWFuYWdlcl8uY29tcGxldGVWaWV3KHRoaXMuYWN0aXZpdHlJZnJhbWVWaWV3Xyk7XG4gICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgfSxcbiAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgdGhpcy5kaWFsb2dNYW5hZ2VyXy5jb21wbGV0ZVZpZXcodGhpcy5hY3Rpdml0eUlmcmFtZVZpZXdfKTtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtWaWV3fSBmcm9tICcuLi9jb21wb25lbnRzL3ZpZXcnO1xuaW1wb3J0IHthY2NlcHRQb3J0UmVzdWx0RGF0YX0gZnJvbSAnLi4vdXRpbHMvYWN0aXZpdHktdXRpbHMnO1xuaW1wb3J0IHtjcmVhdGVFbGVtZW50fSBmcm9tICcuLi91dGlscy9kb20nO1xuaW1wb3J0IHtpc0NhbmNlbEVycm9yfSBmcm9tICcuLi91dGlscy9lcnJvcnMnO1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi9cbmNvbnN0IGlmcmFtZUF0dHJpYnV0ZXMgPSB7XG4gICdmcmFtZWJvcmRlcic6ICcwJyxcbiAgJ3Njcm9sbGluZyc6ICdubycsXG59O1xuXG4vKipcbiAqIENsYXNzIHRvIGJ1aWxkIGFuZCByZW5kZXIgQWN0aXZpdHkgaWZyYW1lIHZpZXcuXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpdml0eUlmcmFtZVZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVdpbmRvd30gd2luXG4gICAqIEBwYXJhbSB7IS4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eVBvcnRzfSBhY3Rpdml0eVBvcnRzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzcmNcbiAgICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgPz49fSBhcmdzIEFkZGl0aW9uYWwgZGF0YSB0byBiZSBwYXNzZWQgdG8gdGhlIGlmcmFtZS5cbiAgICogQHBhcmFtIHtib29sZWFuPX0gc2hvdWxkRmFkZUJvZHlcbiAgICogQHBhcmFtIHtib29sZWFuPX0gaGFzTG9hZGluZ0luZGljYXRvclxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgd2luLFxuICAgIGFjdGl2aXR5UG9ydHMsXG4gICAgc3JjLFxuICAgIGFyZ3MsXG4gICAgc2hvdWxkRmFkZUJvZHkgPSBmYWxzZSxcbiAgICBoYXNMb2FkaW5nSW5kaWNhdG9yID0gZmFsc2VcbiAgKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW5fID0gd2luO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IHRoaXMud2luXy5kb2N1bWVudDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi9cbiAgICB0aGlzLmlmcmFtZV8gPSAvKiogQHR5cGUgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi8gKFxuICAgICAgY3JlYXRlRWxlbWVudCh0aGlzLmRvY18sICdpZnJhbWUnLCBpZnJhbWVBdHRyaWJ1dGVzKVxuICAgICk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGFjdGl2aXR5UG9ydHM7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHtzdHJpbmd9ICovXG4gICAgdGhpcy5zcmNfID0gc3JjO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsID8+fSAqL1xuICAgIHRoaXMuYXJnc18gPSBhcmdzIHx8IHt9O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnNob3VsZEZhZGVCb2R5XyA9IHNob3VsZEZhZGVCb2R5O1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLmhhc0xvYWRpbmdJbmRpY2F0b3JfID0gaGFzTG9hZGluZ0luZGljYXRvcjtcblxuICAgIC8qKiBAcHJpdmF0ZSB7Py4uL2NvbXBvbmVudHMvYWN0aXZpdGllcy5BY3Rpdml0eUlmcmFtZVBvcnR9ICovXG4gICAgdGhpcy5wb3J0XyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHs/ZnVuY3Rpb248IXdlYi1hY3Rpdml0aWVzL2FjdGl2aXR5LXBvcnRzLkFjdGl2aXR5SWZyYW1lUG9ydHwhUHJvbWlzZT59XG4gICAgICovXG4gICAgdGhpcy5wb3J0UmVzb2x2ZXJfID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIEBjb25zdFxuICAgICAqIHshUHJvbWlzZTwhd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMuQWN0aXZpdHlJZnJhbWVQb3J0Pn1cbiAgICAgKi9cbiAgICB0aGlzLnBvcnRQcm9taXNlXyA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLnBvcnRSZXNvbHZlcl8gPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmlmcmFtZV87XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGluaXQoZGlhbG9nKSB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZpdHlQb3J0c19cbiAgICAgIC5vcGVuSWZyYW1lKHRoaXMuaWZyYW1lXywgdGhpcy5zcmNfLCB0aGlzLmFyZ3NfKVxuICAgICAgLnRoZW4oKHBvcnQpID0+IHRoaXMub25PcGVuSWZyYW1lUmVzcG9uc2VfKHBvcnQsIGRpYWxvZykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgZG9jdW1lbnQgc2hvdWxkIGZhZGUgZm9yIHRoaXMgdmlldy5cbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHNob3VsZEZhZGVCb2R5KCkge1xuICAgIHJldHVybiB0aGlzLnNob3VsZEZhZGVCb2R5XztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHRoZSB2aWV3IHNob3dzIGxvYWRpbmcgaW5kaWNhdG9yLlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaGFzTG9hZGluZ0luZGljYXRvcigpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNMb2FkaW5nSW5kaWNhdG9yXztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlJZnJhbWVQb3J0fSBwb3J0XG4gICAqIEBwYXJhbSB7IS4uL2NvbXBvbmVudHMvZGlhbG9nLkRpYWxvZ30gZGlhbG9nXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgb25PcGVuSWZyYW1lUmVzcG9uc2VfKHBvcnQsIGRpYWxvZykge1xuICAgIHRoaXMucG9ydF8gPSBwb3J0O1xuICAgIHRoaXMucG9ydFJlc29sdmVyXyhwb3J0KTtcblxuICAgIHRoaXMucG9ydF8ub25SZXNpemVSZXF1ZXN0KChoZWlnaHQpID0+IHtcbiAgICAgIGRpYWxvZy5yZXNpemVWaWV3KHRoaXMsIGhlaWdodCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5wb3J0Xy53aGVuUmVhZHkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5SWZyYW1lUG9ydD59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBnZXRQb3J0UHJvbWlzZV8oKSB7XG4gICAgcmV0dXJuIHRoaXMucG9ydFByb21pc2VfO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IWZ1bmN0aW9uKG5ldzogVCl9ICBtZXNzYWdlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oPyl9IGNhbGxiYWNrXG4gICAqIEB0ZW1wbGF0ZSBUXG4gICAqL1xuICBvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuZ2V0UG9ydFByb21pc2VfKCkudGhlbigocG9ydCkgPT4ge1xuICAgICAgcG9ydC5vbihtZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshLi4vcHJvdG8vYXBpX21lc3NhZ2VzLk1lc3NhZ2V9IHJlcXVlc3RcbiAgICovXG4gIGV4ZWN1dGUocmVxdWVzdCkge1xuICAgIHRoaXMuZ2V0UG9ydFByb21pc2VfKCkudGhlbigocG9ydCkgPT4ge1xuICAgICAgcG9ydC5leGVjdXRlKHJlcXVlc3QpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgcmVzdWx0cyBmcm9tIHRoZSBjYWxsZXIuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCF3ZWItYWN0aXZpdGllcy9hY3Rpdml0eS1wb3J0cy5BY3Rpdml0eVJlc3VsdD59XG4gICAqL1xuICBhY2NlcHRSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UG9ydFByb21pc2VfKCkudGhlbigocG9ydCkgPT4gcG9ydC5hY2NlcHRSZXN1bHQoKSk7XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0cyByZXN1bHRzIGZyb20gdGhlIGNhbGxlciBhbmQgdmVyaWZpZXMgb3JpZ2luLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVxdWlyZU9yaWdpblxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcXVpcmVPcmlnaW5WZXJpZmllZFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlcXVpcmVTZWN1cmVDaGFubmVsXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFPYmplY3Q+fVxuICAgKi9cbiAgYWNjZXB0UmVzdWx0QW5kVmVyaWZ5KFxuICAgIHJlcXVpcmVPcmlnaW4sXG4gICAgcmVxdWlyZU9yaWdpblZlcmlmaWVkLFxuICAgIHJlcXVpcmVTZWN1cmVDaGFubmVsXG4gICkge1xuICAgIHJldHVybiB0aGlzLmdldFBvcnRQcm9taXNlXygpLnRoZW4oKHBvcnQpID0+IHtcbiAgICAgIHJldHVybiBhY2NlcHRQb3J0UmVzdWx0RGF0YShcbiAgICAgICAgcG9ydCxcbiAgICAgICAgcmVxdWlyZU9yaWdpbixcbiAgICAgICAgcmVxdWlyZU9yaWdpblZlcmlmaWVkLFxuICAgICAgICByZXF1aXJlU2VjdXJlQ2hhbm5lbFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wbGV0ZXMgdGhlIGZsb3cuXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgd2hlbkNvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLmFjY2VwdFJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAgICovXG4gIG9uQ2FuY2VsKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5hY2NlcHRSZXN1bHQoKS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICBpZiAoaXNDYW5jZWxFcnJvcihyZWFzb24pKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc2l6ZWQoKSB7XG4gICAgaWYgKHRoaXMucG9ydF8pIHtcbiAgICAgIHRoaXMucG9ydF8ucmVzaXplZCgpO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4uL3V0aWxzL2RvbSc7XG5cbi8qKlxuICogRGlzcGxheSBjb25maWdyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGxvYWRpbmcgdmlldy5cbiAqXG4gKiBQcm9wZXJ0aWVzOlxuICogLSBhZGRpdGlvbmFsQ2xhc3NlczogTGlzdCBvZiBDU1MgY2xhc3NlcyB0byBhcHBseSB0byB0aGUgbG9hZGluZyBjb250YWluZXIuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgYWRkaXRpb25hbENsYXNzZXM6ICghQXJyYXk8c3RyaW5nPnx1bmRlZmluZWQpLFxuICogfX1cbiAqL1xuZXhwb3J0IGxldCBMb2FkaW5nVmlld0NvbmZpZztcblxuLyoqXG4gKiBMb2FkaW5nIGluZGljYXRvciBjbGFzcy4gQnVpbGRzIHRoZSBsb2FkaW5nIGluZGljYXRvciB2aWV3IHRvIGJlIGluamVjdGVkIGluXG4gKiBwYXJlbnQgZWxlbWVudCA8aWZyYW1lIGNsYXNzPVwic3dnLWRpYWxvZ1wiPiBlbGVtZW50LiBQcm92aWRlcyBtZXRob2RzIHRvXG4gKiBzaG93L2hpZGUgbG9hZGluZyBpbmRpY2F0b3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2FkaW5nVmlldyB7XG4gIC8qKlxuICAgKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gICAqIEBwYXJhbSB7IUxvYWRpbmdWaWV3Q29uZmlnPX0gY29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihkb2MsIGNvbmZpZyA9IHt9KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IGRvYztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMubG9hZGluZ0NvbnRhaW5lcl8gPSBjcmVhdGVFbGVtZW50KFxuICAgICAgdGhpcy5kb2NfLFxuICAgICAgJ3N3Zy1sb2FkaW5nLWNvbnRhaW5lcicsXG4gICAgICB7fVxuICAgICk7XG4gICAgaWYgKGNvbmZpZy5hZGRpdGlvbmFsQ2xhc3Nlcykge1xuICAgICAgZm9yIChjb25zdCBhZGRpdGlvbmFsQ2xhc3Mgb2YgY29uZmlnLmFkZGl0aW9uYWxDbGFzc2VzKSB7XG4gICAgICAgIHRoaXMubG9hZGluZ0NvbnRhaW5lcl8uY2xhc3NMaXN0LmFkZChhZGRpdGlvbmFsQ2xhc3MpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMubG9hZGluZ18gPSBjcmVhdGVFbGVtZW50KHRoaXMuZG9jXywgJ3N3Zy1sb2FkaW5nJywge30pO1xuICAgIHRoaXMubG9hZGluZ0NvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodGhpcy5sb2FkaW5nXyk7XG5cbiAgICB0aGlzLmxvYWRpbmdDb250YWluZXJfLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7XG5cbiAgICAvLyBCdWlsZCB0aGUgYW5pbWF0ZWQgbG9hZGluZyBpbmRpY2F0b3IuXG4gICAgdGhpcy5idWlsZExvYWRpbmdJbmRpY2F0b3JfKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgcG9wdWxhdGVkIGxvYWRpbmcgY29udGFpbmVyLlxuICAgKiBAcmV0dXJuIHshRWxlbWVudH1cbiAgICovXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGluZ0NvbnRhaW5lcl87XG4gIH1cblxuICAvKipcbiAgICogU2hvd3MgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHdpdGhpbiB0aGUgY29udGFpbmVyIGVsZW1lbnQuXG4gICAqL1xuICBzaG93KCkge1xuICAgIHRoaXMubG9hZGluZ0NvbnRhaW5lcl8uc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgbG9hZGluZyBpbmRpY2F0b3Igd2l0aGluIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICovXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5sb2FkaW5nQ29udGFpbmVyXy5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJywgJ2ltcG9ydGFudCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvcHVsYXRlcyB0aGUgbG9hZGluZyBpbmRpdmljYXRvci4gVGhlIHBvcHVsYXRlZCBlbGVtZW50XG4gICAqIGNhbiBiZSBhZGRlZCBpbiBhbnkgdmlldywgd2hlbiByZXF1aXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJ1aWxkTG9hZGluZ0luZGljYXRvcl8oKSB7XG4gICAgY29uc3QgbG9hZGluZ0NvbnRhaW5lciA9IHRoaXMubG9hZGluZ187XG5cbiAgICBjb25zdCBsb2FkaW5nSW5kaWNhdG9yVG9wQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcbiAgICAgIHRoaXMuZG9jXyxcbiAgICAgICdzd2ctbG9hZGluZy1hbmltYXRlJyxcbiAgICAgIHt9XG4gICAgKTtcbiAgICBsb2FkaW5nQ29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRpbmdJbmRpY2F0b3JUb3BDb250YWluZXIpO1xuXG4gICAgY29uc3QgbG9hZGluZ0luZGljYXRvckNoaWxkQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcbiAgICAgIHRoaXMuZG9jXyxcbiAgICAgICdzd2ctbG9hZGluZy1pbWFnZScsXG4gICAgICB7fVxuICAgICk7XG4gICAgbG9hZGluZ0luZGljYXRvclRvcENvbnRhaW5lci5hcHBlbmRDaGlsZChsb2FkaW5nSW5kaWNhdG9yQ2hpbGRDb250YWluZXIpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Y3JlYXRlRWxlbWVudH0gZnJvbSAnLi4vdXRpbHMvZG9tJztcbmltcG9ydCB7cmVzZXRTdHlsZXMsIHNldEltcG9ydGFudFN0eWxlc30gZnJvbSAnLi4vdXRpbHMvc3R5bGUnO1xuaW1wb3J0IHt0cmFuc2l0aW9ufSBmcm9tICcuLi91dGlscy9hbmltYXRpb24nO1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nfG51bWJlcj59ICovXG5leHBvcnQgY29uc3QgdG9hc3RJbXBvcnRhbnRTdHlsZXMgPSB7XG4gICdoZWlnaHQnOiAwLFxufTtcblxuLyoqIEB0eXBlZGVmIHt7XG4gKiAgICB0ZXh0OiBzdHJpbmcsXG4gKiAgICBhY3Rpb246ICh7bGFiZWw6IHN0cmluZywgaGFuZGxlcjogZnVuY3Rpb24oKX18dW5kZWZpbmVkKVxuICogIH19XG4gKi9cbmV4cG9ydCBsZXQgVG9hc3RTcGVjRGVmO1xuXG4vKiogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gKi9cbmNvbnN0IGlmcmFtZUF0dHJpYnV0ZXMgPSB7XG4gICdmcmFtZWJvcmRlcic6ICcwJyxcbiAgJ3Njcm9sbGluZyc6ICdubycsXG4gICdjbGFzcyc6ICdzd2ctdG9hc3QnLFxufTtcblxuLyoqXG4gKiBUaGUgY2xhc3MgTm90aWZpY2F0aW9uIHRvYXN0LlxuICovXG5leHBvcnQgY2xhc3MgVG9hc3Qge1xuICAvKipcbiAgICogQHBhcmFtIHshLi4vcnVudGltZS9kZXBzLkRlcHNEZWZ9IGRlcHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNyY1xuICAgKiBAcGFyYW0gez9PYmplY3Q8c3RyaW5nLCA/Pj19IGFyZ3NcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRlcHMsIHNyYywgYXJncykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyEuLi9tb2RlbC9kb2MuRG9jfSAqL1xuICAgIHRoaXMuZG9jXyA9IGRlcHMuZG9jKCk7XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshLi4vY29tcG9uZW50cy9hY3Rpdml0aWVzLkFjdGl2aXR5UG9ydHN9ICovXG4gICAgdGhpcy5hY3Rpdml0eVBvcnRzXyA9IGRlcHMuYWN0aXZpdGllcygpO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7c3RyaW5nfSAqL1xuICAgIHRoaXMuc3JjXyA9IHNyYztcblxuICAgIC8qKiBAcHJpdmF0ZSB7P09iamVjdDxzdHJpbmcsID8+fSAqL1xuICAgIHRoaXMuYXJnc18gPSBhcmdzIHx8IHt9O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/UHJvbWlzZX0gKi9cbiAgICB0aGlzLmFuaW1hdGluZ18gPSBudWxsO1xuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IUhUTUxJRnJhbWVFbGVtZW50fSAqL1xuICAgIHRoaXMuaWZyYW1lXyA9IC8qKiBAdHlwZSB7IUhUTUxJRnJhbWVFbGVtZW50fSAqLyAoXG4gICAgICBjcmVhdGVFbGVtZW50KHRoaXMuZG9jXy5nZXRXaW4oKS5kb2N1bWVudCwgJ2lmcmFtZScsIGlmcmFtZUF0dHJpYnV0ZXMpXG4gICAgKTtcblxuICAgIHNldEltcG9ydGFudFN0eWxlcyh0aGlzLmlmcmFtZV8sIHRvYXN0SW1wb3J0YW50U3R5bGVzKTtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQcm9taXNlfSAqL1xuICAgIHRoaXMucmVhZHlfID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHRoaXMuaWZyYW1lXy5vbmxvYWQgPSByZXNvbHZlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGlmcmFtZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHshSFRNTElGcmFtZUVsZW1lbnR9XG4gICAqL1xuICBnZXRFbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmlmcmFtZV87XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIG5vdGlmaWNhdGlvbiB0b2FzdC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuZG9jXy5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQodGhpcy5pZnJhbWVfKTsgLy8gRmlyZXMgb25sb2FkLlxuICAgIHJldHVybiB0aGlzLmJ1aWxkVG9hc3RfKCk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIHRoZSBjb250ZW50IG9mIHRoZSBpZnJhbWUuIE9uIGxvYWQsIGFuaW1hdGVzIHRoZSB0b2FzdC5cbiAgICovXG4gIGJ1aWxkVG9hc3RfKCkge1xuICAgIGNvbnN0IHRvYXN0RHVyYXRpb25TZWNvbmRzID0gNztcbiAgICByZXR1cm4gdGhpcy5hY3Rpdml0eVBvcnRzX1xuICAgICAgLm9wZW5JZnJhbWUodGhpcy5pZnJhbWVfLCB0aGlzLnNyY18sIHRoaXMuYXJnc18pXG4gICAgICAudGhlbigocG9ydCkgPT4ge1xuICAgICAgICByZXR1cm4gcG9ydC53aGVuUmVhZHkoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJlc2V0U3R5bGVzKHRoaXMuaWZyYW1lXywgWydoZWlnaHQnXSk7XG5cbiAgICAgICAgdGhpcy5hbmltYXRlXygoKSA9PiB7XG4gICAgICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuaWZyYW1lXywge1xuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGVZKDEwMCUpJyxcbiAgICAgICAgICAgICdvcGFjdGl5JzogMSxcbiAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0cmFuc2l0aW9uKFxuICAgICAgICAgICAgdGhpcy5pZnJhbWVfLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgICAgICAnb3BhY2l0eSc6IDEsXG4gICAgICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDQwMCxcbiAgICAgICAgICAgICdlYXNlLW91dCdcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDbG9zZSB0aGUgVG9hc3QgYWZ0ZXIgdGhlIHNwZWNpZmllZCBkdXJhdGlvbi5cbiAgICAgICAgdGhpcy5kb2NfLmdldFdpbigpLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSwgKHRvYXN0RHVyYXRpb25TZWNvbmRzICsgMSkgKiAxMDAwKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTohUHJvbWlzZX0gY2FsbGJhY2tcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhbmltYXRlXyhjYWxsYmFjaykge1xuICAgIGNvbnN0IHdhaXQgPSB0aGlzLmFuaW1hdGluZ18gfHwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgcmV0dXJuICh0aGlzLmFuaW1hdGluZ18gPSB3YWl0XG4gICAgICAudGhlbigoKSA9PiBjYWxsYmFjaygpKVxuICAgICAgLy8gSWdub3JlIGVycm9ycyB0byBtYWtlIHN1cmUgYW5pbWF0aW9ucyBkb24ndCBnZXQgc3R1Y2suXG4gICAgICAuY2F0Y2goKCkgPT4ge30pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW5nXyA9IG51bGw7XG4gICAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSB0b2FzdC5cbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hbmltYXRlXygoKSA9PiB7XG4gICAgICAvLyBSZW1vdmUgdGhlIHRvYXN0IGZyb20gdGhlIERPTSBhZnRlciBhbmltYXRpb24gaXMgY29tcGxldGUuXG4gICAgICB0aGlzLmRvY18uZ2V0V2luKCkuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZG9jXy5nZXRCb2R5KCkucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWVfKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSwgNTAwKTtcblxuICAgICAgcmV0dXJuIHRyYW5zaXRpb24oXG4gICAgICAgIHRoaXMuaWZyYW1lXyxcbiAgICAgICAge1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgxMDAlKScsXG4gICAgICAgICAgJ29wYWNpdHknOiAxLFxuICAgICAgICAgICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnLFxuICAgICAgICB9LFxuICAgICAgICA0MDAsXG4gICAgICAgICdlYXNlLW91dCdcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0geyEuLi9jb21wb25lbnRzL2FjdGl2aXRpZXMuQWN0aXZpdHlQb3J0RGVmfSBwb3J0XG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWlyZU9yaWdpblxuICogQHBhcmFtIHtib29sZWFufSByZXF1aXJlT3JpZ2luVmVyaWZpZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVxdWlyZVNlY3VyZUNoYW5uZWxcbiAqIEByZXR1cm4geyFQcm9taXNlPCFPYmplY3Q+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWNjZXB0UG9ydFJlc3VsdERhdGEoXG4gIHBvcnQsXG4gIHJlcXVpcmVPcmlnaW4sXG4gIHJlcXVpcmVPcmlnaW5WZXJpZmllZCxcbiAgcmVxdWlyZVNlY3VyZUNoYW5uZWxcbikge1xuICByZXR1cm4gcG9ydC5hY2NlcHRSZXN1bHQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAoXG4gICAgICByZXN1bHQub3JpZ2luICE9IHJlcXVpcmVPcmlnaW4gfHxcbiAgICAgIChyZXF1aXJlT3JpZ2luVmVyaWZpZWQgJiYgIXJlc3VsdC5vcmlnaW5WZXJpZmllZCkgfHxcbiAgICAgIChyZXF1aXJlU2VjdXJlQ2hhbm5lbCAmJiAhcmVzdWx0LnNlY3VyZUNoYW5uZWwpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NoYW5uZWwgbWlzbWF0Y2gnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICB9KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtzZXRJbXBvcnRhbnRTdHlsZXN9IGZyb20gJy4vc3R5bGUnO1xuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFmdGVyIHRoZSBnaXZlbiBkdXJhdGlvbiBvZiBhbmltYXRpb25cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsIC0gRWxlbWVudCB0byBiZSBvYnNlcnZlZC5cbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+fSBwcm9wcyAtIHByb3BlcnRpZXMgdG8gYmUgYW5pbWF0ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb25NaWxsaXMgLSBkdXJhdGlvbiBvZiBhbmltYXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VydmUgLSB0cmFuc2l0aW9uIGZ1bmN0aW9uIGZvciB0aGUgYW5pbWF0aW9uLlxuICogQHJldHVybiB7IVByb21pc2V9IFByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgb25jZSB0aGUgYW5pbWF0aW9uIGlzIGRvbmUgcGxheWluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb24oZWwsIHByb3BzLCBkdXJhdGlvbk1pbGxpcywgY3VydmUpIHtcbiAgY29uc3Qgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgY29uc3QgcHJldmlvdXNUcmFuc2l0aW9uVmFsdWUgPSBlbC5zdHlsZS50cmFuc2l0aW9uIHx8ICcnO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB3aW4uc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB3aW4uc2V0VGltZW91dChyZXNvbHZlLCBkdXJhdGlvbk1pbGxpcyk7XG4gICAgICBjb25zdCB0ciA9IGAke2R1cmF0aW9uTWlsbGlzfW1zICR7Y3VydmV9YDtcbiAgICAgIHNldEltcG9ydGFudFN0eWxlcyhcbiAgICAgICAgZWwsXG4gICAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAge1xuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiBgdHJhbnNmb3JtICR7dHJ9LCBvcGFjaXR5ICR7dHJ9YCxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3BzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pLnRoZW4oKCkgPT4ge1xuICAgIHNldEltcG9ydGFudFN0eWxlcyhlbCwge1xuICAgICAgJ3RyYW5zaXRpb24nOiBwcmV2aW91c1RyYW5zaXRpb25WYWx1ZSxcbiAgICB9KTtcbiAgfSk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2xvZyc7XG5cbi8qKlxuICogQ2hhcmFjdGVyIG1hcHBpbmcgZnJvbSBiYXNlNjR1cmwgdG8gYmFzZTY0LlxuICogQGNvbnN0IHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuY29uc3QgYmFzZTY0VXJsRGVjb2RlU3VicyA9IHsnLSc6ICcrJywgJ18nOiAnLyd9O1xuXG4vKipcbiAqIENoYXJhY3RlciBtYXBwaW5nIGZyb20gYmFzZTY0IHRvIGJhc2U2NHVybC5cbiAqIEBjb25zdCB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmNvbnN0IGJhc2U2NFVybEVuY29kZVN1YnMgPSB7JysnOiAnLScsICcvJzogJ18nLCAnPSc6ICcnfTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIHN0cmluZyB3aGljaCBob2xkcyA4LWJpdCBjb2RlIHBvaW50cywgc3VjaCBhcyB0aGUgcmVzdWx0IG9mIGF0b2IsXG4gKiBpbnRvIGEgVWludDhBcnJheSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGJ5dGVzLlxuICogSWYgeW91IGhhdmUgYSBzdHJpbmcgb2YgY2hhcmFjdGVycywgeW91IHByb2JhYmx5IHdhbnQgdG8gYmUgdXNpbmcgdXRmOEVuY29kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4geyFVaW50OEFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShzdHIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIGFzc2VydChjaGFyQ29kZSA8PSAyNTUsICdDaGFyYWN0ZXJzIG11c3QgYmUgaW4gcmFuZ2UgWzAsMjU1XScpO1xuICAgIGJ5dGVzW2ldID0gY2hhckNvZGU7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgOC1iaXQgYnl0ZXMgYXJyYXkgaW50byBhIHN0cmluZ1xuICogQHBhcmFtIHshVWludDhBcnJheX0gYnl0ZXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnl0ZXMpIHtcbiAgLy8gSW50ZW50aW9uYWxseSBhdm9pZHMgU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSBzbyB3ZSBkb24ndCBzdWZmZXIgYVxuICAvLyBzdGFjayBvdmVyZmxvdy4gIzEwNDk1LCBodHRwczovL2pzcGVyZi5jb20vYnl0ZXNUb1N0cmluZy0yXG4gIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KGJ5dGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBhcnJheS5qb2luKCcnKTtcbn1cblxuLyoqXG4gKiBJbnRlcnByZXQgYSBieXRlIGFycmF5IGFzIGEgVVRGLTggc3RyaW5nLlxuICogQHBhcmFtIHshVWludDhBcnJheX0gYnl0ZXNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV0ZjhEZWNvZGVTeW5jKGJ5dGVzKSB7XG4gIGlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKS5kZWNvZGUoYnl0ZXMpO1xuICB9XG4gIGNvbnN0IGFzY2lpU3RyaW5nID0gYnl0ZXNUb1N0cmluZyhuZXcgVWludDhBcnJheShieXRlcykpO1xuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhc2NpaVN0cmluZykpO1xufVxuXG4vKipcbiAqIFR1cm4gYSBzdHJpbmcgaW50byBVVEYtOCBieXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4geyFVaW50OEFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXRmOEVuY29kZVN5bmMoc3RyaW5nKSB7XG4gIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigndXRmLTgnKS5lbmNvZGUoc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gc3RyaW5nVG9CeXRlcyh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSkpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHdoaWNoIGlzIGluIGJhc2U2NHVybCBlbmNvZGluZyBpbnRvIGEgVWludDhBcnJheVxuICogY29udGFpbmluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEByZXR1cm4geyFVaW50OEFycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VXJsRGVjb2RlVG9CeXRlcyhzdHIpIHtcbiAgY29uc3QgZW5jb2RlZCA9IGF0b2Ioc3RyLnJlcGxhY2UoL1stX10vZywgKGNoKSA9PiBiYXNlNjRVcmxEZWNvZGVTdWJzW2NoXSkpO1xuICByZXR1cm4gc3RyaW5nVG9CeXRlcyhlbmNvZGVkKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJ5dGVzIGFycmF5IGludG8gYmFzZTY0dXJsIGVuY29kZWQgc3RyaW5nLlxuICogYmFzZTY0dXJsIGlzIGRlZmluZWQgaW4gUkZDIDQ2NDguIEl0IGlzIHNvbWV0aW1lcyByZWZlcnJlZCB0byBhcyBcIndlYiBzYWZlXCIuXG4gKiBAcGFyYW0geyFVaW50OEFycmF5fSBieXRlc1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0VXJsRW5jb2RlRnJvbUJ5dGVzKGJ5dGVzKSB7XG4gIGNvbnN0IHN0ciA9IGJ5dGVzVG9TdHJpbmcoYnl0ZXMpO1xuICByZXR1cm4gYnRvYShzdHIpLnJlcGxhY2UoL1srLz1dL2csIChjaCkgPT4gYmFzZTY0VXJsRW5jb2RlU3Vic1tjaF0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMSBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBDb25zdGFudHMgPSB7fTtcblxuLyoqXG4gKiBMb2NhbCBzdG9yYWdlIGtleSBmb3Igc3dnVXNlclRva2VuLlxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5Db25zdGFudHMuVVNFUl9UT0tFTiA9ICdVU0VSX1RPS0VOJztcblxuQ29uc3RhbnRzLlJFQURfVElNRSA9ICdSRUFEX1RJTUUnO1xuXG5leHBvcnQge0NvbnN0YW50c307XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDIwIFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7VGltZXN0YW1wfSBmcm9tICcuLi9wcm90by9hcGlfbWVzc2FnZXMnO1xuXG4vKipcbiAqIEBwYXJhbSB7IW51bWJlcn0gbWlsbGlzXG4gKiBAcmV0dXJuIHshVGltZXN0YW1wfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9UaW1lc3RhbXAobWlsbGlzKSB7XG4gIHJldHVybiBuZXcgVGltZXN0YW1wKFxuICAgIFtNYXRoLmZsb29yKG1pbGxpcyAvIDEwMDApLCAobWlsbGlzICUgMTAwMCkgKiAxMDAwMDAwXSxcbiAgICBmYWxzZVxuICApO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgY29udmVydCB0aGUgdGltZXN0YW1wIHByb3ZpZGVkIGJ5IHB1Ymxpc2hlciB0b1xuICogbWlsbGlzZWNvbmRzLiBBbHRob3VnaCB3ZSByZXF1aXJlZCBwdWJsaXNoZXJzIHRvIHByb3ZpZGUgdGltZXN0YW1wIGluXG4gKiBtaWxsaXNlY29uZHMsIGJ1dCB0aGVyZSdzIGEgY2hhbmNlIHRoZXkgbWF5IG5vdCBmb2xsb3cgdGhlIGluc3RydWN0aW9uLlxuICogU28gdGhpcyBmdW5jdGlvbiBzdXBwb3J0cyB0aGUgY29udmVyc2lvbiBvZiBzZWNvbmRzLCBtaWxsaXNlY29uZHMgYW5kXG4gKiBtaWNyb3NlY29uZHMuXG4gKiBAcGFyYW0geyFudW1iZXJ9IHRpbWVzdGFtcCByZXByZXNlbnRlZCBhcyBzZWNvbmRzLCBtaWxsaXNlY29uZHMgb3IgbWljcm9zZWNvbmRzXG4gKiBAcmV0dXJuIHshbnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBvdGVudGlhbFRpbWVzdGFtcFRvU2Vjb25kcyh0aW1lc3RhbXApIHtcbiAgbGV0IHRpbWVzdGFtcEluU2Vjb25kcztcbiAgaWYgKHRpbWVzdGFtcCA+PSAxZTE0IHx8IHRpbWVzdGFtcCA8PSAtMWUxNCkge1xuICAgIC8vIE1pY3Jvc2Vjb25kc1xuICAgIHRpbWVzdGFtcEluU2Vjb25kcyA9IE1hdGguZmxvb3IodGltZXN0YW1wIC8gMWU2KTtcbiAgfSBlbHNlIGlmICh0aW1lc3RhbXAgPj0gMWUxMSB8fCB0aW1lc3RhbXAgPD0gLTNlMTApIHtcbiAgICAvLyBNaWxsaXNlY29uZHNcbiAgICB0aW1lc3RhbXBJblNlY29uZHMgPSBNYXRoLmZsb29yKHRpbWVzdGFtcCAvIDEwMDApO1xuICB9IGVsc2Uge1xuICAgIC8vIFNlY29uZHNcbiAgICB0aW1lc3RhbXBJblNlY29uZHMgPSB0aW1lc3RhbXA7XG4gIH1cbiAgcmV0dXJuIHRpbWVzdGFtcEluU2Vjb25kcztcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFudW1iZXJ9IHRpbWVzdGFtcCByZXByZXNlbnRlZCBhcyBzZWNvbmRzLCBtaWxsaXNlY29uZHMgb3IgbWljcm9zZWNvbmRzXG4gKiBAcmV0dXJuIHshbnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFBvdGVudGlhbFRpbWVzdGFtcFRvTWlsbGlzZWNvbmRzKHRpbWVzdGFtcCkge1xuICBsZXQgdGltZXN0YW1wSW5NaWxsaXNlY29uZHM7XG4gIGlmICh0aW1lc3RhbXAgPj0gMWUxNCB8fCB0aW1lc3RhbXAgPD0gLTFlMTQpIHtcbiAgICAvLyBNaWNyb3NlY29uZHNcbiAgICB0aW1lc3RhbXBJbk1pbGxpc2Vjb25kcyA9IE1hdGguZmxvb3IodGltZXN0YW1wIC8gMTAwMCk7XG4gIH0gZWxzZSBpZiAodGltZXN0YW1wID49IDFlMTEgfHwgdGltZXN0YW1wIDw9IC0zZTEwKSB7XG4gICAgLy8gTWlsbGlzZWNvbmRzXG4gICAgdGltZXN0YW1wSW5NaWxsaXNlY29uZHMgPSB0aW1lc3RhbXA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2Vjb25kc1xuICAgIHRpbWVzdGFtcEluTWlsbGlzZWNvbmRzID0gTWF0aC5mbG9vcih0aW1lc3RhbXAgKiAxMDAwKTtcbiAgfVxuICByZXR1cm4gdGltZXN0YW1wSW5NaWxsaXNlY29uZHM7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRSZWFkeVN0YXRlKGRvYykge1xuICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChkb2NbJ3JlYWR5U3RhdGUnXSk7XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEb2N1bWVudFJlYWR5KGRvYykge1xuICBjb25zdCByZWFkeVN0YXRlID0gZ2V0UmVhZHlTdGF0ZShkb2MpO1xuICByZXR1cm4gcmVhZHlTdGF0ZSAhPSAnbG9hZGluZycgJiYgcmVhZHlTdGF0ZSAhPSAndW5pbml0aWFsaXplZCc7XG59XG5cbi8qKlxuICogV2hldGhlciB0aGUgZG9jdW1lbnQgaGFzIGxvYWRlZCBhbGwgdGhlIGNzcyBhbmQgc3ViLXJlc291cmNlcy5cbiAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2NcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRG9jdW1lbnRDb21wbGV0ZShkb2MpIHtcbiAgcmV0dXJuIGdldFJlYWR5U3RhdGUoZG9jKSA9PSAnY29tcGxldGUnO1xufVxuXG4vKipcbiAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuIGRvY3VtZW50IGlzIHJlYWR5LlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtmdW5jdGlvbighRG9jdW1lbnQpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZnVuY3Rpb24gb25Eb2N1bWVudFJlYWR5KGRvYywgY2FsbGJhY2spIHtcbiAgb25Eb2N1bWVudFN0YXRlKGRvYywgaXNEb2N1bWVudFJlYWR5LCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQ2FsbHMgdGhlIGNhbGxiYWNrIG9uY2Ugd2hlbiBkb2N1bWVudCdzIHN0YXRlIHNhdGlzZmllcyB0aGUgY29uZGl0aW9uLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtmdW5jdGlvbighRG9jdW1lbnQpOmJvb2xlYW59IGNvbmRpdGlvblxuICogQHBhcmFtIHtmdW5jdGlvbighRG9jdW1lbnQpfSBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBvbkRvY3VtZW50U3RhdGUoZG9jLCBjb25kaXRpb24sIGNhbGxiYWNrKSB7XG4gIGlmIChjb25kaXRpb24oZG9jKSkge1xuICAgIC8vIEV4ZWN1dGUgY2FsbGJhY2sgcmlnaHQgbm93LlxuICAgIGNhbGxiYWNrKGRvYyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRXhlY3V0ZSBjYWxsYmFjayAob25jZSEpIGFmdGVyIGNvbmRpdGlvbiBpcyBzYXRpc2ZpZWQuXG4gIGxldCBjYWxsYmFja0hhc0V4ZWN1dGVkID0gZmFsc2U7XG4gIGNvbnN0IHJlYWR5TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgaWYgKGNvbmRpdGlvbihkb2MpICYmICFjYWxsYmFja0hhc0V4ZWN1dGVkKSB7XG4gICAgICBjYWxsYmFjayhkb2MpO1xuICAgICAgY2FsbGJhY2tIYXNFeGVjdXRlZCA9IHRydWU7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIHJlYWR5TGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcbiAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCByZWFkeUxpc3RlbmVyKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gZG9jdW1lbnQgaXMgcmVhZHkuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhRG9jdW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hlbkRvY3VtZW50UmVhZHkoZG9jKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIG9uRG9jdW1lbnRSZWFkeShkb2MsIHJlc29sdmUpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gZG9jdW1lbnQgaXMgY29tcGxldGUuXG4gKiBAcGFyYW0geyFEb2N1bWVudH0gZG9jXG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhRG9jdW1lbnQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hlbkRvY3VtZW50Q29tcGxldGUoZG9jKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIG9uRG9jdW1lbnRTdGF0ZShkb2MsIGlzRG9jdW1lbnRDb21wbGV0ZSwgcmVzb2x2ZSk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtzZXRTdHlsZXN9IGZyb20gJy4vc3R5bGUnO1xuXG4vKiogQGNvbnN0IEBlbnVte3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUxpbmtBdHRycyA9IHtcbiAgJ3JlbCc6ICdzdHlsZXNoZWV0JyxcbiAgJ3R5cGUnOiAndGV4dC9jc3MnLFxufTtcblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuZXhwb3J0IGNvbnN0IHN0eWxlVHlwZSA9ICd0ZXh0L2Nzcyc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmV4cG9ydCBjb25zdCBzdHlsZUV4aXN0c1F1ZXJ5U2VsZWN0b3IgPSAnbGlua1tyZWw9c3R5bGVzaGVldF1baHJlZl0nO1xuXG4vKipcbiAqIEFkZCBhdHRyaWJ1dGVzIHRvIGFuIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyfGJvb2xlYW58IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXJ8Ym9vbGVhbj4+fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJuIHshRWxlbWVudH0gdXBkYXRlZCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQXR0cmlidXRlc1RvRWxlbWVudChlbGVtZW50LCBhdHRyaWJ1dGVzKSB7XG4gIGZvciAoY29uc3QgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKGF0dHIgPT0gJ3N0eWxlJykge1xuICAgICAgc2V0U3R5bGVzKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8Ym9vbGVhbnxudW1iZXI+fSAqL1xuICAgICAgICAoYXR0cmlidXRlc1thdHRyXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICBhdHRyLFxuICAgICAgICAvKiogQHR5cGUge3N0cmluZ3xib29sZWFufG51bWJlcn0gKi8gKGF0dHJpYnV0ZXNbYXR0cl0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgZWxlbWVudCBvbiBkb2N1bWVudCB3aXRoIHNwZWNpZmllZCB0YWdOYW1lIGFuZCBhdHRyaWJ1dGVzLlxuICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWVcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7PyhzdHJpbmd8IU5vZGV8IUFycmF5TGlrZTwhTm9kZT58IUFycmF5PCFOb2RlPik9fSBjb250ZW50XG4gKiBAcmV0dXJuIHshRWxlbWVudH0gY3JlYXRlZCBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudChkb2MsIHRhZ05hbWUsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICBhZGRBdHRyaWJ1dGVzVG9FbGVtZW50KGVsZW1lbnQsIGF0dHJpYnV0ZXMpO1xuICBpZiAoY29udGVudCAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnKSB7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gY29udGVudDtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnQubm9kZVR5cGUpIHtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoLyoqIEB0eXBlIHshTm9kZX0gKi8gKGNvbnRlbnQpKTtcbiAgICB9IGVsc2UgaWYgKCdsZW5ndGgnIGluIGNvbnRlbnQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNvbnRlbnRbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhc3NlcnQoZmFsc2UsICdVbnN1cHBvcnRlZCBjb250ZW50OiAlcycsIGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBlbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IHBhcmVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4ocGFyZW50KSB7XG4gIHBhcmVudC50ZXh0Q29udGVudCA9ICcnO1xufVxuXG4vKipcbiAqIEluamVjdHMgdGhlIHByb3ZpZGVkIHN0eWxlcyBpbiB0aGUgSEVBRCBzZWN0aW9uIG9mIHRoZSBkb2N1bWVudC5cbiAqIEBwYXJhbSB7IS4uL21vZGVsL2RvYy5Eb2N9IGRvYyBUaGUgZG9jdW1lbnQgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlVGV4dCBUaGUgc3R5bGUgc3RyaW5nLlxuICogQHJldHVybiB7IUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RTdHlsZVNoZWV0KGRvYywgc3R5bGVUZXh0KSB7XG4gIGNvbnN0IHN0eWxlRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoZG9jLmdldFdpbigpLmRvY3VtZW50LCAnc3R5bGUnLCB7XG4gICAgJ3R5cGUnOiBzdHlsZVR5cGUsXG4gIH0pO1xuICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZVRleHQ7XG4gIGRvYy5nZXRIZWFkKCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgcmV0dXJuIHN0eWxlRWxlbWVudDtcbn1cblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBlbGVtZW50IGhhdmUgYSBuZXh0IG5vZGUgaW4gdGhlIGRvY3VtZW50IG9yZGVyLlxuICogVGhpcyBtZWFucyBlaXRoZXI6XG4gKiAgYS4gVGhlIGVsZW1lbnQgaXRzZWxmIGhhcyBhIG5leHRTaWJsaW5nLlxuICogIGIuIEFueSBvZiB0aGUgZWxlbWVudCBhbmNlc3RvcnMgaGFzIGEgbmV4dFNpYmxpbmcuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0gez9Ob2RlPX0gc3RvcE5vZGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNOZXh0Tm9kZUluRG9jdW1lbnRPcmRlcihlbGVtZW50LCBzdG9wTm9kZSkge1xuICBsZXQgY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICBkbyB7XG4gICAgaWYgKGN1cnJlbnRFbGVtZW50Lm5leHRTaWJsaW5nKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gd2hpbGUgKFxuICAgIChjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGUpICYmXG4gICAgY3VycmVudEVsZW1lbnQgIT0gc3RvcE5vZGVcbiAgKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIG9mIHRoZSBgTm9kZS5pc0Nvbm5lY3RlZGAgQVBJLiBTZWVcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ob2RlL2lzQ29ubmVjdGVkLlxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29ubmVjdGVkKG5vZGUpIHtcbiAgLy8gRW5zdXJlIHRoYXQgbm9kZSBpcyBhdHRhY2hlZCBpZiBzcGVjaWZpZWQuIFRoaXMgY2hlY2sgdXNlcyBhIG5ldyBhbmRcbiAgLy8gZmFzdCBgaXNDb25uZWN0ZWRgIEFQSSBhbmQgdGh1cyBvbmx5IGNoZWNrZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBpdC5cbiAgLy8gU2VlIGh0dHBzOi8vd3d3LmNocm9tZXN0YXR1cy5jb20vZmVhdHVyZS81Njc2MTEwNTQ5MzUyNDQ4LlxuICBpZiAoJ2lzQ29ubmVjdGVkJyBpbiBub2RlKSB7XG4gICAgcmV0dXJuIG5vZGVbJ2lzQ29ubmVjdGVkJ107XG4gIH1cbiAgLy8gUG9seWZpbGwuXG4gIGNvbnN0IHJvb3QgPSBub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgcmV0dXJuIChyb290ICYmIHJvb3QuY29udGFpbnMobm9kZSkpIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBjdXJyZW50IGJyb3dzZXIgaXMgYSBsZWdhY3kgdmVyc2lvbiBvZiBFZGdlLlxuICpcbiAqIFN0YXJ0aW5nIGluIEphbnVhcnkgMjAyMCwgbmV3IHZlcnNpb25zIG9mIEVkZ2Ugd2lsbCB1c2UgdGhlIENocm9taXVtIGVuZ2luZS5cbiAqIFRoZXNlIHZlcnNpb25zIHdvbid0IGluY2x1ZGUgdGhlIHdvcmQgXCJFZGdlXCIgaW4gdGhlaXIgdXNlcmFnZW50LlxuICogSW5zdGVhZCwgdGhleSdsbCBpbmNsdWRlIHRoZSB3b3JkIFwiRWRnXCIuXG4gKiBTbyBmYXIsIGl0IHNlZW1zIHNhZmUgdG8gYXZvaWQgZGV0ZWN0aW5nIHRoZXNlIG5ldyB2ZXJzaW9ucyBvZiBFZGdlLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xlZ2FjeUVkZ2VCcm93c2VyKHdpbikge1xuICBjb25zdCBuYXYgPSB3aW4ubmF2aWdhdG9yO1xuICByZXR1cm4gL0VkZ2UvaS50ZXN0KG5hdiAmJiBuYXYudXNlckFnZW50KTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMjAgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBUcmlwbGUgemVybyB3aWR0aCBzcGFjZS5cbiAqXG4gKiBUaGlzIGlzIGFkZGVkIHRvIHVzZXIgZXJyb3IgbWVzc2FnZXMsIHNvIHRoYXQgd2UgY2FuIGxhdGVyIGlkZW50aWZ5XG4gKiB0aGVtLCB3aGVuIHRoZSBvbmx5IHRoaW5nIHRoYXQgd2UgaGF2ZSBpcyB0aGUgbWVzc2FnZS4gVGhpcyBpcyB0aGVcbiAqIGNhc2UgaW4gbWFueSBicm93c2VycyB3aGVuIHRoZSBnbG9iYWwgZXhjZXB0aW9uIGhhbmRsZXIgaXMgaW52b2tlZC5cbiAqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEFNUF9VU0VSX0VSUk9SX1NFTlRJTkVMID0gJ1xcdTIwMEJcXHUyMDBCXFx1MjAwQic7XG5cbi8qKlxuICogU29tZSBleGNlcHRpb25zIChET01FeGNlcHRpb24sIG5hbWVseSkgaGF2ZSByZWFkLW9ubHkgbWVzc2FnZS5cbiAqIEBwYXJhbSB7IUVycm9yfSBlcnJvclxuICogQHJldHVybiB7IUVycm9yfVxuICovXG5mdW5jdGlvbiBkdXBsaWNhdGVFcnJvcklmTmVjZXNzYXJ5KGVycm9yKSB7XG4gIGNvbnN0IG1lc3NhZ2VQcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZXJyb3IsICdtZXNzYWdlJyk7XG4gIGlmIChtZXNzYWdlUHJvcGVydHkgJiYgbWVzc2FnZVByb3BlcnR5LndyaXRhYmxlKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG5cbiAgY29uc3Qge21lc3NhZ2UsIHN0YWNrfSA9IGVycm9yO1xuICBjb25zdCBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAvLyBDb3B5IGFsbCB0aGUgZXh0cmFuZW91cyB0aGluZ3Mgd2UgYXR0YWNoLlxuICBmb3IgKGNvbnN0IHByb3AgaW4gZXJyb3IpIHtcbiAgICBlW3Byb3BdID0gZXJyb3JbcHJvcF07XG4gIH1cbiAgLy8gRW5zdXJlIHRoZXNlIGFyZSBjb3BpZWQuXG4gIGUuc3RhY2sgPSBzdGFjaztcbiAgcmV0dXJuIGU7XG59XG5cbi8qKlxuICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICogQHJldHVybiB7IUVycm9yfVxuICovXG5mdW5jdGlvbiBjcmVhdGVFcnJvclZhcmdzKHZhcl9hcmdzKSB7XG4gIGxldCBlcnJvciA9IG51bGw7XG4gIGxldCBtZXNzYWdlID0gJyc7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyb3IpIHtcbiAgICAgIGVycm9yID0gZHVwbGljYXRlRXJyb3JJZk5lY2Vzc2FyeShhcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlICs9ICcgJztcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2UgKz0gYXJnO1xuICAgIH1cbiAgfVxuXG4gIGlmICghZXJyb3IpIHtcbiAgICBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlKSB7XG4gICAgZXJyb3IubWVzc2FnZSA9IG1lc3NhZ2UgKyAnOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5cbi8qKiBIZWxwZXIgY2xhc3MgZm9yIHRocm93aW5nIHN0YW5kYXJkaXplZCBlcnJvcnMuICovXG5leHBvcnQgY2xhc3MgRXJyb3JMb2dnZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IuXG4gICAqXG4gICAqIG9wdF9zdWZmaXggd2lsbCBiZSBhcHBlbmRlZCB0byBlcnJvciBtZXNzYWdlIHRvIGlkZW50aWZ5IHRoZSB0eXBlIG9mIHRoZVxuICAgKiBlcnJvciBtZXNzYWdlLiBXZSBjYW4ndCByZWx5IG9uIHRoZSBlcnJvciBvYmplY3QgdG8gcGFzcyBhbG9uZyB0aGUgdHlwZVxuICAgKiBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgZG8gbm90IGhhdmUgdGhpcyBwYXJhbSBpbiBpdHMgd2luZG93Lm9uZXJyb3IgQVBJLlxuICAgKiBTZWU6XG4gICAqIGh0dHBzOi8vYmxvZy5zZW50cnkuaW8vMjAxNi8wMS8wNC9jbGllbnQtamF2YXNjcmlwdC1yZXBvcnRpbmctd2luZG93LW9uZXJyb3IuaHRtbFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9zdWZmaXhcbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdF9zdWZmaXggPSAnJykge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLnN1ZmZpeF8gPSBvcHRfc3VmZml4O1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZGlmaWVzIGFuIGVycm9yIGJlZm9yZSByZXBvcnRpbmcsIHN1Y2ggYXMgdG8gYWRkIG1ldGFkYXRhLlxuICAgKiBAcGFyYW0geyFFcnJvcn0gZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByZXBhcmVFcnJvcl8oZXJyb3IpIHtcbiAgICBpZiAodGhpcy5zdWZmaXhfKSB7XG4gICAgICBpZiAoIWVycm9yLm1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IHRoaXMuc3VmZml4XztcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmRleE9mKHRoaXMuc3VmZml4XykgPT09IC0xKSB7XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgPSB0aGlzLnN1ZmZpeF87XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gZXJyb3IuXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICogQHJldHVybiB7IUVycm9yfVxuICAgKi9cbiAgY3JlYXRlRXJyb3IodmFyX2FyZ3MpIHtcbiAgICBjb25zdCBlcnJvciA9IGNyZWF0ZUVycm9yVmFyZ3MuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxuICAgICk7XG4gICAgdGhpcy5wcmVwYXJlRXJyb3JfKGVycm9yKTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlcnJvciBvYmplY3Qgd2l0aCBpdHMgZXhwZWN0ZWQgcHJvcGVydHkgc2V0IHRvIHRydWUuIFVzZWQgZm9yXG4gICAqIGV4cGVjdGVkIGZhaWx1cmUgc3RhdGVzIChleC4gaW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24sIGxvY2FsU3RvcmFnZVxuICAgKiB1bmF2YWlsYWJsZSBkdWUgdG8gYnJvd3NlciBzZXR0aW5ncywgZXRjLikgYXMgb3Bwb3NlZCB0byB1bmV4cGVjdGVkXG4gICAqIGJyZWFrYWdlcy9mYWlsdXJlcy5cbiAgICogQHBhcmFtIHsuLi4qfSB2YXJfYXJnc1xuICAgKiBAcmV0dXJuIHshRXJyb3J9XG4gICAqL1xuICBjcmVhdGVFeHBlY3RlZEVycm9yKHZhcl9hcmdzKSB7XG4gICAgY29uc3QgZXJyb3IgPSBjcmVhdGVFcnJvclZhcmdzLmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICApO1xuICAgIHRoaXMucHJlcGFyZUVycm9yXyhlcnJvcik7XG4gICAgZXJyb3IuZXhwZWN0ZWQgPSB0cnVlO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYW4gZXJyb3IuXG4gICAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3NcbiAgICogQHRocm93cyB7IUVycm9yfVxuICAgKi9cbiAgZXJyb3IodmFyX2FyZ3MpIHtcbiAgICB0aHJvdyB0aGlzLmNyZWF0ZUVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGFuZCBtYXJrcyB3aXRoIGFuIGV4cGVjdGVkIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzXG4gICAqIEB0aHJvd3MgeyFFcnJvcn1cbiAgICovXG4gIGV4cGVjdGVkRXJyb3IodmFyX2FyZ3MpIHtcbiAgICB0aHJvdyB0aGlzLmNyZWF0ZUV4cGVjdGVkRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5jb25zdCB1c2VyTG9nZ2VyID0gbmV3IEVycm9yTG9nZ2VyKFxuICBzZWxmLl9fQU1QX1RPUCA/IEFNUF9VU0VSX0VSUk9SX1NFTlRJTkVMIDogJydcbik7XG5jb25zdCBkZXZMb2dnZXIgPSBuZXcgRXJyb3JMb2dnZXIoKTtcblxuZXhwb3J0IGNvbnN0IHVzZXIgPSAoKSA9PiB1c2VyTG9nZ2VyO1xuZXhwb3J0IGNvbnN0IGRldiA9ICgpID0+IGRldkxvZ2dlcjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3Qge1xuICBjcmVhdGVBYm9ydEVycm9yLFxuICBpc0Fib3J0RXJyb3IsXG59ID0gcmVxdWlyZSgnd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMnKTtcblxuLyoqXG4gKiBXaGV0aGVyIHRoZSBzcGVjaWZpZWQgZXJyb3IgaXMgYW4gQWJvcnRFcnJvciB0eXBlLlxuICogU2VlIGh0dHBzOi8vaGV5Y2FtLmdpdGh1Yi5pby93ZWJpZGwvI2Fib3J0ZXJyb3IuXG4gKiBAcGFyYW0geyp9IGVycm9yXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDYW5jZWxFcnJvcihlcnJvcikge1xuICByZXR1cm4gaXNBYm9ydEVycm9yKGVycm9yKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIG9yIGVtdWxhdGVzIGEgRE9NRXhjZXB0aW9uIG9mIEFib3J0RXJyb3IgdHlwZS5cbiAqIFNlZSBodHRwczovL2hleWNhbS5naXRodWIuaW8vd2ViaWRsLyNhYm9ydGVycm9yLlxuICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZVxuICogQHJldHVybiB7IURPTUV4Y2VwdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbmNlbEVycm9yKHdpbiwgbWVzc2FnZSkge1xuICByZXR1cm4gY3JlYXRlQWJvcnRFcnJvcih3aW4sIG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEEgc2V0IG9mIGVycm9yIHV0aWxpdGllcyBjb21iaW5lZCBpbiBhIGNsYXNzIHRvIGFsbG93IGVhc3kgc3R1YmJpbmcgaW4gdGVzdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBFcnJvclV0aWxzIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IUVycm9yfSBlcnJvclxuICAgKi9cbiAgc3RhdGljIHRocm93QXN5bmMoZXJyb3IpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH0pO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDIwIFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFBMRUFTRSBETyBOT1QgSE9TVCBUSElTIEZJTEUgWU9VUlNFTEYuIERPSU5HIFNPIFdJTEwgQlJFQUsgVEhJTkdTLlxuLy9cbi8vIFB1Ymxpc2hlcnMgc2hvdWxkIGxvYWQgdGhpcyBmaWxlIGZyb206XG4vLyBodHRwczovL25ld3MuZ29vZ2xlLmNvbS9zd2cvanMvdjEvc3dnLWdhYS5qc1xuLy9cbi8vIFRoYW5rcyFcblxuaW1wb3J0IHtJMThOX1NUUklOR1N9IGZyb20gJy4uL2kxOG4vc3RyaW5ncyc7XG5pbXBvcnQge0p3dEhlbHBlcn0gZnJvbSAnLi9qd3QnO1xuaW1wb3J0IHtcbiAgU2hvd2Nhc2VFdmVudCxcbiAgU3Vic2NyaXB0aW9ucyBhcyBTdWJzY3JpcHRpb25zRGVmLFxufSBmcm9tICcuLi9hcGkvc3Vic2NyaXB0aW9ucyc7XG5pbXBvcnQge1xuICBhZGRRdWVyeVBhcmFtLFxuICBwYXJzZVF1ZXJ5U3RyaW5nLFxuICBwYXJzZVVybCxcbiAgd2FzUmVmZXJyZWRCeUdvb2dsZSxcbn0gZnJvbSAnLi91cmwnO1xuaW1wb3J0IHtkZWJ1Z0xvZywgd2Fybn0gZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtmaW5kSW5BcnJheX0gZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IHtnZXRMYW5ndWFnZUNvZGVGcm9tRWxlbWVudCwgbXNnfSBmcm9tICcuL2kxOG4nO1xuaW1wb3J0IHtwYXJzZUpzb259IGZyb20gJy4vanNvbic7XG5pbXBvcnQge3NldEltcG9ydGFudFN0eWxlc30gZnJvbSAnLi9zdHlsZSc7XG5cbi8vIExvYWQgdHlwZXMgZm9yIENsb3N1cmUgY29tcGlsZXIuXG5pbXBvcnQge0FuYWx5dGljc0V2ZW50LCBFdmVudE9yaWdpbmF0b3J9IGZyb20gJy4uL3Byb3RvL2FwaV9tZXNzYWdlcyc7XG5pbXBvcnQge2NvbnZlcnRQb3RlbnRpYWxUaW1lc3RhbXBUb1NlY29uZHN9IGZyb20gJy4vZGF0ZS11dGlscyc7XG5pbXBvcnQge2NyZWF0ZUVsZW1lbnQsIGluamVjdFN0eWxlU2hlZXR9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7cmVzb2x2ZURvY30gZnJvbSAnLi4vbW9kZWwvZG9jJztcbmltcG9ydCB7c2hvd2Nhc2VFdmVudFRvQW5hbHl0aWNzRXZlbnRzfSBmcm9tICcuLi9ydW50aW1lL2V2ZW50LXR5cGUtbWFwcGluZyc7XG5cbi8qKiBTdGFtcCBmb3IgcG9zdCBtZXNzYWdlcy4gKi9cbmV4cG9ydCBjb25zdCBQT1NUX01FU1NBR0VfU1RBTVAgPSAnc3dnLWdhYS1wb3N0LW1lc3NhZ2Utc3RhbXAnO1xuXG4vKiogSW50cm9kdWN0aW9uIGNvbW1hbmQgZm9yIHBvc3QgbWVzc2FnZXMuICovXG5leHBvcnQgY29uc3QgUE9TVF9NRVNTQUdFX0NPTU1BTkRfSU5UUk9EVUNUSU9OID0gJ2ludHJvZHVjdGlvbic7XG5cbi8qKiBVc2VyIGNvbW1hbmQgZm9yIHBvc3QgbWVzc2FnZXMuICovXG5leHBvcnQgY29uc3QgUE9TVF9NRVNTQUdFX0NPTU1BTkRfVVNFUiA9ICd1c2VyJztcblxuLyoqIEVycm9yIGNvbW1hbmQgZm9yIHBvc3QgbWVzc2FnZXMuICovXG5leHBvcnQgY29uc3QgUE9TVF9NRVNTQUdFX0NPTU1BTkRfRVJST1IgPSAnZXJyb3InO1xuXG4vKiogQnV0dG9uIGNsaWNrIGNvbW1hbmQgZm9yIHBvc3QgbWVzc2FnZXMuICovXG5leHBvcnQgY29uc3QgUE9TVF9NRVNTQUdFX0NPTU1BTkRfQlVUVE9OX0NMSUNLID0gJ2J1dHRvbi1jbGljayc7XG5cbi8qKiAzUCBidXR0b24gY2xpY2sgY29tbWFuZCBmb3IgcG9zdCBtZXNzYWdlcy4gKi9cbmV4cG9ydCBjb25zdCBQT1NUX01FU1NBR0VfQ09NTUFORF8zUF9CVVRUT05fQ0xJQ0sgPSAnM3AtYnV0dG9uLWNsaWNrJztcblxuLyoqIElEIGZvciB0aGUgR29vZ2xlIFNpZ24tSW4gaWZyYW1lIGVsZW1lbnQuICovXG5leHBvcnQgY29uc3QgR09PR0xFX1NJR05fSU5fSUZSQU1FX0lEID0gJ3N3Zy1nb29nbGUtc2lnbi1pbi1pZnJhbWUnO1xuXG4vKiogSUQgZm9yIHRoZSBHb29nbGUgU2lnbi1JbiBidXR0b24gZWxlbWVudC4gKi9cbmV4cG9ydCBjb25zdCBHT09HTEVfU0lHTl9JTl9CVVRUT05fSUQgPSAnc3dnLWdvb2dsZS1zaWduLWluLWJ1dHRvbic7XG5cbi8qKiBJRCBmb3IgdGhlIHRoaXJkIHBhcnR5IEdvb2dsZSBTaWduLUluIGJ1dHRvbiBlbGVtZW50LiAgKi9cbmV4cG9ydCBjb25zdCBHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSUQgPSAnc3dnLWdvb2dsZS0zcC1zaWduLWluLWJ1dHRvbic7XG5cbi8qKiBJRCBmb3IgdGhlIEdvb2dsZSBTaWduLUluIGJ1dHRvbiBlbGVtZW50LiAqL1xuZXhwb3J0IGNvbnN0IFNJR05fSU5fV0lUSF9HT09HTEVfQlVUVE9OX0lEID0gJ3N3Zy1zaWduLWluLXdpdGgtZ29vZ2xlLWJ1dHRvbic7XG5cbi8qKiBJRCBmb3IgdGhlIFB1Ymxpc2hlciBzaWduLWluIGJ1dHRvbiBlbGVtZW50LiAqL1xuY29uc3QgUFVCTElTSEVSX1NJR05fSU5fQlVUVE9OX0lEID0gJ3N3Zy1wdWJsaXNoZXItc2lnbi1pbi1idXR0b24nO1xuXG4vKiogSUQgZm9yIHRoZSBSZWd3YWxsIGNvbnRhaW5lciBlbGVtZW50LiAqL1xuZXhwb3J0IGNvbnN0IFJFR0lTVFJBVElPTl9CVVRUT05fQ09OVEFJTkVSX0lEID1cbiAgJ3N3Zy1yZWdpc3RyYXRpb24tYnV0dG9uLWNvbnRhaW5lcic7XG5cbi8qKiBJRCBmb3IgdGhlIFJlZ3dhbGwgY29udGFpbmVyIGVsZW1lbnQuICovXG5leHBvcnQgY29uc3QgUkVHV0FMTF9DT05UQUlORVJfSUQgPSAnc3dnLXJlZ3dhbGwtY29udGFpbmVyJztcblxuLyoqIElEIGZvciB0aGUgUmVnd2FsbCBkaWFsb2cgZWxlbWVudC4gKi9cbmV4cG9ydCBjb25zdCBSRUdXQUxMX0RJQUxPR19JRCA9ICdzd2ctcmVnd2FsbC1kaWFsb2cnO1xuXG4vKiogSUQgZm9yIHRoZSBSZWd3YWxsIHRpdGxlIGVsZW1lbnQuICovXG5leHBvcnQgY29uc3QgUkVHV0FMTF9USVRMRV9JRCA9ICdzd2ctcmVnd2FsbC10aXRsZSc7XG5cbi8qKiBEZWxheSB1c2VkIHRvIGxvZyAzUCBidXR0b24gY2xpY2sgYmVmb3JlIHJlZGlyZWN0ICovXG5jb25zdCBSRURJUkVDVF9ERUxBWSA9IDEwO1xuXG4vKipcbiAqIEhUTUwgZm9yIHRoZSBtZXRlcmluZyByZWd3YWxsIGRpYWxvZywgd2hlcmUgdXNlcnMgY2FuIHNpZ24gaW4gd2l0aCBHb29nbGUuXG4gKiBUaGUgc2NyaXB0IGNyZWF0ZXMgYSBkaWFsb2cgYmFzZWQgb24gdGhpcyBIVE1MLlxuICpcbiAqIFRoZSBIVE1MIGluY2x1ZGVzIGFuIGlmcmFtZSB0aGF0IGxvYWRzIHRoZSBHb29nbGUgU2lnbi1JbiBidXR0b24uXG4gKiBUaGlzIGlmcmFtZSBjYW4gbGl2ZSBvbiBhIGRpZmZlcmVudCBvcmlnaW4uXG4gKi9cbmNvbnN0IFJFR1dBTExfSFRNTCA9IGBcbjxzdHlsZT5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1kaWFsb2ctc3BhY2VyLFxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWRpYWxvZyxcbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1sb2dvLFxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLXRpdGxlLFxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWRlc2NyaXB0aW9uLFxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWRlc2NyaXB0aW9uIHN0cm9uZyxcbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1pZnJhbWUsXG4gIC5nYWEtbWV0ZXJpbmctcmVnd2FsbC0tcmVnaXN0cmF0aW9uLWJ1dHRvbi1jb250YWluZXIsXG4gIC5nYWEtbWV0ZXJpbmctcmVnd2FsbC0tY2FzbCB7XG4gICAgYWxsOiBpbml0aWFsICFpbXBvcnRhbnQ7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveCAhaW1wb3J0YW50O1xuICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIGFyaWFsLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWRpYWxvZy1zcGFjZXIge1xuICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwLCAjODA4MDgwLCB0cmFuc3BhcmVudCkgIWltcG9ydGFudDtcbiAgICBib3R0b206IDAgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIHBvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIH1cblxuICBAa2V5ZnJhbWVzIHNsaWRlVXAge1xuICAgIGZyb20ge3RyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDIwMHB4KSAhaW1wb3J0YW50O31cbiAgICB0byB7dHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgMCkgIWltcG9ydGFudDt9XG4gIH1cblxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWRpYWxvZyB7XG4gICAgYW5pbWF0aW9uOiBzbGlkZVVwIDAuNXMgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDEycHggMTJweCAwIDAgIWltcG9ydGFudDtcbiAgICBib3gtc2hhZG93OiAwcHggLTJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjMpICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICBtYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O1xuICAgIG1heC13aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDI0cHggMjBweCAhaW1wb3J0YW50O1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDQxMHB4ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWxvZ28ge1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwIGF1dG8gMjRweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS10aXRsZSB7XG4gICAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMTZweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCAwIDhweCAhaW1wb3J0YW50O1xuICAgIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1kZXNjcmlwdGlvbiB7XG4gICAgY29sb3I6ICM2NDY0NjQgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xuICAgIGxpbmUtaGVpZ2h0OiAxOXB4ICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwIDAgMzBweCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1kZXNjcmlwdGlvbiBzdHJvbmcge1xuICAgIGNvbG9yOiAjNjQ2NDY0ICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxNHB4ICFpbXBvcnRhbnQ7XG4gICAgbGluZS1oZWlnaHQ6IDE5cHggIWltcG9ydGFudDtcbiAgICBmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1pZnJhbWUge1xuICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgaGVpZ2h0OiA0NHB4ICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwIDAgMzBweCAhaW1wb3J0YW50O1xuICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLXJlZ2lzdHJhdGlvbi1idXR0b24tY29udGFpbmVyIHtcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICBkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O1xuICAgIGhlaWdodDogNDRweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCAwIDMwcHggIWltcG9ydGFudDtcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1jYXNsIHtcbiAgICBjb2xvcjogIzY0NjQ2NCAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAtMTZweCBhdXRvIDMycHggIWltcG9ydGFudDtcbiAgfVxuXG4gIC5nYWEtbWV0ZXJpbmctcmVnd2FsbC0tY2FzbCBhIHtcbiAgICBjb2xvcjogIzE5NjdkMiAhaW1wb3J0YW50O1xuICB9XG5cbiAgLmdhYS1tZXRlcmluZy1yZWd3YWxsLS1saW5lIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkICFpbXBvcnRhbnQ7XG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgICBoZWlnaHQ6IDFweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbjogMCAwIDI0cHggIWltcG9ydGFudDtcbiAgfVxuXG4gIC5nYWEtbWV0ZXJpbmctcmVnd2FsbC0tcHVibGlzaGVyLXNpZ24taW4tYnV0dG9uIHtcbiAgICBjb2xvcjogIzE5NjdkMiAhaW1wb3J0YW50O1xuICAgIGN1cnNvcjogcG9pbnRlciAhaW1wb3J0YW50O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxMnB4ICFpbXBvcnRhbnQ7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5nYWEtbWV0ZXJpbmctcmVnd2FsbC0tZ29vZ2xlLXNpZ24taW4tYnV0dG9uIHtcbiAgICBoZWlnaHQ6IDM2cHggIWltcG9ydGFudDtcbiAgICBtYXJnaW46IDAgYXV0byAzMHB4ICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWdvb2dsZS1zaWduLWluLWJ1dHRvbiA+IGRpdiB7XG4gICAgYW5pbWF0aW9uOiBzd2dHb29nbGVTaWduSW5CdXR0b25mYWRlSW4gMC4zMnMgIWltcG9ydGFudDtcbiAgfVxuXG4gIEBrZXlmcmFtZXMgc3dnR29vZ2xlU2lnbkluQnV0dG9uZmFkZUluIHtcbiAgICBmcm9tIHtcbiAgICAgIG9wYWNpdHk6IDAgIWltcG9ydGFudDtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xuICAgIH1cbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImdhYS1tZXRlcmluZy1yZWd3YWxsLS1kaWFsb2ctc3BhY2VyXCI+XG4gIDxkaXYgcm9sZT1cImRpYWxvZ1wiIGFyaWEtbW9kYWw9XCJ0cnVlXCIgY2xhc3M9XCJnYWEtbWV0ZXJpbmctcmVnd2FsbC0tZGlhbG9nXCIgaWQ9XCIke1JFR1dBTExfRElBTE9HX0lEfVwiIGFyaWEtbGFiZWxsZWRieT1cIiR7UkVHV0FMTF9USVRMRV9JRH1cIj5cbiAgICA8aW1nIGFsdD1cIkdvb2dsZVwiIGNsYXNzPVwiZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWxvZ29cIiBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSTNOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJRGMwSURJMElqNDhjR0YwYUNCbWFXeHNQU0lqTkRJNE5VWTBJaUJrUFNKTk9TNHlOQ0E0TGpFNWRqSXVORFpvTlM0NE9HTXRMakU0SURFdU16Z3RMalkwSURJdU16a3RNUzR6TkNBekxqRXRMamcyTGpnMkxUSXVNaUF4TGpndE5DNDFOQ0F4TGpndE15NDJNaUF3TFRZdU5EVXRNaTQ1TWkwMkxqUTFMVFl1TlRSek1pNDRNeTAyTGpVMElEWXVORFV0Tmk0MU5HTXhMamsxSURBZ015NHpPQzQzTnlBMExqUXpJREV1TnpaTU1UVXVOQ0F5TGpWRE1UTXVPVFFnTVM0d09DQXhNUzQ1T0NBd0lEa3VNalFnTUNBMExqSTRJREFnTGpFeElEUXVNRFF1TVRFZ09YTTBMakUzSURrZ09TNHhNeUE1WXpJdU5qZ2dNQ0EwTGpjdExqZzRJRFl1TWpndE1pNDFNaUF4TGpZeUxURXVOaklnTWk0eE15MHpMamt4SURJdU1UTXROUzQzTlNBd0xTNDFOeTB1TURRdE1TNHhMUzR4TXkweExqVTBTRGt1TWpSNklpOCtQSEJoZEdnZ1ptbHNiRDBpSTBWQk5ETXpOU0lnWkQwaVRUSTFJRFl1TVRsakxUTXVNakVnTUMwMUxqZ3pJREl1TkRRdE5TNDRNeUExTGpneElEQWdNeTR6TkNBeUxqWXlJRFV1T0RFZ05TNDRNeUExTGpneGN6VXVPRE10TWk0ME5pQTFMamd6TFRVdU9ERmpNQzB6TGpNM0xUSXVOakl0TlM0NE1TMDFMamd6TFRVdU9ERjZiVEFnT1M0ek0yTXRNUzQzTmlBd0xUTXVNamd0TVM0ME5TMHpMakk0TFRNdU5USWdNQzB5TGpBNUlERXVOVEl0TXk0MU1pQXpMakk0TFRNdU5USnpNeTR5T0NBeExqUXpJRE11TWpnZ015NDFNbU13SURJdU1EY3RNUzQxTWlBekxqVXlMVE11TWpnZ015NDFNbm9pTHo0OGNHRjBhQ0JtYVd4c1BTSWpOREk0TlVZMElpQmtQU0pOTlRNdU5UZ2dOeTQwT1dndExqQTVZeTB1TlRjdExqWTRMVEV1TmpjdE1TNHpMVE11TURZdE1TNHpRelEzTGpVeklEWXVNVGtnTkRVZ09DNDNNaUEwTlNBeE1tTXdJRE11TWpZZ01pNDFNeUExTGpneElEVXVORE1nTlM0NE1TQXhMak01SURBZ01pNDBPUzB1TmpJZ015NHdOaTB4TGpNeWFDNHdPWFl1T0RGak1DQXlMakl5TFRFdU1Ua2dNeTQwTVMwekxqRWdNeTQwTVMweExqVTJJREF0TWk0MU15MHhMakV5TFRJdU9UTXRNaTR3TjJ3dE1pNHlNaTQ1TW1NdU5qUWdNUzQxTkNBeUxqTXpJRE11TkRNZ05TNHhOU0F6TGpReklESXVPVGtnTUNBMUxqVXlMVEV1TnpZZ05TNDFNaTAyTGpBMVZqWXVORGxvTFRJdU5ESjJNWHB0TFRJdU9UTWdPQzR3TTJNdE1TNDNOaUF3TFRNdU1TMHhMalV0TXk0eExUTXVOVElnTUMweUxqQTFJREV1TXpRdE15NDFNaUF6TGpFdE15NDFNaUF4TGpjMElEQWdNeTR4SURFdU5TQXpMakVnTXk0MU5DNHdNU0F5TGpBekxURXVNellnTXk0MUxUTXVNU0F6TGpWNklpOCtQSEJoZEdnZ1ptbHNiRDBpSTBaQ1FrTXdOU0lnWkQwaVRUTTRJRFl1TVRsakxUTXVNakVnTUMwMUxqZ3pJREl1TkRRdE5TNDRNeUExTGpneElEQWdNeTR6TkNBeUxqWXlJRFV1T0RFZ05TNDRNeUExTGpneGN6VXVPRE10TWk0ME5pQTFMamd6TFRVdU9ERmpNQzB6TGpNM0xUSXVOakl0TlM0NE1TMDFMamd6TFRVdU9ERjZiVEFnT1M0ek0yTXRNUzQzTmlBd0xUTXVNamd0TVM0ME5TMHpMakk0TFRNdU5USWdNQzB5TGpBNUlERXVOVEl0TXk0MU1pQXpMakk0TFRNdU5USnpNeTR5T0NBeExqUXpJRE11TWpnZ015NDFNbU13SURJdU1EY3RNUzQxTWlBekxqVXlMVE11TWpnZ015NDFNbm9pTHo0OGNHRjBhQ0JtYVd4c1BTSWpNelJCT0RVeklpQmtQU0pOTlRnZ0xqSTBhREl1TlRGMk1UY3VOVGRJTlRoNklpOCtQSEJoZEdnZ1ptbHNiRDBpSTBWQk5ETXpOU0lnWkQwaVRUWTRMakkySURFMUxqVXlZeTB4TGpNZ01DMHlMakl5TFM0MU9TMHlMamd5TFRFdU56WnNOeTQzTnkwekxqSXhMUzR5TmkwdU5qWmpMUzQwT0MweExqTXRNUzQ1TmkwekxqY3ROQzQ1TnkwekxqY3RNaTQ1T1NBd0xUVXVORGdnTWk0ek5TMDFMalE0SURVdU9ERWdNQ0F6TGpJMklESXVORFlnTlM0NE1TQTFMamMySURVdU9ERWdNaTQyTmlBd0lEUXVNaTB4TGpZeklEUXVPRFF0TWk0MU4yd3RNUzQ1T0MweExqTXlZeTB1TmpZdU9UWXRNUzQxTmlBeExqWXRNaTQ0TmlBeExqWjZiUzB1TVRndE55NHhOV014TGpBeklEQWdNUzQ1TVM0MU15QXlMaklnTVM0eU9Hd3ROUzR5TlNBeUxqRTNZekF0TWk0ME5DQXhMamN6TFRNdU5EVWdNeTR3TlMwekxqUTFlaUl2UGp3dmMzWm5QZz09XCIgLz5cblxuICAgIDxkaXYgY2xhc3M9XCJnYWEtbWV0ZXJpbmctcmVnd2FsbC0tdGl0bGVcIiBpZD1cIiR7UkVHV0FMTF9USVRMRV9JRH1cIiB0YWJpbmRleD1cIjBcIj4kU0hPV0NBU0VfUkVHV0FMTF9USVRMRSQ8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJnYWEtbWV0ZXJpbmctcmVnd2FsbC0tZGVzY3JpcHRpb25cIj5cbiAgICAgICRTSE9XQ0FTRV9SRUdXQUxMX0RFU0NSSVBUSU9OJFxuICAgIDwvZGl2PlxuXG4gICAgJFNIT1dDQVNFX1JFR0lTVFJBVElPTl9CVVRUT04kXG5cbiAgICAkU0hPV0NBU0VfUkVHV0FMTF9DQVNMJFxuXG4gICAgPGRpdiBjbGFzcz1cImdhYS1tZXRlcmluZy1yZWd3YWxsLS1saW5lXCI+PC9kaXY+XG5cbiAgICA8YVxuICAgICAgICBpZD1cIiR7UFVCTElTSEVSX1NJR05fSU5fQlVUVE9OX0lEfVwiXG4gICAgICAgIGNsYXNzPVwiZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLXB1Ymxpc2hlci1zaWduLWluLWJ1dHRvblwiXG4gICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgIGhyZWY9XCIjXCI+XG4gICAgICAkU0hPV0NBU0VfUkVHV0FMTF9QVUJMSVNIRVJfU0lHTl9JTl9CVVRUT04kXG4gICAgPC9hPlxuICA8L2Rpdj5cbjwvZGl2PlxuYDtcblxuLyoqXG4gKiBIVE1MIGZvciBpRnJhbWUgdG8gcmVuZGVyIHJlZ2lzdHJhdGlvbiB3aWRnZXQuXG4gKi9cbmNvbnN0IFJFR0lTVFJBVElPTl9XSURHRVRfSUZSQU1FX0hUTUwgPSBgXG4gIDxpZnJhbWVcbiAgICAgIGlkPVwiJHtHT09HTEVfU0lHTl9JTl9JRlJBTUVfSUR9XCJcbiAgICAgIGNsYXNzPVwiZ2FhLW1ldGVyaW5nLXJlZ3dhbGwtLWlmcmFtZVwiXG4gICAgICBzcmM9XCIkaWZyYW1lVXJsJFwiPlxuICA8L2lmcmFtZT5cbmA7XG5cbi8qKlxuICogSFRNTCBmb3IgY29udGFpbmVyIG9mIHRoZSByZWdpc3RyYXRpb24gYnV0dG9uLlxuICovXG5jb25zdCBSRUdJU1RSQVRJT05fQlVUVE9OX0hUTUwgPSBgXG4gIDxkaXZcbiAgICAgIGlkPVwiJHtSRUdJU1RSQVRJT05fQlVUVE9OX0NPTlRBSU5FUl9JRH1cIlxuICAgICAgY2xhc3M9XCJnYWEtbWV0ZXJpbmctcmVnd2FsbC0tcmVnaXN0cmF0aW9uLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgPC9kaXY+XG5gO1xuXG4vKipcbiAqIEhUTUwgZm9yIHRoZSBDQVNMIGJsdXJiLlxuICogQ0FTTCBzdGFuZHMgZm9yIENhbmFkaWFuIEFudGktU3BhbSBMYXcuXG4gKi9cbmNvbnN0IENBU0xfSFRNTCA9IGBcbjxkaXYgY2xhc3M9XCJnYWEtbWV0ZXJpbmctcmVnd2FsbC0tY2FzbFwiPlxuICAkU0hPV0NBU0VfUkVHV0FMTF9DQVNMJFxuPC9kaXY+XG5gO1xuXG4vKiogQmFzZSBzdHlsZXMgZm9yIGJvdGggdGhlIEdvb2dsZSBhbmQgR29vZ2xlIDNwIFNpZ24tSW4gYnV0dG9uIGlmcmFtZXMuICovXG5jb25zdCBHT09HTEVfU0lHTl9JTl9CVVRUT05fU1RZTEVTID0gYFxuICAjJHtHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSUR9LFxuICAjJHtTSUdOX0lOX1dJVEhfR09PR0xFX0JVVFRPTl9JRH0sXG4gICMke0dPT0dMRV9TSUdOX0lOX0JVVFRPTl9JRH0ge1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgIyR7U0lHTl9JTl9XSVRIX0dPT0dMRV9CVVRUT05fSUR9e1xuICAgIHdpZHRoOiAyMjBweDtcbiAgfVxuXG4gICMke0dPT0dMRV8zUF9TSUdOX0lOX0JVVFRPTl9JRH0gPiBkaXYsXG4gICMke1NJR05fSU5fV0lUSF9HT09HTEVfQlVUVE9OX0lEfSA+IGRpdixcbiAgIyR7R09PR0xFX1NJR05fSU5fQlVUVE9OX0lEfSA+IGRpdiB7XG4gICAgYW5pbWF0aW9uOiBmYWRlSW4gMC4zMnM7XG4gIH1cbiAgQGtleWZyYW1lcyBmYWRlSW4ge1xuICAgIGZyb20ge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIH1cbiAgIyR7R09PR0xFXzNQX1NJR05fSU5fQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUsXG4gICMke1NJR05fSU5fV0lUSF9HT09HTEVfQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUsXG4gICMke0dPT0dMRV9TSUdOX0lOX0JVVFRPTl9JRH0gLmFiY1Jpb0J1dHRvbi5hYmNSaW9CdXR0b25CbHVlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUE3M0U4O1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBub25lO1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICB9XG4gICMke0dPT0dMRV8zUF9TSUdOX0lOX0JVVFRPTl9JRH0gLmFiY1Jpb0J1dHRvbi5hYmNSaW9CdXR0b25CbHVlIC5hYmNSaW9CdXR0b25JY29uLFxuICAjJHtTSUdOX0lOX1dJVEhfR09PR0xFX0JVVFRPTl9JRH0gLmFiY1Jpb0J1dHRvbi5hYmNSaW9CdXR0b25CbHVlIC5hYmNSaW9CdXR0b25JY29uLFxuICAjJHtHT09HTEVfU0lHTl9JTl9CVVRUT05fSUR9IC5hYmNSaW9CdXR0b24uYWJjUmlvQnV0dG9uQmx1ZSAuYWJjUmlvQnV0dG9uSWNvbiB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuICAvKiogSGlkZXMgZGVmYXVsdCBcIlNpZ24gaW4gd2l0aCBHb29nbGVcIiB0ZXh0LiAqL1xuICAjJHtHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSUR9ICAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUgLmFiY1Jpb0J1dHRvbkNvbnRlbnRzIHNwYW5baWRePW5vdF9zaWduZWRfXSxcbiAgIyR7U0lHTl9JTl9XSVRIX0dPT0dMRV9CVVRUT05fSUR9ICAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUgLmFiY1Jpb0J1dHRvbkNvbnRlbnRzIHNwYW5baWRePW5vdF9zaWduZWRfXSxcbiAgIyR7R09PR0xFX1NJR05fSU5fQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUgLmFiY1Jpb0J1dHRvbkNvbnRlbnRzIHNwYW5baWRePW5vdF9zaWduZWRfXSB7XG4gICAgZm9udC1zaXplOiAwICFpbXBvcnRhbnQ7XG4gIH1cbiAgLyoqIFJlbmRlcnMgbG9jYWxpemVkIFwiU2lnbiBpbiB3aXRoIEdvb2dsZVwiIHRleHQgaW5zdGVhZC4gKi9cbiAgIyR7R09PR0xFXzNQX1NJR05fSU5fQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUgLmFiY1Jpb0J1dHRvbkNvbnRlbnRzIHNwYW5baWRePW5vdF9zaWduZWRfXTo6YmVmb3JlLFxuICAjJHtTSUdOX0lOX1dJVEhfR09PR0xFX0JVVFRPTl9JRH0gLmFiY1Jpb0J1dHRvbi5hYmNSaW9CdXR0b25CbHVlIC5hYmNSaW9CdXR0b25Db250ZW50cyBzcGFuW2lkXj1ub3Rfc2lnbmVkX106OmJlZm9yZSxcbiAgIyR7R09PR0xFX1NJR05fSU5fQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uLmFiY1Jpb0J1dHRvbkJsdWUgLmFiY1Jpb0J1dHRvbkNvbnRlbnRzIHNwYW5baWRePW5vdF9zaWduZWRfXTo6YmVmb3JlIHtcbiAgICBjb250ZW50OiAnJFNIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJCc7XG4gICAgZm9udC1zaXplOiAxNXB4O1xuICB9YDtcbmNvbnN0IEdPT0dMRV9TSUdOX0lOX0lGUkFNRV9TVFlMRVMgPSBgXG4gIGJvZHkge1xuICAgIG1hcmdpbjogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICB9JHtHT09HTEVfU0lHTl9JTl9CVVRUT05fU1RZTEVTfVxuYDtcblxuLyoqXG4gKiBVc2VyIG9iamVjdCB0aGF0IFB1Ymxpc2hlciBKUyByZWNlaXZlcyBhZnRlciB1c2VycyBzaWduIGluLlxuICogQHR5cGVkZWYge3tcbiAqICAgaWRUb2tlbjogc3RyaW5nLFxuICogICBuYW1lOiBzdHJpbmcsXG4gKiAgIGdpdmVuTmFtZTogc3RyaW5nLFxuICogICBmYW1pbHlOYW1lOiBzdHJpbmcsXG4gKiAgIGltYWdlVXJsOiBzdHJpbmcsXG4gKiAgIGVtYWlsOiBzdHJpbmcsXG4gKiAgIGF1dGhvcml6YXRpb25EYXRhOiB7XG4gKiAgICAgYWNjZXNzX3Rva2VuOiBzdHJpbmcsXG4gKiAgICAgaWRfdG9rZW46IHN0cmluZyxcbiAqICAgICBzY29wZTogc3RyaW5nLFxuICogICAgIGV4cGlyZXNfaW46IG51bWJlcixcbiAqICAgICBmaXJzdF9pc3N1ZWRfYXQ6IG51bWJlcixcbiAqICAgICBleHBpcmVzX2F0OiBudW1iZXIsXG4gKiAgIH0sXG4gKiB9fSBHYWFVc2VyRGVmXG4gKi9cbmV4cG9ydCBsZXQgR2FhVXNlckRlZjtcblxuLyoqXG4gKiBHb29nbGUgSWRlbnRpdHkgKFYxKSB0aGF0IEdvb2dsZSBJZGVudGl0eSBTZXJ2aWNlcyByZXR1cm5zIGFmdGVyIHNvbWVvbmUgc2lnbnMgaW4uXG4gKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pZGVudGl0eS9nc2kvd2ViL3JlZmVyZW5jZS9qcy1yZWZlcmVuY2UjQ3JlZGVudGlhbFJlc3BvbnNlXG4gKiBAdHlwZWRlZiB7e1xuICogICBpc3M6IHN0cmluZyxcbiAqICAgbmJmOiBudW1iZXIsXG4gKiAgIGF1ZDogc3RyaW5nLFxuICogICBzdWI6IHN0cmluZyxcbiAqICAgaGQ6IHN0cmluZyxcbiAqICAgZW1haWw6IHN0cmluZyxcbiAqICAgZW1haWxfdmVyaWZpZWQ6IGJvb2xlYW4sXG4gKiAgIGF6cDogc3RyaW5nLFxuICogICBuYW1lOiBzdHJpbmcsXG4gKiAgIHBpY3R1cmU6IHN0cmluZyxcbiAqICAgZ2l2ZW5fbmFtZTogc3RyaW5nLFxuICogICBmYW1pbHlfbmFtZTogc3RyaW5nLFxuICogICBpYXQ6IG51bWJlcixcbiAqICAgZXhwOiBudW1iZXIsXG4gKiAgIGp0aTogc3RyaW5nLFxuICogfX0gR29vZ2xlSWRlbnRpdHlWMVxuICovXG5leHBvcnQgbGV0IEdvb2dsZUlkZW50aXR5VjE7XG5cbi8qKlxuICogR29vZ2xlVXNlciBvYmplY3QgdGhhdCBHb29nbGUgU2lnbi1JbiByZXR1cm5zIGFmdGVyIHVzZXJzIHNpZ24gaW4uXG4gKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pZGVudGl0eS9zaWduLWluL3dlYi9yZWZlcmVuY2UjZ29vZ2xldXNlcmdldGJhc2ljcHJvZmlsZVxuICogQHR5cGVkZWYge3tcbiAqICBnZXRBdXRoUmVzcG9uc2U6IGZ1bmN0aW9uKGJvb2xlYW4pOiB7XG4gKiAgICAgYWNjZXNzX3Rva2VuOiBzdHJpbmcsXG4gKiAgICAgaWRfdG9rZW46IHN0cmluZyxcbiAqICAgICBzY29wZTogc3RyaW5nLFxuICogICAgIGV4cGlyZXNfaW46IG51bWJlcixcbiAqICAgICBmaXJzdF9pc3N1ZWRfYXQ6IG51bWJlcixcbiAqICAgICBleHBpcmVzX2F0OiBudW1iZXIsXG4gKiAgIH0sXG4gKiAgIGdldEJhc2ljUHJvZmlsZTogZnVuY3Rpb24oKToge1xuICogICAgIGdldE5hbWU6IGZ1bmN0aW9uKCk6IHN0cmluZyxcbiAqICAgICBnZXRHaXZlbk5hbWU6IGZ1bmN0aW9uKCk6IHN0cmluZyxcbiAqICAgICBnZXRGYW1pbHlOYW1lOiBmdW5jdGlvbigpOiBzdHJpbmcsXG4gKiAgICAgZ2V0SW1hZ2VVcmw6IGZ1bmN0aW9uKCk6IHN0cmluZyxcbiAqICAgICBnZXRFbWFpbDogZnVuY3Rpb24oKTogc3RyaW5nLFxuICogICB9LFxuICogfX0gR29vZ2xlVXNlckRlZlxuICovXG5leHBvcnQgbGV0IEdvb2dsZVVzZXJEZWY7XG5cbi8qKlxuICogSW5pdFBhcmFtcyBvYmplY3QgdGhhdCBHYWFNZXRlcmluZy5pbml0IGFjY2VwdHNcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL25ld3Mvc3Vic2NyaWJlL2V4dGVuZGVkLWFjY2Vzcy9vdmVydmlld1xuICogQHR5cGVkZWYge3tcbiAqIGFsbG93ZWRSZWZlcnJlcnM6IChBcnJheTxzdHJpbmc+fG51bGwpLFxuICogZ29vZ2xlQXBpQ2xpZW50SWQ6IHN0cmluZyxcbiAqIGF1dGhvcml6YXRpb25Vcmw6IHN0cmluZyxcbiAqIGhhbmRsZUxvZ2luUHJvbWlzZTogKFByb21pc2V8bnVsbCksXG4gKiBjYXNsVXJsOiBzdHJpbmcsXG4gKiBoYW5kbGVTd0dFbnRpdGxlbWVudDogZnVuY3Rpb24oKTogPyxcbiAqIHB1Ymxpc2hlckVudGl0bGVtZW50UHJvbWlzZTogKFByb21pc2V8bnVsbCksXG4gKiByZWdpc3RlclVzZXJQcm9taXNlOiAoUHJvbWlzZXxudWxsKSxcbiAqIHNob3dQYXl3YWxsOiBmdW5jdGlvbigpOiA/LFxuICogc2hvd2Nhc2VFbnRpdGxlbWVudDogc3RyaW5nLFxuICogdW5sb2NrQXJ0aWNsZTogZnVuY3Rpb24oKTogPyxcbiAqIHJhd0p3dDogKGJvb2xlYW58bnVsbCksXG4gKiB1c2VyU3RhdGU6IHtcbiAqICAgcGF5d2FsbFJlYXNvbjogc3RyaW5nLFxuICogICBncmFudFJlYXNvbjogc3RyaW5nLFxuICogICBncmFudGVkOiBib29sZWFuLFxuICogICBpZDogc3RyaW5nLFxuICogICByZWdpc3RyYXRpb25UaW1lc3RhbXA6IG51bWJlcixcbiAqICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wOiBudW1iZXJcbiAqIH1cbiAqIH19IEluaXRQYXJhbXNcbiAqL1xuZXhwb3J0IGxldCBJbml0UGFyYW1zO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcXVlcnkgc3RyaW5nIGNvbnRhaW5zIGZyZXNoIEdvb2dsZSBBcnRpY2xlIEFjY2VzcyAoR0FBKSBwYXJhbXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gcXVlcnlTdHJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dBbGxBY2Nlc3NUeXBlc1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5U3RyaW5nSGFzRnJlc2hHYWFQYXJhbXMoXG4gIHF1ZXJ5U3RyaW5nLFxuICBhbGxvd0FsbEFjY2Vzc1R5cGVzID0gZmFsc2Vcbikge1xuICBjb25zdCBwYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5U3RyaW5nKTtcblxuICAvLyBWZXJpZnkgR0FBIHBhcmFtcyBleGlzdC5cbiAgaWYgKFxuICAgICFwYXJhbXNbJ2dhYV9hdCddIHx8XG4gICAgIXBhcmFtc1snZ2FhX24nXSB8fFxuICAgICFwYXJhbXNbJ2dhYV9zaWcnXSB8fFxuICAgICFwYXJhbXNbJ2dhYV90cyddXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghYWxsb3dBbGxBY2Nlc3NUeXBlcykge1xuICAgIC8vIFZlcmlmeSBhY2Nlc3MgdHlwZS5cbiAgICBjb25zdCBub0FjY2VzcyA9IHBhcmFtc1snZ2FhX2F0J10gPT09ICduYSc7XG4gICAgaWYgKG5vQWNjZXNzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gVmVyaWZ5IHRpbWVzdGFtcCBpc24ndCBzdGFsZS5cbiAgY29uc3QgZXhwaXJhdGlvblRpbWVzdGFtcCA9IHBhcnNlSW50KHBhcmFtc1snZ2FhX3RzJ10sIDE2KTtcbiAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IERhdGUubm93KCkgLyAxMDAwO1xuICBpZiAoZXhwaXJhdGlvblRpbWVzdGFtcCA8IGN1cnJlbnRUaW1lc3RhbXApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqIFJlbmRlcnMgR29vZ2xlIEFydGljbGUgQWNjZXNzIChHQUEpIE1ldGVyaW5nIFJlZ3dhbGwuICovXG5leHBvcnQgY2xhc3MgR2FhTWV0ZXJpbmdSZWd3YWxsIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhIEdvb2dsZSB1c2VyIG9iamVjdC5cbiAgICogVGhlIHVzZXIgb2JqZWN0IHdpbGwgYmUgYTpcbiAgICogLSBHYWFVc2VyRGVmLCBpZiB5b3UgdXNlIHRoZSBHYWFHb29nbGVTaWduSW5CdXR0b25cbiAgICogLSBHb29nbGVJZGVudGl0eVYxLCBpZiB5b3UgdXNlIHRoZSBHYWFTaWduSW5XaXRoR29vZ2xlQnV0dG9uXG4gICAqIC0gQ3VzdG9tIG9iamVjdCwgaWYgeW91IHVzZSB0aGUgR2FhR29vZ2xlM3BTaWduSW5CdXR0b25cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgb3BlbnMgYSBtZXRlcmluZyByZWd3YWxsIGRpYWxvZyxcbiAgICogd2hlcmUgdXNlcnMgY2FuIHNpZ24gaW4gd2l0aCBHb29nbGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBwYXJhbSB7eyBpZnJhbWVVcmw6IHN0cmluZywgY2FzbFVybDogc3RyaW5nIH19IHBhcmFtc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhR2FhVXNlckRlZnwhR29vZ2xlSWRlbnRpdHlWMXwhT2JqZWN0Pn1cbiAgICovXG4gIHN0YXRpYyBzaG93KHtpZnJhbWVVcmwsIGNhc2xVcmx9KSB7XG4gICAgY29uc3QgcXVlcnlTdHJpbmcgPSBHYWFVdGlscy5nZXRRdWVyeVN0cmluZygpO1xuICAgIGlmICghcXVlcnlTdHJpbmdIYXNGcmVzaEdhYVBhcmFtcyhxdWVyeVN0cmluZykpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgICdbc3dnLWdhYS5qczpHYWFNZXRlcmluZ1JlZ3dhbGwuc2hvd106IFVSTCBuZWVkcyBmcmVzaCBHQUEgcGFyYW1zLic7XG4gICAgICB3YXJuKGVycm9yTWVzc2FnZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG5cbiAgICBsb2dFdmVudCh7XG4gICAgICBzaG93Y2FzZUV2ZW50OiBTaG93Y2FzZUV2ZW50LkVWRU5UX1NIT1dDQVNFX05PX0VOVElUTEVNRU5UU19SRUdXQUxMLFxuICAgICAgaXNGcm9tVXNlckFjdGlvbjogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBHYWFNZXRlcmluZ1JlZ3dhbGwucmVuZGVyXyh7aWZyYW1lVXJsLCBjYXNsVXJsfSk7XG4gICAgR2FhTWV0ZXJpbmdSZWd3YWxsLnNlbmRJbnRyb01lc3NhZ2VUb0dzaUlmcmFtZV8oe2lmcmFtZVVybH0pO1xuICAgIEdhYU1ldGVyaW5nUmVnd2FsbC5sb2dCdXR0b25DbGlja0V2ZW50c18oKTtcbiAgICByZXR1cm4gR2FhTWV0ZXJpbmdSZWd3YWxsLmdldEdhYVVzZXJfKClcbiAgICAgIC50aGVuKChnYWFVc2VyKSA9PiB7XG4gICAgICAgIEdhYU1ldGVyaW5nUmVnd2FsbC5yZW1vdmUoKTtcbiAgICAgICAgcmV0dXJuIGdhYVVzZXI7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgLy8gQ2xvc2UgdGhlIFJlZ3dhbGwsIHNpbmNlIHRoZSBmbG93IGZhaWxlZC5cbiAgICAgICAgR2FhTWV0ZXJpbmdSZWd3YWxsLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIFJldGhyb3cgZXJyb3IuXG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIGZvciBhIEdvb2dsZSB1c2VyIG9iamVjdC5cbiAgICogVGhlIHVzZXIgb2JqZWN0IHdpbGwgYmUgYSBHb29nbGVJZGVudGl0eVYxXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG9wZW5zIGEgbWV0ZXJpbmcgcmVnd2FsbCBkaWFsb2csXG4gICAqIHdoZXJlIHVzZXJzIGNhbiBzaWduIGluIHdpdGggR29vZ2xlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAcGFyYW0ge3sgY2FzbFVybDogc3RyaW5nLCBnb29nbGVBcGlDbGllbnRJZDogc3RyaW5nLCByYXdKd3Q6IChib29sZWFufG51bGwpIH19IHBhcmFtc1xuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhR29vZ2xlSWRlbnRpdHlWMT59XG4gICAqL1xuICBzdGF0aWMgc2hvd1dpdGhOYXRpdmVSZWdpc3RyYXRpb25CdXR0b24oe1xuICAgIGNhc2xVcmwsXG4gICAgZ29vZ2xlQXBpQ2xpZW50SWQsXG4gICAgcmF3Snd0ID0gdHJ1ZSxcbiAgfSkge1xuICAgIGxvZ0V2ZW50KHtcbiAgICAgIHNob3djYXNlRXZlbnQ6IFNob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfTk9fRU5USVRMRU1FTlRTX1JFR1dBTEwsXG4gICAgICBpc0Zyb21Vc2VyQWN0aW9uOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIEdhYU1ldGVyaW5nUmVnd2FsbC5yZW5kZXJfKHtcbiAgICAgIGlmcmFtZVVybDogJycsXG4gICAgICBjYXNsVXJsLFxuICAgICAgdXNlTmF0aXZlTW9kZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBHYWFNZXRlcmluZ1JlZ3dhbGwuY3JlYXRlTmF0aXZlUmVnaXN0cmF0aW9uQnV0dG9uKHtcbiAgICAgIGdvb2dsZUFwaUNsaWVudElkLFxuICAgIH0pXG4gICAgICAudGhlbigoand0KSA9PiB7XG4gICAgICAgIEdhYU1ldGVyaW5nUmVnd2FsbC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKHJhd0p3dCkge1xuICAgICAgICAgIHJldHVybiBqd3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBKd3RIZWxwZXIoKS5kZWNvZGUoand0LmNyZWRlbnRpYWwpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgLy8gQ2xvc2UgdGhlIFJlZ3dhbGwsIHNpbmNlIHRoZSBmbG93IGZhaWxlZC5cbiAgICAgICAgR2FhTWV0ZXJpbmdSZWd3YWxsLnJlbW92ZSgpO1xuXG4gICAgICAgIC8vIFJldGhyb3cgZXJyb3IuXG4gICAgICAgIGRlYnVnTG9nKGBSZWd3YWxsIGZhaWxlZDogJHtlcnJ9YCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBvcGVucyBhIG1ldGVyaW5nIHJlZ3dhbGwgZGlhbG9nLFxuICAgKiB3aGVyZSB1c2VycyBjYW4gc2lnbiBpbiB3aXRoIEdvb2dsZS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHBhcmFtIHt7IGNhc2xVcmw6IHN0cmluZywgYXV0aG9yaXphdGlvblVybDogc3RyaW5nIH19IHBhcmFtc1xuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgc3RhdGljIHNob3dXaXRoTmF0aXZlM1BSZWdpc3RyYXRpb25CdXR0b24oe2Nhc2xVcmwsIGF1dGhvcml6YXRpb25Vcmx9KSB7XG4gICAgbG9nRXZlbnQoe1xuICAgICAgc2hvd2Nhc2VFdmVudDogU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9OT19FTlRJVExFTUVOVFNfUkVHV0FMTCxcbiAgICAgIGlzRnJvbVVzZXJBY3Rpb246IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgR2FhTWV0ZXJpbmdSZWd3YWxsLnJlbmRlcl8oe1xuICAgICAgaWZyYW1lVXJsOiAnJyxcbiAgICAgIGNhc2xVcmwsXG4gICAgICB1c2VOYXRpdmVNb2RlOiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBHYWFNZXRlcmluZ1JlZ3dhbGwuY3JlYXRlTmF0aXZlM1BSZWdpc3RyYXRpb25CdXR0b24oe1xuICAgICAgYXV0aG9yaXphdGlvblVybCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBSZWd3YWxsLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIHJlbW92ZSgpIHtcbiAgICBjb25zdCByZWd3YWxsQ29udGFpbmVyID0gc2VsZi5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChSRUdXQUxMX0NPTlRBSU5FUl9JRCk7XG4gICAgaWYgKHJlZ3dhbGxDb250YWluZXIpIHtcbiAgICAgIHJlZ3dhbGxDb250YWluZXIucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNpZ25zIG91dCBvZiBHb29nbGUgU2lnbi1Jbi5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGRldmVsb3BlcnMgd2hvIGFyZSB0ZXN0aW5nIHRoZWlyXG4gICAqIFN3RyBpbnRlZ3JhdGlvbnMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhdGljIHNpZ25PdXQoKSB7XG4gICAgcmV0dXJuIGNvbmZpZ3VyZUdvb2dsZVNpZ25JbigpLnRoZW4oKCkgPT5cbiAgICAgIHNlbGYuZ2FwaS5hdXRoMi5nZXRBdXRoSW5zdGFuY2UoKS5zaWduT3V0KClcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIFJlZ3dhbGwuXG4gICAqIEBwcml2YXRlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBwYXJhbSB7eyBpZnJhbWVVcmw6IHN0cmluZywgY2FzbFVybDogc3RyaW5nLCB1c2VOYXRpdmVNb2RlOiAoYm9vbGVhbnx1bmRlZmluZWQpfX0gcGFyYW1zXG4gICAqL1xuICBzdGF0aWMgcmVuZGVyXyh7aWZyYW1lVXJsLCBjYXNsVXJsLCB1c2VOYXRpdmVNb2RlID0gZmFsc2V9KSB7XG4gICAgY29uc3QgbGFuZ3VhZ2VDb2RlID0gZ2V0TGFuZ3VhZ2VDb2RlRnJvbUVsZW1lbnQoc2VsZi5kb2N1bWVudC5ib2R5KTtcbiAgICBjb25zdCBwdWJsaXNoZXJOYW1lID0gR2FhTWV0ZXJpbmdSZWd3YWxsLmdldFB1Ymxpc2hlck5hbWVGcm9tUGFnZUNvbmZpZ18oKTtcbiAgICBjb25zdCBwbGFjZWhvbGRlclBhdHRlcm5Gb3JQdWJsaWNhdGlvbiA9IC88cGggbmFtZT1cIlBVQkxJQ0FUSU9OXCIuKz9cXC9waD4vZztcbiAgICBjb25zdCBwbGFjZWhvbGRlclBhdHRlcm5Gb3JMaW5rU3RhcnQgPSAvPHBoIG5hbWU9XCJMSU5LX1NUQVJUXCIuKz9cXC9waD4vZztcbiAgICBjb25zdCBwbGFjZWhvbGRlclBhdHRlcm5Gb3JMaW5rRW5kID0gLzxwaCBuYW1lPVwiTElOS19FTkRcIi4rP1xcL3BoPi9nO1xuXG4gICAgLy8gQ3JlYXRlIGFuZCBzdHlsZSBjb250YWluZXIgZWxlbWVudC5cbiAgICAvLyBUT0RPOiBDb25zaWRlciB1c2luZyBhIEZyaWVuZGx5SWZyYW1lIGhlcmUsIHRvIGF2b2lkIENTUyBjb25mbGljdHMuXG4gICAgY29uc3QgY29udGFpbmVyRWwgPSBjcmVhdGVFbGVtZW50KHNlbGYuZG9jdW1lbnQsICdkaXYnLCB7XG4gICAgICBpZDogUkVHV0FMTF9DT05UQUlORVJfSUQsXG4gICAgfSk7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKGNvbnRhaW5lckVsLCB7XG4gICAgICAnYWxsJzogJ3Vuc2V0JyxcbiAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3JnYmEoMzIsIDMzLCAzNiwgMC42KScsXG4gICAgICAnYm9yZGVyJzogJ25vbmUnLFxuICAgICAgJ2JvdHRvbSc6ICcwJyxcbiAgICAgICdoZWlnaHQnOiAnMTAwJScsXG4gICAgICAnbGVmdCc6ICcwJyxcbiAgICAgICdvcGFjaXR5JzogJzAnLFxuICAgICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnLFxuICAgICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAgICdyaWdodCc6ICcwJyxcbiAgICAgICd0cmFuc2l0aW9uJzogJ29wYWNpdHkgMC41cycsXG4gICAgICAndG9wJzogJzAnLFxuICAgICAgJ3dpZHRoJzogJzEwMCUnLFxuICAgICAgJ3otaW5kZXgnOiAyMTQ3NDgzNjQ2LFxuICAgIH0pO1xuXG4gICAgLy8gT3B0aW9uYWxseSBpbmNsdWRlIENBU0wgSFRNTC5cbiAgICBsZXQgY2FzbEh0bWwgPSAnJztcbiAgICBpZiAoY2FzbFVybCkge1xuICAgICAgY2FzbEh0bWwgPSBDQVNMX0hUTUwucmVwbGFjZShcbiAgICAgICAgJyRTSE9XQ0FTRV9SRUdXQUxMX0NBU0wkJyxcbiAgICAgICAgbXNnKEkxOE5fU1RSSU5HU1snU0hPV0NBU0VfUkVHV0FMTF9DQVNMJ10sIGxhbmd1YWdlQ29kZSlcbiAgICAgIClcbiAgICAgICAgLy8gVXBkYXRlIGxpbmsuXG4gICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgIHBsYWNlaG9sZGVyUGF0dGVybkZvckxpbmtTdGFydCxcbiAgICAgICAgICBgPGEgaHJlZj1cIiR7ZW5jb2RlVVJJKGNhc2xVcmwpfVwiIHRhcmdldD1cIl9ibGFua1wiPmBcbiAgICAgICAgKVxuICAgICAgICAucmVwbGFjZShwbGFjZWhvbGRlclBhdHRlcm5Gb3JMaW5rRW5kLCAnPC9hPicpXG4gICAgICAgIC8vIFVwZGF0ZSBwdWJsaXNoZXIgbmFtZS5cbiAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgcGxhY2Vob2xkZXJQYXR0ZXJuRm9yUHVibGljYXRpb24sXG4gICAgICAgICAgYDxzdHJvbmc+JHtwdWJsaXNoZXJOYW1lfTwvc3Ryb25nPmBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBsZXQgcmVnaXN0cmF0aW9uQnV0dG9uSHRtbCA9ICcnO1xuICAgIGlmICh1c2VOYXRpdmVNb2RlKSB7XG4gICAgICByZWdpc3RyYXRpb25CdXR0b25IdG1sID0gUkVHSVNUUkFUSU9OX0JVVFRPTl9IVE1MO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUZWxsIHRoZSBpZnJhbWUgd2hpY2ggbGFuZ3VhZ2UgdG8gcmVuZGVyLlxuICAgICAgaWZyYW1lVXJsID0gYWRkUXVlcnlQYXJhbShpZnJhbWVVcmwsICdsYW5nJywgbGFuZ3VhZ2VDb2RlKTtcbiAgICAgIHJlZ2lzdHJhdGlvbkJ1dHRvbkh0bWwgPSBSRUdJU1RSQVRJT05fV0lER0VUX0lGUkFNRV9IVE1MLnJlcGxhY2UoXG4gICAgICAgICckaWZyYW1lVXJsJCcsXG4gICAgICAgIGlmcmFtZVVybFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIEhUTUwuXG4gICAgY29udGFpbmVyRWwuLypPSyovIGlubmVySFRNTCA9IFJFR1dBTExfSFRNTC5yZXBsYWNlKFxuICAgICAgJyRTSE9XQ0FTRV9SRUdJU1RSQVRJT05fQlVUVE9OJCcsXG4gICAgICByZWdpc3RyYXRpb25CdXR0b25IdG1sXG4gICAgKVxuICAgICAgLnJlcGxhY2UoXG4gICAgICAgICckU0hPV0NBU0VfUkVHV0FMTF9USVRMRSQnLFxuICAgICAgICBtc2coSTE4Tl9TVFJJTkdTWydTSE9XQ0FTRV9SRUdXQUxMX1RJVExFJ10sIGxhbmd1YWdlQ29kZSlcbiAgICAgIClcbiAgICAgIC5yZXBsYWNlKFxuICAgICAgICAnJFNIT1dDQVNFX1JFR1dBTExfREVTQ1JJUFRJT04kJyxcbiAgICAgICAgbXNnKEkxOE5fU1RSSU5HU1snU0hPV0NBU0VfUkVHV0FMTF9ERVNDUklQVElPTiddLCBsYW5ndWFnZUNvZGUpXG4gICAgICAgICAgLy8gVXBkYXRlIHB1Ymxpc2hlciBuYW1lLlxuICAgICAgICAgIC5yZXBsYWNlKHBsYWNlaG9sZGVyUGF0dGVybkZvclB1YmxpY2F0aW9uLCBwdWJsaXNoZXJOYW1lKVxuICAgICAgKVxuICAgICAgLnJlcGxhY2UoXG4gICAgICAgICckU0hPV0NBU0VfUkVHV0FMTF9QVUJMSVNIRVJfU0lHTl9JTl9CVVRUT04kJyxcbiAgICAgICAgbXNnKFxuICAgICAgICAgIEkxOE5fU1RSSU5HU1snU0hPV0NBU0VfUkVHV0FMTF9QVUJMSVNIRVJfU0lHTl9JTl9CVVRUT04nXSxcbiAgICAgICAgICBsYW5ndWFnZUNvZGVcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgLnJlcGxhY2UoJyRTSE9XQ0FTRV9SRUdXQUxMX0NBU0wkJywgY2FzbEh0bWwpO1xuXG4gICAgLy8gQWRkIGNvbnRhaW5lciB0byBET00uXG4gICAgc2VsZi5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lckVsKTtcblxuICAgIC8vIFRyaWdnZXIgYSBmYWRlLWluIHRyYW5zaXRpb24uXG4gICAgLyoqIEBzdXBwcmVzcyB7c3VzcGljaW91c0NvZGV9ICovXG4gICAgY29udGFpbmVyRWwub2Zmc2V0SGVpZ2h0OyAvLyBUcmlnZ2VyIGEgcmVwYWludCAodG8gcHJlcGFyZSB0aGUgQ1NTIHRyYW5zaXRpb24pLlxuICAgIHNldEltcG9ydGFudFN0eWxlcyhjb250YWluZXJFbCwgeydvcGFjaXR5JzogMX0pO1xuXG4gICAgLy8gTGlzdGVuIGZvciBjbGlja3MuXG4gICAgR2FhTWV0ZXJpbmdSZWd3YWxsLmFkZENsaWNrTGlzdGVuZXJPblB1Ymxpc2hlclNpZ25JbkJ1dHRvbl8oKTtcblxuICAgIC8vIEZvY3VzIG9uIHRoZSB0aXRsZSBhZnRlciB0aGUgZGlhbG9nIGFuaW1hdGVzIGluLlxuICAgIC8vIFRoaXMgaGVscHMgcGVvcGxlIHVzaW5nIHNjcmVlbnJlYWRlcnMuXG4gICAgY29uc3QgZGlhbG9nRWwgPSBzZWxmLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFJFR1dBTExfRElBTE9HX0lEKTtcbiAgICBkaWFsb2dFbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZUVsID0gc2VsZi5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChSRUdXQUxMX1RJVExFX0lEKTtcbiAgICAgIHRpdGxlRWwuZm9jdXMoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb250YWluZXJFbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHB1Ymxpc2hlciBuYW1lIGZyb20gcGFnZSBjb25maWcuXG4gICAqIEBwcml2YXRlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXRQdWJsaXNoZXJOYW1lRnJvbVBhZ2VDb25maWdfKCkge1xuICAgIGNvbnN0IGpzb25MZFBhZ2VDb25maWcgPVxuICAgICAgR2FhTWV0ZXJpbmdSZWd3YWxsLmdldFB1Ymxpc2hlck5hbWVGcm9tSnNvbkxkUGFnZUNvbmZpZ18oKTtcbiAgICBpZiAoanNvbkxkUGFnZUNvbmZpZykge1xuICAgICAgcmV0dXJuIGpzb25MZFBhZ2VDb25maWc7XG4gICAgfVxuXG4gICAgY29uc3QgbWljcm9kYXRhUGFnZUNvbmZpZyA9XG4gICAgICBHYWFNZXRlcmluZ1JlZ3dhbGwuZ2V0UHVibGlzaGVyTmFtZUZyb21NaWNyb2RhdGFQYWdlQ29uZmlnXygpO1xuICAgIGlmIChtaWNyb2RhdGFQYWdlQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbWljcm9kYXRhUGFnZUNvbmZpZztcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnU2hvd2Nhc2UgYXJ0aWNsZXMgbXVzdCBkZWZpbmUgYSBwdWJsaXNoZXIgbmFtZSB3aXRoIGVpdGhlciBKU09OLUxEIG9yIE1pY3JvZGF0YS4nXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHB1Ymxpc2hlciBuYW1lIGZyb20gSlNPTi1MRCBwYWdlIGNvbmZpZy5cbiAgICogQHByaXZhdGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICovXG4gIHN0YXRpYyBnZXRQdWJsaXNoZXJOYW1lRnJvbUpzb25MZFBhZ2VDb25maWdfKCkge1xuICAgIC8vIEdldCBKU09OIGZyb20gbGQranNvbiBzY3JpcHRzLlxuICAgIGNvbnN0IGxkSnNvblNjcmlwdHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgIHNlbGYuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCJdJylcbiAgICApO1xuICAgIGNvbnN0IGpzb25RdWV1ZSA9IC8qKiBAdHlwZSB7IUFycmF5PCo+fSAqLyAoXG4gICAgICBsZEpzb25TY3JpcHRzLm1hcCgoc2NyaXB0KSA9PiBwYXJzZUpzb24oc2NyaXB0LnRleHRDb250ZW50KSlcbiAgICApO1xuXG4gICAgLy8gU2VhcmNoIGZvciBwdWJsaXNoZXIgbmFtZSwgYnJlYWR0aC1maXJzdC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25RdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QganNvbiA9IC8qKiBAdHlwZSB7IU9iamVjdDw/LD8+fSAqLyAoanNvblF1ZXVlW2ldKTtcblxuICAgICAgLy8gUmV0dXJuIHB1Ymxpc2hlciBuYW1lLCBpZiBwb3NzaWJsZS5cbiAgICAgIGNvbnN0IHB1Ymxpc2hlck5hbWUgPSBqc29uPy5wdWJsaXNoZXI/Lm5hbWU7XG4gICAgICBpZiAocHVibGlzaGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gcHVibGlzaGVyTmFtZTtcbiAgICAgIH1cblxuICAgICAgLy8gRXhwbG9yZSBKU09OLlxuICAgICAgaWYgKGpzb24gJiYgdHlwZW9mIGpzb24gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGpzb25RdWV1ZS5wdXNoKC4uLk9iamVjdC52YWx1ZXMoanNvbikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHB1Ymxpc2hlciBuYW1lIGZyb20gTWljcm9kYXRhIHBhZ2UgY29uZmlnLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgKi9cbiAgc3RhdGljIGdldFB1Ymxpc2hlck5hbWVGcm9tTWljcm9kYXRhUGFnZUNvbmZpZ18oKSB7XG4gICAgY29uc3QgcHVibGlzaGVyTmFtZUVsZW1lbnRzID0gc2VsZi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgJ1tpdGVtc2NvcGVdW2l0ZW10eXBlXVtpdGVtcHJvcD1cInB1Ymxpc2hlclwiXSBbaXRlbXByb3A9XCJuYW1lXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGNvbnN0IHB1Ymxpc2hlck5hbWVFbGVtZW50IG9mIHB1Ymxpc2hlck5hbWVFbGVtZW50cykge1xuICAgICAgY29uc3QgcHVibGlzaGVyTmFtZSA9IHB1Ymxpc2hlck5hbWVFbGVtZW50LmNvbnRlbnQ7XG4gICAgICBpZiAocHVibGlzaGVyTmFtZSkge1xuICAgICAgICByZXR1cm4gcHVibGlzaGVyTmFtZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNsaWNrIGxpc3RlbmVyIG9uIHRoZSBwdWJsaXNoZXIgc2lnbi1pbiBidXR0b24uXG4gICAqIEBwcml2YXRlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgYWRkQ2xpY2tMaXN0ZW5lck9uUHVibGlzaGVyU2lnbkluQnV0dG9uXygpIHtcbiAgICBzZWxmLmRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoUFVCTElTSEVSX1NJR05fSU5fQlVUVE9OX0lEKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGxvZ0V2ZW50KHtcbiAgICAgICAgICBhbmFseXRpY3NFdmVudDpcbiAgICAgICAgICAgIEFuYWx5dGljc0V2ZW50LkFDVElPTl9TSE9XQ0FTRV9SRUdXQUxMX0VYSVNUSU5HX0FDQ09VTlRfQ0xJQ0ssXG4gICAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FsbFN3Zygoc3dnKSA9PiBzd2cudHJpZ2dlckxvZ2luUmVxdWVzdCh7bGlua1JlcXVlc3RlZDogZmFsc2V9KSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBHQUEgdXNlciwgYWZ0ZXIgdGhlIHVzZXIgc2lnbnMgaW4uXG4gICAqIEBwcml2YXRlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFHb29nbGVVc2VyRGVmPn1cbiAgICovXG4gIHN0YXRpYyBnZXRHYWFVc2VyXygpIHtcbiAgICAvLyBMaXN0ZW4gZm9yIEdBQSB1c2VyLlxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5kYXRhLnN0YW1wID09PSBQT1NUX01FU1NBR0VfU1RBTVApIHtcbiAgICAgICAgICBpZiAoZS5kYXRhLmNvbW1hbmQgPT09IFBPU1RfTUVTU0FHRV9DT01NQU5EX1VTRVIpIHtcbiAgICAgICAgICAgIC8vIFBhc3MgYWxvbmcgdXNlciBkZXRhaWxzLlxuICAgICAgICAgICAgcmVzb2x2ZShlLmRhdGEuZ2FhVXNlciB8fCBlLmRhdGEucmV0dXJuZWRKd3QpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlLmRhdGEuY29tbWFuZCA9PT0gUE9TVF9NRVNTQUdFX0NPTU1BTkRfRVJST1IpIHtcbiAgICAgICAgICAgIC8vIFJlamVjdCBwcm9taXNlIGR1ZSB0byBHb29nbGUgU2lnbi1JbiBlcnJvci5cbiAgICAgICAgICAgIHJlamVjdCgnR29vZ2xlIFNpZ24tSW4gY291bGQgbm90IHJlbmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9ncyBidXR0b24gY2xpY2sgZXZlbnRzLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgc3RhdGljIGxvZ0J1dHRvbkNsaWNrRXZlbnRzXygpIHtcbiAgICAvLyBMaXN0ZW4gZm9yIGJ1dHRvbiBldmVudCBtZXNzYWdlcy5cbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBlLmRhdGEuc3RhbXAgPT09IFBPU1RfTUVTU0FHRV9TVEFNUCAmJlxuICAgICAgICBlLmRhdGEuY29tbWFuZCA9PT0gUE9TVF9NRVNTQUdFX0NPTU1BTkRfQlVUVE9OX0NMSUNLXG4gICAgICApIHtcbiAgICAgICAgLy8gTG9nIGJ1dHRvbiBjbGljayBldmVudC5cbiAgICAgICAgbG9nRXZlbnQoe1xuICAgICAgICAgIGFuYWx5dGljc0V2ZW50OiBBbmFseXRpY3NFdmVudC5BQ1RJT05fU0hPV0NBU0VfUkVHV0FMTF9HU0lfQ0xJQ0ssXG4gICAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGUuZGF0YS5zdGFtcCA9PT0gUE9TVF9NRVNTQUdFX1NUQU1QICYmXG4gICAgICAgIGUuZGF0YS5jb21tYW5kID09PSBQT1NUX01FU1NBR0VfQ09NTUFORF8zUF9CVVRUT05fQ0xJQ0tcbiAgICAgICkge1xuICAgICAgICAvLyBMb2cgYnV0dG9uIGNsaWNrIGV2ZW50LlxuICAgICAgICBsb2dFdmVudCh7XG4gICAgICAgICAgYW5hbHl0aWNzRXZlbnQ6XG4gICAgICAgICAgICBBbmFseXRpY3NFdmVudC5BQ1RJT05fU0hPV0NBU0VfUkVHV0FMTF8zUF9CVVRUT05fQ0xJQ0ssXG4gICAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgaW50cm8gcG9zdCBtZXNzYWdlIHRvIEdvb2dsZSBTaWduLUluIGlmcmFtZS5cbiAgICogQHByaXZhdGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHBhcmFtIHt7IGlmcmFtZVVybDogc3RyaW5nIH19IHBhcmFtc1xuICAgKi9cbiAgc3RhdGljIHNlbmRJbnRyb01lc3NhZ2VUb0dzaUlmcmFtZV8oe2lmcmFtZVVybH0pIHtcbiAgICAvLyBJbnRyb2R1Y2UgdGhpcyB3aW5kb3cgdG8gdGhlIHB1Ymxpc2hlcidzIEdvb2dsZSBTaWduLUluIGlmcmFtZS5cbiAgICAvLyBUaGlzIGxldHMgdGhlIGlmcmFtZSBzZW5kIHBvc3QgbWVzc2FnZXMgYmFjayB0byB0aGlzIHdpbmRvdy5cbiAgICAvLyBXaXRob3V0IHRoZSBpbnRyb2R1Y3Rpb24sIHRoZSBpZnJhbWUgd291bGRuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB0aGlzIHdpbmRvdy5cbiAgICBjb25zdCBnb29nbGVTaWduSW5JZnJhbWUgPSAvKiogQHR5cGUgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi8gKFxuICAgICAgc2VsZi5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChHT09HTEVfU0lHTl9JTl9JRlJBTUVfSUQpXG4gICAgKTtcbiAgICBnb29nbGVTaWduSW5JZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgZ29vZ2xlU2lnbkluSWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICBzdGFtcDogUE9TVF9NRVNTQUdFX1NUQU1QLFxuICAgICAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX0lOVFJPRFVDVElPTixcbiAgICAgICAgfSxcbiAgICAgICAgbmV3IFVSTChpZnJhbWVVcmwpLm9yaWdpblxuICAgICAgKTtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZU5hdGl2ZVJlZ2lzdHJhdGlvbkJ1dHRvbih7Z29vZ2xlQXBpQ2xpZW50SWR9KSB7XG4gICAgY29uc3QgbGFuZ3VhZ2VDb2RlID0gZ2V0TGFuZ3VhZ2VDb2RlRnJvbUVsZW1lbnQoc2VsZi5kb2N1bWVudC5ib2R5KTtcbiAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gc2VsZi5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFJFR0lTVFJBVElPTl9CVVRUT05fQ09OVEFJTkVSX0lEXG4gICAgKTtcbiAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQXBwbHkgaWZyYW1lIHN0eWxlcy5cbiAgICBjb25zdCBzdHlsZVRleHQgPSBHT09HTEVfU0lHTl9JTl9CVVRUT05fU1RZTEVTLnJlcGxhY2UoXG4gICAgICAnJFNIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJCcsXG4gICAgICBtc2coSTE4Tl9TVFJJTkdTWydTSE9XQ0FTRV9SRUdXQUxMX0dPT0dMRV9TSUdOX0lOX0JVVFRPTiddLCBsYW5ndWFnZUNvZGUpXG4gICAgKTtcbiAgICBpbmplY3RTdHlsZVNoZWV0KHJlc29sdmVEb2Moc2VsZi5kb2N1bWVudCksIHN0eWxlVGV4dCk7XG5cbiAgICAvLyBDcmVhdGUgYW5kIGFwcGVuZCBidXR0b24gdG8gcmVnd2FsbFxuICAgIGNvbnN0IGJ1dHRvbkVsID0gY3JlYXRlRWxlbWVudChzZWxmLmRvY3VtZW50LCAnZGl2Jywge1xuICAgICAgaWQ6IFNJR05fSU5fV0lUSF9HT09HTEVfQlVUVE9OX0lELFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgfSk7XG4gICAgcGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChidXR0b25FbCk7XG5cbiAgICAvLyBUcmFjayBidXR0b24gY2xpY2tzLlxuICAgIGJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbG9nRXZlbnQoe1xuICAgICAgICBhbmFseXRpY3NFdmVudDogQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1NIT1dDQVNFX1JFR1dBTExfU1dJR19DTElDSyxcbiAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzZWxmLmdvb2dsZS5hY2NvdW50cy5pZC5pbml0aWFsaXplKHtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgZ29vZ2xlLWNhbWVsY2FzZS9nb29nbGUtY2FtZWxjYXNlICovXG4gICAgICAgIGNsaWVudF9pZDogZ29vZ2xlQXBpQ2xpZW50SWQsXG4gICAgICAgIGNhbGxiYWNrOiByZXNvbHZlLFxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIGdvb2dsZS1jYW1lbGNhc2UvZ29vZ2xlLWNhbWVsY2FzZSAqL1xuICAgICAgfSk7XG4gICAgICBzZWxmLmdvb2dsZS5hY2NvdW50cy5pZC5yZW5kZXJCdXR0b24oYnV0dG9uRWwsIHtcbiAgICAgICAgJ3R5cGUnOiAnc3RhbmRhcmQnLFxuICAgICAgICAndGhlbWUnOiAnb3V0bGluZScsXG4gICAgICAgICd0ZXh0JzogJ2NvbnRpbnVlX3dpdGgnLFxuICAgICAgICAnbG9nb19hbGlnbm1lbnQnOiAnY2VudGVyJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZU5hdGl2ZTNQUmVnaXN0cmF0aW9uQnV0dG9uKHthdXRob3JpemF0aW9uVXJsfSkge1xuICAgIGNvbnN0IGxhbmd1YWdlQ29kZSA9IGdldExhbmd1YWdlQ29kZUZyb21FbGVtZW50KHNlbGYuZG9jdW1lbnQuYm9keSk7XG4gICAgY29uc3QgcGFyZW50RWxlbWVudCA9IHNlbGYuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBSRUdJU1RSQVRJT05fQlVUVE9OX0NPTlRBSU5FUl9JRFxuICAgICk7XG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFwcGx5IGlmcmFtZSBzdHlsZXMuXG4gICAgY29uc3Qgc3R5bGVUZXh0ID0gR09PR0xFXzNQX1NJR05fSU5fSUZSQU1FX1NUWUxFUy5yZXBsYWNlKFxuICAgICAgJyRTSE9XQ0FTRV9SRUdXQUxMX0dPT0dMRV9TSUdOX0lOX0JVVFRPTiQnLFxuICAgICAgbXNnKEkxOE5fU1RSSU5HU1snU0hPV0NBU0VfUkVHV0FMTF9HT09HTEVfU0lHTl9JTl9CVVRUT04nXSwgbGFuZ3VhZ2VDb2RlKVxuICAgICk7XG4gICAgaW5qZWN0U3R5bGVTaGVldChyZXNvbHZlRG9jKHNlbGYuZG9jdW1lbnQpLCBzdHlsZVRleHQpO1xuXG4gICAgLy8gUmVuZGVyIHRoZSB0aGlyZCBwYXJ0eSBHb29nbGUgU2lnbi1JbiBidXR0b24uXG4gICAgY29uc3QgYnV0dG9uRWwgPSBjcmVhdGVFbGVtZW50KHNlbGYuZG9jdW1lbnQsICdkaXYnLCB7XG4gICAgICBpZDogR09PR0xFXzNQX1NJR05fSU5fQlVUVE9OX0lELFxuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgfSk7XG4gICAgYnV0dG9uRWwuLypPSyovIGlubmVySFRNTCA9IEdPT0dMRV8zUF9TSUdOX0lOX0JVVFRPTl9IVE1MO1xuICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uRWwpO1xuXG4gICAgYnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyBUcmFjayBidXR0b24gY2xpY2tzLlxuICAgICAgbG9nRXZlbnQoe1xuICAgICAgICBhbmFseXRpY3NFdmVudDogQW5hbHl0aWNzRXZlbnQuQUNUSU9OX1NIT1dDQVNFX1JFR1dBTExfM1BfQlVUVE9OX0NMSUNLLFxuICAgICAgICBpc0Zyb21Vc2VyQWN0aW9uOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICAvLyBSZWRpcmVjdCB1c2VyIHVzaW5nIHRoZSBwYXJlbnQgd2luZG93LlxuICAgICAgLy8gVE9ETyhiLzI0Mjk5ODY1NSk6IEZpeCB0aGUgZG93bnN0cmVhbSBjYWxscyBmb3IgbG9nRXZlbnQgdG8gYmUgY2hhaW5lZCB0byByZW1vdmUgdGhlIG5lZWQgb2YgZGVsYXlpbmcgcmVkaXJlY3QuXG4gICAgICBzZWxmLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZWxmLm9wZW4oYXV0aG9yaXphdGlvblVybCwgJ19wYXJlbnQnKTtcbiAgICAgIH0sIFJFRElSRUNUX0RFTEFZKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBidXR0b25FbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FhR29vZ2xlU2lnbkluQnV0dG9uIHtcbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIEdvb2dsZSBTaWduLUluIGJ1dHRvbi5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQHBhcmFtIHt7IGFsbG93ZWRPcmlnaW5zOiAhQXJyYXk8c3RyaW5nPiB9fSBwYXJhbXNcbiAgICovXG4gIHN0YXRpYyBzaG93KHthbGxvd2VkT3JpZ2luc30pIHtcbiAgICAvLyBPcHRpb25hbGx5IGdyYWIgbGFuZ3VhZ2UgY29kZSBmcm9tIFVSTC5cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IEdhYVV0aWxzLmdldFF1ZXJ5U3RyaW5nKCk7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5U3RyaW5nKTtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGUgPSBxdWVyeVBhcmFtc1snbGFuZyddIHx8ICdlbic7XG5cbiAgICAvLyBBcHBseSBpZnJhbWUgc3R5bGVzLlxuICAgIGNvbnN0IHN0eWxlVGV4dCA9IEdPT0dMRV9TSUdOX0lOX0lGUkFNRV9TVFlMRVMucmVwbGFjZShcbiAgICAgICckU0hPV0NBU0VfUkVHV0FMTF9HT09HTEVfU0lHTl9JTl9CVVRUT04kJyxcbiAgICAgIG1zZyhJMThOX1NUUklOR1NbJ1NIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJ10sIGxhbmd1YWdlQ29kZSlcbiAgICApO1xuICAgIGluamVjdFN0eWxlU2hlZXQocmVzb2x2ZURvYyhzZWxmLmRvY3VtZW50KSwgc3R5bGVUZXh0KTtcblxuICAgIC8vIFByb21pc2UgYSBmdW5jdGlvbiB0aGF0IHNlbmRzIG1lc3NhZ2VzIHRvIHRoZSBwYXJlbnQgZnJhbWUuXG4gICAgLy8gTm90ZTogQSBmdW5jdGlvbiBpcyBwcmVmZXJhYmxlIHRvIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgZnJhbWVcbiAgICAvLyBiZWNhdXNlIHJlZmVyZW5jaW5nIHRoZSBwYXJlbnQgZnJhbWUgb3V0c2lkZSBvZiB0aGUgJ21lc3NhZ2UnIGV2ZW50XG4gICAgLy8gaGFuZGxlciB0aHJvd3MgYW4gRXJyb3IuIEEgZnVuY3Rpb24gZGVmaW5lZCB3aXRoaW4gdGhlIGhhbmRsZXIgY2FuXG4gICAgLy8gZWZmZWN0aXZlbHkgc2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IGZyYW1lIHRob3VnaC5cbiAgICBjb25zdCBzZW5kTWVzc2FnZVRvUGFyZW50Rm5Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhbGxvd2VkT3JpZ2lucy5pbmRleE9mKGUub3JpZ2luKSAhPT0gLTEgJiZcbiAgICAgICAgICBlLmRhdGEuc3RhbXAgPT09IFBPU1RfTUVTU0FHRV9TVEFNUCAmJlxuICAgICAgICAgIGUuZGF0YS5jb21tYW5kID09PSBQT1NUX01FU1NBR0VfQ09NTUFORF9JTlRST0RVQ1RJT05cbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVzb2x2ZSgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgZS5zb3VyY2UucG9zdE1lc3NhZ2UobWVzc2FnZSwgZS5vcmlnaW4pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNlbmRFcnJvck1lc3NhZ2VUb1BhcmVudCgpIHtcbiAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnRGblByb21pc2UudGhlbigoc2VuZE1lc3NhZ2VUb1BhcmVudCkgPT4ge1xuICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50KHtcbiAgICAgICAgICBzdGFtcDogUE9TVF9NRVNTQUdFX1NUQU1QLFxuICAgICAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX0VSUk9SLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIG9yaWdpbnMuXG4gICAgZm9yIChjb25zdCBhbGxvd2VkT3JpZ2luIG9mIGFsbG93ZWRPcmlnaW5zKSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGFsbG93ZWRPcmlnaW4pO1xuXG4gICAgICBjb25zdCBpc09yaWdpbiA9IHVybC5vcmlnaW4gPT09IGFsbG93ZWRPcmlnaW47XG4gICAgICBjb25zdCBwcm90b2NvbElzVmFsaWQgPVxuICAgICAgICB1cmwucHJvdG9jb2wgPT09ICdodHRwOicgfHwgdXJsLnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgICAgIGNvbnN0IGlzVmFsaWRPcmlnaW4gPSBpc09yaWdpbiAmJiBwcm90b2NvbElzVmFsaWQ7XG5cbiAgICAgIGlmICghaXNWYWxpZE9yaWdpbikge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBbc3dnLWdhYS5qczpHYWFHb29nbGVTaWduSW5CdXR0b24uc2hvd106IFlvdSBzcGVjaWZpZWQgYW4gaW52YWxpZCBvcmlnaW46ICR7YWxsb3dlZE9yaWdpbn1gXG4gICAgICAgICk7XG4gICAgICAgIHNlbmRFcnJvck1lc3NhZ2VUb1BhcmVudCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIHRoZSBHb29nbGUgU2lnbi1JbiBidXR0b24uXG4gICAgY29uZmlndXJlR29vZ2xlU2lnbkluKClcbiAgICAgIC50aGVuKFxuICAgICAgICAvLyBQcm9taXNlIGNyZWRlbnRpYWxzLlxuICAgICAgICAoKSA9PlxuICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyBSZW5kZXIgdGhlIEdvb2dsZSBTaWduLUluIGJ1dHRvbi5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkVsID0gY3JlYXRlRWxlbWVudChzZWxmLmRvY3VtZW50LCAnZGl2Jywge1xuICAgICAgICAgICAgICBpZDogR09PR0xFX1NJR05fSU5fQlVUVE9OX0lELFxuICAgICAgICAgICAgICB0YWJJbmRleDogMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2VsZi5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1dHRvbkVsKTtcbiAgICAgICAgICAgIHNlbGYuZ2FwaS5zaWduaW4yLnJlbmRlcihHT09HTEVfU0lHTl9JTl9CVVRUT05fSUQsIHtcbiAgICAgICAgICAgICAgJ2xvbmd0aXRsZSc6IHRydWUsXG4gICAgICAgICAgICAgICdvbnN1Y2Nlc3MnOiByZXNvbHZlLFxuICAgICAgICAgICAgICAncHJvbXB0JzogJ3NlbGVjdF9hY2NvdW50JyxcbiAgICAgICAgICAgICAgJ3Njb3BlJzogJ3Byb2ZpbGUgZW1haWwnLFxuICAgICAgICAgICAgICAndGhlbWUnOiAnZGFyaycsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVHJhY2sgYnV0dG9uIGNsaWNrcy5cbiAgICAgICAgICAgIGJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBUZWxsIHBhcmVudCBmcmFtZSBhYm91dCBidXR0b24gY2xpY2suXG4gICAgICAgICAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnRGblByb21pc2UudGhlbigoc2VuZE1lc3NhZ2VUb1BhcmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnQoe1xuICAgICAgICAgICAgICAgICAgc3RhbXA6IFBPU1RfTUVTU0FHRV9TVEFNUCxcbiAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX0JVVFRPTl9DTElDSyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KVxuICAgICAgKVxuICAgICAgLnRoZW4oKGdvb2dsZVVzZXIpID0+IHtcbiAgICAgICAgLy8gR2F0aGVyIEdBQSB1c2VyIGRldGFpbHMuXG4gICAgICAgIGNvbnN0IGJhc2ljUHJvZmlsZSA9IC8qKiBAdHlwZSB7IUdvb2dsZVVzZXJEZWZ9ICovIChcbiAgICAgICAgICBnb29nbGVVc2VyXG4gICAgICAgICkuZ2V0QmFzaWNQcm9maWxlKCk7XG4gICAgICAgIC8vIEdhdGhlciBhdXRob3JpemF0aW9uIHJlc3BvbnNlLlxuICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uRGF0YSA9IC8qKiBAdHlwZSB7IUdvb2dsZVVzZXJEZWZ9ICovIChcbiAgICAgICAgICBnb29nbGVVc2VyXG4gICAgICAgICkuZ2V0QXV0aFJlc3BvbnNlKHRydWUpO1xuICAgICAgICAvKiogQHR5cGUgeyFHYWFVc2VyRGVmfSAqL1xuICAgICAgICBjb25zdCBnYWFVc2VyID0ge1xuICAgICAgICAgIGlkVG9rZW46IGF1dGhvcml6YXRpb25EYXRhLmlkX3Rva2VuLFxuICAgICAgICAgIG5hbWU6IGJhc2ljUHJvZmlsZS5nZXROYW1lKCksXG4gICAgICAgICAgZ2l2ZW5OYW1lOiBiYXNpY1Byb2ZpbGUuZ2V0R2l2ZW5OYW1lKCksXG4gICAgICAgICAgZmFtaWx5TmFtZTogYmFzaWNQcm9maWxlLmdldEZhbWlseU5hbWUoKSxcbiAgICAgICAgICBpbWFnZVVybDogYmFzaWNQcm9maWxlLmdldEltYWdlVXJsKCksXG4gICAgICAgICAgZW1haWw6IGJhc2ljUHJvZmlsZS5nZXRFbWFpbCgpLFxuICAgICAgICAgIGF1dGhvcml6YXRpb25EYXRhLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNlbmQgR0FBIHVzZXIgdG8gcGFyZW50IGZyYW1lLlxuICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50Rm5Qcm9taXNlLnRoZW4oKHNlbmRNZXNzYWdlVG9QYXJlbnQpID0+IHtcbiAgICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50KHtcbiAgICAgICAgICAgIHN0YW1wOiBQT1NUX01FU1NBR0VfU1RBTVAsXG4gICAgICAgICAgICBjb21tYW5kOiBQT1NUX01FU1NBR0VfQ09NTUFORF9VU0VSLFxuICAgICAgICAgICAgZ2FhVXNlcixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKHNlbmRFcnJvck1lc3NhZ2VUb1BhcmVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhYVNpZ25JbldpdGhHb29nbGVCdXR0b24ge1xuICAvKipcbiAgICogUmVuZGVycyB0aGUgR29vZ2xlIFNpZ24tSW4gYnV0dG9uLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAcGFyYW0ge3sgY2xpZW50SWQ6IHN0cmluZywgYWxsb3dlZE9yaWdpbnM6ICFBcnJheTxzdHJpbmc+LCByYXdKd3Q6IGJvb2xlYW4gfX0gcGFyYW1zXG4gICAqL1xuICBzdGF0aWMgc2hvdyh7Y2xpZW50SWQsIGFsbG93ZWRPcmlnaW5zLCByYXdKd3QgPSBmYWxzZX0pIHtcbiAgICAvLyBPcHRpb25hbGx5IGdyYWIgbGFuZ3VhZ2UgY29kZSBmcm9tIFVSTC5cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IEdhYVV0aWxzLmdldFF1ZXJ5U3RyaW5nKCk7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5U3RyaW5nKTtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGUgPSBxdWVyeVBhcmFtc1snbGFuZyddIHx8ICdlbic7XG5cbiAgICAvLyBBcHBseSBpZnJhbWUgc3R5bGVzLlxuICAgIGNvbnN0IHN0eWxlVGV4dCA9IEdPT0dMRV9TSUdOX0lOX0lGUkFNRV9TVFlMRVMucmVwbGFjZShcbiAgICAgICckU0hPV0NBU0VfUkVHV0FMTF9HT09HTEVfU0lHTl9JTl9CVVRUT04kJyxcbiAgICAgIG1zZyhJMThOX1NUUklOR1NbJ1NIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJ10sIGxhbmd1YWdlQ29kZSlcbiAgICApO1xuICAgIGluamVjdFN0eWxlU2hlZXQocmVzb2x2ZURvYyhzZWxmLmRvY3VtZW50KSwgc3R5bGVUZXh0KTtcblxuICAgIC8vIFByb21pc2UgYSBmdW5jdGlvbiB0aGF0IHNlbmRzIG1lc3NhZ2VzIHRvIHRoZSBwYXJlbnQgZnJhbWUuXG4gICAgLy8gTm90ZTogQSBmdW5jdGlvbiBpcyBwcmVmZXJhYmxlIHRvIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgZnJhbWVcbiAgICAvLyBiZWNhdXNlIHJlZmVyZW5jaW5nIHRoZSBwYXJlbnQgZnJhbWUgb3V0c2lkZSBvZiB0aGUgJ21lc3NhZ2UnIGV2ZW50XG4gICAgLy8gaGFuZGxlciB0aHJvd3MgYW4gRXJyb3IuIEEgZnVuY3Rpb24gZGVmaW5lZCB3aXRoaW4gdGhlIGhhbmRsZXIgY2FuXG4gICAgLy8gZWZmZWN0aXZlbHkgc2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IGZyYW1lIHRob3VnaC5cbiAgICBjb25zdCBzZW5kTWVzc2FnZVRvUGFyZW50Rm5Qcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBhbGxvd2VkT3JpZ2lucy5pbmRleE9mKGUub3JpZ2luKSAhPT0gLTEgJiZcbiAgICAgICAgICBlLmRhdGEuc3RhbXAgPT09IFBPU1RfTUVTU0FHRV9TVEFNUCAmJlxuICAgICAgICAgIGUuZGF0YS5jb21tYW5kID09PSBQT1NUX01FU1NBR0VfQ09NTUFORF9JTlRST0RVQ1RJT05cbiAgICAgICAgKSB7XG4gICAgICAgICAgcmVzb2x2ZSgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgZS5zb3VyY2UucG9zdE1lc3NhZ2UobWVzc2FnZSwgZS5vcmlnaW4pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNlbmRFcnJvck1lc3NhZ2VUb1BhcmVudCgpIHtcbiAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnRGblByb21pc2UudGhlbigoc2VuZE1lc3NhZ2VUb1BhcmVudCkgPT4ge1xuICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50KHtcbiAgICAgICAgICBzdGFtcDogUE9TVF9NRVNTQUdFX1NUQU1QLFxuICAgICAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX0VSUk9SLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIG9yaWdpbnMuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxvd2VkT3JpZ2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYWxsb3dlZE9yaWdpbiA9IGFsbG93ZWRPcmlnaW5zW2ldO1xuICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChhbGxvd2VkT3JpZ2luKTtcblxuICAgICAgY29uc3QgaXNPcmlnaW4gPSB1cmwub3JpZ2luID09PSBhbGxvd2VkT3JpZ2luO1xuICAgICAgY29uc3QgcHJvdG9jb2xJc1ZhbGlkID1cbiAgICAgICAgdXJsLnByb3RvY29sID09PSAnaHR0cDonIHx8IHVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gICAgICBjb25zdCBpc1ZhbGlkT3JpZ2luID0gaXNPcmlnaW4gJiYgcHJvdG9jb2xJc1ZhbGlkO1xuXG4gICAgICBpZiAoIWlzVmFsaWRPcmlnaW4pIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgW3N3Zy1nYWEuanM6R2FhU2lnbkluV2l0aEdvb2dsZUJ1dHRvbi5zaG93XTogWW91IHNwZWNpZmllZCBhbiBpbnZhbGlkIG9yaWdpbjogJHthbGxvd2VkT3JpZ2lufWBcbiAgICAgICAgKTtcbiAgICAgICAgc2VuZEVycm9yTWVzc2FnZVRvUGFyZW50KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgYnV0dG9uRWwgPSBjcmVhdGVFbGVtZW50KHNlbGYuZG9jdW1lbnQsICdkaXYnLCB7XG4gICAgICAgIGlkOiBTSUdOX0lOX1dJVEhfR09PR0xFX0JVVFRPTl9JRCxcbiAgICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICB9KTtcbiAgICAgIHNlbGYuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b25FbCk7XG5cbiAgICAgIHNlbGYuZ29vZ2xlLmFjY291bnRzLmlkLmluaXRpYWxpemUoe1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBnb29nbGUtY2FtZWxjYXNlL2dvb2dsZS1jYW1lbGNhc2UgKi9cbiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcbiAgICAgICAgY2FsbGJhY2s6IHJlc29sdmUsXG4gICAgICAgIGFsbG93ZWRfcGFyZW50X29yaWdpbjogYWxsb3dlZE9yaWdpbnMsXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgZ29vZ2xlLWNhbWVsY2FzZS9nb29nbGUtY2FtZWxjYXNlICovXG4gICAgICB9KTtcbiAgICAgIHNlbGYuZ29vZ2xlLmFjY291bnRzLmlkLnJlbmRlckJ1dHRvbihcbiAgICAgICAgc2VsZi5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChTSUdOX0lOX1dJVEhfR09PR0xFX0JVVFRPTl9JRCksXG4gICAgICAgIHtcbiAgICAgICAgICAndHlwZSc6ICdzdGFuZGFyZCcsXG4gICAgICAgICAgJ3RoZW1lJzogJ291dGxpbmUnLFxuICAgICAgICAgICd0ZXh0JzogJ2NvbnRpbnVlX3dpdGgnLFxuICAgICAgICAgICdsb2dvX2FsaWdubWVudCc6ICdjZW50ZXInLFxuICAgICAgICAgICd3aWR0aCc6IGJ1dHRvbkVsLm9mZnNldFdpZHRoLFxuICAgICAgICAgICdoZWlnaHQnOiBidXR0b25FbC5vZmZzZXRIZWlnaHQsXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIC8vIFRyYWNrIGJ1dHRvbiBjbGlja3MuXG4gICAgICBidXR0b25FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgLy8gVGVsbCBwYXJlbnQgZnJhbWUgYWJvdXQgYnV0dG9uIGNsaWNrLlxuICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50Rm5Qcm9taXNlLnRoZW4oKHNlbmRNZXNzYWdlVG9QYXJlbnQpID0+IHtcbiAgICAgICAgICBzZW5kTWVzc2FnZVRvUGFyZW50KHtcbiAgICAgICAgICAgIHN0YW1wOiBQT1NUX01FU1NBR0VfU1RBTVAsXG4gICAgICAgICAgICBjb21tYW5kOiBQT1NUX01FU1NBR0VfQ09NTUFORF9CVVRUT05fQ0xJQ0ssXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICAgIC50aGVuKChqd3QpID0+IHtcbiAgICAgICAgY29uc3Qgand0UGF5bG9hZCA9IC8qKiBAdHlwZSB7IUdvb2dsZUlkZW50aXR5VjF9ICovIChcbiAgICAgICAgICBuZXcgSnd0SGVscGVyKCkuZGVjb2RlKGp3dC5jcmVkZW50aWFsKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCByZXR1cm5lZEp3dCA9IHJhd0p3dCA/IGp3dCA6IGp3dFBheWxvYWQ7XG5cbiAgICAgICAgLy8gU2VuZCBHQUEgdXNlciB0byBwYXJlbnQgZnJhbWUuXG4gICAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnRGblByb21pc2UudGhlbigoc2VuZE1lc3NhZ2VUb1BhcmVudCkgPT4ge1xuICAgICAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnQoe1xuICAgICAgICAgICAgc3RhbXA6IFBPU1RfTUVTU0FHRV9TVEFNUCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX1VTRVIsXG4gICAgICAgICAgICAvLyBOb3RlOiBqd3RQYXlsb2FkIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgcmV0dXJuZWRKd3QuXG4gICAgICAgICAgICBqd3RQYXlsb2FkLFxuICAgICAgICAgICAgcmV0dXJuZWRKd3QsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChzZW5kRXJyb3JNZXNzYWdlVG9QYXJlbnQpO1xuICB9XG59XG5cbi8qKlxuICogTG9hZHMgdGhlIEdvb2dsZSBTaWduLUluIEFQSS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgaW4gdHdvIHBsYWNlcy5cbiAqIDEuIFRoZSBwdWJsaXNoZXIncyBHb29nbGUgU2lnbi1JbiBpZnJhbWUuXG4gKiAyLiAoT3B0aW9uYWwpIERlbW9zIHRoYXQgYWxsb3cgdXNlcnMgdG8gc2lnbiBvdXQuXG4gKlxuICogQHJldHVybiB7IVByb21pc2V9XG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZUdvb2dsZVNpZ25JbigpIHtcbiAgLy8gV2FpdCBmb3IgR29vZ2xlIFNpZ24tSW4gQVBJLlxuICByZXR1cm4gKFxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBhcGlDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoISFzZWxmLmdhcGkpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGFwaUNoZWNrSW50ZXJ2YWwpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgNTApO1xuICAgIH0pXG4gICAgICAvLyBMb2FkIEF1dGgyIG1vZHVsZS5cbiAgICAgIC50aGVuKCgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZWxmLmdhcGkubG9hZCgnYXV0aDInLCByZXNvbHZlKSkpXG4gICAgICAvLyBTcGVjaWZ5IFwicmVkaXJlY3RcIiBtb2RlLiBJdCBwbGF5cyBuaWNlciB3aXRoIHdlYnZpZXdzLlxuICAgICAgLnRoZW4oXG4gICAgICAgICgpID0+XG4gICAgICAgICAgLy8gT25seSBpbml0aWFsaXplIEdvb2dsZSBTaWduLUluIG9uY2UuXG4gICAgICAgICAgc2VsZi5nYXBpLmF1dGgyLmdldEF1dGhJbnN0YW5jZSgpIHx8IHNlbGYuZ2FwaS5hdXRoMi5pbml0KClcbiAgICAgIClcbiAgKTtcbn1cblxuLyoqXG4gKiBDYWxscyBTd2dqcy5cbiAqIEBwYXJhbSB7IGZ1bmN0aW9uKCFTdWJzY3JpcHRpb25zRGVmKSB9IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGNhbGxTd2coY2FsbGJhY2spIHtcbiAgKHNlbGYuU1dHID0gc2VsZi5TV0cgfHwgW10pLnB1c2goY2FsbGJhY2spO1xufVxuXG4vKiogU3R5bGVzIGZvciB0aGUgdGhpcmQgcGFydHkgR29vZ2xlIFNpZ24tSW4gYnV0dG9uIGlmcmFtZS4gKi9cbmNvbnN0IEdPT0dMRV8zUF9TSUdOX0lOX0lGUkFNRV9TVFlMRVMgPVxuICBHT09HTEVfU0lHTl9JTl9JRlJBTUVfU1RZTEVTICtcbiAgYFxuICAjJHtHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSUR9IC5hYmNSaW9CdXR0b25Db250ZW50cyB7XG4gICAgZm9udC1mYW1pbHk6IFJvYm90byxhcmlhbCxzYW5zLXNlcmlmO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGxldHRlci1zcGFjaW5nOiAuMjFweDtcbiAgICBtYXJnaW4tbGVmdDogNnB4O1xuICAgIG1hcmdpbi1yaWdodDogNnB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gIH1cbiAgIyR7R09PR0xFXzNQX1NJR05fSU5fQlVUVE9OX0lEfSAuYWJjUmlvQnV0dG9uIHtcbiAgICBib3JkZXItcmFkaXVzOiAxcHg7XG4gICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgcmdiKDAgMCAwIC8gMjUlKTtcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjIxOHMsYm9yZGVyLWNvbG9yIC4yMThzLGJveC1zaGFkb3cgLjIxOHM7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAuMjE4cyxib3JkZXItY29sb3IgLjIxOHMsYm94LXNoYWRvdyAuMjE4cztcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XG4gICAgY29sb3I6ICMyNjI2MjY7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB3aWR0aDogYXV0bztcbiAgfVxuICAjJHtHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSUR9IC5hYmNSaW9CdXR0b25CbHVlIHtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY29sb3I6ICNmZmY7XG4gIH1cbiAgYDtcblxuY29uc3QgR09PR0xFXzNQX1NJR05fSU5fQlVUVE9OX0hUTUwgPSBgXG48ZGl2IHN0eWxlPVwiaGVpZ2h0OjM2cHg7d2lkdGg6MTgwcHg7XCIgY2xhc3M9XCJhYmNSaW9CdXR0b24gYWJjUmlvQnV0dG9uQmx1ZVwiPlxuICA8c3BhbiBzdHlsZT1cImZvbnQtc2l6ZToxNXB4O2xpbmUtaGVpZ2h0OjM0cHg7XCIgY2xhc3M9XCJhYmNSaW9CdXR0b25Db250ZW50c1wiPlxuICAgIDxzcGFuIGlkPVwibm90X3NpZ25lZF9pblwiPlNpZ24gaW4gd2l0aCBHb29nbGU8L3NwYW4+XG4gIDwvc3Bhbj5cbjwvZGl2PlxuYDtcblxuZXhwb3J0IGNsYXNzIEdhYUdvb2dsZTNwU2lnbkluQnV0dG9uIHtcbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIHRoaXJkIHBhcnR5IEdvb2dsZSBTaWduLUluIGJ1dHRvbiBmb3IgZXh0ZXJuYWwgYXV0aGVudGljYXRpb24uXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBwYXJhbSB7e1xuICAgKiAgICBhbGxvd2VkT3JpZ2luczogIUFycmF5PHN0cmluZz4sXG4gICAqICAgIGF1dGhvcml6YXRpb25Vcmw6IHN0cmluZyxcbiAgICogICAgcmVkaXJlY3RNb2RlOiBib29sZWFuLFxuICAgKiB9fSBwYXJhbXMgR2FhR29vZ2xlM3BTaWduSW5CdXR0b24gb3BlcmF0ZXMgaW4gdHdvIG1vZGVzOiByZWRpcmVjdCBhbmRcbiAgICogcG9wdXAuIFRoZSBkZWZhdWx0IG1vZGUgaXMgcG9wLXVwIG1vZGUgd2hpY2ggb3BlbnMgdGhlIGF1dGhvcml6YXRpb25VcmxcbiAgICogaW4gYSBuZXcgd2luZG93LiBUbyB1c2UgYSByZWRpcmVjdCBtb2RlIGFuZCBvcGVuIHRoZSBhdXRob3JpemF0aW9uVXJsIGluXG4gICAqIHRoZSBzYW1lIHdpbmRvdywgc2V0IHJlZGlyZWN0TW9kZSB0byB0cnVlLiBGb3Igd2VidmlldyBhcHBsaWNhdGlvbnNcbiAgICogcmVkaXJlY3RNb2RlIGlzIHJlY29tbWVuZGVkLlxuICAgKi9cbiAgc3RhdGljIHNob3coe2FsbG93ZWRPcmlnaW5zLCBhdXRob3JpemF0aW9uVXJsLCByZWRpcmVjdE1vZGUgPSBmYWxzZX0pIHtcbiAgICAvLyBPcHRpb25hbGx5IGdyYWIgbGFuZ3VhZ2UgY29kZSBmcm9tIFVSTC5cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IEdhYVV0aWxzLmdldFF1ZXJ5U3RyaW5nKCk7XG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5U3RyaW5nKTtcbiAgICBjb25zdCBsYW5ndWFnZUNvZGUgPSBxdWVyeVBhcmFtc1snbGFuZyddIHx8ICdlbic7XG5cbiAgICAvLyBBcHBseSBpZnJhbWUgc3R5bGVzLlxuICAgIGNvbnN0IHN0eWxlVGV4dCA9IEdPT0dMRV8zUF9TSUdOX0lOX0lGUkFNRV9TVFlMRVMucmVwbGFjZShcbiAgICAgICckU0hPV0NBU0VfUkVHV0FMTF9HT09HTEVfU0lHTl9JTl9CVVRUT04kJyxcbiAgICAgIG1zZyhJMThOX1NUUklOR1NbJ1NIT1dDQVNFX1JFR1dBTExfR09PR0xFX1NJR05fSU5fQlVUVE9OJ10sIGxhbmd1YWdlQ29kZSlcbiAgICApO1xuICAgIGluamVjdFN0eWxlU2hlZXQocmVzb2x2ZURvYyhzZWxmLmRvY3VtZW50KSwgc3R5bGVUZXh0KTtcblxuICAgIC8vIFJlbmRlciB0aGUgdGhpcmQgcGFydHkgR29vZ2xlIFNpZ24tSW4gYnV0dG9uLlxuICAgIGNvbnN0IGJ1dHRvbkVsID0gY3JlYXRlRWxlbWVudChzZWxmLmRvY3VtZW50LCAnZGl2Jywge1xuICAgICAgaWQ6IEdPT0dMRV8zUF9TSUdOX0lOX0JVVFRPTl9JRCxcbiAgICAgIHRhYkluZGV4OiAwLFxuICAgIH0pO1xuICAgIGJ1dHRvbkVsLi8qT0sqLyBpbm5lckhUTUwgPSBHT09HTEVfM1BfU0lHTl9JTl9CVVRUT05fSFRNTDtcbiAgICBidXR0b25FbC5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgc2VuZE1lc3NhZ2VUb1BhcmVudEZuUHJvbWlzZS50aGVuKChzZW5kTWVzc2FnZVRvUGFyZW50KSA9PiB7XG4gICAgICAgIHNlbmRNZXNzYWdlVG9QYXJlbnQoe1xuICAgICAgICAgIHN0YW1wOiBQT1NUX01FU1NBR0VfU1RBTVAsXG4gICAgICAgICAgY29tbWFuZDogUE9TVF9NRVNTQUdFX0NPTU1BTkRfM1BfQlVUVE9OX0NMSUNLLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlZGlyZWN0TW9kZSkge1xuICAgICAgICAvLyBUT0RPKGIvMjQyOTk4NjU1KTogRml4IHRoZSBkb3duc3RyZWFtIGNhbGxzIGZvciBsb2dFdmVudCB0byBiZSBjaGFpbmVkIHRvIHJlbW92ZSB0aGUgbmVlZCBvZiBkZWxheWluZyByZWRpcmVjdC5cbiAgICAgICAgc2VsZi5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZWxmLm9wZW4oYXV0aG9yaXphdGlvblVybCwgJ19wYXJlbnQnKTtcbiAgICAgICAgfSwgUkVESVJFQ1RfREVMQVkpO1xuICAgICAgICBzZWxmLm9wZW4oYXV0aG9yaXphdGlvblVybCwgJ19wYXJlbnQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYub3BlbihhdXRob3JpemF0aW9uVXJsKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNlbGYuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidXR0b25FbCk7XG5cbiAgICAvLyBQcm9taXNlIGEgZnVuY3Rpb24gdGhhdCBzZW5kcyBtZXNzYWdlcyB0byB0aGUgcGFyZW50IGZyYW1lLlxuICAgIC8vIE5vdGU6IEEgZnVuY3Rpb24gaXMgcHJlZmVyYWJsZSB0byBhIHJlZmVyZW5jZSB0byB0aGUgcGFyZW50IGZyYW1lXG4gICAgLy8gYmVjYXVzZSByZWZlcmVuY2luZyB0aGUgcGFyZW50IGZyYW1lIG91dHNpZGUgb2YgdGhlICdtZXNzYWdlJyBldmVudFxuICAgIC8vIGhhbmRsZXIgdGhyb3dzIGFuIEVycm9yLiBBIGZ1bmN0aW9uIGRlZmluZWQgd2l0aGluIHRoZSBoYW5kbGVyIGNhblxuICAgIC8vIGVmZmVjdGl2ZWx5IHNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBmcmFtZSB0aG91Z2guXG4gICAgY29uc3Qgc2VuZE1lc3NhZ2VUb1BhcmVudEZuUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgYWxsb3dlZE9yaWdpbnMuaW5kZXhPZihlLm9yaWdpbikgIT09IC0xICYmXG4gICAgICAgICAgZS5kYXRhLnN0YW1wID09PSBQT1NUX01FU1NBR0VfU1RBTVAgJiZcbiAgICAgICAgICBlLmRhdGEuY29tbWFuZCA9PT0gUE9TVF9NRVNTQUdFX0NPTU1BTkRfSU5UUk9EVUNUSU9OXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc29sdmUoKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIGUuc291cmNlLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIGUub3JpZ2luKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzZW5kRXJyb3JNZXNzYWdlVG9QYXJlbnQoKSB7XG4gICAgICBzZW5kTWVzc2FnZVRvUGFyZW50Rm5Qcm9taXNlLnRoZW4oKHNlbmRNZXNzYWdlVG9QYXJlbnQpID0+IHtcbiAgICAgICAgc2VuZE1lc3NhZ2VUb1BhcmVudCh7XG4gICAgICAgICAgc3RhbXA6IFBPU1RfTUVTU0FHRV9TVEFNUCxcbiAgICAgICAgICBjb21tYW5kOiBQT1NUX01FU1NBR0VfQ09NTUFORF9FUlJPUixcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBvcmlnaW5zLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsb3dlZE9yaWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFsbG93ZWRPcmlnaW4gPSBhbGxvd2VkT3JpZ2luc1tpXTtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYWxsb3dlZE9yaWdpbik7XG5cbiAgICAgIGNvbnN0IGlzT3JpZ2luID0gdXJsLm9yaWdpbiA9PT0gYWxsb3dlZE9yaWdpbjtcbiAgICAgIGNvbnN0IHByb3RvY29sSXNWYWxpZCA9XG4gICAgICAgIHVybC5wcm90b2NvbCA9PT0gJ2h0dHA6JyB8fCB1cmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICAgICAgY29uc3QgaXNWYWxpZE9yaWdpbiA9IGlzT3JpZ2luICYmIHByb3RvY29sSXNWYWxpZDtcblxuICAgICAgaWYgKCFpc1ZhbGlkT3JpZ2luKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFtzd2ctZ2FhLmpzOkdhYUdvb2dsZTNwU2lnbkluQnV0dG9uLnNob3ddOiBZb3Ugc3BlY2lmaWVkIGFuIGludmFsaWQgb3JpZ2luOiAke2FsbG93ZWRPcmlnaW59YFxuICAgICAgICApO1xuICAgICAgICBzZW5kRXJyb3JNZXNzYWdlVG9QYXJlbnQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlbGF5IG1lc3NhZ2UgdG8gdGhlIHBhcmVudCBmcmFtZSAoR0FBIEludGVydmVudGlvbikuXG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGUpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgYWxsb3dlZE9yaWdpbnMuaW5kZXhPZihlLm9yaWdpbikgIT09IC0xICYmXG4gICAgICAgIGUuZGF0YS5zdGFtcCA9PT0gUE9TVF9NRVNTQUdFX1NUQU1QICYmXG4gICAgICAgIGUuZGF0YS5jb21tYW5kID09PSBQT1NUX01FU1NBR0VfQ09NTUFORF9VU0VSXG4gICAgICApIHtcbiAgICAgICAgc2VsZi5wYXJlbnQucG9zdE1lc3NhZ2UoZS5kYXRhLCBlLm9yaWdpbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIE5vdGlmeSBHb29nbGUgSW50ZXJ2ZW50aW9uIG9mIGEgY29tcGxldGUgc2lnbi1pbiBldmVudC5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQHBhcmFtIHt7IGdhYVVzZXI6IEdhYVVzZXJEZWZ9fSBwYXJhbXNcbiAgICovXG4gIHN0YXRpYyBnYWFOb3RpZnlTaWduSW4oe2dhYVVzZXJ9KSB7XG4gICAgc2VsZi5vcGVuZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgc3RhbXA6IFBPU1RfTUVTU0FHRV9TVEFNUCxcbiAgICAgIGNvbW1hbmQ6IFBPU1RfTUVTU0FHRV9DT01NQU5EX1VTRVIsXG4gICAgICBnYWFVc2VyLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogTG9ncyBTaG93Y2FzZSBldmVudHMuXG4gKiBAcGFyYW0ge3tcbiAqICAgYW5hbHl0aWNzRXZlbnQ6IChBbmFseXRpY3NFdmVudHx1bmRlZmluZWQpLFxuICogICBzaG93Y2FzZUV2ZW50OiAoU2hvd2Nhc2VFdmVudHx1bmRlZmluZWQpLFxuICogICBpc0Zyb21Vc2VyQWN0aW9uOiBib29sZWFuLFxuICogfX0gcGFyYW1zXG4gKi9cbmZ1bmN0aW9uIGxvZ0V2ZW50KHthbmFseXRpY3NFdmVudCwgc2hvd2Nhc2VFdmVudCwgaXNGcm9tVXNlckFjdGlvbn0gPSB7fSkge1xuICBjYWxsU3dnKChzd2cpID0+IHtcbiAgICAvLyBHZXQgcmVmZXJlbmNlIHRvIGV2ZW50IG1hbmFnZXIuXG4gICAgc3dnLmdldEV2ZW50TWFuYWdlcigpLnRoZW4oKGV2ZW50TWFuYWdlcikgPT4ge1xuICAgICAgLy8gR2V0IGxpc3Qgb2YgYW5hbHl0aWNzIGV2ZW50cy5cbiAgICAgIGNvbnN0IGV2ZW50VHlwZXMgPSBzaG93Y2FzZUV2ZW50XG4gICAgICAgID8gc2hvd2Nhc2VFdmVudFRvQW5hbHl0aWNzRXZlbnRzKHNob3djYXNlRXZlbnQpXG4gICAgICAgIDogW2FuYWx5dGljc0V2ZW50XTtcblxuICAgICAgLy8gTG9nIGVhY2ggYW5hbHl0aWNzIGV2ZW50LlxuICAgICAgZm9yIChjb25zdCBldmVudFR5cGUgb2YgZXZlbnRUeXBlcykge1xuICAgICAgICBldmVudE1hbmFnZXIubG9nRXZlbnQoe1xuICAgICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgICBldmVudE9yaWdpbmF0b3I6IEV2ZW50T3JpZ2luYXRvci5TV0dfQ0xJRU5ULFxuICAgICAgICAgIGlzRnJvbVVzZXJBY3Rpb24sXG4gICAgICAgICAgYWRkaXRpb25hbFBhcmFtZXRlcnM6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIEdhYVV0aWxzIHtcbiAgLyoqXG4gICAqIFJldHVybnMgcXVlcnkgc3RyaW5nIGZyb20gY3VycmVudCBVUkwuXG4gICAqIFRlc3RzIGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byByZXR1cm4gZGlmZmVyZW50IFVSTHMuXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXRRdWVyeVN0cmluZygpIHtcbiAgICByZXR1cm4gc2VsZi5sb2NhdGlvbi5zZWFyY2g7XG4gIH1cbn1cblxuLyoqXG4gKiBUeXBlcyBvZiBncmFudFJlYXNvbiB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgYnkgdGhlIHVzZXIgYXMgcGFydCBvZlxuICogdGhlIHVzZXJTdGF0ZSBvYmplY3RcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBHcmFudFJlYXNvblR5cGUgPSB7XG4gIEZSRUU6ICdGUkVFJyxcbiAgU1VCU0NSSUJFUjogJ1NVQlNDUklCRVInLFxuICBNRVRFUklORzogJ01FVEVSSU5HJyxcbn07XG5cbi8qKlxuICogVHlwZXMgb2YgcGF5d2FsbFJlYXNvbiB0aGF0IGNhbiBiZSBzcGVjaWZpZWQgYnkgdGhlIHVzZXIgYXMgcGFydCBvZlxuICogdGhlIHVzZXJTdGF0ZSBvYmplY3RcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBQYXl3YWxsUmVhc29uVHlwZSA9IHtcbiAgUkVTRVJWRURfVVNFUjogJ1JFU0VSVkVEX1VTRVInLFxufTtcblxuZXhwb3J0IGNsYXNzIEdhYU1ldGVyaW5nIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51c2VyU3RhdGUgPSB7fTtcbiAgICB0aGlzLmdhYVVzZXJQcm9taXNlUmVzb2x2ZV8gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICB0aGlzLmxvZ2luUHJvbWlzZVJlc29sdmVfID0gZnVuY3Rpb24gKCkge307XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgZ2FhVXNlci5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzdGF0aWMgZ2V0R2FhVXNlclByb21pc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBHYWFNZXRlcmluZy5nYWFVc2VyUHJvbWlzZVJlc29sdmVfID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBzZXRHYWFVc2VyKGp3dCkge1xuICAgIEdhYU1ldGVyaW5nLmdhYVVzZXJQcm9taXNlUmVzb2x2ZV8oand0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHVzZXIgY2xpY2tzIFwiQWxyZWFkeSByZWdpc3RlcmVkPyBTaWduIGluXCIuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEByZXR1cm4geyFQcm9taXNlfVxuICAgKi9cbiAgc3RhdGljIGdldExvZ2luUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIEdhYU1ldGVyaW5nLmxvZ2luUHJvbWlzZVJlc29sdmVfID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyByZXNvbHZlTG9naW4oKSB7XG4gICAgR2FhTWV0ZXJpbmcubG9naW5Qcm9taXNlUmVzb2x2ZV8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIEdhYU1ldGVyaW5nIGZsb3dcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHBhcmFtIHtJbml0UGFyYW1zfSBwYXJhbXNcbiAgICovXG4gIHN0YXRpYyBpbml0KHBhcmFtcykge1xuICAgIC8vIFZhbGlkYXRlIEdhYU1ldGVyaW5nIHBhcmFtZXRlcnNcbiAgICBpZiAoIXBhcmFtcyB8fCAhR2FhTWV0ZXJpbmcudmFsaWRhdGVQYXJhbWV0ZXJzKHBhcmFtcykpIHtcbiAgICAgIGRlYnVnTG9nKCdbZ2FhLmpzOkdhYU1ldGVyaW5nLmluaXRdOiBJbnZhbGlkIHBhcmFtcy4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBwdWJsaXNoZXIncyBjYWxsYmFja3MsIHByb21pc2VzLCBhbmQgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IEdhYU1ldGVyaW5nLmdldFByb2R1Y3RJREZyb21QYWdlQ29uZmlnXygpO1xuICAgIGNvbnN0IHtcbiAgICAgIGdvb2dsZUFwaUNsaWVudElkLFxuICAgICAgYXV0aG9yaXphdGlvblVybCxcbiAgICAgIGFsbG93ZWRSZWZlcnJlcnMsXG4gICAgICBzaG93Y2FzZUVudGl0bGVtZW50LFxuICAgICAgY2FzbFVybCxcbiAgICAgIHNob3dQYXl3YWxsLFxuICAgICAgdXNlclN0YXRlLFxuICAgICAgdW5sb2NrQXJ0aWNsZSxcbiAgICAgIGhhbmRsZVN3R0VudGl0bGVtZW50LFxuICAgICAgcmVnaXN0ZXJVc2VyUHJvbWlzZSxcbiAgICAgIGhhbmRsZUxvZ2luUHJvbWlzZSxcbiAgICAgIHB1Ymxpc2hlckVudGl0bGVtZW50UHJvbWlzZSxcbiAgICAgIHJhd0p3dCxcbiAgICB9ID0gcGFyYW1zO1xuXG4gICAgLy8gU2V0IGNsYXNzIHZhcmlhYmxlc1xuICAgIEdhYU1ldGVyaW5nLnVzZXJTdGF0ZSA9IHVzZXJTdGF0ZTtcbiAgICBHYWFNZXRlcmluZy5wdWJsaXNoZXJFbnRpdGxlbWVudFByb21pc2UgPSBwdWJsaXNoZXJFbnRpdGxlbWVudFByb21pc2U7XG5cbiAgICAvLyBWYWxpZGF0ZSBnYWEgcGFyYW1ldGVycyBhbmQgcmVmZXJyZXJcbiAgICBpZiAoIUdhYU1ldGVyaW5nLmlzR2FhKGFsbG93ZWRSZWZlcnJlcnMpKSB7XG4gICAgICBkZWJ1Z0xvZygnRXh0ZW5kZWQgQWNjZXNzIC0gSW52YWxpZCBnYWEgcGFyYW1ldGVycyBvciByZWZlcnJlci4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjYWxsU3dnKChzdWJzY3JpcHRpb25zKSA9PiB7XG4gICAgICBzdWJzY3JpcHRpb25zLmluaXQocHJvZHVjdElkKTtcblxuICAgICAgbG9nRXZlbnQoe1xuICAgICAgICBhbmFseXRpY3NFdmVudDogQW5hbHl0aWNzRXZlbnQuRVZFTlRfU0hPV0NBU0VfTUVURVJJTkdfSU5JVCxcbiAgICAgICAgaXNGcm9tVXNlckFjdGlvbjogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgc3Vic2NyaXB0aW9ucy5zZXRPbkxvZ2luUmVxdWVzdCgoKSA9PlxuICAgICAgICBHYWFNZXRlcmluZy5oYW5kbGVMb2dpblJlcXVlc3QoXG4gICAgICAgICAgaGFuZGxlTG9naW5Qcm9taXNlLFxuICAgICAgICAgIHVubG9ja0FydGljbGVJZkdyYW50ZWRcbiAgICAgICAgKVxuICAgICAgKTtcblxuICAgICAgc3Vic2NyaXB0aW9ucy5zZXRPbk5hdGl2ZVN1YnNjcmliZVJlcXVlc3QoKCkgPT4gc2hvd1BheXdhbGwoKSk7XG5cbiAgICAgIHN1YnNjcmlwdGlvbnMuc2V0T25FbnRpdGxlbWVudHNSZXNwb25zZSgoZ29vZ2xlRW50aXRsZW1lbnRzUHJvbWlzZSkgPT5cbiAgICAgICAgR2FhTWV0ZXJpbmcuc2V0RW50aXRsZW1lbnRzKFxuICAgICAgICAgIGdvb2dsZUVudGl0bGVtZW50c1Byb21pc2UsXG4gICAgICAgICAgYWxsb3dlZFJlZmVycmVycyxcbiAgICAgICAgICB1bmxvY2tBcnRpY2xlLFxuICAgICAgICAgIGhhbmRsZVN3R0VudGl0bGVtZW50LFxuICAgICAgICAgIHNob3dHb29nbGVSZWd3YWxsLFxuICAgICAgICAgIHNob3dQYXl3YWxsXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGlmICgnZ3JhbnRlZCcgaW4gdXNlclN0YXRlICYmICdncmFudFJlYXNvbicgaW4gdXNlclN0YXRlKSB7XG4gICAgICAgIHVubG9ja0FydGljbGVJZkdyYW50ZWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoR2FhTWV0ZXJpbmcuaXNBcnRpY2xlRnJlZUZyb21QYWdlQ29uZmlnXygpKSB7XG4gICAgICAgIEdhYU1ldGVyaW5nLnVzZXJTdGF0ZS5ncmFudFJlYXNvbiA9IEdyYW50UmVhc29uVHlwZS5GUkVFO1xuICAgICAgICBHYWFNZXRlcmluZy51c2VyU3RhdGUuZ3JhbnRlZCA9IHRydWU7XG4gICAgICAgIGRlYnVnTG9nKCdBcnRpY2xlIGZyZWUgZnJvbSBtYXJrdXAuJyk7XG4gICAgICAgIHVubG9ja0FydGljbGVJZkdyYW50ZWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoc2hvd2Nhc2VFbnRpdGxlbWVudCkge1xuICAgICAgICBkZWJ1Z0xvZyhzaG93Y2FzZUVudGl0bGVtZW50KTtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5jb25zdW1lU2hvd2Nhc2VFbnRpdGxlbWVudEp3dChzaG93Y2FzZUVudGl0bGVtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlYnVnTG9nKCdyZXNvbHZpbmcgcHVibGlzaGVyRW50aXRsZW1lbnQnKTtcbiAgICAgICAgcHVibGlzaGVyRW50aXRsZW1lbnRQcm9taXNlLnRoZW4oKGZldGNoZWRQdWJsaXNoZXJFbnRpdGxlbWVudHMpID0+IHtcbiAgICAgICAgICBpZiAoR2FhTWV0ZXJpbmcudmFsaWRhdGVVc2VyU3RhdGUoZmV0Y2hlZFB1Ymxpc2hlckVudGl0bGVtZW50cykpIHtcbiAgICAgICAgICAgIEdhYU1ldGVyaW5nLnVzZXJTdGF0ZSA9IGZldGNoZWRQdWJsaXNoZXJFbnRpdGxlbWVudHM7XG5cbiAgICAgICAgICAgIHVubG9ja0FydGljbGVJZkdyYW50ZWQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVidWdMb2coXCJQdWJsaXNoZXIgZW50aXRsZW1lbnQgaXNuJ3QgdmFsaWRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNob3cgdGhlIEdvb2dsZSByZWdpc3RyYXRpb24gaW50ZXJ2ZW50aW9uLlxuICAgIGZ1bmN0aW9uIHNob3dHb29nbGVSZWd3YWxsKCkge1xuICAgICAgZGVidWdMb2coJ3Nob3cgR29vZ2xlIFJlZ3dhbGwnKTtcbiAgICAgIC8vIERvbid0IHJlbmRlciB0aGUgcmVnd2FsbCB1bnRpbCB0aGUgd2luZG93IGhhcyBsb2FkZWQuXG4gICAgICBHYWFNZXRlcmluZy5nZXRPblJlYWR5UHJvbWlzZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoZ29vZ2xlQXBpQ2xpZW50SWQpIHtcbiAgICAgICAgICBHYWFNZXRlcmluZ1JlZ3dhbGwuc2hvd1dpdGhOYXRpdmVSZWdpc3RyYXRpb25CdXR0b24oe1xuICAgICAgICAgICAgY2FzbFVybCxcbiAgICAgICAgICAgIGdvb2dsZUFwaUNsaWVudElkLFxuICAgICAgICAgICAgcmF3Snd0LFxuICAgICAgICAgIH0pLnRoZW4oKGp3dCkgPT4ge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHJlZ2lzdHJhdGlvbiBmb3IgbmV3IHVzZXJzXG4gICAgICAgICAgICAvLyBTYXZlIGNyZWRlbnRpYWxzIG9iamVjdCBzbyB0aGF0IHJlZ2lzdGVyVXNlclByb21pc2UgY2FuIHVzZSBpdCB1c2luZyBnZXRHYWFVc2VyLlxuICAgICAgICAgICAgR2FhTWV0ZXJpbmcuc2V0R2FhVXNlcihqd3QpO1xuICAgICAgICAgICAgcmVnaXN0ZXJVc2VyUHJvbWlzZS50aGVuKChyZWdpc3RlclVzZXJVc2VyU3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgZGVidWdMb2coJ3JlZ2lzdGVyVXNlclByb21pc2UgcmVzb2x2ZWQnKTtcbiAgICAgICAgICAgICAgaWYgKEdhYU1ldGVyaW5nLnZhbGlkYXRlVXNlclN0YXRlKHJlZ2lzdGVyVXNlclVzZXJTdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBHYWFNZXRlcmluZy51c2VyU3RhdGUgPSByZWdpc3RlclVzZXJVc2VyU3RhdGU7XG5cbiAgICAgICAgICAgICAgICB1bmxvY2tBcnRpY2xlSWZHcmFudGVkKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEdhYU1ldGVyaW5nUmVnd2FsbC5zaG93V2l0aE5hdGl2ZTNQUmVnaXN0cmF0aW9uQnV0dG9uKHtcbiAgICAgICAgICAgIGNhc2xVcmwsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uVXJsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bmxvY2tBcnRpY2xlSWZHcmFudGVkKCkge1xuICAgICAgaWYgKCFHYWFNZXRlcmluZy52YWxpZGF0ZVVzZXJTdGF0ZShHYWFNZXRlcmluZy51c2VyU3RhdGUpKSB7XG4gICAgICAgIGRlYnVnTG9nKCdJbnZhbGlkIHVzZXJTdGF0ZSBvYmplY3QnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChHYWFNZXRlcmluZy51c2VyU3RhdGUuZ3JhbnRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBncmFudFJlYXNvblRvU2hvd0Nhc2VFdmVudE1hcCA9IHtcbiAgICAgICAgICBbR3JhbnRSZWFzb25UeXBlLlNVQlNDUklCRVJdOlxuICAgICAgICAgICAgU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9CWV9TVUJTQ1JJUFRJT04sXG4gICAgICAgICAgW0dyYW50UmVhc29uVHlwZS5GUkVFXTpcbiAgICAgICAgICAgIFNob3djYXNlRXZlbnQuRVZFTlRfU0hPV0NBU0VfVU5MT0NLRURfRlJFRV9QQUdFLFxuICAgICAgICAgIFtHcmFudFJlYXNvblR5cGUuTUVURVJJTkddOlxuICAgICAgICAgICAgU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9VTkxPQ0tFRF9CWV9NRVRFUixcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoR3JhbnRSZWFzb25UeXBlW0dhYU1ldGVyaW5nLnVzZXJTdGF0ZS5ncmFudFJlYXNvbl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGNhbGxTd2coKHN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc2V0U2hvd2Nhc2VFbnRpdGxlbWVudCh7XG4gICAgICAgICAgICAgIGVudGl0bGVtZW50OlxuICAgICAgICAgICAgICAgIGdyYW50UmVhc29uVG9TaG93Q2FzZUV2ZW50TWFwW1xuICAgICAgICAgICAgICAgICAgR2FhTWV0ZXJpbmcudXNlclN0YXRlLmdyYW50UmVhc29uXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgaXNVc2VyUmVnaXN0ZXJlZDogR2FhTWV0ZXJpbmcuaXNDdXJyZW50VXNlclJlZ2lzdGVyZWQoKSxcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uVGltZXN0YW1wOiBHYWFNZXRlcmluZy5nZXRTdWJzY3JpcHRpb25UaW1lc3RhbXAoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVidWdMb2coJ3VubG9ja2VkIGZvciAnICsgR2FhTWV0ZXJpbmcudXNlclN0YXRlLmdyYW50UmVhc29uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2VyIGhhcyBhY2Nlc3MgZnJvbSBwdWJsaXNoZXIgc28gdW5sb2NrIGFydGljbGVcbiAgICAgICAgdW5sb2NrQXJ0aWNsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tTaG93Y2FzZUVudGl0bGVtZW50KEdhYU1ldGVyaW5nLnVzZXJTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tTaG93Y2FzZUVudGl0bGVtZW50KHVzZXJTdGF0ZSkge1xuICAgICAgaWYgKHVzZXJTdGF0ZS5yZWdpc3RyYXRpb25UaW1lc3RhbXApIHtcbiAgICAgICAgLy8gU2VuZCB1c2VyU3RhdGUgdG8gR29vZ2xlXG4gICAgICAgIGNhbGxTd2coKHN1YnNjcmlwdGlvbnMpID0+IHtcbiAgICAgICAgICBkZWJ1Z0xvZygnZ2V0dGluZyBlbnRpdGxlbWVudHMgZnJvbSBHb29nbGUnKTtcbiAgICAgICAgICBkZWJ1Z0xvZyhHYWFNZXRlcmluZy5uZXdVc2VyU3RhdGVUb1VzZXJTdGF0ZSh1c2VyU3RhdGUpKTtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLmdldEVudGl0bGVtZW50cyhcbiAgICAgICAgICAgIEdhYU1ldGVyaW5nLm5ld1VzZXJTdGF0ZVRvVXNlclN0YXRlKHVzZXJTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHVzZXJTdGF0ZSBpcyB1bmRlZmluZWQsIGl04oCZcyBsaWtlbHkgdGhlIHVzZXIgaXNu4oCZdFxuICAgICAgICAvLyBsb2dnZWQgaW4uIERvIG5vdCBzZW5kIGFuIGVtcHR5IHVzZXJTdGF0ZSB0byBHb29nbGUgaW5cbiAgICAgICAgLy8gdGhpcyBjYXNlLlxuICAgICAgICBzaG93R29vZ2xlUmVnd2FsbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBoYW5kbGVMb2dpblJlcXVlc3QoaGFuZGxlTG9naW5Qcm9taXNlLCB1bmxvY2tBcnRpY2xlSWZHcmFudGVkKSB7XG4gICAgR2FhTWV0ZXJpbmcucmVzb2x2ZUxvZ2luKCk7XG4gICAgaGFuZGxlTG9naW5Qcm9taXNlLnRoZW4oKGhhbmRsZUxvZ2luVXNlclN0YXRlKSA9PiB7XG4gICAgICBpZiAoR2FhTWV0ZXJpbmcudmFsaWRhdGVVc2VyU3RhdGUoaGFuZGxlTG9naW5Vc2VyU3RhdGUpKSB7XG4gICAgICAgIEdhYU1ldGVyaW5nLnVzZXJTdGF0ZSA9IGhhbmRsZUxvZ2luVXNlclN0YXRlO1xuICAgICAgICBHYWFNZXRlcmluZ1JlZ3dhbGwucmVtb3ZlKCk7XG4gICAgICAgIGRlYnVnTG9nKCdHYWFNZXRlcmluZ1JlZ3dhbGwgcmVtb3ZlZCcpO1xuICAgICAgICB1bmxvY2tBcnRpY2xlSWZHcmFudGVkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1Z0xvZygnaW52YWxpZCBoYW5kbGVMb2dpblVzZXJTdGF0ZScpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgc2V0RW50aXRsZW1lbnRzKFxuICAgIGdvb2dsZUVudGl0bGVtZW50c1Byb21pc2UsXG4gICAgYWxsb3dlZFJlZmVycmVycyxcbiAgICB1bmxvY2tBcnRpY2xlLFxuICAgIGhhbmRsZVN3R0VudGl0bGVtZW50LFxuICAgIHNob3dHb29nbGVSZWd3YWxsLFxuICAgIHNob3dQYXl3YWxsXG4gICkge1xuICAgIC8vIFdhaXQgZm9yIEdvb2dsZSBjaGVjayB0byBmaW5pc2hcbiAgICBnb29nbGVFbnRpdGxlbWVudHNQcm9taXNlLnRoZW4oKGdvb2dsZUVudGl0bGVtZW50KSA9PiB7XG4gICAgICAvLyBEZXRlcm1pbmUgR29vZ2xlIHJlc3BvbnNlIGZyb20gcHVibGlzaGVyIHJlc3BvbnNlLlxuICAgICAgaWYgKGdvb2dsZUVudGl0bGVtZW50LmVuYWJsZXNUaGlzV2l0aEdvb2dsZU1ldGVyaW5nKCkpIHtcbiAgICAgICAgLy8gR29vZ2xlIHJldHVybmVkIG1ldGVyaW5nIGVudGl0bGVtZW50IHNvIGdyYW50IGFjY2Vzc1xuICAgICAgICBnb29nbGVFbnRpdGxlbWVudC5jb25zdW1lKCgpID0+IHtcbiAgICAgICAgICAvLyBDb25zdW1lIHRoZSBlbnRpdGxlbWVudCBhbmQgdHJpZ2dlciBhIGRpYWxvZyB0aGF0IGxldHMgdGhlIHVzZXJcbiAgICAgICAgICAvLyBrbm93IEdvb2dsZSBwcm92aWRlZCB0aGVtIHdpdGggYSBmcmVlIHJlYWQuXG4gICAgICAgICAgdW5sb2NrQXJ0aWNsZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZ29vZ2xlRW50aXRsZW1lbnQuZW5hYmxlc1RoaXMoKSkge1xuICAgICAgICAvLyBHb29nbGUgcmV0dXJuZWQgYSBub24tbWV0ZXJpbmcgZW50aXRsZW1lbnRcbiAgICAgICAgLy8gVGhpcyBpcyBvbmx5IHJlbGV2YW50IGZvciBwdWJsaXNoZXJzIGRvaW5nIFN3R1xuICAgICAgICBoYW5kbGVTd0dFbnRpdGxlbWVudCgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgIUdhYU1ldGVyaW5nLmlzQ3VycmVudFVzZXJSZWdpc3RlcmVkKCkgJiZcbiAgICAgICAgR2FhTWV0ZXJpbmcuaXNHYWEoYWxsb3dlZFJlZmVycmVycylcbiAgICAgICkge1xuICAgICAgICAvLyBUaGlzIGlzIGFuIGFub255bW91cyB1c2VyIHNvIHNob3cgdGhlIEdvb2dsZSByZWdpc3RyYXRpb24gaW50ZXJ2ZW50aW9uXG4gICAgICAgIHNob3dHb29nbGVSZWd3YWxsKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2VyIGRvZXMgbm90IGFueSBhY2Nlc3MgZnJvbSBwdWJsaXNoZXIgb3IgR29vZ2xlIHNvIHNob3cgdGhlIHN0YW5kYXJkIHBheXdhbGxcbiAgICAgICAgY2FsbFN3Zygoc3Vic2NyaXB0aW9ucykgPT4ge1xuICAgICAgICAgIHN3aXRjaCAoR2FhTWV0ZXJpbmcudXNlclN0YXRlLnBheXdhbGxSZWFzb24pIHtcbiAgICAgICAgICAgIGNhc2UgUGF5d2FsbFJlYXNvblR5cGUuUkVTRVJWRURfVVNFUjpcbiAgICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zZXRTaG93Y2FzZUVudGl0bGVtZW50KHtcbiAgICAgICAgICAgICAgICBlbnRpdGxlbWVudDogU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9JTkVMSUdJQkxFX1BBWVdBTEwsXG4gICAgICAgICAgICAgICAgaXNVc2VyUmVnaXN0ZXJlZDogR2FhTWV0ZXJpbmcuaXNDdXJyZW50VXNlclJlZ2lzdGVyZWQoKSxcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25UaW1lc3RhbXA6IEdhYU1ldGVyaW5nLmdldFN1YnNjcmlwdGlvblRpbWVzdGFtcCgpLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNldFNob3djYXNlRW50aXRsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGVudGl0bGVtZW50OlxuICAgICAgICAgICAgICAgICAgU2hvd2Nhc2VFdmVudC5FVkVOVF9TSE9XQ0FTRV9OT19FTlRJVExFTUVOVFNfUEFZV0FMTCxcbiAgICAgICAgICAgICAgICBpc1VzZXJSZWdpc3RlcmVkOiBHYWFNZXRlcmluZy5pc0N1cnJlbnRVc2VyUmVnaXN0ZXJlZCgpLFxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvblRpbWVzdGFtcDogR2FhTWV0ZXJpbmcuZ2V0U3Vic2NyaXB0aW9uVGltZXN0YW1wKCksXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFNob3cgdGhlIHBheXdhbGxcbiAgICAgICAgc2hvd1BheXdhbGwoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBpc0N1cnJlbnRVc2VyUmVnaXN0ZXJlZCgpIHtcbiAgICByZXR1cm4gR2FhTWV0ZXJpbmcuaXNVc2VyUmVnaXN0ZXJlZChHYWFNZXRlcmluZy51c2VyU3RhdGUpO1xuICB9XG5cbiAgc3RhdGljIGlzVXNlclJlZ2lzdGVyZWQodXNlclN0YXRlKSB7XG4gICAgcmV0dXJuIHVzZXJTdGF0ZS5pZCAhPT0gdW5kZWZpbmVkICYmIHVzZXJTdGF0ZS5pZCAhPSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgcGFyYW1ldGVycyBmb3IgR2FhTWV0ZXJpbmcuaW5pdCBmbG93XG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBwYXJhbSB7SW5pdFBhcmFtc30gcGFyYW1zXG4gICAqL1xuICBzdGF0aWMgdmFsaWRhdGVQYXJhbWV0ZXJzKHBhcmFtcykge1xuICAgIGxldCBub0lzc3VlcyA9IHRydWU7XG4gICAgaWYgKFxuICAgICAgKCdnb29nbGVBcGlDbGllbnRJZCcgaW4gcGFyYW1zICYmICdhdXRob3JpemF0aW9uVXJsJyBpbiBwYXJhbXMpIHx8XG4gICAgICAoISgnZ29vZ2xlQXBpQ2xpZW50SWQnIGluIHBhcmFtcykgJiYgISgnYXV0aG9yaXphdGlvblVybCcgaW4gcGFyYW1zKSlcbiAgICApIHtcbiAgICAgIGRlYnVnTG9nKFxuICAgICAgICAnRWl0aGVyIGdvb2dsZUFwaUNsaWVudElkIG9yIGF1dGhvcml6YXRpb25Vcmwgc2hvdWxkIGJlIHN1cHBsaWVkIGJ1dCBub3QgYm90aC4nXG4gICAgICApO1xuICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCdhdXRob3JpemF0aW9uVXJsJyBpbiBwYXJhbXMpIHtcbiAgICAgIGlmIChcbiAgICAgICAgISh0eXBlb2YgcGFyYW1zLmF1dGhvcml6YXRpb25VcmwgPT09ICdzdHJpbmcnKSB8fFxuICAgICAgICBwYXJzZVVybChwYXJhbXMuYXV0aG9yaXphdGlvblVybCkuaHJlZiAhPT0gcGFyYW1zLmF1dGhvcml6YXRpb25VcmxcbiAgICAgICkge1xuICAgICAgICBkZWJ1Z0xvZygnYXV0aG9yaXphdGlvblVybCBpcyBub3QgYSB2YWxpZCBVUkwnKTtcbiAgICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgISh0eXBlb2YgcGFyYW1zLmdvb2dsZUFwaUNsaWVudElkID09PSAnc3RyaW5nJykgfHxcbiAgICAgIHBhcmFtcy5nb29nbGVBcGlDbGllbnRJZC5pbmRleE9mKCcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nKSA9PSAtMVxuICAgICkge1xuICAgICAgZGVidWdMb2coXG4gICAgICAgICdNaXNzaW5nIGdvb2dsZUFwaUNsaWVudElkLCBvciBpdCBpcyBub3QgYSBzdHJpbmcsIG9yIGl0IGlzIG5vdCBpbiBhIGNvcnJlY3QgZm9ybWF0J1xuICAgICAgKTtcbiAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgISgnYWxsb3dlZFJlZmVycmVycycgaW4gcGFyYW1zICYmIEFycmF5LmlzQXJyYXkocGFyYW1zLmFsbG93ZWRSZWZlcnJlcnMpKVxuICAgICkge1xuICAgICAgZGVidWdMb2coJ01pc3NpbmcgYWxsb3dlZFJlZmVycmVycyBvciBpdCBpcyBub3QgYW4gYXJyYXknKTtcbiAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxRnVuYyA9IFsndW5sb2NrQXJ0aWNsZScsICdzaG93UGF5d2FsbCddO1xuXG4gICAgZm9yIChsZXQgcmVxRnVuY05vID0gMDsgcmVxRnVuY05vIDwgcmVxRnVuYy5sZW5ndGg7IHJlcUZ1bmNObysrKSB7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgcmVxRnVuY1tyZXFGdW5jTm9dIGluIHBhcmFtcyAmJlxuICAgICAgICAgIHR5cGVvZiBwYXJhbXNbcmVxRnVuY1tyZXFGdW5jTm9dXSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgZGVidWdMb2coYE1pc3NpbmcgJHtyZXFGdW5jW3JlcUZ1bmNOb119IG9yIGl0IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gICAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgJ2hhbmRsZVN3R0VudGl0bGVtZW50JyBpbiBwYXJhbXMgJiZcbiAgICAgIHR5cGVvZiBwYXJhbXMuaGFuZGxlU3dHRW50aXRsZW1lbnQgIT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgZGVidWdMb2coJ2hhbmRsZVN3R0VudGl0bGVtZW50IGlzIHByb3ZpZGVkIGJ1dCBpdCBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCByZXFQcm9taXNlID1cbiAgICAgICdhdXRob3JpemF0aW9uVXJsJyBpbiBwYXJhbXNcbiAgICAgICAgPyBbJ2hhbmRsZUxvZ2luUHJvbWlzZSddXG4gICAgICAgIDogWydoYW5kbGVMb2dpblByb21pc2UnLCAncmVnaXN0ZXJVc2VyUHJvbWlzZSddO1xuXG4gICAgZm9yIChcbiAgICAgIGxldCByZXFQcm9taXNlTm8gPSAwO1xuICAgICAgcmVxUHJvbWlzZU5vIDwgcmVxUHJvbWlzZS5sZW5ndGg7XG4gICAgICByZXFQcm9taXNlTm8rK1xuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICAhKFxuICAgICAgICAgIHJlcVByb21pc2VbcmVxUHJvbWlzZU5vXSBpbiBwYXJhbXMgJiZcbiAgICAgICAgICBHYWFNZXRlcmluZy5pc1Byb21pc2UocGFyYW1zW3JlcVByb21pc2VbcmVxUHJvbWlzZU5vXV0pXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBkZWJ1Z0xvZyhgTWlzc2luZyAke3JlcVByb21pc2VbcmVxUHJvbWlzZU5vXX0gb3IgaXQgaXMgbm90IGEgcHJvbWlzZWApO1xuICAgICAgICBub0lzc3VlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChcbiAgICAgICdwdWJsaXNoZXJFbnRpdGxlbWVudFByb21pc2UnIGluIHBhcmFtcyAmJlxuICAgICAgIUdhYU1ldGVyaW5nLmlzUHJvbWlzZShwYXJhbXMucHVibGlzaGVyRW50aXRsZW1lbnRQcm9taXNlKVxuICAgICkge1xuICAgICAgZGVidWdMb2coXG4gICAgICAgICdwdWJsaXNoZXJFbnRpdGxlbWVudFByb21pc2UgaXMgcHJvdmlkZWQgYnV0IGl0IGlzIG5vdCBhIHByb21pc2UnXG4gICAgICApO1xuICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB1c2VyU3RhdGUgaXMgYW4gJ29iamVjdCdcbiAgICBpZiAoXG4gICAgICAhKCd1c2VyU3RhdGUnIGluIHBhcmFtcykgJiZcbiAgICAgICEoJ3B1Ymxpc2hlckVudGl0bGVtZW50UHJvbWlzZScgaW4gcGFyYW1zKVxuICAgICkge1xuICAgICAgZGVidWdMb2coYHVzZXJTdGF0ZSBvciBwdWJsaXNoZXJFbnRpdGxlbWVudFByb21pc2UgbmVlZHMgdG8gYmUgcHJvdmlkZWRgKTtcbiAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICgndXNlclN0YXRlJyBpbiBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcy51c2VyU3RhdGUgIT0gJ29iamVjdCcpIHtcbiAgICAgIGRlYnVnTG9nKGB1c2VyU3RhdGUgaXMgbm90IGFuIG9iamVjdGApO1xuICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdXNlclN0YXRlID0gcGFyYW1zLnVzZXJTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgKCEoJ2dyYW50ZWQnIGluIHVzZXJTdGF0ZSkgfHxcbiAgICAgICAgICAodXNlclN0YXRlLmdyYW50ZWQgJiZcbiAgICAgICAgICAgICFHYWFNZXRlcmluZy5pc0FydGljbGVGcmVlRnJvbVBhZ2VDb25maWdfKCkgJiZcbiAgICAgICAgICAgICEoJ2dyYW50UmVhc29uJyBpbiB1c2VyU3RhdGUpKSkgJiZcbiAgICAgICAgISgncHVibGlzaGVyRW50aXRsZW1lbnRQcm9taXNlJyBpbiBwYXJhbXMpXG4gICAgICApIHtcbiAgICAgICAgZGVidWdMb2coXG4gICAgICAgICAgJ0VpdGhlciBncmFudGVkIGFuZCBncmFudFJlYXNvbiBoYXZlIHRvIGJlIHN1cHBsaWVkIG9yIHlvdSBoYXZlIHRvIHByb3ZpZGUgcHViaXNoZXJFbnRpdGxlbWVudFByb21pc2UnXG4gICAgICAgICk7XG4gICAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vSXNzdWVzO1xuICB9XG5cbiAgc3RhdGljIGlzR2FhKHB1Ymxpc2hlclJlZmVycmVycyA9IFtdKSB7XG4gICAgLy8gVmFsaWRhdGUgR0FBIHBhcmFtcy5cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IEdhYVV0aWxzLmdldFF1ZXJ5U3RyaW5nKCk7XG4gICAgaWYgKCFxdWVyeVN0cmluZ0hhc0ZyZXNoR2FhUGFyYW1zKHF1ZXJ5U3RyaW5nLCB0cnVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVycmVyLlxuICAgIGNvbnN0IHJlZmVycmVyID0gcGFyc2VVcmwoc2VsZi5kb2N1bWVudC5yZWZlcnJlcik7XG4gICAgaWYgKFxuICAgICAgIXdhc1JlZmVycmVkQnlHb29nbGUocmVmZXJyZXIpICYmXG4gICAgICBwdWJsaXNoZXJSZWZlcnJlcnMuaW5kZXhPZihyZWZlcnJlci5ob3N0bmFtZSkgPT0gLTFcbiAgICApIHtcbiAgICAgIC8vIFJlYWwgcHVibGljYXRpb25zIHNob3VsZCBiYWlsIGlmIHRoaXMgcmVmZXJyZXIgY2hlY2sgZmFpbHMuXG4gICAgICAvLyBUaGlzIHNjcmlwdCBpcyBvbmx5IGxvZ2dpbmcgYSB3YXJuaW5nIGZvciBtZXRlcmluZyBkZW1vIHB1cnBvc2VzLlxuICAgICAgZGVidWdMb2coXG4gICAgICAgIGBUaGlzIHBhZ2UncyByZWZlcnJlciAoXCIke3JlZmVycmVyLm9yaWdpbn1cIikgY2FuJ3QgZ3JhbnQgR29vZ2xlIEFydGljbGUgQWNjZXNzLmBcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRQcm9kdWN0SURGcm9tUGFnZUNvbmZpZ18oKSB7XG4gICAgY29uc3QganNvbkxkUGFnZUNvbmZpZyA9IEdhYU1ldGVyaW5nLmdldFByb2R1Y3RJREZyb21Kc29uTGRQYWdlQ29uZmlnXygpO1xuICAgIGlmIChqc29uTGRQYWdlQ29uZmlnKSB7XG4gICAgICByZXR1cm4ganNvbkxkUGFnZUNvbmZpZztcbiAgICB9XG5cbiAgICBjb25zdCBtaWNyb2RhdGFQYWdlQ29uZmlnID1cbiAgICAgIEdhYU1ldGVyaW5nLmdldFByb2R1Y3RJREZyb21NaWNyb2RhdGFQYWdlQ29uZmlnXygpO1xuICAgIGlmIChtaWNyb2RhdGFQYWdlQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbWljcm9kYXRhUGFnZUNvbmZpZztcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnU2hvd2Nhc2UgYXJ0aWNsZXMgbXVzdCBkZWZpbmUgYSBwdWJsaXNoZXIgSUQgd2l0aCBlaXRoZXIgSlNPTi1MRCBvciBNaWNyb2RhdGEuJ1xuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBwdWJsaXNoZXIgSUQgZnJvbSBKU09OLUxEIHBhZ2UgY29uZmlnLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd8dW5kZWZpbmVkfVxuICAgKi9cbiAgc3RhdGljIGdldFByb2R1Y3RJREZyb21Kc29uTGRQYWdlQ29uZmlnXygpIHtcbiAgICBjb25zdCBsZEpzb25FbGVtZW50cyA9IHNlbGYuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICdzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2xkK2pzb25cIl0nXG4gICAgKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGRKc29uRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxkSnNvbkVsZW1lbnQgPSBsZEpzb25FbGVtZW50c1tpXTtcbiAgICAgIGxldCBsZEpzb24gPSAvKiogQHR5cGUgeyp9ICovIChwYXJzZUpzb24obGRKc29uRWxlbWVudC50ZXh0Q29udGVudCkpO1xuXG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkobGRKc29uKSkge1xuICAgICAgICBsZEpzb24gPSBbbGRKc29uXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZHVjdElkID0gZmluZEluQXJyYXkoXG4gICAgICAgIGxkSnNvbixcbiAgICAgICAgKGVudHJ5KSA9PiBlbnRyeT8uaXNQYXJ0T2Y/LnByb2R1Y3RJRFxuICAgICAgKT8uaXNQYXJ0T2YucHJvZHVjdElEO1xuXG4gICAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICAgIHJldHVybiBwcm9kdWN0SWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgcHJvZHVjdCBJRCBmcm9tIE1pY3JvZGF0YSBwYWdlIGNvbmZpZy5cbiAgICogQHByaXZhdGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHJldHVybiB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICovXG4gIHN0YXRpYyBnZXRQcm9kdWN0SURGcm9tTWljcm9kYXRhUGFnZUNvbmZpZ18oKSB7XG4gICAgY29uc3QgcHJvZHVjdElkRWxlbWVudHMgPSBzZWxmLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2l0ZW1zY29wZV1baXRlbXR5cGVdW2l0ZW1wcm9wPVwiaXNQYXJ0T2ZcIl0gW2l0ZW1wcm9wPVwicHJvZHVjdElEXCJdJ1xuICAgICk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2R1Y3RJZEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwcm9kdWN0SWRFbGVtZW50ID0gcHJvZHVjdElkRWxlbWVudHNbaV07XG4gICAgICBjb25zdCBwcm9kdWN0SWQgPSBwcm9kdWN0SWRFbGVtZW50LmNvbnRlbnQ7XG4gICAgICBpZiAocHJvZHVjdElkKSB7XG4gICAgICAgIHJldHVybiBwcm9kdWN0SWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGlzQXJ0aWNsZUZyZWVGcm9tUGFnZUNvbmZpZ18oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIEdhYU1ldGVyaW5nLmlzQXJ0aWNsZUZyZWVGcm9tSnNvbkxkUGFnZUNvbmZpZ18oKSB8fFxuICAgICAgR2FhTWV0ZXJpbmcuaXNBcnRpY2xlRnJlZUZyb21NaWNyb2RhdGFQYWdlQ29uZmlnXygpIHx8XG4gICAgICBmYWxzZVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0FydGljbGVGcmVlRnJvbUpzb25MZFBhZ2VDb25maWdfKCkge1xuICAgIGNvbnN0IGxkSnNvbkVsZW1lbnRzID0gW1xuICAgICAgLi4uc2VsZi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHRbdHlwZT1cImFwcGxpY2F0aW9uL2xkK2pzb25cIl0nKSxcbiAgICBdO1xuXG4gICAgZm9yIChjb25zdCBsZEpzb25FbGVtZW50IG9mIGxkSnNvbkVsZW1lbnRzKSB7XG4gICAgICBsZXQgbGRKc29uID0gLyoqIEB0eXBlIHsqfSAqLyAocGFyc2VKc29uKGxkSnNvbkVsZW1lbnQudGV4dENvbnRlbnQpKTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGxkSnNvbikpIHtcbiAgICAgICAgbGRKc29uID0gW2xkSnNvbl07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjY2Vzc2libGVGb3JGcmVlID0gZmluZEluQXJyYXkoXG4gICAgICAgIGxkSnNvbixcbiAgICAgICAgKGVudHJ5KSA9PiBlbnRyeT8uaXNBY2Nlc3NpYmxlRm9yRnJlZVxuICAgICAgKT8uaXNBY2Nlc3NpYmxlRm9yRnJlZTtcblxuICAgICAgaWYgKHR5cGVvZiBhY2Nlc3NpYmxlRm9yRnJlZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHJldHVybiBhY2Nlc3NpYmxlRm9yRnJlZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhY2Nlc3NpYmxlRm9yRnJlZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGFjY2Vzc2libGVGb3JGcmVlLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQG5vY29sbGFwc2VcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIHN0YXRpYyBpc0FydGljbGVGcmVlRnJvbU1pY3JvZGF0YVBhZ2VDb25maWdfKCkge1xuICAgIGNvbnN0IGFjY2Vzc2libGVGb3JGcmVlRWxlbWVudHMgPSBzZWxmLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnW2l0ZW1zY29wZV1baXRlbXR5cGVdIFtpdGVtcHJvcD1cImlzQWNjZXNzaWJsZUZvckZyZWVcIl0nXG4gICAgKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWNjZXNzaWJsZUZvckZyZWVFbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYWNjZXNzaWJsZUZvckZyZWVFbGVtZW50ID0gYWNjZXNzaWJsZUZvckZyZWVFbGVtZW50c1tpXTtcbiAgICAgIGNvbnN0IGFjY2Vzc2libGVGb3JGcmVlID0gYWNjZXNzaWJsZUZvckZyZWVFbGVtZW50LmNvbnRlbnQ7XG4gICAgICBkZWJ1Z0xvZyh0eXBlb2YgYWNjZXNzaWJsZUZvckZyZWUpO1xuICAgICAgaWYgKGFjY2Vzc2libGVGb3JGcmVlKSB7XG4gICAgICAgIGNvbnN0IGxvd2VyY2FzZSA9IGFjY2Vzc2libGVGb3JGcmVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBsb3dlcmNhc2UgPT0gJ3RydWUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRpYyBpc1Byb21pc2UocCkge1xuICAgIHJldHVybiBwICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChwKSA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nO1xuICB9XG5cbiAgc3RhdGljIG5ld1VzZXJTdGF0ZVRvVXNlclN0YXRlKG5ld1VzZXJTdGF0ZSkge1xuICAgIC8vIENvbnZlcnQgcmVnaXN0cmF0aW9uVGltZXN0YW1wIHRvIHNlY29uZHNcbiAgICBjb25zdCByZWdpc3RyYXRpb25UaW1lc3RhbXBTZWNvbmRzID0gY29udmVydFBvdGVudGlhbFRpbWVzdGFtcFRvU2Vjb25kcyhcbiAgICAgIG5ld1VzZXJTdGF0ZS5yZWdpc3RyYXRpb25UaW1lc3RhbXBcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICdtZXRlcmluZyc6IHtcbiAgICAgICAgJ3N0YXRlJzoge1xuICAgICAgICAgICdpZCc6IG5ld1VzZXJTdGF0ZS5pZCxcbiAgICAgICAgICAnc3RhbmRhcmRBdHRyaWJ1dGVzJzoge1xuICAgICAgICAgICAgJ3JlZ2lzdGVyZWRfdXNlcic6IHtcbiAgICAgICAgICAgICAgJ3RpbWVzdGFtcCc6IHJlZ2lzdHJhdGlvblRpbWVzdGFtcFNlY29uZHMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgdmFsaWRhdGVVc2VyU3RhdGUobmV3VXNlclN0YXRlKSB7XG4gICAgaWYgKCFuZXdVc2VyU3RhdGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgbm9Jc3N1ZXMgPSB0cnVlO1xuXG4gICAgaWYgKFxuICAgICAgISgnZ3JhbnRlZCcgaW4gbmV3VXNlclN0YXRlICYmIHR5cGVvZiBuZXdVc2VyU3RhdGUuZ3JhbnRlZCA9PT0gJ2Jvb2xlYW4nKVxuICAgICkge1xuICAgICAgZGVidWdMb2coXG4gICAgICAgICd1c2VyU3RhdGUuZ3JhbnRlZCBpcyBtaXNzaW5nIG9yIGludmFsaWQgKG11c3QgYmUgdHJ1ZSBvciBmYWxzZSknXG4gICAgICApO1xuXG4gICAgICBub0lzc3VlcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG5ld1VzZXJTdGF0ZS5ncmFudGVkID09PSB0cnVlICYmXG4gICAgICBHcmFudFJlYXNvblR5cGVbbmV3VXNlclN0YXRlLmdyYW50UmVhc29uXSA9PT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBkZWJ1Z0xvZyhcbiAgICAgICAgJ2lmIHVzZXJTdGF0ZS5ncmFudGVkIGlzIHRydWUgdGhlbiB1c2VyU3RhdGUuZ3JhbnRSZWFzb24gaGFzIHRvIGJlIGVpdGhlciBNRVRFUklORywgb3IgU1VCU0NSSUJFUidcbiAgICAgICk7XG5cbiAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbmV3VXNlclN0YXRlLmdyYW50ZWQgPT09IHRydWUgJiZcbiAgICAgIG5ld1VzZXJTdGF0ZS5ncmFudFJlYXNvbiA9PT0gR3JhbnRSZWFzb25UeXBlLlNVQlNDUklCRVJcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgISgnaWQnIGluIG5ld1VzZXJTdGF0ZSkgfHxcbiAgICAgICAgISgncmVnaXN0cmF0aW9uVGltZXN0YW1wJyBpbiBuZXdVc2VyU3RhdGUpXG4gICAgICApIHtcbiAgICAgICAgZGVidWdMb2coXG4gICAgICAgICAgJ01pc3NpbmcgdXNlciBJRCBvciByZWdpc3RyYXRpb25UaW1lc3RhbXAgaW4gdXNlclN0YXRlIG9iamVjdCdcbiAgICAgICAgKTtcbiAgICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwcm92aWRlZCB0aW1lc3RhbXAgaXMgYW4gaW50ZWdlclxuICAgICAgICBpZiAoXG4gICAgICAgICAgIShcbiAgICAgICAgICAgIHR5cGVvZiBuZXdVc2VyU3RhdGUucmVnaXN0cmF0aW9uVGltZXN0YW1wID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgbmV3VXNlclN0YXRlLnJlZ2lzdHJhdGlvblRpbWVzdGFtcCAlIDEgPT09IDBcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIGRlYnVnTG9nKFxuICAgICAgICAgICAgJ3VzZXJTdGF0ZS5yZWdpc3RyYXRpb25UaW1lc3RhbXAgaW52YWxpZCwgdXNlclN0YXRlLnJlZ2lzdHJhdGlvblRpbWVzdGFtcCBuZWVkcyB0byBiZSBhbiBpbnRlZ2VyIGFuZCBpbiBzZWNvbmRzJ1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBub0lzc3VlcyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNvbnZlcnRQb3RlbnRpYWxUaW1lc3RhbXBUb1NlY29uZHMoXG4gICAgICAgICAgICBuZXdVc2VyU3RhdGUucmVnaXN0cmF0aW9uVGltZXN0YW1wXG4gICAgICAgICAgKSA+XG4gICAgICAgICAgRGF0ZS5ub3coKSAvIDEwMDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgZGVidWdMb2coJ3VzZXJTdGF0ZS5yZWdpc3RyYXRpb25UaW1lc3RhbXAgaXMgaW4gdGhlIGZ1dHVyZScpO1xuXG4gICAgICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdVc2VyU3RhdGUuZ3JhbnRSZWFzb24gPT09IEdyYW50UmVhc29uVHlwZS5TVUJTQ1JJQkVSKSB7XG4gICAgICAgICAgaWYgKCEoJ3N1YnNjcmlwdGlvblRpbWVzdGFtcCcgaW4gbmV3VXNlclN0YXRlKSkge1xuICAgICAgICAgICAgZGVidWdMb2coXG4gICAgICAgICAgICAgICdzdWJzY3JpcHRpb25UaW1lc3RhbXAgaXMgcmVxdWlyZWQgaWYgdXNlclN0YXRlLmdyYW50UmVhc29uIGlzIFNVQlNDUklCRVInXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBub0lzc3VlcyA9IGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcHJvdmlkZWQgdGltZXN0YW1wIGlzIGFuIGludGVnZXJcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgIHR5cGVvZiBuZXdVc2VyU3RhdGUuc3Vic2NyaXB0aW9uVGltZXN0YW1wID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICBuZXdVc2VyU3RhdGUuc3Vic2NyaXB0aW9uVGltZXN0YW1wICUgMSA9PT0gMFxuICAgICAgICAgICAgKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZGVidWdMb2coXG4gICAgICAgICAgICAgICd1c2VyU3RhdGUuc3Vic2NyaXB0aW9uVGltZXN0YW1wIGludmFsaWQsIHVzZXJTdGF0ZS5zdWJzY3JpcHRpb25UaW1lc3RhbXAgbmVlZHMgdG8gYmUgYW4gaW50ZWdlciBhbmQgaW4gc2Vjb25kcydcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGNvbnZlcnRQb3RlbnRpYWxUaW1lc3RhbXBUb1NlY29uZHMoXG4gICAgICAgICAgICAgIG5ld1VzZXJTdGF0ZS5zdWJzY3JpcHRpb25UaW1lc3RhbXBcbiAgICAgICAgICAgICkgPlxuICAgICAgICAgICAgRGF0ZS5ub3coKSAvIDEwMDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRlYnVnTG9nKCd1c2VyU3RhdGUuc3Vic2NyaXB0aW9uVGltZXN0YW1wIGlzIGluIHRoZSBmdXR1cmUnKTtcbiAgICAgICAgICAgIG5vSXNzdWVzID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCdpZCcgaW4gbmV3VXNlclN0YXRlIHx8ICdyZWdpc3RyYXRpb25UaW1lc3RhbXAnIGluIG5ld1VzZXJTdGF0ZSkge1xuICAgICAgaWYgKCEoJ2lkJyBpbiBuZXdVc2VyU3RhdGUpKSB7XG4gICAgICAgIGRlYnVnTG9nKCdNaXNzaW5nIHVzZXIgSUQgaW4gdXNlclN0YXRlIG9iamVjdCcpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghKCdyZWdpc3RyYXRpb25UaW1lc3RhbXAnIGluIG5ld1VzZXJTdGF0ZSkpIHtcbiAgICAgICAgZGVidWdMb2coJ01pc3NpbmcgcmVnaXN0cmF0aW9uVGltZXN0YW1wIGluIHVzZXJTdGF0ZSBvYmplY3QnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICgncGF5d2FsbFJlYXNvbicgaW4gbmV3VXNlclN0YXRlKSB7XG4gICAgICBpZiAobmV3VXNlclN0YXRlLmdyYW50ZWQpIHtcbiAgICAgICAgZGVidWdMb2coXG4gICAgICAgICAgJ3VzZXJTdGF0ZS5ncmFudGVkIG11c3QgYmUgZmFsc2Ugd2hlbiBwYXl3YWxsUmVhc29uIGlzIHN1cHBsaWVkLidcbiAgICAgICAgKTtcbiAgICAgICAgbm9Jc3N1ZXMgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFBheXdhbGxSZWFzb25UeXBlW25ld1VzZXJTdGF0ZS5wYXl3YWxsUmVhc29uXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlYnVnTG9nKFxuICAgICAgICAgICd1c2VyU3RhdGUucGF5d2FsbFJlYXNvbiBoYXMgdG8gYmUgZW1wdHkgb3Igc2V0IHRvIFJFU0VSVkVEX1VTRVIuJ1xuICAgICAgICApO1xuICAgICAgICBub0lzc3VlcyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9Jc3N1ZXM7XG4gIH1cblxuICBzdGF0aWMgZ2V0T25SZWFkeVByb21pc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoc2VsZi5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTdWJzY3JpcHRpb25UaW1lc3RhbXAoKSB7XG4gICAgcmV0dXJuIEdhYU1ldGVyaW5nPy51c2VyU3RhdGU/LnN1YnNjcmlwdGlvblRpbWVzdGFtcCB8fCBudWxsO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKiBFbmdsaXNoIGlzIHRoZSBkZWZhdWx0IGxhbmd1YWdlLiAqL1xuY29uc3QgREVGQVVMVF9MQU5HVUFHRV9DT0RFID0gJ2VuJztcblxuLyoqXG4gKiBHZXRzIGEgbWVzc2FnZSBmb3IgYSBnaXZlbiBsYW5ndWFnZSBjb2RlLCBmcm9tIGEgbWFwIG9mIG1lc3NhZ2VzLlxuICogQHBhcmFtIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn0gbWFwXG4gKiBAcGFyYW0gez9zdHJpbmd8P0VsZW1lbnR9IGxhbmd1YWdlQ29kZU9yRWxlbWVudFxuICogQHJldHVybiB7P3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1zZyhtYXAsIGxhbmd1YWdlQ29kZU9yRWxlbWVudCkge1xuICBjb25zdCBkZWZhdWx0TXNnID0gbWFwW0RFRkFVTFRfTEFOR1VBR0VfQ09ERV07XG5cbiAgLy8gVmVyaWZ5IHBhcmFtcy5cbiAgaWYgKHR5cGVvZiBtYXAgIT09ICdvYmplY3QnIHx8ICFsYW5ndWFnZUNvZGVPckVsZW1lbnQpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1zZztcbiAgfVxuXG4gIC8vIEdldCBsYW5ndWFnZSBjb2RlLlxuICBsZXQgbGFuZ3VhZ2VDb2RlID1cbiAgICB0eXBlb2YgbGFuZ3VhZ2VDb2RlT3JFbGVtZW50ID09PSAnc3RyaW5nJ1xuICAgICAgPyBsYW5ndWFnZUNvZGVPckVsZW1lbnRcbiAgICAgIDogZ2V0TGFuZ3VhZ2VDb2RlRnJvbUVsZW1lbnQobGFuZ3VhZ2VDb2RlT3JFbGVtZW50KTtcblxuICAvLyBOb3JtYWxpemUgbGFuZ3VhZ2UgY29kZS5cbiAgbGFuZ3VhZ2VDb2RlID0gbGFuZ3VhZ2VDb2RlLnRvTG93ZXJDYXNlKCk7XG4gIGxhbmd1YWdlQ29kZSA9IGxhbmd1YWdlQ29kZS5yZXBsYWNlKC9fL2csICctJyk7XG5cbiAgLy8gU2VhcmNoIGZvciBhIG1lc3NhZ2UgbWF0Y2hpbmcgdGhlIGxhbmd1YWdlIGNvZGUuXG4gIC8vIElmIGEgbWVzc2FnZSBjYW4ndCBiZSBmb3VuZCwgdHJ5IGFnYWluIHdpdGggYSBsZXNzIHNwZWNpZmljIGxhbmd1YWdlIGNvZGUuXG4gIGNvbnN0IGxhbmd1YWdlQ29kZVNlZ21lbnRzID0gbGFuZ3VhZ2VDb2RlLnNwbGl0KCctJyk7XG4gIHdoaWxlIChsYW5ndWFnZUNvZGVTZWdtZW50cy5sZW5ndGgpIHtcbiAgICBjb25zdCBrZXkgPSBsYW5ndWFnZUNvZGVTZWdtZW50cy5qb2luKCctJyk7XG4gICAgaWYgKGtleSBpbiBtYXApIHtcbiAgICAgIHJldHVybiBtYXBba2V5XTtcbiAgICB9XG5cbiAgICAvLyBTaW1wbGlmeSBsYW5ndWFnZSBjb2RlLlxuICAgIC8vIEV4OiBcImVuLVVTLVNGXCIgPT4gXCJlbi1VU1wiXG4gICAgbGFuZ3VhZ2VDb2RlU2VnbWVudHMucG9wKCk7XG4gIH1cblxuICAvLyBUaGVyZSB3YXMgYW4gYXR0ZW1wdC5cbiAgcmV0dXJuIGRlZmF1bHRNc2c7XG59XG5cbi8qKlxuICogR2V0cyBhIGxhbmd1YWdlIGNvZGUgKGV4OiBcImVuLVVTXCIpIGZyb20gYSBnaXZlbiBFbGVtZW50LlxuICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VDb2RlRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICBpZiAoZWxlbWVudC5sYW5nKSB7XG4gICAgLy8gR2V0IGxhbmd1YWdlIGZyb20gZWxlbWVudCBpdHNlbGYuXG4gICAgcmV0dXJuIGVsZW1lbnQubGFuZztcbiAgfVxuXG4gIGlmIChlbGVtZW50Lm93bmVyRG9jdW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5sYW5nKSB7XG4gICAgLy8gR2V0IGxhbmd1YWdlIGZyb20gZWxlbWVudCdzIGRvY3VtZW50LlxuICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmxhbmc7XG4gIH1cblxuICAvLyBUaGVyZSB3YXMgYW4gYXR0ZW1wdC5cbiAgcmV0dXJuIERFRkFVTFRfTEFOR1VBR0VfQ09ERTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IFRoaXMgbW9kdWxlIGRlY2xhcmVzIEpTT04gdHlwZXMgYXMgZGVmaW5lZCBpbiB0aGVcbiAqIHtAbGluayBodHRwOi8vanNvbi5vcmcvfS5cbiAqL1xuXG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBKU09OLnBhcnNlIHRoYXQgY2FzdHMgdGhlIHJldHVybiB2YWx1ZVxuICogdG8gSnNvbk9iamVjdC5cbiAqIENyZWF0ZSBhIG5ldyB3cmFwcGVyIGlmIGFuIGFycmF5IHJldHVybiB2YWx1ZSBpcyBkZXNpcmVkLlxuICogQHBhcmFtIHsqfSBqc29uIEpTT04gc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHs/SnNvbk9iamVjdHx1bmRlZmluZWR9IE1heSBiZSBleHRlbmQgdG8gcGFyc2UgYXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKc29uKGpzb24pIHtcbiAgcmV0dXJuIC8qKiBAdHlwZSB7P0pzb25PYmplY3R9ICovIChKU09OLnBhcnNlKC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoanNvbikpKTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIGBqc29uYCBzdHJpbmcgd2l0aG91dCB0aHJvd2luZyBhbiBleGNlcHRpb24gaWYgbm90IHZhbGlkLlxuICogUmV0dXJucyBgdW5kZWZpbmVkYCBpZiBwYXJzaW5nIGZhaWxzLlxuICogUmV0dXJucyB0aGUgYE9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgSlNPTiBzdHJpbmcgd2hlbiBwYXJzaW5nIHN1Y2NlZWRzLlxuICogQHBhcmFtIHsqfSBqc29uIEpTT04gc3RyaW5nIHRvIHBhcnNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFcnJvcik9fSBvbkZhaWxlZCBPcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkXG4gKiAgICAgd2l0aCB0aGUgZXJyb3IgaWYgcGFyc2luZyBmYWlscy5cbiAqIEByZXR1cm4gez9Kc29uT2JqZWN0fHVuZGVmaW5lZH0gTWF5IGJlIGV4dGVuZCB0byBwYXJzZSBhcnJheXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cnlQYXJzZUpzb24oanNvbiwgb25GYWlsZWQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGFyc2VKc29uKGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKG9uRmFpbGVkKSB7XG4gICAgICBvbkZhaWxlZChlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBwYXNzZWQgc3RyaW5nIGludG8gYSBKU09OIG9iamVjdCAoaWYgcG9zc2libGUpIGFuZCByZXR1cm5zIHRoZVxuICogdmFsdWUgb2YgdGhlIHByb3BlcnR5TmFtZSBvbiB0aGF0IG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBqc29uU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcGVydHlGcm9tSnNvblN0cmluZyhqc29uU3RyaW5nLCBwcm9wZXJ0eU5hbWUpIHtcbiAgY29uc3QganNvbiA9IHRyeVBhcnNlSnNvbihqc29uU3RyaW5nKTtcbiAgcmV0dXJuIChqc29uICYmIGpzb25bcHJvcGVydHlOYW1lXSkgfHwgbnVsbDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtiYXNlNjRVcmxEZWNvZGVUb0J5dGVzLCB1dGY4RGVjb2RlU3luY30gZnJvbSAnLi9ieXRlcyc7XG5pbXBvcnQge3RyeVBhcnNlSnNvbn0gZnJvbSAnLi9qc29uJztcblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBoZWFkZXI6ICg/SnNvbk9iamVjdHx1bmRlZmluZWQpLFxuICogICBwYXlsb2FkOiAoP0pzb25PYmplY3R8dW5kZWZpbmVkKSxcbiAqICAgdmVyaWZpYWJsZTogc3RyaW5nLFxuICogICBzaWc6IHN0cmluZyxcbiAqIH19XG4gKi9cbmxldCBKd3RUb2tlbkludGVybmFsRGVmO1xuXG4vKipcbiAqIFByb3ZpZGVzIGhlbHBlciBtZXRob2RzIHRvIGRlY29kZSBhbmQgdmVyaWZ5IEpXVCB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBKd3RIZWxwZXIge1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIERlY29kZXMgSldUIHRva2VuIGFuZCByZXR1cm5zIGl0cyBwYXlsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZW5jb2RlZFRva2VuXG4gICAqIEByZXR1cm4gez9Kc29uT2JqZWN0fHVuZGVmaW5lZH1cbiAgICovXG4gIGRlY29kZShlbmNvZGVkVG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5kZWNvZGVJbnRlcm5hbF8oZW5jb2RlZFRva2VuKS5wYXlsb2FkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGVkVG9rZW5cbiAgICogQHJldHVybiB7IUp3dFRva2VuSW50ZXJuYWxEZWZ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWNvZGVJbnRlcm5hbF8oZW5jb2RlZFRva2VuKSB7XG4gICAgLy8gU2VlIGh0dHBzOi8vand0LmlvL2ludHJvZHVjdGlvbi9cbiAgICAvKipcbiAgICAgKiBUaHJvd3MgZXJyb3IgYWJvdXQgaW52YWxpZCB0b2tlbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZhbGlkVG9rZW4oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdG9rZW46IFwiJHtlbmNvZGVkVG9rZW59XCJgKTtcbiAgICB9XG5cbiAgICAvLyBFbmNvZGVkIHRva2VuIGhhcyB0aHJlZSBwYXJ0czogaGVhZGVyLnBheWxvYWQuc2lnXG4gICAgLy8gTm90ZSEgVGhlIHBhZGRpbmcgaXMgbm90IGFsbG93ZWQgYnkgSldUIHNwZWM6XG4gICAgLy8gaHR0cDovL3NlbGYtaXNzdWVkLmluZm8vZG9jcy9kcmFmdC1nb2xhbmQtanNvbi13ZWItdG9rZW4tMDAuaHRtbCNyZmMuc2VjdGlvbi41XG4gICAgY29uc3QgcGFydHMgPSBlbmNvZGVkVG9rZW4uc3BsaXQoJy4nKTtcbiAgICBpZiAocGFydHMubGVuZ3RoICE9IDMpIHtcbiAgICAgIGludmFsaWRUb2tlbigpO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJVdGY4Qnl0ZXMgPSBiYXNlNjRVcmxEZWNvZGVUb0J5dGVzKHBhcnRzWzBdKTtcbiAgICBjb25zdCBwYXlsb2FkVXRmOEJ5dGVzID0gYmFzZTY0VXJsRGVjb2RlVG9CeXRlcyhwYXJ0c1sxXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhlYWRlcjogdHJ5UGFyc2VKc29uKHV0ZjhEZWNvZGVTeW5jKGhlYWRlclV0ZjhCeXRlcyksIGludmFsaWRUb2tlbiksXG4gICAgICBwYXlsb2FkOiB0cnlQYXJzZUpzb24odXRmOERlY29kZVN5bmMocGF5bG9hZFV0ZjhCeXRlcyksIGludmFsaWRUb2tlbiksXG4gICAgICB2ZXJpZmlhYmxlOiBgJHtwYXJ0c1swXX0uJHtwYXJ0c1sxXX1gLFxuICAgICAgc2lnOiBwYXJ0c1syXSxcbiAgICB9O1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogRGVidWcgbG9nZ2VyLCBvbmx5IGxvZyBtZXNzYWdlIGlmICNzd2cubG9nPTFcbiAqIEBwYXJhbSB7Li4uKn0gdmFyX2FyZ3MgW2RlY3JpcHRpb25dXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnTG9nKHZhcl9hcmdzKSB7XG4gIGlmICgvc3dnLmRlYnVnPTEvLnRlc3Qoc2VsZi5sb2NhdGlvbi5oYXNoKSkge1xuICAgIGNvbnN0IGxvZ0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgIGxvZ0FyZ3MudW5zaGlmdCgnW1N1YnNjcmlwdGlvbnNdJyk7XG4gICAgbG9nLmFwcGx5KGxvZywgbG9nQXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gIHsuLi4qfSB2YXJfYXJncyBbZGVzY3JpcHRpb25dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2codmFyX2FyZ3MpIHtcbiAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gIHsuLi4qfSB2YXJfYXJncyBbZGVzY3JpcHRpb25dXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKHZhcl9hcmdzKSB7XG4gIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZmlyc3QgYXJndW1lbnQgaXNuJ3QgdHJ1ZWlzaC5cbiAqXG4gKiBTdXBwb3J0cyBhcmd1bWVudCBzdWJzdGl0dXRpb24gaW50byB0aGUgbWVzc2FnZSB2aWEgJXMgcGxhY2Vob2xkZXJzLlxuICpcbiAqIFRocm93cyBhbiBlcnJvciBvYmplY3QgdGhhdCBoYXMgdHdvIGV4dHJhIHByb3BlcnRpZXM6XG4gKiAtIGFzc29jaWF0ZWRFbGVtZW50OiBUaGlzIGlzIHRoZSBmaXJzdCBlbGVtZW50IHByb3ZpZGVkIGluIHRoZSB2YXIgYXJncy5cbiAqICAgSXQgY2FuIGJlIHVzZWQgZm9yIGltcHJvdmVkIGRpc3BsYXkgb2YgZXJyb3IgbWVzc2FnZXMuXG4gKiAtIG1lc3NhZ2VBcnJheTogVGhlIGVsZW1lbnRzIG9mIHRoZSBzdWJzdGl0dXRlZCBtZXNzYWdlIGFzIG5vbi1zdHJpbmdpZmllZFxuICogICBlbGVtZW50cyBpbiBhbiBhcnJheS4gV2hlbiBlLmcuIHBhc3NlZCB0byBjb25zb2xlLmVycm9yIHRoaXMgeWllbGRzXG4gKiAgIG5hdGl2ZSBkaXNwbGF5cyBvZiB0aGluZ3MgbGlrZSBIVE1MIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7VH0gc2hvdWxkQmVUcnVlaXNoIFRoZSB2YWx1ZSB0byBhc3NlcnQuIFRoZSBhc3NlcnQgZmFpbHMgaWYgaXQgZG9lc1xuICogICAgIG5vdCBldmFsdWF0ZSB0byB0cnVlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBhc3NlcnRpb24gbWVzc2FnZVxuICogQHBhcmFtIHsuLi4qfSB2YXJfYXJncyBBcmd1bWVudHMgc3Vic3RpdHV0ZWQgaW50byAlcyBpbiB0aGUgbWVzc2FnZS5cbiAqIEByZXR1cm4ge1R9IFRoZSB2YWx1ZSBvZiBzaG91bGRCZVRydWVpc2guXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KHNob3VsZEJlVHJ1ZWlzaCwgbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgbGV0IGZpcnN0RWxlbWVudDtcbiAgaWYgKCFzaG91bGRCZVRydWVpc2gpIHtcbiAgICBtZXNzYWdlID0gbWVzc2FnZSB8fCAnQXNzZXJ0aW9uIGZhaWxlZCc7XG4gICAgY29uc3Qgc3BsaXRNZXNzYWdlID0gbWVzc2FnZS5zcGxpdCgnJXMnKTtcbiAgICBjb25zdCBmaXJzdCA9IHNwbGl0TWVzc2FnZS5zaGlmdCgpO1xuICAgIGxldCBmb3JtYXR0ZWQgPSBmaXJzdDtcbiAgICBjb25zdCBtZXNzYWdlQXJyYXkgPSBbXTtcbiAgICBwdXNoSWZOb25FbXB0eShtZXNzYWdlQXJyYXksIGZpcnN0KTtcbiAgICBmb3IgKGxldCBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdmFsID0gYXJndW1lbnRzW2ldO1xuICAgICAgaWYgKHZhbCAmJiB2YWwudGFnTmFtZSkge1xuICAgICAgICBmaXJzdEVsZW1lbnQgPSB2YWw7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXh0Q29uc3RhbnQgPSBzcGxpdE1lc3NhZ2Uuc2hpZnQoKTtcbiAgICAgIG1lc3NhZ2VBcnJheS5wdXNoKHZhbCk7XG4gICAgICBwdXNoSWZOb25FbXB0eShtZXNzYWdlQXJyYXksIG5leHRDb25zdGFudC50cmltKCkpO1xuICAgICAgZm9ybWF0dGVkICs9IHRvU3RyaW5nKHZhbCkgKyBuZXh0Q29uc3RhbnQ7XG4gICAgfVxuICAgIGNvbnN0IGUgPSBuZXcgRXJyb3IoZm9ybWF0dGVkKTtcbiAgICBlLmZyb21Bc3NlcnQgPSB0cnVlO1xuICAgIGUuYXNzb2NpYXRlZEVsZW1lbnQgPSBmaXJzdEVsZW1lbnQ7XG4gICAgZS5tZXNzYWdlQXJyYXkgPSBtZXNzYWdlQXJyYXk7XG4gICAgdGhyb3cgZTtcbiAgfVxuICByZXR1cm4gc2hvdWxkQmVUcnVlaXNoO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUFycmF5fSBhcnJheVxuICogQHBhcmFtIHsqfSB2YWxcbiAqL1xuZnVuY3Rpb24gcHVzaElmTm9uRW1wdHkoYXJyYXksIHZhbCkge1xuICBpZiAodmFsICE9ICcnKSB7XG4gICAgYXJyYXkucHVzaCh2YWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbCkge1xuICAvLyBEbyBjaGVjayBlcXVpdmFsZW50IHRvIGB2YWwgaW5zdGFuY2VvZiBFbGVtZW50YCB3aXRob3V0IGNyb3NzLXdpbmRvdyBidWdcbiAgaWYgKHZhbCAmJiB2YWwubm9kZVR5cGUgPT0gMSkge1xuICAgIHJldHVybiB2YWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICsgKHZhbC5pZCA/ICcjJyArIHZhbC5pZCA6ICcnKTtcbiAgfVxuICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovICh2YWwpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBtYXAtbGlrZSBvYmplY3QuXG4gKiBJZiBpbml0aWFsIGlzIHByb3ZpZGVkLCBjb3BpZXMgaXRzIG93biBwcm9wZXJ0aWVzIGludG8gdGhlXG4gKiBuZXdseSBjcmVhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gaW5pdGlhbCBUaGlzIHNob3VsZCB0eXBpY2FsbHkgYmUgYW4gb2JqZWN0IGxpdGVyYWwuXG4gKiBAcmV0dXJuIHshT2JqZWN0fVxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChpbml0aWFsKSB7XG4gIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGlmIChpbml0aWFsKSB7XG4gICAgT2JqZWN0LmFzc2lnbihvYmosIGluaXRpYWwpO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBgQXJyYXkuZmluZCgpYCBtZXRob2QgdGhhdCdzIG5vdCB5ZXQgYXZhaWxhYmxlIGluIGFsbCBicm93c2Vycy5cbiAqXG4gKiBAcGFyYW0gez9BcnJheTxUPn0gYXJyYXlcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVCwgbnVtYmVyLCAhQXJyYXk8VD4pOmJvb2xlYW59IHByZWRpY2F0ZVxuICogQHJldHVybiB7P1R9XG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEluQXJyYXkoYXJyYXksIHByZWRpY2F0ZSkge1xuICBpZiAoIWFycmF5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbGVuID0gYXJyYXkubGVuZ3RoIHx8IDA7XG4gIGlmIChsZW4gPiAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29uc3Qgb3RoZXIgPSBhcnJheVtpXTtcbiAgICAgIGlmIChwcmVkaWNhdGUob3RoZXIsIGksIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge2NyZWF0ZUVsZW1lbnR9IGZyb20gJy4vZG9tJztcblxuZXhwb3J0IGNsYXNzIFByZWNvbm5lY3Qge1xuICAvKipcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IGRvYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAqL1xuICBwcmVjb25uZWN0KHVybCkge1xuICAgIHRoaXMucHJlXyh1cmwsICdwcmVjb25uZWN0Jyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKi9cbiAgZG5zUHJlZmV0Y2godXJsKSB7XG4gICAgdGhpcy5wcmVfKHVybCwgJ2Rucy1wcmVmZXRjaCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICovXG4gIHByZWZldGNoKHVybCkge1xuICAgIHRoaXMucHJlXyh1cmwsICdwcmVjb25uZWN0IHByZWZldGNoJyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXNcbiAgICovXG4gIHByZWxvYWQodXJsLCBhcykge1xuICAgIHRoaXMucHJlXyh1cmwsICdwcmVjb25uZWN0IHByZWxvYWQnLCBhcyk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVsXG4gICAqIEBwYXJhbSB7P3N0cmluZz19IGFzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcmVfKHVybCwgcmVsLCBhcykge1xuICAgIC8vIDxsaW5rIHJlbD1cInByZWZldGNoXCIgaHJlZj1cIi4uLlwiIGFzPVwiXCI+XG4gICAgY29uc3QgbGlua0VsID0gY3JlYXRlRWxlbWVudCh0aGlzLmRvY18sICdsaW5rJywge1xuICAgICAgJ3JlbCc6IHJlbCxcbiAgICAgICdocmVmJzogdXJsLFxuICAgIH0pO1xuICAgIGlmIChhcykge1xuICAgICAgbGlua0VsLnNldEF0dHJpYnV0ZSgnYXMnLCBhcyk7XG4gICAgfVxuICAgIHRoaXMuZG9jXy5oZWFkLmFwcGVuZENoaWxkKGxpbmtFbCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIHJhbmRvbSB2YWx1ZXMuICBUaGUgbGVuZ3RoIG9mIHRoZSBhcnJheSBpcyBudW1JbnRzLiAgRWFjaFxuICogaW50IHdpbGwgYmUgPj0gMCBhbmQgPCBtYXhWYWwuXG4gKiBAcGFyYW0geyFudW1iZXJ9IG51bUludHNcbiAqIEBwYXJhbSB7IW51bWJlcn0gbWF4VmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRzKG51bUludHMsIG1heFZhbCkge1xuICAvLyBFbnN1cmUgYXJyYXkgdHlwZSBpcyBhcHByb3ByaWF0ZSBmb3IgdGhlIG1heCB2YWx1ZSAocGVyZm9ybWFuY2UpXG4gIGNvbnN0IGFyciA9XG4gICAgbWF4VmFsIDwgMjU2XG4gICAgICA/IG5ldyBVaW50OEFycmF5KG51bUludHMpXG4gICAgICA6IG1heFZhbCA8IDMyNzY4XG4gICAgICA/IG5ldyBVaW50MTZBcnJheShudW1JbnRzKVxuICAgICAgOiBuZXcgVWludDMyQXJyYXkobnVtSW50cyk7XG5cbiAgY29uc3QgaXNJRSA9ICEhc2VsZlsnbXNDcnlwdG8nXTtcbiAgY29uc3QgbG9jYWxDcnlwdG8gPSBpc0lFID8gc2VsZlsnbXNDcnlwdG8nXSA6IHNlbGYuY3J5cHRvO1xuICBpZiAobG9jYWxDcnlwdG8gJiYgbG9jYWxDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgbG9jYWxDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycik7XG4gICAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgYXJyW2ldID0gYXJyW2ldICUgbWF4VmFsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICBmb3IgKGxldCBpID0gYXJyLmxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XG4gICAgICBhcnJbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhWYWwpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Z2V0UmFuZG9tSW50c30gZnJvbSAnLi9yYW5kb20nO1xuaW1wb3J0IHt1dGY4RW5jb2RlU3luY30gZnJvbSAnLi9ieXRlcyc7XG5pbXBvcnQge3dhcm59IGZyb20gJy4vbG9nJztcblxuY29uc3QgQ0hBUlMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IF9tYXRjaFxuICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlclxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiB0b1VwcGVyQ2FzZShfbWF0Y2gsIGNoYXJhY3Rlcikge1xuICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWUgd2l0aCBkYXNoZXNcbiAqIEByZXR1cm4ge3N0cmluZ30gRGFzaGVzIHJlbW92ZWQgYW5kIGNoYXJhY3RlciBhZnRlciB0byB1cHBlciBjYXNlLlxuICogdmlzaWJsZUZvclRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb0NhbWVsQ2FzZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoLy0oW2Etel0pL2csIHRvVXBwZXJDYXNlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBBdHRyaWJ1dGUgbmFtZSB3aXRoIGRhc2hlc1xuICogQHJldHVybiB7c3RyaW5nfSBEYXNoZXMgcmVwbGFjZWQgYnkgdW5kZXJsaW5lcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhc2hUb1VuZGVybGluZShuYW1lKSB7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoJy0nLCAnXycpO1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHN1ZmZpeFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgc3VmZml4KSB7XG4gIGNvbnN0IGluZGV4ID0gc3RyaW5nLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gIHJldHVybiBpbmRleCA+PSAwICYmIHN0cmluZy5pbmRleE9mKHN1ZmZpeCwgaW5kZXgpID09IGluZGV4O1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGguXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHByZWZpeCkge1xuICBpZiAocHJlZml4Lmxlbmd0aCA+IHN0cmluZy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5sYXN0SW5kZXhPZihwcmVmaXgsIDApID09IDA7XG59XG5cbi8qKlxuICogRXhwYW5kcyBwbGFjZWhvbGRlcnMgaW4gYSBnaXZlbiB0ZW1wbGF0ZSBzdHJpbmcgd2l0aCB2YWx1ZXMuXG4gKlxuICogUGxhY2Vob2xkZXJzIHVzZSAke2tleS1uYW1lfSBzeW50YXggYW5kIGFyZSByZXBsYWNlZCB3aXRoIHRoZSB2YWx1ZVxuICogcmV0dXJuZWQgZnJvbSB0aGUgZ2l2ZW4gZ2V0dGVyIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZSBUaGUgdGVtcGxhdGUgc3RyaW5nIHRvIGV4cGFuZC5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKHN0cmluZyk6Kn0gZ2V0dGVyIEZ1bmN0aW9uIHVzZWQgdG8gcmV0cmlldmUgYSB2YWx1ZSBmb3IgYVxuICogICBwbGFjZWhvbGRlci4gUmV0dXJucyB2YWx1ZXMgd2lsbCBiZSBjb2VyY2VkIGludG8gc3RyaW5ncy5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4SXRlcmF0aW9ucyBOdW1iZXIgb2YgdGltZXMgdG8gZXhwYW5kIHRoZSB0ZW1wbGF0ZS5cbiAqICAgRGVmYXVsdHMgdG8gMSwgYnV0IHNob3VsZCBiZSBzZXQgdG8gYSBsYXJnZXIgdmFsdWUgeW91ciBwbGFjZWhvbGRlciB0b2tlbnNcbiAqICAgY2FuIGJlIGV4cGFuZGVkIHRvIG90aGVyIHBsYWNlaG9sZGVyIHRva2Vucy4gVGFrZSBjYXV0aW9uIHdpdGggbGFyZ2UgdmFsdWVzXG4gKiAgIGFzIHJlY3Vyc2l2ZWx5IGV4cGFuZGluZyBhIHN0cmluZyBjYW4gYmUgZXhwb25lbnRpYWxseSBleHBlbnNpdmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgZ2V0dGVyLCBtYXhJdGVyYXRpb25zID0gMSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEl0ZXJhdGlvbnM7IGkrKykge1xuICAgIGxldCBtYXRjaGVzID0gMDtcbiAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UoL1xcJHsoW159XSopfS9nLCAoX2EsIGIpID0+IHtcbiAgICAgIG1hdGNoZXMrKztcbiAgICAgIHJldHVybiBnZXR0ZXIoYik7XG4gICAgfSk7XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG4vKipcbiAqIEhhc2ggZnVuY3Rpb24gZGpiMmFcbiAqIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgYSBzaW1wbGUsIGZhc3QgaGFzaGluZyBmdW5jdGlvbiB1c2luZyBtaW5pbWFsIGNvZGUuXG4gKiBJdCBkb2VzICpub3QqIGhhdmUgZ29vZCBjcnlwdG9ncmFwaGljIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtzdHJpbmd9IDMyLWJpdCB1bnNpZ25lZCBoYXNoIG9mIHRoZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0hhc2gzMihzdHIpIHtcbiAgY29uc3QgbGVuZ3RoID0gc3RyLmxlbmd0aDtcbiAgbGV0IGhhc2ggPSA1MzgxO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaGFzaCA9IChoYXNoICogMzMpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgLy8gQ29udmVydCBmcm9tIDMyLWJpdCBzaWduZWQgdG8gdW5zaWduZWQuXG4gIHJldHVybiBTdHJpbmcoaGFzaCA+Pj4gMCk7XG59XG5cbi8qKlxuICogRW5zdXJlcyB0aGUgcGFzc2VkIHZhbHVlIGlzIHNhZmUgdG8gdXNlIGZvciBjaGFyYWN0ZXIgMTkgcGVyIHJmYzQxMjIsXG4gKiBzZWMuIDQuMS41LiAgXCJTZXRzIHRoZSBoaWdoIGJpdHMgb2YgY2xvY2sgc2VxdWVuY2VcIi5cbiAqIEBwYXJhbSB7IW51bWJlcn0gdlxuICovXG5mdW5jdGlvbiBnZXRDaGFyMTkodikge1xuICByZXR1cm4gQ0hBUlNbKHYgJiAweDMpIHwgMHg4XTtcbn1cblxuLyoqXG4gKiBUaGUgcmV0dXJuZWQgaWRlbnRpZmllciB3aWxsIGFsd2F5cyBiZSBhbiA4IGRpZ2l0IHZhbGlkIGhleGlkZWNpbWFsIG51bWJlclxuICogYW5kIHdpbGwgYmUgdW5pcXVlIGZvciBlYWNoIE1TIHdpdGhpbiBhIGdpdmVuIG1vbnRoLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRNb250aGx5VGltZUlkZW50aWZpZXIoKSB7XG4gIGNvbnN0IGhleFRpbWUgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDE2KTtcbiAgcmV0dXJuIGhleFRpbWUuc3Vic3RyaW5nKGhleFRpbWUubGVuZ3RoIC0gOCkudG9VcHBlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBSRkMgNDEyMiBWNCBVVUlELiBFeDogXCI5MjMyOUQzOS02RjVDLTQ1MjAtQUJGQy1BQUI2NDU0NEUxNzJcIlxuICogVGhlIGZpcnN0IDggZGlnaXRzIGFyZSB1bmlxdWUgZm9yIHRoZSBtaWxsaXNlY29uZCBvZiB0aGUgbW9udGguICBUaGUgcmVzdFxuICogYXJlIHJhbmRvbWx5IGdlbmVyYXRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFV1aWQoKSB7XG4gIGxldCB1dWlkID0gZ2V0TW9udGhseVRpbWVJZGVudGlmaWVyKCkgKyAnLSc7XG4gIGxldCBySW5kZXggPSAwO1xuICBjb25zdCByYW5kcyA9IGdldFJhbmRvbUludHMoMjMsIDE2KTtcbiAgZm9yIChsZXQgaSA9IDk7IGkgPCAzNjsgaSsrKSB7XG4gICAgc3dpdGNoIChpKSB7XG4gICAgICBjYXNlIDEzOlxuICAgICAgY2FzZSAxODpcbiAgICAgIGNhc2UgMjM6XG4gICAgICAgIHV1aWQgKz0gJy0nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTQ6XG4gICAgICAgIHV1aWQgKz0gJzQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTk6XG4gICAgICAgIHV1aWQgKz0gZ2V0Q2hhcjE5KHJhbmRzW3JJbmRleCsrXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdXVpZCArPSBDSEFSU1tyYW5kc1tySW5kZXgrK11dO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTd2dUcmFuc2FjdGlvbklkKCkge1xuICByZXR1cm4gZ2V0VXVpZCgpICsgJy5zd2cnO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgd2hvc2UgbGVuZ3RoIG1hdGNoZXMgdGhlIGxlbmd0aCBvZiBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybWF0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHBhZFN0cmluZyhzdHIsIGZvcm1hdCkge1xuICByZXR1cm4gKGZvcm1hdCArIHN0cikuc2xpY2UoLWZvcm1hdC5sZW5ndGgpO1xufVxuXG5jb25zdCBQQURESU5HID0gJzAwMDAwMDAwJztcbmZ1bmN0aW9uIHRvSGV4KGJ1ZmZlcikge1xuICBjb25zdCBoZXhDb2RlcyA9IFtdO1xuICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdmlldy5ieXRlTGVuZ3RoOyBpICs9IDQpIHtcbiAgICAvLyB0b1N0cmluZygxNikgd2lsbCBnaXZlIHRoZSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlciB3aXRob3V0IHBhZGRpbmdcbiAgICBjb25zdCBzdHJpbmdWYWx1ZSA9IHZpZXcuZ2V0VWludDMyKGkpLnRvU3RyaW5nKDE2KTtcbiAgICBoZXhDb2Rlcy5wdXNoKHBhZFN0cmluZyhzdHJpbmdWYWx1ZSwgUEFERElORykpO1xuICB9XG4gIHJldHVybiBoZXhDb2Rlcy5qb2luKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgaGV4YWRlY2ltYWwgMTI4IGNoYXJhY3RlciBzdHJpbmcgdGhhdCBpcyB0aGVcbiAqIFNIQS01MTIgaGFzaCBvZiB0aGUgcGFzc2VkIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdUb0hhc2hcbiAqIEByZXR1cm4geyFQcm9taXNlPHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKHN0cmluZ1RvSGFzaCkge1xuICBjb25zdCBjcnlwdG8gPSBzZWxmLmNyeXB0byB8fCBzZWxmLm1zQ3J5cHRvO1xuICBjb25zdCBzdWJ0bGUgPSBjcnlwdG8/LnN1YnRsZTtcblxuICBpZiAoIXN1YnRsZSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAnU3dnanMgb25seSB3b3JrcyBvbiBzZWN1cmUgKEhUVFBTIG9yIGxvY2FsaG9zdCkgcGFnZXMuJztcbiAgICB3YXJuKG1lc3NhZ2UpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChtZXNzYWdlKTtcbiAgfVxuXG4gIHJldHVybiBzdWJ0bGVcbiAgICAuZGlnZXN0KCdTSEEtNTEyJywgdXRmOEVuY29kZVN5bmMoc3RyaW5nVG9IYXNoKSlcbiAgICAudGhlbigoZGlnZXN0KSA9PiB0b0hleChkaWdlc3QpKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTggVGhlIFN1YnNjcmliZSB3aXRoIEdvb2dsZSBBdXRob3JzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gTm90ZTogbG9hZGVkIGJ5IDNwIHN5c3RlbS4gQ2Fubm90IHJlbHkgb24gYmFiZWwgcG9seWZpbGxzLlxuaW1wb3J0IHttYXB9IGZyb20gJy4vb2JqZWN0LmpzJztcbmltcG9ydCB7c3RhcnRzV2l0aH0gZnJvbSAnLi9zdHJpbmcnO1xuXG4vKiogQHR5cGUge09iamVjdDxzdHJpbmcsIHN0cmluZz59ICovXG5sZXQgcHJvcGVydHlOYW1lQ2FjaGU7XG5cbi8qKiBAY29uc3QgeyFBcnJheTxzdHJpbmc+fSAqL1xuY29uc3QgdmVuZG9yUHJlZml4ZXMgPSBbJ1dlYmtpdCcsICd3ZWJraXQnLCAnTW96JywgJ21veicsICdtcycsICdPJywgJ28nXTtcblxuLyoqXG4gKiBEZWZhdWx0IHN0eWxlcyB0byBiZSBzZXQgZm9yIHRvcCBsZXZlbCBmcmllbmRseSBpZnJhbWUuXG4gKiBTb21lIGF0dHJpYnV0ZXMgYXJlIG5vdCBpbmNsdWRlZCBzdWNoIGFzIGhlaWdodCwgbGVmdCwgbWFyZ2luLWxlZnQ7IHNpbmNlXG4gKiB0aGVzZSBhdHRyaWJ1dGVzIGFyZSB1cGRhdGVkIGJ5IEBtZWRpYSBxdWVyaWVzIGFuZCBoYXZpbmcgdGhlc2UgdmFsdWVzXG4gKiBkZWZpbmVkIGhlcmUgYXMgIWltcG9ydGFudCBkb2VzIG5vdCB3b3JrIG9uIElFL2VkZ2UgYnJvd3NlcnMuXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPn1cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTdHlsZXMgPSB7XG4gICdhbGlnbi1jb250ZW50JzogJ25vcm1hbCcsXG4gICdhbmltYXRpb24nOiAnbm9uZScsXG4gICdhbGlnbi1pdGVtcyc6ICdub3JtYWwnLFxuICAnYWxpZ24tc2VsZic6ICdhdXRvJyxcbiAgJ2FsaWdubWVudC1iYXNlbGluZSc6ICdhdXRvJyxcbiAgJ2JhY2tmYWNlLXZpc2liaWxpdHknOiAnaGlkZGVuJyxcbiAgJ2JhY2tncm91bmQtY2xpcCc6ICdib3JkZXItYm94JyxcbiAgJ2JhY2tncm91bmQtaW1hZ2UnOiAnbm9uZScsXG4gICdiYXNlbGluZS1zaGlmdCc6ICcwJyxcbiAgJ2Jsb2NrLXNpemUnOiAnYXV0bycsXG4gICdib3JkZXInOiAnbm9uZScsXG4gICdib3JkZXItY29sbGFwc2UnOiAnc2VwYXJhdGUnLFxuICAnYm90dG9tJzogJzAnLFxuICAnYm94LXNpemluZyc6ICdib3JkZXItYm94JyxcbiAgJ2JyZWFrLWFmdGVyJzogJ2F1dG8nLFxuICAnYnJlYWstYmVmb3JlJzogJ2F1dG8nLFxuICAnYnJlYWstaW5zaWRlJzogJ2F1dG8nLFxuICAnYnVmZmVyZWQtcmVuZGVyaW5nJzogJ2F1dG8nLFxuICAnY2FwdGlvbi1zaWRlJzogJ3RvcCcsXG4gICdjYXJldC1jb2xvcic6ICdyZ2IoNTEsIDUxLCA1MSknLFxuICAnY2xlYXInOiAnbm9uZScsXG4gICdjb2xvcic6ICdyZ2IoNTEsIDUxLCA1MSknLFxuICAnY29sb3ItcmVuZGVyaW5nJzogJ2F1dG8nLFxuICAnY29sdW1uLWNvdW50JzogJ2F1dG8nLFxuICAnY29sdW1uLWZpbGwnOiAnYmFsYW5jZScsXG4gICdjb2x1bW4tZ2FwJzogJ25vcm1hbCcsXG4gICdjb2x1bW4tcnVsZS1jb2xvcic6ICdyZ2IoNTEsIDUxLCA1MSknLFxuICAnY29sdW1uLXJ1bGUtc3R5bGUnOiAnbm9uZScsXG4gICdjb2x1bW4tcnVsZS13aWR0aCc6ICcwJyxcbiAgJ2NvbHVtbi1zcGFuJzogJ25vbmUnLFxuICAnY29sdW1uLXdpZHRoJzogJ2F1dG8nLFxuICAnY29udGFpbic6ICdub25lJyxcbiAgJ2NvdW50ZXItaW5jcmVtZW50JzogJ25vbmUnLFxuICAnY291bnRlci1yZXNldCc6ICdub25lJyxcbiAgJ2N1cnNvcic6ICdhdXRvJyxcbiAgJ2RpcmVjdGlvbic6ICdpbmhlcml0JyxcbiAgJ2Rpc3BsYXknOiAnYmxvY2snLFxuICAnZW1wdHktY2VsbHMnOiAnc2hvdycsXG4gICdmaWx0ZXInOiAnbm9uZScsXG4gICdmbGV4JzogJ25vbmUnLCAvLyBmbGV4LWdyb3csIGZsZXgtc2hyaW5rLCBhbmQgZmxleC1iYXNpcy5cbiAgJ2ZsZXgtZmxvdyc6ICdyb3cgbm93cmFwJywgLy8gZmxleC1kaXJlY3Rpb24sIGZsZXgtd3JhcC5cbiAgJ2Zsb2F0JzogJ25vbmUnLFxuICAnZmxvb2QtY29sb3InOiAncmdiKDAsIDAsIDApJyxcbiAgJ2Zsb29kLW9wYWNpdHknOiAnMScsXG4gICdmb250JzogJ25vbmUnLFxuICAnZm9udC1zaXplJzogJ21lZGl1bScsXG4gICdmb250LWZhbWlseSc6ICcnLFxuICAnaGVpZ2h0JzogJ2F1dG8nLFxuICAnaHlwaGVucyc6ICdtYW51YWwnLFxuICAnaW1hZ2UtcmVuZGVyaW5nJzogJ2F1dG8nLFxuICAnaW5saW5lLXNpemUnOiAnJywgLy8gU2V0dGluZyB0byAnYXV0bycgd2lsbCBub3QgYWxsb3cgb3ZlcnJpZGUuXG4gICdpc29sYXRpb24nOiAnYXV0bycsXG4gICdqdXN0aWZ5LWNvbnRlbnQnOiAnbm9ybWFsJyxcbiAgJ2p1c3RpZnktaXRlbXMnOiAnbm9ybWFsJyxcbiAgJ2p1c3RpZnktc2VsZic6ICdhdXRvJyxcbiAgJ2xldHRlci1zcGFjaW5nJzogJ25vcm1hbCcsXG4gICdsaWdodGluZy1jb2xvcic6ICdyZ2IoMjU1LCAyNTUsIDI1NSknLFxuICAnbGluZS1icmVhayc6ICdhdXRvJyxcbiAgJ2xpbmUtaGVpZ2h0JzogJ25vcm1hbCcsXG4gICdtYXJnaW4tYm90dG9tJzogJzAnLFxuICAnbWFzayc6ICdub25lJyxcbiAgJ21heC1ibG9jay1zaXplJzogJ25vbmUnLFxuICAnbWF4LWhlaWdodCc6ICdub25lJyxcbiAgJ21heC1pbmxpbmUtc2l6ZSc6ICdub25lJyxcbiAgJ21heC13aWR0aCc6ICdub25lJyxcbiAgJ21pbi1ibG9jay1zaXplJzogJ25vbmUnLFxuICAnbWluLWhlaWdodCc6ICcwJyxcbiAgJ21pbi1pbmxpbmUtc2l6ZSc6ICcwJyxcbiAgJ21pbi13aWR0aCc6ICcwJyxcbiAgJ21peC1ibGVuZC1tb2RlJzogJ25vcm1hbCcsXG4gICdvYmplY3QtZml0JzogJ2ZpbGwnLCAvLyBJbXBvcnRhbnQgZm9yIFNhZmFyaSBicm93c2VyLlxuICAnb2Zmc2V0LWRpc3RhbmNlJzogJ25vbmUnLCAvLyBDaHJvbWUgb25seSAoRXhwZXJpbWVudGFsKS5cbiAgJ29mZnNldC1wYXRoJzogJ25vbmUnLCAvLyBDaHJvbWUgb25seSAoRXhwZXJpbWVudGFsKS5cbiAgJ29mZnNldC1yb3RhdGUnOiAnYXV0byAwZGVnJywgLy8gQ2hyb21lIG9ubHkgKEV4cGVyaW1lbnRhbCkuXG4gICdvcGFjaXR5JzogJzEnLFxuICAnb3JkZXInOiAnMCcsXG4gICdvcnBoYW5zJzogJzInLFxuICAnb3V0bGluZSc6ICdub25lJyxcbiAgJ292ZXJmbG93LWFuY2hvcic6ICdhdXRvJyxcbiAgJ292ZXJmbG93LXdyYXAnOiAnbm9ybWFsJyxcbiAgJ292ZXJmbG93JzogJ3Zpc2libGUnLFxuICAncGFkZGluZyc6ICcwJyxcbiAgJ3BhZ2UnOiAnJyxcbiAgJ3BlcnNwZWN0aXZlJzogJ25vbmUnLFxuICAncG9pbnRlci1ldmVudHMnOiAnYXV0bycsXG4gICdwb3NpdGlvbic6ICdzdGF0aWMnLFxuICAncXVvdGVzJzogJycsXG4gICdyZXNpemUnOiAnbm9uZScsXG4gICdyaWdodCc6ICcwJyxcbiAgJ3Njcm9sbC1iZWhhdmlvcic6ICdhdXRvJyxcbiAgJ3RhYi1zaXplJzogJzgnLCAvLyBPbmx5IENocm9tZSwgU2FmYXJpIChFeHBlcmltZW50YWwpLlxuICAndGFibGUtbGF5b3V0JzogJ2F1dG8nLFxuICAndGV4dC1hbGlnbic6ICdzdGFydCcsXG4gICd0ZXh0LWFsaWduLWxhc3QnOiAnYXV0bycsXG4gICd0ZXh0LWFuY2hvcic6ICdzdGFydCcsXG4gICd0ZXh0LWNvbWJpbmUtdXByaWdodCc6ICdub25lJyxcbiAgJ3RleHQtZGVjb3JhdGlvbic6ICdub25lJyxcbiAgJ3RleHQtaW5kZW50JzogJzAnLFxuICAndGV4dC1vcmllbnRhdGlvbic6ICdtaXhlZCcsXG4gICd0ZXh0LW92ZXJmbG93JzogJ2NsaXAnLFxuICAndGV4dC1yZW5kZXJpbmcnOiAnYXV0bycsXG4gICd0ZXh0LXNoYWRvdyc6ICdub25lJyxcbiAgJ3RleHQtc2l6ZS1hZGp1c3QnOiAnYXV0bycsXG4gICd0ZXh0LXRyYW5zZm9ybSc6ICdub25lJyxcbiAgJ3RleHQtdW5kZXJsaW5lLXBvc2l0aW9uJzogJ2F1dG8nLFxuICAndG9wJzogJ2F1dG8nLFxuICAndG91Y2gtYWN0aW9uJzogJ2F1dG8nLFxuICAndHJhbnNmb3JtJzogJ25vbmUnLFxuICAndHJhbnNpdGlvbic6ICdub25lIDBzIGVhc2UgMHMnLFxuICAndW5pY29kZS1iaWRpJzogJ25vcm1hbCcsXG4gICd1c2VyLXNlbGVjdCc6ICdhdXRvJyxcbiAgJ3ZlY3Rvci1lZmZlY3QnOiAnbm9uZScsXG4gICd2ZXJ0aWNhbC1hbGlnbic6ICdiYXNlbGluZScsXG4gICd2aXNpYmlsaXR5JzogJ3Zpc2libGUnLFxuICAnd2hpdGUtc3BhY2UnOiAnbm9ybWFsJyxcbiAgJ3dpZG93cyc6ICcyJyxcbiAgJ3dvcmQtYnJlYWsnOiAnbm9ybWFsJyxcbiAgJ3dvcmQtc3BhY2luZyc6ICcwJyxcbiAgJ3dvcmQtd3JhcCc6ICdub3JtYWwnLFxuICAnd3JpdGluZy1tb2RlJzogJ2hvcml6b250YWwtdGInLFxuICAnem9vbSc6ICcxJyxcbiAgJ3otaW5kZXgnOiAnYXV0bycsXG59O1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5leHBvcnQgY29uc3QgZ29vZ2xlRm9udHNVcmwgPVxuICAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PUdvb2dsZStTYW5zJztcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FtZWxDYXNlIGNhbWVsIGNhc2VkIHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfSB0aXRsZSBjYXNlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsQ2FzZVRvVGl0bGVDYXNlKGNhbWVsQ2FzZSkge1xuICByZXR1cm4gY2FtZWxDYXNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2FtZWxDYXNlLnNsaWNlKDEpO1xufVxuXG4vKipcbiAqIENoZWNrcyB0aGUgc3R5bGUgaWYgYSBwcmVmaXhlZCB2ZXJzaW9uIG9mIGEgcHJvcGVydHkgZXhpc3RzIGFuZCByZXR1cm5zXG4gKiBpdCBvciByZXR1cm5zIGFuIGVtcHR5IHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFPYmplY3R9IHN0eWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGl0bGVDYXNlIHRoZSB0aXRsZSBjYXNlIHZlcnNpb24gb2YgYSBjc3MgcHJvcGVydHkgbmFtZVxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgcHJlZml4ZWQgcHJvcGVydHkgbmFtZSBvciBudWxsLlxuICovXG5mdW5jdGlvbiBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZV8oc3R5bGUsIHRpdGxlQ2FzZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZlbmRvclByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJvcGVydHlOYW1lID0gdmVuZG9yUHJlZml4ZXNbaV0gKyB0aXRsZUNhc2U7XG4gICAgaWYgKHN0eWxlW3Byb3BlcnR5TmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5TmFtZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBvc3NpYmx5IHByZWZpeGVkIEphdmFTY3JpcHQgcHJvcGVydHkgbmFtZSBvZiBhIHN0eWxlIHByb3BlcnR5XG4gKiAoZXguIFdlYmtpdFRyYW5zaXRpb25EdXJhdGlvbikgZ2l2ZW4gYSBjYW1lbENhc2UnZCB2ZXJzaW9uIG9mIHRoZSBwcm9wZXJ0eVxuICogKGV4LiB0cmFuc2l0aW9uRHVyYXRpb24pLlxuICogQHBhcmFtIHshT2JqZWN0fSBzdHlsZVxuICogQHBhcmFtIHtzdHJpbmd9IGNhbWVsQ2FzZSB0aGUgY2FtZWwgY2FzZWQgdmVyc2lvbiBvZiBhIGNzcyBwcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBieXBhc3NDYWNoZSBieXBhc3MgdGhlIG1lbW9pemVkIGNhY2hlIG9mIHByb3BlcnR5XG4gKiAgIG1hcHBpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFZlbmRvckpzUHJvcGVydHlOYW1lKHN0eWxlLCBjYW1lbENhc2UsIGJ5cGFzc0NhY2hlKSB7XG4gIGlmIChzdGFydHNXaXRoKGNhbWVsQ2FzZSwgJy0tJykpIHtcbiAgICAvLyBDU1MgdmFycyBhcmUgcmV0dXJuZWQgYXMgaXMuXG4gICAgcmV0dXJuIGNhbWVsQ2FzZTtcbiAgfVxuICBpZiAoIXByb3BlcnR5TmFtZUNhY2hlKSB7XG4gICAgcHJvcGVydHlOYW1lQ2FjaGUgPSBtYXAoKTtcbiAgfVxuICBsZXQgcHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lQ2FjaGVbY2FtZWxDYXNlXTtcbiAgaWYgKCFwcm9wZXJ0eU5hbWUgfHwgYnlwYXNzQ2FjaGUpIHtcbiAgICBwcm9wZXJ0eU5hbWUgPSBjYW1lbENhc2U7XG4gICAgaWYgKHN0eWxlW2NhbWVsQ2FzZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgdGl0bGVDYXNlID0gY2FtZWxDYXNlVG9UaXRsZUNhc2UoY2FtZWxDYXNlKTtcbiAgICAgIGNvbnN0IHByZWZpeGVkUHJvcGVydHlOYW1lID0gZ2V0VmVuZG9ySnNQcm9wZXJ0eU5hbWVfKHN0eWxlLCB0aXRsZUNhc2UpO1xuXG4gICAgICBpZiAoc3R5bGVbcHJlZml4ZWRQcm9wZXJ0eU5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcGVydHlOYW1lID0gcHJlZml4ZWRQcm9wZXJ0eU5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghYnlwYXNzQ2FjaGUpIHtcbiAgICAgIHByb3BlcnR5TmFtZUNhY2hlW2NhbWVsQ2FzZV0gPSBwcm9wZXJ0eU5hbWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wZXJ0eU5hbWU7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHN0eWxlcyBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQgd2l0aCAhaW1wb3J0YW50LiBUaGUgc3R5bGVzXG4gKiBhcmUgc3BlY2lmaWVkIGFzIGEgbWFwIGZyb20gQ1NTIHByb3BlcnR5IG5hbWVzIHRvIHRoZWlyIHZhbHVlcy5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+fSBzdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEltcG9ydGFudFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgZm9yIChjb25zdCBrIGluIHN0eWxlcykge1xuICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZShzdHlsZXMsIGspLFxuICAgICAgc3R5bGVzW2tdLnRvU3RyaW5nKCksXG4gICAgICAnaW1wb3J0YW50J1xuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBDU1Mgc3R5bGUgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50IHdpdGggb3B0aW9uYWwgdW5pdHMsIGUuZy4gXCJweFwiLlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7P3N0cmluZ3xudW1iZXJ8Ym9vbGVhbn0gdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdW5pdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGJ5cGFzc0NhY2hlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBwcm9wZXJ0eSwgdmFsdWUsIHVuaXRzLCBieXBhc3NDYWNoZSkge1xuICBjb25zdCBwcm9wZXJ0eU5hbWUgPSBnZXRWZW5kb3JKc1Byb3BlcnR5TmFtZShcbiAgICBlbGVtZW50LnN0eWxlLFxuICAgIHByb3BlcnR5LFxuICAgIGJ5cGFzc0NhY2hlXG4gICk7XG4gIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV0gPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKFxuICAgICAgdW5pdHMgPyB2YWx1ZSArIHVuaXRzIDogdmFsdWVcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIENTUyBzdHlsZSBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGJ5cGFzc0NhY2hlXG4gKiBAcmV0dXJuIHsqfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoZWxlbWVudCwgcHJvcGVydHksIGJ5cGFzc0NhY2hlKSB7XG4gIGNvbnN0IHByb3BlcnR5TmFtZSA9IGdldFZlbmRvckpzUHJvcGVydHlOYW1lKFxuICAgIGVsZW1lbnQuc3R5bGUsXG4gICAgcHJvcGVydHksXG4gICAgYnlwYXNzQ2FjaGVcbiAgKTtcbiAgaWYgKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBlbGVtZW50LnN0eWxlW3Byb3BlcnR5TmFtZV07XG59XG5cbi8qKlxuICogU2V0cyB0aGUgQ1NTIHN0eWxlcyBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuIFRoZSBzdHlsZXNcbiAqIGEgc3BlY2lmaWVkIGFzIGEgbWFwIGZyb20gQ1NTIHByb3BlcnR5IG5hbWVzIHRvIHRoZWlyIHZhbHVlcy5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsID9zdHJpbmd8bnVtYmVyfGJvb2xlYW4+fSBzdHlsZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgZm9yIChjb25zdCBrIGluIHN0eWxlcykge1xuICAgIHNldFN0eWxlKGVsZW1lbnQsIGssIHN0eWxlc1trXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG93cyBvciBoaWRlcyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNwbGF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGUoZWxlbWVudCwgZGlzcGxheSkge1xuICBpZiAoZGlzcGxheSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZGlzcGxheSA9IGdldFN0eWxlKGVsZW1lbnQsICdkaXNwbGF5JykgPT0gJ25vbmUnO1xuICB9XG4gIHNldFN0eWxlKGVsZW1lbnQsICdkaXNwbGF5JywgZGlzcGxheSA/ICcnIDogJ25vbmUnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcGl4ZWwgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB4KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSArICdweCc7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFwidHJhbnNsYXRlWFwiIGZvciBDU1MgXCJ0cmFuc2Zvcm1cIiBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZVgodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBgdHJhbnNsYXRlWCgke3ZhbHVlfSlgO1xuICB9XG4gIHJldHVybiBgdHJhbnNsYXRlWCgke3B4KHZhbHVlKX0pYDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgXCJ0cmFuc2xhdGVYXCIgZm9yIENTUyBcInRyYW5zZm9ybVwiIHByb3BlcnR5LlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB4XG4gKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKT19IHlcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZSh4LCB5KSB7XG4gIGlmICh0eXBlb2YgeCA9PSAnbnVtYmVyJykge1xuICAgIHggPSBweCh4KTtcbiAgfVxuICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGB0cmFuc2xhdGUoJHt4fSlgO1xuICB9XG4gIGlmICh0eXBlb2YgeSA9PSAnbnVtYmVyJykge1xuICAgIHkgPSBweCh5KTtcbiAgfVxuICByZXR1cm4gYHRyYW5zbGF0ZSgke3h9LCAke3l9KWA7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFwic2NhbGVcIiBmb3IgQ1NTIFwidHJhbnNmb3JtXCIgcHJvcGVydHkuXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZSh2YWx1ZSkge1xuICByZXR1cm4gYHNjYWxlKCR7dmFsdWV9KWA7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFscGhhIHZhbHVlIGZyb20gYSByZ2JhIGNvbG9yIHZhbHVlLlxuICogUmV0dXJuIHRoZSBuZXcgY29sb3IgcHJvcGVydHkgd2l0aCBhbHBoYSBlcXVhbHMgaWYgaGFzIHRoZSBhbHBoYSB2YWx1ZS5cbiAqIENhbGxlciBuZWVkcyB0byBtYWtlIHN1cmUgdGhlIGlucHV0IGNvbG9yIHZhbHVlIGlzIGEgdmFsaWQgcmdiYS9yZ2IgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZ2JhQ29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFscGhhRnJvbUNvbG9yKHJnYmFDb2xvcikge1xuICByZXR1cm4gcmdiYUNvbG9yLnJlcGxhY2UoXG4gICAgL1xcKChbXixdKyksKFteLF0rKSwoW14sKV0rKSxbXildK1xcKS9nLFxuICAgICcoJDEsJDIsJDMsIDEpJ1xuICApO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGNvbXB1dGVkIHN0eWxlIG9mIHRoZSBlbGVtZW50LiBUaGUgaGVscGVyIGlzIG5lY2Vzc2FyeSB0byBlbmZvcmNlXG4gKiB0aGUgcG9zc2libGUgYG51bGxgIHZhbHVlIHJldHVybmVkIGJ5IGEgYnVnZ3kgRmlyZWZveC5cbiAqXG4gKiBAcGFyYW0geyFXaW5kb3d9IHdpblxuICogQHBhcmFtIHshRWxlbWVudH0gZWxcbiAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZWRTdHlsZSh3aW4sIGVsKSB7XG4gIGNvbnN0IHN0eWxlID0gLyoqIEB0eXBlIHs/Q1NTU3R5bGVEZWNsYXJhdGlvbn0gKi8gKHdpbi5nZXRDb21wdXRlZFN0eWxlKGVsKSk7XG4gIHJldHVybiAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSAqLyAoc3R5bGUpIHx8IG1hcCgpO1xufVxuXG4vKipcbiAqIFJlc2V0cyBzdHlsZXMgdGhhdCB3ZXJlIHNldCBkeW5hbWljYWxseSAoaS5lLiBpbmxpbmUpXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldFN0eWxlcyhlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIGNvbnN0IHN0eWxlT2JqID0ge307XG4gIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydGllcykge1xuICAgIHN0eWxlT2JqW3Byb3BlcnR5XSA9IG51bGw7XG4gIH1cbiAgc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlT2JqKTtcbn1cblxuLyoqXG4gKiBSZXNldHMgYWxsIHRoZSBzdHlsZXMgb2YgYW4gZWxlbWVudCB0byBhIGdpdmVuIHZhbHVlLiBEZWZhdWx0cyB0byBudWxsLlxuICogVGhlIHZhbGlkIHZhbHVlcyBhcmUgJ2luaGVyaXQnLCAnaW5pdGlhbCcsICd1bnNldCcgb3IgbnVsbC5cbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0QWxsU3R5bGVzKGVsZW1lbnQpIHtcbiAgc2V0SW1wb3J0YW50U3R5bGVzKGVsZW1lbnQsIGRlZmF1bHRTdHlsZXMpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOCBUaGUgU3Vic2NyaWJlIHdpdGggR29vZ2xlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdmFsdWUgaXMgYWN0dWFsbHkgYW4gT2JqZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIGNvbnN0IHN0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIHJldHVybiBzdHIgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGBzYCBpcyBhIHZhbGlkIHZhbHVlIG9mIGBlbnVtT2JqYC5cbiAqXG4gKiBAcGFyYW0geyFPYmplY3Q8VD59IGVudW1PYmpcbiAqIEBwYXJhbSB7VH0gc1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VudW1WYWx1ZShlbnVtT2JqLCBzKSB7XG4gIGZvciAoY29uc3QgayBpbiBlbnVtT2JqKSB7XG4gICAgaWYgKGVudW1PYmpba10gPT09IHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgZWl0aGVyIHRydWUgb3IgZmFsc2UuXG4gKiBAcGFyYW0gez8qfSB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge3dhcm59IGZyb20gJy4vbG9nJztcblxuLy8gTk9URTogVGhpcyByZWdleCB3YXMgY29waWVkIGZyb20gU3dHJ3MgQU1QIGV4dGVuc2lvbi4gaHR0cHM6Ly9naXRodWIuY29tL2FtcHByb2plY3QvYW1waHRtbC9ibG9iL2MyM2JmMjgxZjgxN2EyZWU1ZGY3M2Y2ZmQ0NWU5ZjRiNzFiYjY4YjYvZXh0ZW5zaW9ucy9hbXAtc3Vic2NyaXB0aW9ucy1nb29nbGUvMC4xL2FtcC1zdWJzY3JpcHRpb25zLWdvb2dsZS5qcyNMNTZcbmNvbnN0IEdPT0dMRV9ET01BSU5fUkUgPSAvKF58XFwuKWdvb2dsZVxcLihjb20/fFthLXpdezJ9fGNvbT9cXC5bYS16XXsyfXxjYXQpJC87XG5cbi8qKlxuICBAdHlwZWRlZiB7e1xuICAgIGhyZWY6IHN0cmluZyxcbiAgICBwcm90b2NvbDogc3RyaW5nLFxuICAgIGhvc3Q6IHN0cmluZyxcbiAgICBob3N0bmFtZTogc3RyaW5nLFxuICAgIHBvcnQ6IHN0cmluZyxcbiAgICBwYXRobmFtZTogc3RyaW5nLFxuICAgIHNlYXJjaDogc3RyaW5nLFxuICAgIGhhc2g6IHN0cmluZyxcbiAgICBvcmlnaW46IHN0cmluZyxcbiAgfX1cbiAgKi9cbmxldCBMb2NhdGlvbkRlZjtcblxuLyoqXG4gKiBDYWNoZWQgYS10YWcgdG8gYXZvaWQgbWVtb3J5IGFsbG9jYXRpb24gZHVyaW5nIFVSTCBwYXJzaW5nLlxuICogQHR5cGUge0hUTUxBbmNob3JFbGVtZW50fVxuICovXG5sZXQgYTtcblxuLyoqXG4gKiBXZSBjYWNoZWQgYWxsIHBhcnNlZCBVUkxzLiBBcyBvZiBub3cgdGhlcmUgYXJlIG5vIHVzZSBjYXNlc1xuICogb2YgQU1QIGRvY3MgdGhhdCB3b3VsZCBldmVyIHBhcnNlIGFuIGFjdHVhbCBsYXJnZSBudW1iZXIgb2YgVVJMcyxcbiAqIGJ1dCB3ZSBvZnRlbiBwYXJzZSB0aGUgc2FtZSBvbmUgb3ZlciBhbmQgb3ZlciBhZ2Fpbi5cbiAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCAhTG9jYXRpb25EZWY+fVxuICovXG5sZXQgY2FjaGU7XG5cbi8qKlxuICogU2VyaWFsaXplcyB0aGUgcGFzc2VkIHBhcmFtZXRlciBtYXAgaW50byBhIHF1ZXJ5IHN0cmluZyB3aXRoIGJvdGgga2V5c1xuICogYW5kIHZhbHVlcyBlbmNvZGVkLlxuICogQHBhcmFtIHshSnNvbk9iamVjdH0gcGFyYW1zXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVRdWVyeVN0cmluZyhwYXJhbXMpIHtcbiAgY29uc3QgcyA9IFtdO1xuICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKSB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1trXTtcbiAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdiA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodltpXSk7XG4gICAgICAgIHMucHVzaChgJHtlbmNvZGVVUklDb21wb25lbnQoayl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN2KX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3YgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHYpO1xuICAgICAgcy5wdXNoKGAke2VuY29kZVVSSUNvbXBvbmVudChrKX09JHtlbmNvZGVVUklDb21wb25lbnQoc3YpfWApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcy5qb2luKCcmJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvY2F0aW9uLWxpa2Ugb2JqZWN0IGZvciB0aGUgZ2l2ZW4gVVJMLiBJZiBpdCBpcyByZWxhdGl2ZSxcbiAqIHRoZSBVUkwgZ2V0cyByZXNvbHZlZC5cbiAqIENvbnNpZGVyIHRoZSByZXR1cm5lZCBvYmplY3QgaW1tdXRhYmxlLiBUaGlzIGlzIGVuZm9yY2VkIGR1cmluZ1xuICogdGVzdGluZyBieSBmcmVlemluZyB0aGUgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7IUxvY2F0aW9uRGVmfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVcmwodXJsKSB7XG4gIGlmICghYSkge1xuICAgIGEgPSAvKiogQHR5cGUgeyFIVE1MQW5jaG9yRWxlbWVudH0gKi8gKHNlbGYuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpKTtcbiAgICBjYWNoZSA9IHNlbGYuVXJsQ2FjaGUgfHwgKHNlbGYuVXJsQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgfVxuXG4gIGNvbnN0IGZyb21DYWNoZSA9IGNhY2hlW3VybF07XG4gIGlmIChmcm9tQ2FjaGUpIHtcbiAgICByZXR1cm4gZnJvbUNhY2hlO1xuICB9XG5cbiAgY29uc3QgaW5mbyA9IHBhcnNlVXJsV2l0aEEoYSwgdXJsKTtcblxuICByZXR1cm4gKGNhY2hlW3VybF0gPSBpbmZvKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgTG9jYXRpb24tbGlrZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBVUkwuIElmIGl0IGlzIHJlbGF0aXZlLFxuICogdGhlIFVSTCBnZXRzIHJlc29sdmVkLlxuICogQHBhcmFtIHshSFRNTEFuY2hvckVsZW1lbnR9IGFcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm4geyFMb2NhdGlvbkRlZn1cbiAqL1xuZnVuY3Rpb24gcGFyc2VVcmxXaXRoQShhLCB1cmwpIHtcbiAgYS5ocmVmID0gdXJsO1xuXG4gIC8qKiBAdHlwZSB7IUxvY2F0aW9uRGVmfSAqL1xuICBjb25zdCBpbmZvID0ge1xuICAgIGhyZWY6IGEuaHJlZixcbiAgICBwcm90b2NvbDogYS5wcm90b2NvbCxcbiAgICBob3N0OiBhLmhvc3QsXG4gICAgaG9zdG5hbWU6IGEuaG9zdG5hbWUsXG4gICAgcG9ydDogYS5wb3J0ID09ICcwJyA/ICcnIDogYS5wb3J0LFxuICAgIHBhdGhuYW1lOiBhLnBhdGhuYW1lLFxuICAgIHNlYXJjaDogYS5zZWFyY2gsXG4gICAgaGFzaDogYS5oYXNoLFxuICAgIG9yaWdpbjogYS5wcm90b2NvbCArICcvLycgKyBhLmhvc3QsXG4gIH07XG5cbiAgLy8gRm9yIGRhdGEgVVJJIGEub3JpZ2luIGlzIGVxdWFsIHRvIHRoZSBzdHJpbmcgJ251bGwnIHdoaWNoIGlzIG5vdCB1c2VmdWwuXG4gIC8vIFdlIGluc3RlYWQgcmV0dXJuIHRoZSBhY3R1YWwgb3JpZ2luIHdoaWNoIGlzIHRoZSBmdWxsIFVSTC5cbiAgaWYgKGEub3JpZ2luICYmIGEub3JpZ2luICE9PSAnbnVsbCcpIHtcbiAgICBpbmZvLm9yaWdpbiA9IGEub3JpZ2luO1xuICB9IGVsc2UgaWYgKGluZm8ucHJvdG9jb2wgPT09ICdkYXRhOicgfHwgIWluZm8uaG9zdCkge1xuICAgIGluZm8ub3JpZ2luID0gaW5mby5ocmVmO1xuICB9XG4gIHJldHVybiBpbmZvO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbmQgYnVpbGRzIE9iamVjdCBvZiBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IFRoZSBVUkwgcXVlcnkgc3RyaW5nLlxuICogQHJldHVybiB7IU9iamVjdDxzdHJpbmcsIHN0cmluZz59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nKHF1ZXJ5KSB7XG4gIGlmICghcXVlcnkpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcmV0dXJuICgvXls/I10vLnRlc3QocXVlcnkpID8gcXVlcnkuc2xpY2UoMSkgOiBxdWVyeSlcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5yZWR1Y2UoKHBhcmFtcywgcGFyYW0pID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBwYXJhbS5zcGxpdCgnPScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGl0ZW1bMF0gfHwgJycpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChpdGVtWzFdIHx8ICcnKTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgIHBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICB3YXJuKGBTd0cgY291bGQgbm90IHBhcnNlIGEgVVJMIHF1ZXJ5IHBhcmFtOiAke2l0ZW1bMF19YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBBZGRzIGEgcGFyYW1ldGVyIHRvIGEgcXVlcnkgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFF1ZXJ5UGFyYW0odXJsLCBwYXJhbSwgdmFsdWUpIHtcbiAgY29uc3QgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gIGNvbnN0IGZyYWdtZW50SW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICBsZXQgZnJhZ21lbnQgPSAnJztcbiAgaWYgKGZyYWdtZW50SW5kZXggIT0gLTEpIHtcbiAgICBmcmFnbWVudCA9IHVybC5zdWJzdHJpbmcoZnJhZ21lbnRJbmRleCk7XG4gICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBmcmFnbWVudEluZGV4KTtcbiAgfVxuICBpZiAocXVlcnlJbmRleCA9PSAtMSkge1xuICAgIHVybCArPSAnPyc7XG4gIH0gZWxzZSBpZiAocXVlcnlJbmRleCA8IHVybC5sZW5ndGggLSAxKSB7XG4gICAgdXJsICs9ICcmJztcbiAgfVxuICB1cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gIHJldHVybiB1cmwgKyBmcmFnbWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyEuLi9wcm90by9hcGlfbWVzc2FnZXMuTWVzc2FnZX0gbWVzc2FnZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VyaWFsaXplUHJvdG9NZXNzYWdlRm9yVXJsKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UudG9BcnJheShmYWxzZSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFVybCBpbmNsdWRpbmcgdGhlIHBhdGggYW5kIHNlYXJjaCwgd2l0aG91dCBmcmVnbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhvc3RVcmwodXJsKSB7XG4gIGNvbnN0IGxvY2F0aW9uSHJlZiA9IHBhcnNlVXJsKHVybCk7XG4gIHJldHVybiBsb2NhdGlvbkhyZWYub3JpZ2luICsgbG9jYXRpb25IcmVmLnBhdGhuYW1lICsgbG9jYXRpb25IcmVmLnNlYXJjaDtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyEuLi9tb2RlbC9kb2MuRG9jfSBkb2NcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENhbm9uaWNhbFVybChkb2MpIHtcbiAgY29uc3Qgbm9kZSA9IGRvYy5nZXRSb290Tm9kZSgpLnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW3JlbD0nY2Fub25pY2FsJ11cIik7XG4gIHJldHVybiAobm9kZSAmJiBub2RlLmhyZWYpIHx8ICcnO1xufVxuXG5jb25zdCBQQVJTRURfVVJMID0gcGFyc2VVcmwoc2VsZi53aW5kb3cubG9jYXRpb24uaHJlZik7XG5jb25zdCBQQVJTRURfUkVGRVJSRVIgPSBwYXJzZVVybChzZWxmLmRvY3VtZW50LnJlZmVycmVyKTtcblxuLyoqXG4gKiBUcnVlIGZvciBHb29nbGUgZG9tYWluc1xuICogQHBhcmFtIHtMb2NhdGlvbkRlZj19IHBhcnNlZFVybCBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBwYWdlJ3MgVVJMXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0dvb2dsZURvbWFpbihwYXJzZWRVcmwpIHtcbiAgcGFyc2VkVXJsID0gcGFyc2VkVXJsIHx8IFBBUlNFRF9VUkw7XG4gIHJldHVybiBHT09HTEVfRE9NQUlOX1JFLnRlc3QocGFyc2VkVXJsLmhvc3RuYW1lKTtcbn1cblxuLyoqXG4gKiBUcnVlIGZvciBIVFRQUyBVUkxzXG4gKiBAcGFyYW0ge0xvY2F0aW9uRGVmPX0gcGFyc2VkVXJsIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IHBhZ2UncyBVUkxcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NlY3VyZShwYXJzZWRVcmwpIHtcbiAgcGFyc2VkVXJsID0gcGFyc2VkVXJsIHx8IFBBUlNFRF9VUkw7XG4gIHJldHVybiBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwcycgfHwgcGFyc2VkVXJsLnByb3RvY29sID09PSAnaHR0cHM6Jztcbn1cblxuLyoqXG4gKiBUcnVlIHdoZW4gdGhlIHBhZ2UgaXMgcmVuZGVyZWQgd2l0aGluIGEgc2VjdXJlIEdvb2dsZSBhcHBsaWNhdGlvbiBvclxuICogd2FzIGxpbmtlZCB0byBmcm9tIGEgc2VjdXJlIEdvb2dsZSBkb21haW4uXG4gKiBAcGFyYW0ge0xvY2F0aW9uRGVmPX0gcGFyc2VkUmVmZXJyZXIgRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgcGFnZSdzIHJlZmVycmVyXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gd2FzUmVmZXJyZWRCeUdvb2dsZShwYXJzZWRSZWZlcnJlcikge1xuICBwYXJzZWRSZWZlcnJlciA9IHBhcnNlZFJlZmVycmVyIHx8IFBBUlNFRF9SRUZFUlJFUjtcbiAgcmV0dXJuIGlzU2VjdXJlKHBhcnNlZFJlZmVycmVyKSAmJiBpc0dvb2dsZURvbWFpbihwYXJzZWRSZWZlcnJlcik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE4IFRoZSBTdWJzY3JpYmUgd2l0aCBHb29nbGUgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7YXNzZXJ0fSBmcm9tICcuL2xvZyc7XG5pbXBvcnQge3BhcnNlSnNvbn0gZnJvbSAnLi9qc29uJztcbmltcG9ydCB7cGFyc2VVcmx9IGZyb20gJy4vdXJsJztcbmltcG9ydCB7dXRmOEVuY29kZVN5bmN9IGZyb20gJy4vYnl0ZXMnO1xuXG4vKipcbiAqIFRoZSBcImluaXRcIiBhcmd1bWVudCBvZiB0aGUgRmV0Y2ggQVBJLiBDdXJyZW50bHksIG9ubHkgXCJjcmVkZW50aWFsczogaW5jbHVkZVwiXG4gKiBpcyBpbXBsZW1lbnRlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dsb2JhbEZldGNoL2ZldGNoXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgYm9keTogKCFGb3JtRGF0YXxzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgY3JlZGVudGlhbHM6IChzdHJpbmd8dW5kZWZpbmVkKSxcbiAqICAgaGVhZGVyczogKCFPYmplY3R8dW5kZWZpbmVkKSxcbiAqICAgbWV0aG9kOiAoc3RyaW5nfHVuZGVmaW5lZCksXG4gKiAgIHJlc3BvbnNlVHlwZTogKHN0cmluZylcbiAqIH19XG4gKi9cbmV4cG9ydCBsZXQgRmV0Y2hJbml0RGVmO1xuXG4vKiogQHByaXZhdGUgQGNvbnN0IHshQXJyYXk8c3RyaW5nPn0gKi9cbmNvbnN0IGFsbG93ZWRNZXRob2RzXyA9IFsnR0VUJywgJ1BPU1QnXTtcblxuLyoqIEBwcml2YXRlIEBlbnVtIHtudW1iZXJ9IEFsbG93ZWQgZmV0Y2ggcmVzcG9uc2VzLiAqL1xuY29uc3QgYWxsb3dlZEZldGNoVHlwZXNfID0ge1xuICBkb2N1bWVudDogMSxcbiAgdGV4dDogMixcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0aGF0IHBvbHlmaWxscyBGZXRjaCBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBYaHIge1xuICAvKipcbiAgICogQHBhcmFtIHshV2luZG93fSB3aW5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHdpbikge1xuICAgIC8qKiBAY29uc3QgeyFXaW5kb3d9ICovXG4gICAgdGhpcy53aW4gPSB3aW47XG4gIH1cblxuICAvKipcbiAgICogV2Ugd2FudCB0byBjYWxsIGBmZXRjaF9gIHVuYm91bmQgZnJvbSBhbnkgY29udGV4dCBzaW5jZSBpdCBjb3VsZFxuICAgKiBiZSBlaXRoZXIgdGhlIG5hdGl2ZSBmZXRjaCBvciBvdXIgcG9seWZpbGwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxuICAgKiBAcGFyYW0geyFGZXRjaEluaXREZWZ9IGluaXRcbiAgICogQHJldHVybiB7IVByb21pc2U8IUZldGNoUmVzcG9uc2U+fCFQcm9taXNlPCFSZXNwb25zZT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmZXRjaF8oaW5wdXQsIGluaXQpIHtcbiAgICAvLyBUT0RPKGF2aW1laHRhKTogU2hvdWxkIHRoZSByZXF1ZXN0cyBnbyB0aHJvdWdoIHdoZW4gcGFnZSBpcyBub3QgdmlzaWJsZT9cbiAgICBhc3NlcnQodHlwZW9mIGlucHV0ID09ICdzdHJpbmcnLCAnT25seSBVUkwgc3VwcG9ydGVkOiAlcycsIGlucHV0KTtcbiAgICAvLyBJbiBwYXJ0aWN1bGFyLCBGaXJlZm94IGRvZXMgbm90IHRvbGVyYXRlIGBudWxsYCB2YWx1ZXMgZm9yXG4gICAgLy8gYGNyZWRlbnRpYWxzYC5cbiAgICBjb25zdCBjcmVkcyA9IGluaXQuY3JlZGVudGlhbHM7XG4gICAgYXNzZXJ0KFxuICAgICAgY3JlZHMgPT09IHVuZGVmaW5lZCB8fCBjcmVkcyA9PSAnaW5jbHVkZScgfHwgY3JlZHMgPT0gJ29taXQnLFxuICAgICAgJ09ubHkgY3JlZGVudGlhbHM9aW5jbHVkZXxvbWl0IHN1cHBvcnQ6ICVzJyxcbiAgICAgIGNyZWRzXG4gICAgKTtcbiAgICAvLyBGYWxsYmFjayB0byB4aHIgcG9seWZpbGwgc2luY2UgYGZldGNoYCBhcGkgZG9lcyBub3Qgc3VwcG9ydFxuICAgIC8vIHJlc3BvbnNlVHlwZSA9ICdkb2N1bWVudCcuIFdlIGRvIHRoaXMgc28gd2UgZG9uJ3QgaGF2ZSB0byBkbyBhbnkgcGFyc2luZ1xuICAgIC8vIGFuZCBkb2N1bWVudCBjb25zdHJ1Y3Rpb24gb24gdGhlIFVJIHRocmVhZCB3aGljaCB3b3VsZCBiZSBleHBlbnNpdmUuXG4gICAgaWYgKGluaXQucmVzcG9uc2VUeXBlID09ICdkb2N1bWVudCcpIHtcbiAgICAgIHJldHVybiBmZXRjaFBvbHlmaWxsKGlucHV0LCBpbml0KTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLndpbi5mZXRjaCB8fCBmZXRjaFBvbHlmaWxsKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBVUkxcbiAgICogQHBhcmFtIHs/RmV0Y2hJbml0RGVmfSBpbml0IEZldGNoIG9wdGlvbnMgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTwhRmV0Y2hSZXNwb25zZT59XG4gICAqL1xuICBmZXRjaChpbnB1dCwgaW5pdCkge1xuICAgIGluaXQgPSBzZXR1cEluaXQoaW5pdCk7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2hfKGlucHV0LCBpbml0KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgLypcbiAgICAgICAgICogSWYgdGhlIGRvbWFpbiBpcyBub3QgdmFsaWQgZm9yIFN3RyB3ZSByZXR1cm4gNDA0IHdpdGhvdXRcbiAgICAgICAgICogQ09SUyBoZWFkZXJzIGFuZCB0aGUgYnJvd3NlciB0aHJvd3MgYSBDT1JTIGVycm9yLlxuICAgICAgICAgKiBXZSBpbmNsdWRlIHNvbWUgaGVscGZ1bCB0ZXh0IGluIHRoZSBtZXNzYWdlIHRvIHBvaW50IHRoZVxuICAgICAgICAgKiBwdWJsaXNoZXIgdG93YXJkcyB0aGUgcmVhbCBwcm9ibGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgdGFyZ2V0T3JpZ2luID0gcGFyc2VVcmwoaW5wdXQpLm9yaWdpbjtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBYSFIgRmFpbGVkIGZldGNoaW5nICgke3RhcmdldE9yaWdpbn0vLi4uKTogKE5vdGU6IGEgQ09SUyBlcnJvciBhYm92ZSBtYXkgaW5kaWNhdGUgdGhhdCB0aGlzIHB1Ymxpc2hlciBvciBkb21haW4gaXMgbm90IGNvbmZpZ3VyZWQgaW4gUHVibGlzaGVyIENlbnRlci4gVGhlIENPUlMgZXJyb3IgaGFwcGVucyBiZWNhc3VlIDR4eCByZXNwb25zZXMgZG8gbm90IHNldCBDT1JTIGhlYWRlcnMuKWAsXG4gICAgICAgICAgcmVhc29uICYmIHJlYXNvbi5tZXNzYWdlXG4gICAgICAgICk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiBhc3NlcnRTdWNjZXNzKHJlc3BvbnNlKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3JtYWxpemVkIG1ldGhvZCBuYW1lIGJ5IHVwcGVyY2FzaW5nLlxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBtZXRob2RcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZF8obWV0aG9kKSB7XG4gIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAnR0VUJztcbiAgfVxuICBtZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcblxuICBhc3NlcnQoXG4gICAgYWxsb3dlZE1ldGhvZHNfLmluY2x1ZGVzKG1ldGhvZCksXG4gICAgJ09ubHkgb25lIG9mICVzIGlzIGN1cnJlbnRseSBhbGxvd2VkLiBHb3QgJXMnLFxuICAgIGFsbG93ZWRNZXRob2RzXy5qb2luKCcsICcpLFxuICAgIG1ldGhvZFxuICApO1xuXG4gIHJldHVybiBtZXRob2Q7XG59XG5cbi8qKlxuICogU2V0cyB1cCBhbmQgbm9ybWFsaXplcyB0aGUgRmV0Y2hJbml0RGVmXG4gKlxuICogQHBhcmFtIHs/RmV0Y2hJbml0RGVmPX0gaW5pdCBGZXRjaCBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYWNjZXB0IFRoZSBIVFRQIEFjY2VwdCBoZWFkZXIgdmFsdWUuXG4gKiBAcmV0dXJuIHshRmV0Y2hJbml0RGVmfVxuICovXG5mdW5jdGlvbiBzZXR1cEluaXQoaW5pdCwgYWNjZXB0KSB7XG4gIGluaXQgPSBpbml0IHx8IC8qKiBAdHlwZSB7RmV0Y2hJbml0RGVmfSAqLyAoe30pO1xuICBpbml0Lm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZF8oaW5pdC5tZXRob2QpO1xuICBpbml0LmhlYWRlcnMgPSBpbml0LmhlYWRlcnMgfHwge307XG4gIGlmIChhY2NlcHQpIHtcbiAgICBpbml0LmhlYWRlcnNbJ0FjY2VwdCddID0gYWNjZXB0O1xuICB9XG4gIHJldHVybiBpbml0O1xufVxuXG4vKipcbiAqIEEgbWluaW1hbCBwb2x5ZmlsbCBvZiBGZXRjaCBBUEkuIEl0IG9ubHkgcG9seWZpbGxzIHdoYXQgd2UgY3VycmVudGx5IHVzZS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dsb2JhbEZldGNoL2ZldGNoXG4gKlxuICogTm90aWNlIHRoYXQgdGhlIFwiZmV0Y2hcIiBtZXRob2QgaXRzZWxmIGlzIG5vdCBleHBvcnRlZCBhcyB0aGF0IHdvdWxkIHJlcXVpcmVcbiAqIHVzIHRvIGltbWVkaWF0ZWx5IHN1cHBvcnQgYSBtdWNoIHdpZGUgQVBJLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFxuICogQHBhcmFtIHshRmV0Y2hJbml0RGVmfSBpbml0XG4gKiBAcmV0dXJuIHshUHJvbWlzZTwhRmV0Y2hSZXNwb25zZT59XG4gKiBAcHJpdmF0ZSBWaXNpYmxlIGZvciB0ZXN0aW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaFBvbHlmaWxsKGlucHV0LCBpbml0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgeGhyID0gY3JlYXRlWGhyUmVxdWVzdChpbml0Lm1ldGhvZCB8fCAnR0VUJywgaW5wdXQpO1xuXG4gICAgaWYgKGluaXQuY3JlZGVudGlhbHMgPT0gJ2luY2x1ZGUnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaW5pdC5yZXNwb25zZVR5cGUgaW4gYWxsb3dlZEZldGNoVHlwZXNfKSB7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gaW5pdC5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgaWYgKGluaXQuaGVhZGVycykge1xuICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgT2JqZWN0LmtleXMoaW5pdC5oZWFkZXJzKSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIGluaXQuaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlIDwgLyogU1RBVFVTX1JFQ0VJVkVEICovIDIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHhoci5zdGF0dXMgPCAxMDAgfHwgeGhyLnN0YXR1cyA+IDU5OSkge1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgVW5rbm93biBIVFRQIHN0YXR1cyAke3hoci5zdGF0dXN9YCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8oZHZveXRlbmtvKTogVGhpcyBpcyBjdXJyZW50bHkgc2ltcGxpZmllZDogd2Ugd2lsbCB3YWl0IGZvciB0aGVcbiAgICAgIC8vIHdob2xlIGRvY3VtZW50IGxvYWRpbmcgdG8gY29tcGxldGUuIFRoaXMgaXMgZmluZSBmb3IgdGhlIHVzZSBjYXNlc1xuICAgICAgLy8gd2UgaGF2ZSBub3csIGJ1dCBtYXkgbmVlZCB0byBiZSByZWltcGxlbWVudGVkIGxhdGVyLlxuICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IC8qIENPTVBMRVRFICovIDQpIHtcbiAgICAgICAgcmVzb2x2ZShuZXcgRmV0Y2hSZXNwb25zZSh4aHIpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHhoci5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBmYWlsdXJlJykpO1xuICAgIH07XG4gICAgeGhyLm9uYWJvcnQgPSAoKSA9PiB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IGFib3J0ZWQnKSk7XG4gICAgfTtcblxuICAgIGlmIChpbml0Lm1ldGhvZCA9PSAnUE9TVCcpIHtcbiAgICAgIHhoci5zZW5kKGluaXQuYm9keSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHshWE1MSHR0cFJlcXVlc3R9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVYaHJSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKSB7XG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQ09SUyBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH1cbiAgcmV0dXJuIHhocjtcbn1cblxuLyoqXG4gKiBJZiA0MTUgb3IgaW4gdGhlIDV4eCByYW5nZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXNcbiAqL1xuZnVuY3Rpb24gaXNSZXRyaWFibGUoc3RhdHVzKSB7XG4gIHJldHVybiBzdGF0dXMgPT0gNDE1IHx8IChzdGF0dXMgPj0gNTAwICYmIHN0YXR1cyA8IDYwMCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVzcG9uc2UgaWYgc3VjY2Vzc2Z1bCBvciBvdGhlcndpc2UgdGhyb3dzIGFuIGVycm9yLlxuICogQHBhcmFtIHshRmV0Y2hSZXNwb25zZX0gcmVzcG9uc2VcbiAqIEByZXR1cm4geyFQcm9taXNlPCFGZXRjaFJlc3BvbnNlPn1cbiAqIEBwcml2YXRlIFZpc2libGUgZm9yIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN1Y2Nlc3MocmVzcG9uc2UpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgfVxuXG4gICAgY29uc3Qge3N0YXR1c30gPSByZXNwb25zZTtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEhUVFAgZXJyb3IgJHtzdGF0dXN9YCk7XG4gICAgZXJyLnJldHJpYWJsZSA9IGlzUmV0cmlhYmxlKHN0YXR1cyk7XG4gICAgLy8gVE9ETyhAanJpZGdld2VsbCwgIzk0NDgpOiBDYWxsZXJzIHdobyBuZWVkIHRoZSByZXNwb25zZSBzaG91bGRcbiAgICAvLyBza2lwIHByb2Nlc3NpbmcuXG4gICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhyb3cgZXJyO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNwb25zZSBvYmplY3QgaW4gdGhlIEZldGNoIEFQSS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dsb2JhbEZldGNoL2ZldGNoXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7IVhNTEh0dHBSZXF1ZXN0fSB4aHJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHhocikge1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFYTUxIdHRwUmVxdWVzdH0gKi9cbiAgICB0aGlzLnhocl8gPSB4aHI7XG5cbiAgICAvKiogQGNvbnN0IHtudW1iZXJ9ICovXG4gICAgdGhpcy5zdGF0dXMgPSB0aGlzLnhocl8uc3RhdHVzO1xuXG4gICAgLyoqIEBjb25zdCB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuXG4gICAgLyoqIEBjb25zdCB7IUZldGNoUmVzcG9uc2VIZWFkZXJzfSAqL1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBGZXRjaFJlc3BvbnNlSGVhZGVycyh4aHIpO1xuXG4gICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcblxuICAgIC8qKiBAdHlwZSB7P1JlYWRhYmxlU3RyZWFtfSAqL1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgY29weSBvZiB0aGUgcmVzcG9uc2UgYW5kIHJldHVybiBpdC5cbiAgICogQHJldHVybiB7IUZldGNoUmVzcG9uc2V9XG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICBhc3NlcnQoIXRoaXMuYm9keVVzZWQsICdCb2R5IGFscmVhZHkgdXNlZCcpO1xuICAgIHJldHVybiBuZXcgRmV0Y2hSZXNwb25zZSh0aGlzLnhocl8pO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYWlucyB0aGUgcmVzcG9uc2UgYW5kIHJldHVybnMgdGhlIHRleHQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPHN0cmluZz59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkcmFpblRleHRfKCkge1xuICAgIGFzc2VydCghdGhpcy5ib2R5VXNlZCwgJ0JvZHkgYWxyZWFkeSB1c2VkJyk7XG4gICAgdGhpcy5ib2R5VXNlZCA9IHRydWU7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnhocl8ucmVzcG9uc2VUZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmFpbnMgdGhlIHJlc3BvbnNlIGFuZCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlXG4gICAqIHRleHQuXG4gICAqIEByZXR1cm4geyFQcm9taXNlPHN0cmluZz59XG4gICAqL1xuICB0ZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmRyYWluVGV4dF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmFpbnMgdGhlIHJlc3BvbnNlIGFuZCByZXR1cm5zIHRoZSBKU09OIG9iamVjdC5cbiAgICogQHJldHVybiB7IVByb21pc2U8IUpzb25PYmplY3Q+fVxuICAgKi9cbiAganNvbigpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTwhSnNvbk9iamVjdD59ICovIChcbiAgICAgIHRoaXMuZHJhaW5UZXh0XygpLnRoZW4ocGFyc2VKc29uKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRHJhaW5zIHRoZSByZXNwb25zZSBhbmQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZVxuICAgKiBBcnJheUJ1ZmZlci5cbiAgICogQHJldHVybiB7IVByb21pc2U8IUFycmF5QnVmZmVyPn1cbiAgICovXG4gIGFycmF5QnVmZmVyKCkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFQcm9taXNlPCFBcnJheUJ1ZmZlcj59ICovIChcbiAgICAgIHRoaXMuZHJhaW5UZXh0XygpLnRoZW4odXRmOEVuY29kZVN5bmMpXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFjY2VzcyB0byB0aGUgcmVzcG9uc2UgaGVhZGVycyBhcyBkZWZpbmVkIGluIHRoZSBGZXRjaCBBUEkuXG4gKiBAcHJpdmF0ZSBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5leHBvcnQgY2xhc3MgRmV0Y2hSZXNwb25zZUhlYWRlcnMge1xuICAvKipcbiAgICogQHBhcmFtIHshWE1MSHR0cFJlcXVlc3R9IHhoclxuICAgKi9cbiAgY29uc3RydWN0b3IoeGhyKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVhNTEh0dHBSZXF1ZXN0fSAqL1xuICAgIHRoaXMueGhyXyA9IHhocjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgZ2V0KG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy54aHJfLmdldFJlc3BvbnNlSGVhZGVyKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBoYXMobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnhocl8uZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSkgIT0gbnVsbDtcbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IE1BWF9aX0lOREVYID0gMjE0NzQ4MzY0NztcblxuY29uc3QgQ29uc3RhbnRzID0ge307XG5cbi8qKlxuICogU3VwcG9ydGVkIGVudmlyb25tZW50cy5cbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5Db25zdGFudHMuRW52aXJvbm1lbnQgPSB7XG4gIExPQ0FMOiAnTE9DQUwnLFxuICBQUkVQUk9EOiAnUFJFUFJPRCcsXG4gIFBST0RVQ1RJT046ICdQUk9EVUNUSU9OJyxcbiAgU0FOREJPWDogJ1NBTkRCT1gnLFxuICBURVNUOiAnVEVTVCcsXG4gIFRJTjogJ1RJTicsXG59O1xuXG4vKipcbiAqIFN1cHBvcnRlZCBwYXltZW50IG1ldGhvZHMuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuQ29uc3RhbnRzLlBheW1lbnRNZXRob2QgPSB7XG4gIENBUkQ6ICdDQVJEJyxcbiAgVE9LRU5JWkVEX0NBUkQ6ICdUT0tFTklaRURfQ0FSRCcsXG4gIFVQSTogJ1VQSScsXG59O1xuXG4vKipcbiAqIEF1dGggbWV0aG9kcy5cbiAqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5Db25zdGFudHMuQXV0aE1ldGhvZCA9IHtcbiAgQ1JZUFRPR1JBTV8zRFM6ICdDUllQVE9HUkFNXzNEUycsXG4gIFBBTl9PTkxZOiAnUEFOX09OTFknLFxufTtcblxuLyoqXG4gKiBSZXR1cm5lZCByZXN1bHQgc3RhdHVzLlxuICpcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbkNvbnN0YW50cy5SZXNwb25zZVN0YXR1cyA9IHtcbiAgQ0FOQ0VMRUQ6ICdDQU5DRUxFRCcsXG4gIERFVkVMT1BFUl9FUlJPUjogJ0RFVkVMT1BFUl9FUlJPUicsXG59O1xuXG4vKipcbiAqIFN1cHBvcnRlZCB0b3RhbCBwcmljZSBzdGF0dXMuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuQ29uc3RhbnRzLlRvdGFsUHJpY2VTdGF0dXMgPSB7XG4gIEVTVElNQVRFRDogJ0VTVElNQVRFRCcsXG4gIEZJTkFMOiAnRklOQUwnLFxuICBOT1RfQ1VSUkVOVExZX0tOT1dOOiAnTk9UX0NVUlJFTlRMWV9LTk9XTicsXG59O1xuXG4vKipcbiAqIFN1cHBvcnRlZCBHb29nbGUgUGF5IHBheW1lbnQgYnV0dG9uIHR5cGUuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuQ29uc3RhbnRzLkJ1dHRvblR5cGUgPSB7XG4gIFNIT1JUOiAnc2hvcnQnLFxuICBMT05HOiAnbG9uZycsXG59O1xuXG4vKipcbiAqIFN1cHBvcnRlZCBidXR0b24gY29sb3JzLlxuICpcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbkNvbnN0YW50cy5CdXR0b25Db2xvciA9IHtcbiAgREVGQVVMVDogJ2RlZmF1bHQnLCAgLy8gQ3VycmVudGx5IGRlZmF1bHRzIHRvIGJsYWNrLlxuICBCTEFDSzogJ2JsYWNrJyxcbiAgV0hJVEU6ICd3aGl0ZScsXG59O1xuXG4vKipcbiAqIElkIGF0dHJpYnV0ZXMuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuQ29uc3RhbnRzLklkID0ge1xuICBQT1BVUF9XSU5ET1dfQ09OVEFJTkVSOiAncG9wdXAtd2luZG93LWNvbnRhaW5lcicsXG59O1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5Db25zdGFudHMuU1RPUkFHRV9LRVlfUFJFRklYID0gJ2dvb2dsZS5wYXltZW50cy5hcGkuc3RvcmFnZSc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbkNvbnN0YW50cy5JU19SRUFEWV9UT19QQVlfUkVTVUxUX0tFWSA9XG4gICAgQ29uc3RhbnRzLlNUT1JBR0VfS0VZX1BSRUZJWCArICcuaXNyZWFkeXRvcGF5LnJlc3VsdCc7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbkNvbnN0YW50cy5VUElfQ0FOX01BS0VfUEFZTUVOVF9DQUNIRV9LRVkgPVxuICAgIENvbnN0YW50cy5TVE9SQUdFX0tFWV9QUkVGSVggKyAnLnVwaS5jYW5NYWtlUGF5bWVudENhY2hlJztcblxuXG5Db25zdGFudHMuQ0xBU1NfUFJFRklYID0gJ2dvb2dsZS1wYXltZW50cy0nO1xuQ29uc3RhbnRzLklGUkFNRV9BQ1RJVkVfQ09OVEFJTkVSX0NMQVNTID1cbiAgICBgJHtDb25zdGFudHMuQ0xBU1NfUFJFRklYfWFjdGl2ZUNvbnRhaW5lcmA7XG5Db25zdGFudHMuSUZSQU1FX0NPTlRBSU5FUl9DTEFTUyA9IGAke0NvbnN0YW50cy5DTEFTU19QUkVGSVh9ZGlhbG9nQ29udGFpbmVyYDtcbkNvbnN0YW50cy5JRlJBTUVfU1RZTEVfQ0VOVEVSX0NMQVNTID0gYCR7Q29uc3RhbnRzLkNMQVNTX1BSRUZJWH1kaWFsb2dDZW50ZXJgO1xuQ29uc3RhbnRzLklGUkFNRV9TVFlMRV9DTEFTUyA9IGAke0NvbnN0YW50cy5DTEFTU19QUkVGSVh9ZGlhbG9nYDtcblxuQ29uc3RhbnRzLklGUkFNRV9TVFlMRSA9IGBcbi4ke0NvbnN0YW50cy5JRlJBTUVfU1RZTEVfQ0xBU1N9IHtcbiAgICBhbmltYXRpb246IG5vbmUgMHMgZWFzZSAwcyAxIG5vcm1hbCBub25lIHJ1bm5pbmc7XG4gICAgYmFja2dyb3VuZDogbm9uZSAwIDAgLyBhdXRvIHJlcGVhdCBzY3JvbGwgcGFkZGluZy1ib3ggYm9yZGVyLWJveCAjZmZmO1xuICAgIGJhY2tncm91bmQtYmxlbmQtbW9kZTogbm9ybWFsO1xuICAgIGJvcmRlcjogMCBub25lICMzMzM7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4IDhweCAwIDA7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcbiAgICBib3R0b206IDA7XG4gICAgYm94LXNoYWRvdzogIzgwODA4MCAwIDNweCAwIDAsICM4MDgwODAgMCAwIDIycHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBsZXR0ZXItc3BhY2luZzogbm9ybWFsO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHotaW5kZXg6ICR7TUFYX1pfSU5ERVh9O1xuICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgICBsZWZ0OiAwO1xufVxuQG1lZGlhIChtaW4td2lkdGg6IDQ4MHB4KSB7XG4gIC4ke0NvbnN0YW50cy5JRlJBTUVfU1RZTEVfQ0xBU1N9IHtcbiAgICB3aWR0aDogNDgwcHggIWltcG9ydGFudDtcbiAgICBsZWZ0OiAtMjQwcHggIWltcG9ydGFudDtcbiAgICBtYXJnaW4tbGVmdDogY2FsYygxMDB2dyAtIDEwMHZ3IC8gMikgIWltcG9ydGFudDtcbiAgfVxufVxuLiR7Q29uc3RhbnRzLklGUkFNRV9DT05UQUlORVJfQ0xBU1N9IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwwLjI2KTtcbiAgYm90dG9tOiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGxlZnQ6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDA7XG59XG4uaWZyYW1lQ29udGFpbmVyIHtcbiAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xufVxuYDtcblxuQ29uc3RhbnRzLklGUkFNRV9TVFlMRV9DRU5URVIgPSBgXG4uJHtDb25zdGFudHMuSUZSQU1FX1NUWUxFX0NFTlRFUl9DTEFTU30ge1xuICBhbmltYXRpb246IG5vbmUgMHMgZWFzZSAwcyAxIG5vcm1hbCBub25lIHJ1bm5pbmc7XG4gIGJhY2tncm91bmQtYmxlbmQtbW9kZTogbm9ybWFsO1xuICBiYWNrZ3JvdW5kOiBub25lIDAgMCAvIGF1dG8gcmVwZWF0IHNjcm9sbCBwYWRkaW5nLWJveCBib3JkZXItYm94ICNmZmY7XG4gIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyOiAwcHggbm9uZSAjMzMzO1xuICBib3R0b206IGF1dG87XG4gIGJveC1zaGFkb3c6ICM4MDgwODAgMCAwIDIycHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGxlZnQ6IC0yNDBweDtcbiAgbGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcbiAgbWFyZ2luLWxlZnQ6IGNhbGMoMTAwdncgLSAxMDB2dyAvIDIpICFpbXBvcnRhbnQ7XG4gIG1heC1oZWlnaHQ6IDkwJTtcbiAgb3ZlcmZsb3c6IHZpc2libGU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMDAlO1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuOCk7XG4gIHdpZHRoOiA0ODBweDtcbiAgei1pbmRleDogJHtNQVhfWl9JTkRFWH07XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbn1cbkBtZWRpYSAobWluLWhlaWdodDogNjY3cHgpIHtcbiAgLiR7Q29uc3RhbnRzLklGUkFNRV9TVFlMRV9DRU5URVJfQ0xBU1N9IHtcbiAgICBtYXgtaGVpZ2h0OiA2MDBweDtcbiAgfVxufVxuLiR7Q29uc3RhbnRzLklGUkFNRV9BQ1RJVkVfQ09OVEFJTkVSX0NMQVNTfSB7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMCkgdHJhbnNsYXRlWSgtNTAlKTtcbn1cbmA7XG5cbkNvbnN0YW50cy5HUEFZX0JVVFRPTl9XSVRIX0NBUkRfSU5GT19JTUFHRSA9XG4gICAgJ2JhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL3BheS5nb29nbGUuY29tL2dwL3AvZ2VuZXJhdGVfZ3BheV9idG5faW1nKTsnO1xuXG5Db25zdGFudHMuQlVUVE9OX0xPQ0FMRV9UT19NSU5fV0lEVEggPSB7XG4gICdlbic6IDE1MixcbiAgJ2JnJzogMTYzLFxuICAnY3MnOiAxOTIsXG4gICdkZSc6IDE4MyxcbiAgJ2VzJzogMTgzLFxuICAnZnInOiAxODMsXG4gICdocic6IDE1NyxcbiAgJ2lkJzogMTg2LFxuICAnamEnOiAxNDgsXG4gICdrbyc6IDEzNyxcbiAgJ21zJzogMTg2LFxuICAnbmwnOiAxNjcsXG4gICdwbCc6IDE4MixcbiAgJ3B0JzogMTkzLFxuICAncnUnOiAyMDYsXG4gICdzayc6IDE1NyxcbiAgJ3NsJzogMjExLFxuICAnc3InOiAxNDYsXG4gICd0cic6IDE2MSxcbiAgJ3VrJzogMjA3LFxuICAnemgnOiAxNTYsXG59O1xuXG4vKipcbiAqIE5hbWUgb2YgdGhlIGdyYXlwYW5lLlxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5Db25zdGFudHMuR1BBWV9HUkFZUEFORSA9ICdncGF5LWdyYXlwYW5lJztcblxuLyoqXG4gKiBDbGFzcyB1c2VkIGZvciB0aGUgZ3BheSBidXR0b24uXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkNvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTUyA9ICdncGF5LWJ1dHRvbic7XG5cbkNvbnN0YW50cy5CVVRUT05fU1RZTEUgPSBgXG4uJHtDb25zdGFudHMuR1BBWV9CVVRUT05fQ0xBU1N9IHtcbiAgYmFja2dyb3VuZC1vcmlnaW46IGNvbnRlbnQtYm94O1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIGJvcmRlcjogMHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGJveC1zaGFkb3c6IHJnYmEoNjAsIDY0LCA2NywgMC4zKSAwcHggMXB4IDFweCAwcHgsIHJnYmEoNjAsIDY0LCA2NywgMC4xNSkgMHB4IDFweCAzcHggMXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGhlaWdodDogNDBweDtcbiAgbWluLWhlaWdodDogNDBweDtcbiAgcGFkZGluZzogMTFweCAyNHB4O1xufVxuXG4uJHtDb25zdGFudHMuR1BBWV9CVVRUT05fQ0xBU1N9LmJsYWNrIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgcGFkZGluZzogMTJweCAyNHB4IDEwcHg7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTU30ud2hpdGUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xufVxuXG4uJHtDb25zdGFudHMuR1BBWV9CVVRUT05fQ0xBU1N9LnNob3J0IHtcbiAgbWluLXdpZHRoOiA5MHB4O1xuICB3aWR0aDogMTYwcHg7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTU30uYmxhY2suc2hvcnQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vaW5zdGFudGJ1eS9zdmcvZGFya19ncGF5LnN2Zyk7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTU30ud2hpdGUuc2hvcnQge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vaW5zdGFudGJ1eS9zdmcvbGlnaHRfZ3BheS5zdmcpO1xufVxuXG4uJHtDb25zdGFudHMuR1BBWV9CVVRUT05fQ0xBU1N9LmJsYWNrLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1ZjYzNjg7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTU30uYmxhY2suaG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2M0MDQzO1xufVxuXG4uJHtDb25zdGFudHMuR1BBWV9CVVRUT05fQ0xBU1N9LndoaXRlLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DTEFTU30ud2hpdGUuZm9jdXMge1xuICBib3gtc2hhZG93OiAjZThlOGU4IDAgMXB4IDFweCAwLCAjZThlOGU4IDAgMXB4IDNweDtcbn1cblxuLiR7Q29uc3RhbnRzLkdQQVlfQlVUVE9OX0NMQVNTfS53aGl0ZS5ob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7XG59XG5gO1xuXG5Db25zdGFudHMuR1BBWV9CVVRUT05fV0lUSF9PRkZFUl9JQ09OX0FERElUSU9OQUxfU1RZTEUgPSAncG9zaXRpb246IHJlbGF0aXZlOyc7XG5cbkNvbnN0YW50cy5HUEFZX09GRkVSX0lDT05fQ0xBU1MgPSAnZ3BheS1vZmZlci1pY29uJztcblxuQ29uc3RhbnRzLkdQQVlfT0ZGRVJfSUNPTl9TVkcgPVxuICAgIFwiPHN2ZyB3aWR0aD1cXFwiMjBweFxcXCIgaGVpZ2h0PVxcXCIyMHB4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjAgMjBcXFwiIFwiICtcbiAgICBcInZlcnNpb249XFxcIjEuMVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB4bWxuczp4bGluaz1cIiArXG4gICAgXCJcXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1xcXCIgY2xhc3M9XFxcImdwYXktb2ZmZXItaWNvblxcXCI+PGRlZnM+PHBhdGggZD1cXFwiTTE5LjQxLDkuNTggTDEwLjQxLDAuNTggXCIgK1xuICAgIFwiQzEwLjA1LDAuMjIgOS41NSwwIDksMCBMMiwwIEMwLjksMCAwLDAuOSAwLDIgTDAsOSBDMCw5LjU1IDAuMjIsMTAuMDUgXCIgK1xuICAgIFwiMC41OSwxMC40MiBMOS41OSwxOS40MiBDOS45NSwxOS43OCAxMC40NSwyMCAxMSwyMCBDMTEuNTUsMjAgMTIuMDUsMTkuNzggXCIgK1xuICAgIFwiMTIuNDEsMTkuNDEgTDE5LjQxLDEyLjQxIEMxOS43OCwxMi4wNSAyMCwxMS41NSAyMCwxMSBDMjAsMTAuNDUgMTkuNzcsXCIgK1xuICAgIFwiOS45NCAxOS40MSw5LjU4IFpcXFwiIGlkPVxcXCJwYXRoLTFcXFwiPjwvcGF0aD48L2RlZnM+PGcgaWQ9XFxcImJ1dHRvbnNfMTAuMDVcXFwiXCIgK1xuICAgIFwiIHN0cm9rZT1cXFwibm9uZVxcXCIgc3Ryb2tlLXdpZHRoPVxcXCIxXFxcIiBmaWxsPVxcXCJub25lXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPlwiICtcbiAgICBcIjxnIGlkPVxcXCJBcnRib2FyZFxcXCIgdHJhbnNmb3JtPVxcXCJ0cmFuc2xhdGUoLTQwLjAwMDAwMCwgLTQzLjAwMDAwMClcXFwiPlwiICtcbiAgICBcIjxnIGlkPVxcXCJHcm91cC0zXFxcIiB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZSg0MC4wMDAwMDAsIDQzLjAwMDAwMClcXFwiPlwiICtcbiAgICBcIjxnIGlkPVxcXCJHcm91cC0yLUNvcHktMlxcXCI+PGcgaWQ9XFxcIkdyb3VwLUNvcHlcXFwiPjxnIGlkPVxcXCJpY19sb3lhbHR5XzI0cHhcXFwiPlwiICtcbiAgICBcIjxtYXNrIGlkPVxcXCJtYXNrLTJcXFwiIGZpbGw9XFxcIndoaXRlXFxcIj48dXNlIHhsaW5rOmhyZWY9XFxcIiNwYXRoLTFcXFwiPjwvdXNlPlwiICtcbiAgICBcIjwvbWFzaz48dXNlIGlkPVxcXCJncGF5LVNoYXBlXFxcIiBmaWxsPVxcXCIjRkY2MTAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiIFwiICtcbiAgICBcInhsaW5rOmhyZWY9XFxcIiNwYXRoLTFcXFwiPjwvdXNlPjxwYXRoIGQ9XFxcIk0zLjUsNSBDMi42Nyw1IDIsNC4zMyAyLDMuNSBDMixcIiArXG4gICAgXCIyLjY3IDIuNjcsMiAzLjUsMiBDNC4zMywyIDUsMi42NyA1LDMuNSBDNSw0LjMzIDQuMzMsNSAzLjUsNSBaXFxcIiBcIiArXG4gICAgXCJpZD1cXFwiUGF0aFxcXCIgZmlsbD1cXFwiI0ZGRkZGRlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIiBtYXNrPVxcXCJ1cmwoI21hc2stMilcXFwiPlwiICtcbiAgICBcIjwvcGF0aD48L2c+PC9nPjwvZz48ZyBpZD1cXFwiR3JvdXAtMTMtQ29weS03XFxcIiB0cmFuc2Zvcm09XFxcInRyYW5zbGF0ZVwiICtcbiAgICBcIig2LjAwMDAwMCwgNi4wMDAwMDApXFxcIiBmaWxsPVxcXCIjRkZGRkZGXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPlwiICtcbiAgICBcIjxnIGlkPVxcXCJHcm91cC0xMy1Db3B5LTJcXFwiPjxwYXRoIGQ9XFxcIk0yLjE1MjE3MzkxLDQuNTUxNzI0MTQgQzAuOTYzNTYxMDgyLFwiICtcbiAgICBcIjQuNTUxNzI0MTQgMS45OTg0MDE0NGUtMTQsMy41MzI3ODU5OCAxLjk5ODQwMTQ0ZS0xNCwyLjI3NTg2MjA3IFwiICtcbiAgICBcIkMxLjk5ODQwMTQ0ZS0xNCwxLjAxODkzODE2IDAuOTYzNTYxMDgyLDYuMzA2MDY2NzhlLTE0IDIuMTUyMTczOTEsNi5cIiArXG4gICAgXCIzMDYwNjY3OGUtMTQgQzMuMzQwNzg2NzQsNi4zMDYwNjY3OGUtMTQgNC4zMDQzNDc4MywxLjAxODkzODE2IDQuMzA0MzQ3ODMsXCIgK1xuICAgIFwiMi4yNzU4NjIwNyBDNC4zMDQzNDc4MywzLjUzMjc4NTk4IDMuMzQwNzg2NzQsNC41NTE3MjQxNCAyLjE1MjE3MzkxLFwiICtcbiAgICBcIjQuNTUxNzI0MTQgWiBNMi4xNTIxNzM5MSwzLjMxMDM0NDgzIEMyLjY5MjQ1MjQ3LDMuMzEwMzQ0ODMgMy4xMzA0MzQ3OCwyLlwiICtcbiAgICBcIjg0NzE5MTEyIDMuMTMwNDM0NzgsMi4yNzU4NjIwNyBDMy4xMzA0MzQ3OCwxLjcwNDUzMzAyIDIuNjkyNDUyNDcsXCIgK1xuICAgIFwiMS4yNDEzNzkzMSAyLjE1MjE3MzkxLDEuMjQxMzc5MzEgQzEuNjExODk1MzUsMS4yNDEzNzkzMSAxLjE3MzkxMzA0LDFcIiArXG4gICAgXCIuNzA0NTMzMDIgMS4xNzM5MTMwNCwyLjI3NTg2MjA3IEMxLjE3MzkxMzA0LDIuODQ3MTkxMTIgMS42MTE4OTUzNSwzLlwiICtcbiAgICBcIjMxMDM0NDgzIDIuMTUyMTczOTEsMy4zMTAzNDQ4MyBaXFxcIiBpZD1cXFwiQ29tYmluZWQtU2hhcGVcXFwiPjwvcGF0aD5cIiArXG4gICAgXCI8cGF0aCBkPVxcXCJNNi44NDc4MjYwOSw5IEM1LjY1OTIxMzI2LDkgNC42OTU2NTIxNyw3Ljk4MTA2MTg0IDQuNjk1NjUyMTcsXCIgK1xuICAgIFwiNi43MjQxMzc5MyBDNC42OTU2NTIxNyw1LjQ2NzIxNDAyIDUuNjU5MjEzMjYsNC40NDgyNzU4NiA2Ljg0NzgyNjA5LFwiICtcbiAgICBcIjQuNDQ4Mjc1ODYgQzguMDM2NDM4OTIsNC40NDgyNzU4NiA5LDUuNDY3MjE0MDIgOSw2LjcyNDEzNzkzIEM5LDcuOTgxMDYxODRcIiArXG4gICAgXCIgOC4wMzY0Mzg5Miw5IDYuODQ3ODI2MDksOSBaIE02Ljg0NzgyNjA5LDcuNzU4NjIwNjkgQzcuMzg4MTA0NjUsXCIgK1xuICAgIFwiNy43NTg2MjA2OSA3LjgyNjA4Njk2LDcuMjk1NDY2OTggNy44MjYwODY5Niw2LjcyNDEzNzkzIEM3LjgyNjA4Njk2XCIgK1xuICAgIFwiLDYuMTUyODA4ODggNy4zODgxMDQ2NSw1LjY4OTY1NTE3IDYuODQ3ODI2MDksNS42ODk2NTUxNyBDNi4zMDc1NDc1MyxcIiArXG4gICAgXCI1LjY4OTY1NTE3IDUuODY5NTY1MjIsNi4xNTI4MDg4OCA1Ljg2OTU2NTIyLDYuNzI0MTM3OTMgQzUuODY5NTY1MjIsXCIgK1xuICAgIFwiNy4yOTU0NjY5OCA2LjMwNzU0NzUzLDcuNzU4NjIwNjkgNi44NDc4MjYwOSw3Ljc1ODYyMDY5IFpcXFwiIFwiICtcbiAgICBcImlkPVxcXCJDb21iaW5lZC1TaGFwZVxcXCI+PC9wYXRoPjxwb2x5Z29uIGlkPVxcXCJSZWN0YW5nbGVcXFwiIFwiICtcbiAgICBcInRyYW5zZm9ybT1cXFwidHJhbnNsYXRlKDQuNDk3NzIwLCA0LjU0MTkzOCkgcm90YXRlKDM0LjAwMDAwMCkgXCIgK1xuICAgIFwidHJhbnNsYXRlKC00LjQ5NzcyMCwgLTQuNTQxOTM4KSBcXFwiIHBvaW50cz1cXFwiMy43NzkwMTc3OCAtMC4yMDIyOTU5NzggXCIgK1xuICAgIFwiNC45NzQwMjczIC0wLjE3MTAxOTE2MSA1LjIxNjQyMjYzIDkuMjg2MTcyNzggNC4wMjE0MTMxMSA5LjI1NDg5NTk2XFxcIj5cIiArXG4gICAgXCI8L3BvbHlnb24+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz5cIjtcblxuQ29uc3RhbnRzLkdQQVlfT0ZGRVJfSUNPTl9TVFlMRSA9IGBcbi4ke0NvbnN0YW50cy5HUEFZX09GRkVSX0lDT05fQ0xBU1N9IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogLTVweDtcbiAgdG9wOiAtNXB4O1xufVxuXG4jaWNfbG95YWx0eV8yNHB4IHVzZS5ob3ZlciB7XG4gIGZpbGw6ICNGQzg1M0I7XG59XG5gO1xuXG5Db25zdGFudHMuR1BBWV9PRkZFUl9ERVNDUklQVElPTl9DTEFTUyA9ICdncGF5LW9mZmVyLWRlc2NyaXB0aW9uJztcblxuQ29uc3RhbnRzLkdQQVlfT0ZGRVJfREVTQ1JJUFRJT05fU1RZTEUgPSBgXG5AaW1wb3J0IHVybCgvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9R29vZ2xlK1NhbnM6NTAwKTtcbi4ke0NvbnN0YW50cy5HUEFZX09GRkVSX0RFU0NSSVBUSU9OX0NMQVNTfSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udDogMTBweCAnR29vZ2xlIFNhbnMnO1xuICBtYXJnaW4tdG9wOiAycHg7XG4gIG1hcmdpbi1ib3R0b206IDBweDtcbn1cblxuLiR7Q29uc3RhbnRzLkdQQVlfT0ZGRVJfREVTQ1JJUFRJT05fQ0xBU1N9LmdwYXktYnRuLWNsaWNrZWQge1xuICBjb2xvcjogIzNDNDA0Mztcbn1cblxuLiR7Q29uc3RhbnRzLkdQQVlfT0ZGRVJfREVTQ1JJUFRJT05fQ0xBU1N9LnNob3J0IHtcbiAgbWluLXdpZHRoOiA5MHB4O1xuICB3aWR0aDogMTYwcHg7XG59XG5cbi4ke0NvbnN0YW50cy5HUEFZX09GRkVSX0RFU0NSSVBUSU9OX0NMQVNTfS5sb25nIHtcbiAgbWluLXdpZHRoOiAxNTJweDtcbiAgd2lkdGg6IDI0MHB4O1xufVxuYDtcblxuLyoqXG4gKiBDbGFzcyB1c2VkIGZvciB0aGUgbmV3IGdwYXkgYnV0dG9uIHdpdGggY2FyZCBpbmZvIChsYXN0IDQgZGlnaXRzLCBjYXJkIG5ldCkuXG4gKlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbkNvbnN0YW50cy5HUEFZX0JVVFRPTl9DQVJEX0lORk9fQ0xBU1MgPSAnZ3BheS1jYXJkLWluZm8tYnRuJztcblxuQ29uc3RhbnRzLkdQQVlfQlVUVE9OX0NBUkRfSU5GT19CVVRUT05fU1RZTEUgPSBgXG4gIC4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DQVJEX0lORk9fQ0xBU1N9IHtcbiAgICBiYWNrZ3JvdW5kLW9yaWdpbjogY29udGVudC1ib3g7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcbiAgICBib3JkZXI6IDBweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm94LXNoYWRvdzogcmdiYSg2MCwgNjQsIDY3LCAwLjMpIDBweCAxcHggMXB4IDBweCwgcmdiYSg2MCwgNjQsIDY3LCAwLjE1KSAwcHggMXB4IDNweCAxcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGhlaWdodDogNDBweDtcbiAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgIHBhZGRpbmc6IDExcHggMjRweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgcGFkZGluZzogOXB4IDI0cHggMTBweDtcbiAgICBtaW4td2lkdGg6IDE5MHB4O1xuICAgIHdpZHRoOiAyNDBweDtcbiAgfVxuXG4gIC4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DQVJEX0lORk9fQ0xBU1N9LmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzVmNjM2ODtcbiAgfVxuXG4gIC4ke0NvbnN0YW50cy5HUEFZX0JVVFRPTl9DQVJEX0lORk9fQ0xBU1N9LmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2M0MDQzO1xuICB9XG4gIGA7XG5cblxuLyoqXG4gKiBUcnVzdGVkIGRvbWFpbiBmb3Igc2VjdXJlIGNvbnRleHQgdmFsaWRhdGlvblxuICpcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5Db25zdGFudHMuVFJVU1RFRF9ET01BSU4gPSAnLmdvb2dsZS5jb20nO1xuXG5leHBvcnQge0NvbnN0YW50c307XG5cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuXG4vKipcbiAqIEluamVjdHMgdGhlIHByb3ZpZGVkIHN0eWxlIHNoZWV0IHRvIHRoZSBkb2N1bWVudCBoZWFkLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlVGV4dCBUaGUgc3R5bGVzaGVldCB0byBiZSBpbmplY3RlZC5cbiAqIEByZXR1cm4geyFFbGVtZW50fVxuICovXG5mdW5jdGlvbiBpbmplY3RTdHlsZVNoZWV0KHN0eWxlVGV4dCkge1xuICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZUVsZW1lbnQudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlVGV4dDtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuICByZXR1cm4gc3R5bGVFbGVtZW50O1xufVxuXG4vKipcbiAqIEluamVjdHMgdGhlIHBheSB3aXRoIGdvb2dsZSBpZnJhbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWZyYW1lQ2xhc3NOYW1lIFRoZSBjbGFzc25hbWUgb2YgdGhlIGlGcmFtZSB3cmFwcGVyLlxuICogQHJldHVybiB7IXtjb250YWluZXI6ICFFbGVtZW50LCBpZnJhbWU6IUhUTUxJRnJhbWVFbGVtZW50fX1cbiAqL1xuZnVuY3Rpb24gaW5qZWN0SWZyYW1lKGlmcmFtZUNsYXNzTmFtZSkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLklGUkFNRV9DT05UQUlORVJfQ0xBU1MpO1xuICBjb25zdCBpZnJhbWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaWZyYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2lmcmFtZUNvbnRhaW5lcicpO1xuICAvKiogQHByaXZhdGUgQGNvbnN0IHshSFRNTElGcmFtZUVsZW1lbnR9ICovXG4gIGNvbnN0IGlmcmFtZSA9XG4gICAgICAvKiogQHR5cGUgeyFIVE1MSUZyYW1lRWxlbWVudH0gKi8gKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpKTtcbiAgaWZyYW1lLmNsYXNzTGlzdC5hZGQoaWZyYW1lQ2xhc3NOYW1lKTtcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnZnJhbWVib3JkZXInLCAnMCcpO1xuICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzY3JvbGxpbmcnLCAnbm8nKTtcbiAgaWZyYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpZnJhbWVDb250YWluZXIpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIHJldHVybiB7J2NvbnRhaW5lcic6IGNvbnRhaW5lciwgJ2lmcmFtZSc6IGlmcmFtZX07XG59XG5cbmV4cG9ydCB7XG4gIGluamVjdFN0eWxlU2hlZXQsXG4gIGluamVjdElmcmFtZSxcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtDb25zdGFudHN9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcblxuY29uc3QgTUFYX1pfSU5ERVggPSAyMTQ3NDgzNjQ3O1xuXG5cbmNsYXNzIEdyYXlwYW5lIHtcblxuICAvKipcbiAgICogQHBhcmFtIHshRG9jdW1lbnR9IGRvY1xuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jKSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IURvY3VtZW50fSAqL1xuICAgIHRoaXMuZG9jXyA9IGRvYztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMuZWxlbWVudF8gPSBkb2MuY3JlYXRlRWxlbWVudChDb25zdGFudHMuR1BBWV9HUkFZUEFORSk7XG4gICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuZWxlbWVudF8sIHtcbiAgICAgICd6LWluZGV4JzogTUFYX1pfSU5ERVgsXG4gICAgICAnZGlzcGxheSc6ICdub25lJyxcbiAgICAgICdwb3NpdGlvbic6ICdmaXhlZCcsXG4gICAgICAndG9wJzogMCxcbiAgICAgICdyaWdodCc6IDAsXG4gICAgICAnYm90dG9tJzogMCxcbiAgICAgICdsZWZ0JzogMCxcbiAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3JnYmEoMzIsIDMzLCAzNiwgLjYpJyxcbiAgICB9KTtcblxuICAgIC8qKiBAcHJpdmF0ZSB7P1dpbmRvd30gKi9cbiAgICB0aGlzLnBvcHVwV2luZG93XyA9IG51bGw7XG5cbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMucG9wdXBXaW5kb3dfKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5wb3B1cFdpbmRvd18uZm9jdXMoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIElnbm9yZSBlcnJvci5cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBncmF5cGFuZS5cbiAgICogQHBhcmFtIHs/V2luZG93fHVuZGVmaW5lZH0gcG9wdXBXaW5kb3dcbiAgICogQHJldHVybiB7IVByb21pc2V9XG4gICAqL1xuICBzaG93KHBvcHVwV2luZG93KSB7XG4gICAgdGhpcy5wb3B1cFdpbmRvd18gPSBwb3B1cFdpbmRvdyB8fCBudWxsO1xuICAgIHRoaXMuZG9jXy5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgIHNldEltcG9ydGFudFN0eWxlcyh0aGlzLmVsZW1lbnRfLCB7XG4gICAgICAnZGlzcGxheSc6ICdibG9jaycsXG4gICAgICAnb3BhY2l0eSc6IDAsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRyYW5zaXRpb24odGhpcy5lbGVtZW50Xywge1xuICAgICAgJ29wYWNpdHknOiAxLFxuICAgIH0sIDMwMCwgJ2Vhc2Utb3V0Jyk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIGdyYXlwYW5lLlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZXx1bmRlZmluZWR9XG4gICAqL1xuICBoaWRlKCkge1xuICAgIHRoaXMucG9wdXBXaW5kb3dfID0gbnVsbDtcbiAgICBpZiAoIXRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gSGFzIGFscmVhZHkgYmVlbiByZW1vdmVkIG9yIGhhdmVuJ3QgYmVlbiBldmVuIGFkZGVkIHRvIERPTS5cbiAgICAgIC8vIFRoaXMgY291bGQgYmUgcG9zc2libGUgYWZ0ZXIgcmVkaXJlY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2l0aW9uKHRoaXMuZWxlbWVudF8sIHtcbiAgICAgICdvcGFjaXR5JzogMCxcbiAgICB9LCAzMDAsICdlYXNlLW91dCcpLnRoZW4oKCkgPT4ge1xuICAgICAgc2V0SW1wb3J0YW50U3R5bGVzKHRoaXMuZWxlbWVudF8sIHsnZGlzcGxheSc6ICdub25lJ30pO1xuICAgICAgdGhpcy5kb2NfLmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Xyk7XG4gICAgfSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIFNldHMgdGhlIENTUyBzdHlsZXMgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50IHdpdGggIWltcG9ydGFudC4gVGhlIHN0eWxlc1xuICogYXJlIHNwZWNpZmllZCBhcyBhIG1hcCBmcm9tIENTUyBwcm9wZXJ0eSBuYW1lcyB0byB0aGVpciB2YWx1ZXMuXG4gKlxuICogVGhlIGAhaW1wb3J0YW50YCBzdHlsZXMgYXJlIHVzZWQgdG8gYXZvaWQgYWNjaWRlbnRhbCBzcGVjaWZpY2l0eSBvdmVycmlkZXNcbiAqIGZyb20gdGhlIDNwIHBhZ2UncyBzdHlsZXNoZWV0LlxuICpcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsIHN0cmluZ3xudW1iZXI+fSBzdHlsZXNcbiAqL1xuZnVuY3Rpb24gc2V0SW1wb3J0YW50U3R5bGVzKGVsZW1lbnQsIHN0eWxlcykge1xuICBmb3IgKGNvbnN0IGsgaW4gc3R5bGVzKSB7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShrLCBzdHlsZXNba10udG9TdHJpbmcoKSwgJ2ltcG9ydGFudCcpO1xuICB9XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhZnRlciB0aGUgZ2l2ZW4gZHVyYXRpb24gb2YgYW5pbWF0aW9uXG4gKiBAcGFyYW0geyFFbGVtZW50fSBlbCAtIEVsZW1lbnQgdG8gYmUgb2JzZXJ2ZWQuXG4gKiBAcGFyYW0geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmd8bnVtYmVyPn0gcHJvcHMgLSBwcm9wZXJ0aWVzIHRvIGJlIGFuaW1hdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uTWlsbGlzIC0gZHVyYXRpb24gb2YgYW5pbWF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGN1cnZlIC0gdHJhbnNpdGlvbiBmdW5jdGlvbiBmb3IgdGhlIGFuaW1hdGlvbi5cbiAqIEByZXR1cm4geyFQcm9taXNlfSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyBkb25lIHBsYXlpbmcuXG4gKi9cbmZ1bmN0aW9uIHRyYW5zaXRpb24oZWwsIHByb3BzLCBkdXJhdGlvbk1pbGxpcywgY3VydmUpIHtcbiAgY29uc3Qgd2luID0gZWwub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgY29uc3QgcHJldmlvdXNUcmFuc2l0aW9uVmFsdWUgPSBlbC5zdHlsZS50cmFuc2l0aW9uIHx8ICcnO1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgd2luLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd2luLnNldFRpbWVvdXQocmVzb2x2ZSwgZHVyYXRpb25NaWxsaXMpO1xuICAgICAgY29uc3QgdHIgPSBgJHtkdXJhdGlvbk1pbGxpc31tcyAke2N1cnZlfWA7XG4gICAgICBzZXRJbXBvcnRhbnRTdHlsZXMoZWwsIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAndHJhbnNpdGlvbic6IGB0cmFuc2Zvcm0gJHt0cn0sIG9wYWNpdHkgJHt0cn1gLFxuICAgICAgfSwgcHJvcHMpKTtcbiAgICB9KTtcbiAgfSkudGhlbigoKSA9PiB7XG4gICAgLy8gU3RvcCB0cmFuc2l0aW9uIGFuZCBtYWtlIHN1cmUgdGhhdCB0aGUgZmluYWwgcHJvcGVydGllcyBnZXQgc2V0LlxuICAgIHNldEltcG9ydGFudFN0eWxlcyhlbCwgT2JqZWN0LmFzc2lnbih7XG4gICAgICAndHJhbnNpdGlvbic6IHByZXZpb3VzVHJhbnNpdGlvblZhbHVlLFxuICAgIH0sIHByb3BzKSk7XG4gIH0pO1xufVxuXG5cbmV4cG9ydCB7R3JheXBhbmV9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1Bvc3RNZXNzYWdlU2VydmljZX0gZnJvbSAnLi9wb3N0X21lc3NhZ2Vfc2VydmljZS5qcyc7XG5cbi8qKlxuICogU3VwcG9ydGVkIGludGVyYWN0aW9ucyBiZXR3ZWVuIGlmcmFtZSBhbmQgbWVyY2hhbnQgcGFnZS5cbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG4vLyBOZXh0IElkOiAxMFxuY29uc3QgUG9zdE1lc3NhZ2VFdmVudFR5cGUgPSB7XG4gIElTX1JFQURZX1RPX1BBWTogNixcbiAgTE9HX0JVVFRPTl9DTElDSzogNSxcbiAgTE9HX0lTX1JFQURZX1RPX1BBWV9BUEk6IDAsXG4gIExPR19MT0FEX1BBWU1FTlRfREFUQV9BUEk6IDEsXG4gIExPR19SRU5ERVJfQlVUVE9OOiAyLFxuICBMT0dfSU5JVElBTElaRV9QQVlNRU5UU19DTElFTlQ6IDksXG4gIExPR19QQVlfRlJBTUVfUkVRVUVTVEVEOiAxNSxcbiAgTE9HX1BBWV9GUkFNRV9MT0FERUQ6IDE2LFxuICBMT0dfUEFZX0ZSQU1FX0xPQURFRF9XSVRIX0FMTF9KUzogMTcsXG4gIExPR19JTkxJTkVfUEFZTUVOVF9XSURHRVRfSU5JVElBTElaRTogNCxcbiAgTE9HX0lOTElORV9QQVlNRU5UX1dJREdFVF9TVUJNSVQ6IDMsXG4gIExPR19JTkxJTkVfUEFZTUVOVF9XSURHRVRfRElTUExBWUVEOiA3LFxuICBMT0dfSU5MSU5FX1BBWU1FTlRfV0lER0VUX0hJRERFTjogOCxcbn07XG5cbi8qKlxuICogVHlwZXMgb2YgYnV5IGZsb3cgYWN0aXZpdHkgbW9kZXMuXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuY29uc3QgQnV5Rmxvd0FjdGl2aXR5TW9kZSA9IHtcbiAgVU5LTk9XTl9NT0RFOiAwLFxuICBJRlJBTUU6IDEsXG4gIFBPUFVQOiAyLFxuICBSRURJUkVDVDogMyxcbiAgQU5EUk9JRF9OQVRJVkU6IDQsXG4gIFBBWU1FTlRfSEFORExFUjogNSxcbn07XG5cbi8qKlxuICogVHlwZXMgb2YgYnV5IGZsb3cgYWN0aXZpdHkgbW9kZXMuXG4gKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuY29uc3QgUHVibGljRXJyb3JDb2RlID0ge1xuICBVTktOT1dOX0VSUk9SX1RZUEU6IDAsXG4gIElOVEVSTkFMX0VSUk9SOiAxLFxuICBERVZFTE9QRVJfRVJST1I6IDIsXG4gIEJVWUVSX0FDQ09VTlRfRVJST1I6IDMsXG4gIE1FUkNIQU5UX0FDQ09VTlRfRVJST1I6IDQsXG4gIFVOU1VQUE9SVEVEX0FQSV9WRVJTSU9OOiA1LFxuICBCVVlFUl9DQU5DRUw6IDYsXG59O1xuXG4vKipcbiAqIFRoZSBwcmVzZW50YXRpb24gbW9kZSBvZiB0aGUgYnV5IGZsb3dcbiAqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5jb25zdCBCdXlGbG93TW9kZSA9IHtcbiAgUEFZX1dJVEhfR09PR0xFOiA1LFxuICBTVUJTQ1JJQkVfV0lUSF9HT09HTEU6IDYsXG59O1xuXG4vKipcbiAqIElmcmFtZSB1c2VkIGZvciBsb2dnaW5nIGFuZCBwcmVmZXRjaGluZy5cbiAqXG4gKiBAdHlwZSB7P0VsZW1lbnR9XG4gKi9cbmxldCBpZnJhbWUgPSBudWxsO1xuXG4vKiogQHR5cGUgez9Qb3N0TWVzc2FnZVNlcnZpY2V9ICovXG5sZXQgcG9zdE1lc3NhZ2VTZXJ2aWNlID0gbnVsbDtcblxuLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xubGV0IGVudmlyb25tZW50ID0gbnVsbDtcblxuLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xubGV0IGdvb2dsZVRyYW5zYWN0aW9uSWQgPSBudWxsO1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBvcmlnaW5UaW1lTXMgPSBEYXRlLm5vdygpO1xuXG4vKiogQHR5cGUgez9CdXlGbG93QWN0aXZpdHlNb2RlfSAqL1xubGV0IGJ1eUZsb3dBY3Rpdml0eU1vZGUgPSBudWxsO1xuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG5sZXQgaWZyYW1lTG9hZGVkID0gZmFsc2U7XG5cbi8qKiBAdHlwZSB7IUFycmF5PCFPYmplY3Q+fSAqL1xubGV0IGJ1ZmZlciA9IFtdO1xuXG5jbGFzcyBQYXlGcmFtZUhlbHBlciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgaGlkZGVuIGlmcmFtZSBmb3IgbG9nZ2luZyBhbmQgYXBwZW5kcyBpdCB0byB0aGUgdG9wIGxldmVsXG4gICAqIGRvY3VtZW50LlxuICAgKi9cbiAgc3RhdGljIGxvYWQoKSB7XG4gICAgaWYgKGlmcmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbml0T3B0aW9ucyA9XG4gICAgICAgIC8qKiBAdHlwZSB7IVBheW1lbnRPcHRpb25zfSAqLyAod2luZG93WydncGF5SW5pdFBhcmFtcyddKSB8fCB7fTtcbiAgICBlbnZpcm9ubWVudCA9IGluaXRPcHRpb25zLmVudmlyb25tZW50IHx8IENvbnN0YW50cy5FbnZpcm9ubWVudC5QUk9EVUNUSU9OO1xuICAgIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIC8vIFBhc3MgaW4gb3JpZ2luIGJlY2F1c2UgZG9jdW1lbnQucmVmZXJyZXIgaW5zaWRlIGlmcmFtZSBpcyBlbXB0eSBpblxuICAgIC8vIGNlcnRhaW4gY2FzZXNcbiAgICAvLyBDYW4gYmUgcmVwbGFjZWQgYnkgaWZyYW1lLnNyYz0uLi4gaW4gbm9uIEdvb2dsZSBjb250ZXh0LlxuICAgIGlmcmFtZS5zcmMgPSBQYXlGcmFtZUhlbHBlci5nZXRJZnJhbWVVcmxfKFxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLm9yaWdpbixcbiAgICAgICAgICAgIGluaXRPcHRpb25zLm1lcmNoYW50SW5mbyAmJiBpbml0T3B0aW9ucy5tZXJjaGFudEluZm8ubWVyY2hhbnRJZCk7XG4gICAgUGF5RnJhbWVIZWxwZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgJ2V2ZW50VHlwZSc6IFBvc3RNZXNzYWdlRXZlbnRUeXBlLkxPR19QQVlfRlJBTUVfUkVRVUVTVEVELFxuICAgICAgJ2NsaWVudExhdGVuY3lTdGFydE1zJzogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgICBpZnJhbWUuaGVpZ2h0ID0gJzAnO1xuICAgIGlmcmFtZS53aWR0aCA9ICcwJztcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpZnJhbWUuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIGlmcmFtZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIFBheUZyYW1lSGVscGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgJ2V2ZW50VHlwZSc6IFBvc3RNZXNzYWdlRXZlbnRUeXBlLkxPR19QQVlfRlJBTUVfTE9BREVEX1dJVEhfQUxMX0pTLFxuICAgICAgICAnY2xpZW50TGF0ZW5jeVN0YXJ0TXMnOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG4gICAgICBQYXlGcmFtZUhlbHBlci5pZnJhbWVMb2FkZWQoKTtcbiAgICB9O1xuICAgIC8vIElmIHRoZSBib2R5IGlzIGFscmVhZHkgbG9hZGVkLCBqdXN0IGFwcGVuZCB0aGUgaWZyYW1lLiBPdGhlcndpc2UsIHdlIHdhaXRcbiAgICAvLyB1bnRpbCB0aGUgRE9NIGhhcyBsb2FkZWQgdG8gYXBwZW5kIHRoZSBpZnJhbWUsIG90aGVyd2lzZSBkb2N1bWVudC5ib2R5IGlzXG4gICAgLy8gbnVsbC5cbiAgICBpZiAoZG9jdW1lbnQuYm9keSkge1xuICAgICAgUGF5RnJhbWVIZWxwZXIuaW5pdGlhbGl6ZV8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAnRE9NQ29udGVudExvYWRlZCcsICgpID0+IFBheUZyYW1lSGVscGVyLmluaXRpYWxpemVfKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBpZnJhbWUgdG8gdGhlIERPTSBhbmQgdXBkYXRlcyB0aGUgcG9zdCBtZXNzYWdlIHNlcnZpY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGF0aWMgaW5pdGlhbGl6ZV8oKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIHBvc3RNZXNzYWdlU2VydmljZSA9IG5ldyBQb3N0TWVzc2FnZVNlcnZpY2UoaWZyYW1lLmNvbnRlbnRXaW5kb3cpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgaWZyYW1lIGFuZCB3YWl0IGZvciBhIHJlc3BvbnNlLlxuICAgKiBVc2VzIHRoZSByZXNwb25zZUhhbmRsZXIgc3BlY2lmaWVkIG9ubHkgaWYgdGhlIHJlc3BvbnNlVHlwZSBpcyBhIG1hdGNoLlxuICAgKlxuICAgKiBAcGFyYW0geyFPYmplY3R9IGRhdGFcbiAgICogQHBhcmFtIHshUG9zdE1lc3NhZ2VFdmVudFR5cGV9IGV2ZW50VHlwZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VUeXBlXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KX0gcmVzcG9uc2VIYW5kbGVyXG4gICAqL1xuICBzdGF0aWMgc2VuZEFuZFdhaXRGb3JSZXNwb25zZShcbiAgICAgIGRhdGEsIGV2ZW50VHlwZSwgcmVzcG9uc2VUeXBlLCByZXNwb25zZUhhbmRsZXIpIHtcbiAgICBmdW5jdGlvbiBjYWxsYmFjayhldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmRhdGFbcmVzcG9uc2VUeXBlXSkge1xuICAgICAgICByZXNwb25zZUhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gcHJvY2VzcyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgcGF5ZnJhbWUgb25jZS5cbiAgICAgICAgLy8gc28gc3RvcCBsaXN0ZW5pbmcgdG8gdGhlIGV2ZW50IG9uY2UgcHJvY2Vzc2VkLlxuICAgICAgICBQYXlGcmFtZUhlbHBlci5yZW1vdmVNZXNzYWdlRXZlbnRMaXN0ZW5lcl8oY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIFBheUZyYW1lSGVscGVyLmFkZE1lc3NhZ2VFdmVudExpc3RlbmVyXyhjYWxsYmFjayk7XG5cbiAgICBjb25zdCBwb3N0TWVzc2FnZURhdGEgPSBPYmplY3QuYXNzaWduKHsnZXZlbnRUeXBlJzogZXZlbnRUeXBlfSwgZGF0YSk7XG4gICAgUGF5RnJhbWVIZWxwZXIucG9zdE1lc3NhZ2UocG9zdE1lc3NhZ2VEYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGxpc3RlbmluZyB0byBtZXNzYWdlcyByZWNlaXZlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBjYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGFkZE1lc3NhZ2VFdmVudExpc3RlbmVyXyhjYWxsYmFjaykge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgZm9yIGxpc3RlbmluZyB0byBtZXNzYWdlcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpfSBjYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIHJlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyXyhjYWxsYmFjaykge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc3RzIGEgbWVzc2FnZSB0byB0aGUgaWZyYW1lIHdpdGggdGhlIGdpdmVuIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gZGF0YVxuICAgKi9cbiAgc3RhdGljIHBvc3RNZXNzYWdlKGRhdGEpIHtcbiAgICBpZiAoIWlmcmFtZUxvYWRlZCkge1xuICAgICAgYnVmZmVyLnB1c2goZGF0YSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBvc3RNZXNzYWdlRGF0YSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICAnYnV5Rmxvd0FjdGl2aXR5TW9kZSc6IGJ1eUZsb3dBY3Rpdml0eU1vZGUsXG4gICAgICAgICAgJ2dvb2dsZVRyYW5zYWN0aW9uSWQnOiBnb29nbGVUcmFuc2FjdGlvbklkLFxuICAgICAgICAgICdvcmlnaW5UaW1lTXMnOiBvcmlnaW5UaW1lTXMsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGEpO1xuICAgIHBvc3RNZXNzYWdlU2VydmljZS5wb3N0TWVzc2FnZShcbiAgICAgICAgcG9zdE1lc3NhZ2VEYXRhLCBQYXlGcmFtZUhlbHBlci5nZXRJZnJhbWVPcmlnaW5fKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGFjdGl2aXR5IG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7IUJ1eUZsb3dBY3Rpdml0eU1vZGV9IG1vZGVcbiAgICovXG4gIHN0YXRpYyBzZXRCdXlGbG93QWN0aXZpdHlNb2RlKG1vZGUpIHtcbiAgICBidXlGbG93QWN0aXZpdHlNb2RlID0gbW9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnb29nbGUgdHJhbnNhY3Rpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eG5JZFxuICAgKi9cbiAgc3RhdGljIHNldEdvb2dsZVRyYW5zYWN0aW9uSWQodHhuSWQpIHtcbiAgICBnb29nbGVUcmFuc2FjdGlvbklkID0gdHhuSWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgb3JpZ2luVGltZU1zLiBUbyBiZSB1c2VkIG9ubHkgZm9yIHRlc3RzLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gb3JpZ2luVGltZU1zVGVtcFxuICAgKi9cbiAgc3RhdGljIHNldE9yaWdpblRpbWVNcyhvcmlnaW5UaW1lTXNUZW1wKSB7XG4gICAgb3JpZ2luVGltZU1zID0gb3JpZ2luVGltZU1zVGVtcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBwb3N0TWVzc2FnZVNlcnZpY2UgZm9yIHRlc3RpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvc3RNZXNzYWdlU2VydmljZX0gbWVzc2FnZVNlcnZpY2VcbiAgICovXG4gIHN0YXRpYyBzZXRQb3N0TWVzc2FnZVNlcnZpY2UobWVzc2FnZVNlcnZpY2UpIHtcbiAgICBwb3N0TWVzc2FnZVNlcnZpY2UgPSBtZXNzYWdlU2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHNpbmdsZXRvbiB2YXJpYWJsZXMuXG4gICAqL1xuICBzdGF0aWMgcmVzZXQoKSB7XG4gICAgaWZyYW1lID0gbnVsbDtcbiAgICBidWZmZXIubGVuZ3RoID0gMDtcbiAgICBpZnJhbWVMb2FkZWQgPSBmYWxzZTtcbiAgICBidXlGbG93QWN0aXZpdHlNb2RlID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIGlmcmFtZSBoYXMgYmVlbiBsb2FkZWQgb3Igbm90LlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvYWRlZFxuICAgKi9cbiAgc3RhdGljIHNldElmcmFtZUxvYWRlZChsb2FkZWQpIHtcbiAgICBpZnJhbWVMb2FkZWQgPSBsb2FkZWQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW5ldmVyIHRoZSBpZnJhbWUgaXMgbG9hZGVkLlxuICAgKi9cbiAgc3RhdGljIGlmcmFtZUxvYWRlZCgpIHtcbiAgICBpZnJhbWVMb2FkZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIFBheUZyYW1lSGVscGVyLnBvc3RNZXNzYWdlKGRhdGEpO1xuICAgIH0pO1xuICAgIGJ1ZmZlci5sZW5ndGggPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGV2ZW50cyB0aGF0IGhhdmUgYmVlbiBidWZmZXJlZC5cbiAgICpcbiAgICogQHJldHVybiB7IUFycmF5PCFPYmplY3Q+fVxuICAgKi9cbiAgc3RhdGljIGdldEJ1ZmZlcigpIHtcbiAgICByZXR1cm4gYnVmZmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vY2tzIHRoZSBpZnJhbWUgYXMgYW4gYXJiaXRyYXJ5IGh0bWwgZWxlbWVudCBpbnN0ZWFkIG9mIGFjdHVhbGx5IGluamVjdGluZ1xuICAgKiBpdCBmb3IgdGVzdGluZy5cbiAgICovXG4gIHN0YXRpYyBpbmplY3RJZnJhbWVGb3JUZXN0aW5nKCkge1xuICAgIFBheUZyYW1lSGVscGVyLnJlc2V0KCk7XG4gICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIFBheUZyYW1lSGVscGVyLmlmcmFtZUxvYWRlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBheWZyYW1lIG9yaWdpbiBiYXNlZCBvbiB0aGUgZW52aXJvbm1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBnZXRJZnJhbWVPcmlnaW5fKCkge1xuICAgIGxldCBpZnJhbWVVcmwgPSAnaHR0cHM6Ly9wYXknO1xuICAgIGlmIChlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuU0FOREJPWCkge1xuICAgICAgaWZyYW1lVXJsICs9ICcuc2FuZGJveCc7XG4gICAgfSBlbHNlIGlmIChlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUFJFUFJPRCkge1xuICAgICAgaWZyYW1lVXJsICs9ICctcHJlcHJvZC5zYW5kYm94JztcbiAgICB9XG4gICAgcmV0dXJuIGlmcmFtZVVybCArICcuZ29vZ2xlLmNvbSc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcGF5ZnJhbWUgVVJMIGJhc2VkIG9uIHRoZSBlbnZpcm9ubWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbiBUaGUgb3JpZ2luIHRoYXQgaXMgb3BlbmluZyB0aGUgcGF5ZnJhbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGw9fSBtZXJjaGFudElkIFRoZSBtZXJjaGFudCBpZC5cbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIGdldElmcmFtZVVybF8ob3JpZ2luLCBtZXJjaGFudElkKSB7XG4gICAgLy8gVHJ1c3RlZFJlc291cmNlVXJsIGhlYWRlciBuZWVkcyB0byBzdGFydCB3aXRoIGh0dHBzIG9yICcvLycuXG4gICAgY29uc3QgaWZyYW1lVXJsID0gYGh0dHBzOi8vcGF5JHtlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUFJFUFJPRCA/XG4gICAgICAgICAgICAgJy1wcmVwcm9kLnNhbmRib3gnIDpcbiAgICAgICAgICAgICBlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuU0FOREJPWCA/ICcuc2FuZGJveCcgOiAnJ30uZ29vZ2xlLmNvbS9ncC9wL3VpL3BheWZyYW1lP29yaWdpbj0ke29yaWdpbn0mbWlkPSV7bWVyY2hhbnRJZH1gO1xuICAgIHJldHVybiBpZnJhbWVVcmw7XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgQnV5Rmxvd0FjdGl2aXR5TW9kZSxcbiAgQnV5Rmxvd01vZGUsXG4gIFBheUZyYW1lSGVscGVyLFxuICBQb3N0TWVzc2FnZUV2ZW50VHlwZSxcbiAgUHVibGljRXJyb3JDb2RlLFxufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICBCdXlGbG93QWN0aXZpdHlNb2RlLFxuICBCdXlGbG93TW9kZSxcbiAgUGF5RnJhbWVIZWxwZXIsXG4gIFBvc3RNZXNzYWdlRXZlbnRUeXBlLFxuICBQdWJsaWNFcnJvckNvZGUsXG59IGZyb20gJy4vcGF5X2ZyYW1lX2hlbHBlci5qcyc7XG5pbXBvcnQge0NvbnN0YW50c30gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHtQYXltZW50c0NsaWVudERlbGVnYXRlSW50ZXJmYWNlfSBmcm9tICcuL3BheW1lbnRzX2NsaWVudF9kZWxlZ2F0ZV9pbnRlcmZhY2UuanMnO1xuaW1wb3J0IHtQYXltZW50c1JlcXVlc3REZWxlZ2F0ZX0gZnJvbSAnLi9wYXltZW50c19yZXF1ZXN0X2RlbGVnYXRlLmpzJztcbmltcG9ydCB7UGF5bWVudHNXZWJBY3Rpdml0eURlbGVnYXRlfSBmcm9tICcuL3BheW1lbnRzX3dlYl9hY3Rpdml0eV9kZWxlZ2F0ZS5qcyc7XG5pbXBvcnQge1VwaUhhbmRsZXJ9IGZyb20gJy4vdXBpX2hhbmRsZXIuanMnO1xuaW1wb3J0IHtcbiAgYXBpVjJEb2VzTWVyY2hhbnRTdXBwb3J0U3BlY2lmaWVkQ2FyZFR5cGUsXG4gIGNocm9tZVN1cHBvcnRzUGF5bWVudEhhbmRsZXIsXG4gIGNocm9tZVN1cHBvcnRzUGF5bWVudFJlcXVlc3QsXG4gIGRvZXNNZXJjaGFudFN1cHBvcnRPbmx5VG9rZW5pemVkQ2FyZHMsXG4gIGdldFVwaVBheW1lbnRNZXRob2QsXG4gIHZhbGlkYXRlSXNSZWFkeVRvUGF5UmVxdWVzdCxcbiAgdmFsaWRhdGVQYXltZW50RGF0YVJlcXVlc3QsXG4gIHZhbGlkYXRlUGF5bWVudE9wdGlvbnMsXG4gIHZhbGlkYXRlU2VjdXJlQ29udGV4dCxcbn0gZnJvbSAnLi92YWxpZGF0b3IuanMnO1xuXG5jb25zdCB7QWN0aXZpdHlQb3J0c30gPSByZXF1aXJlKCd3ZWItYWN0aXZpdGllcy9hY3Rpdml0eS1wb3J0cycpO1xuXG5pbXBvcnQge2NyZWF0ZUdvb2dsZVRyYW5zYWN0aW9uSWR9IGZyb20gJy4vdXRpbHMuanMnO1xuXG5jb25zdCBUUlVTVEVEX0RPTUFJTlMgPSBbXG4gICdhY3Rpb25zLmdvb2dsZS5jb20nLFxuICAnYW1wLWFjdGlvbnMuc2FuZGJveC5nb29nbGUuY29tJyxcbiAgJ2FtcC1hY3Rpb25zLXN0YWdpbmcuc2FuZGJveC5nb29nbGUuY29tJyxcbiAgJ2FtcC1hY3Rpb25zLWF1dG9wdXNoLnNhbmRib3guZ29vZ2xlLmNvbScsXG4gICdwYXltZW50cy5kZXZlbG9wZXJzLmdvb2dsZS5jb20nLFxuICAncGF5bWVudHMuZ29vZ2xlLmNvbScsXG5dO1xuXG4vKipcbiAqIFRoZSBjbGllbnQgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIEdvb2dsZSBQYXltZW50IEFQSXMuXG4gKiA8cD5cbiAqIFRoZSBhc3luYyByZWZlcnMgdG8gdGhlIGZhY3QgdGhhdCB0aGlzIGNsaWVudCBzdXBwb3J0cyByZWRpcmVjdHNcbiAqIHdoZW4gdXNpbmcgd2ViYWN0aXZ0aWVzLlxuICogPHA+XG4gKiBJZiB5b3UgYXJlIHVzaW5nIHRoaXMgYmUgc3VyZSB0aGF0IHRoaXMgaXMgd2hhdCB5b3Ugd2FudC5cbiAqIDxwPlxuICogSW4gYWxtb3N0IGFsbCBjYXNlcyBQYXltZW50c0NsaWVudCBpcyB0aGUgYmV0dGVyIGNsaWVudCB0byB1c2UgYmVjYXVzZVxuICogaXQgZXhwb3NlcyBhIHByb21pc2VzIGJhc2VkIGFwaSB3aGljaCBpcyBlYXNpZXIgdG8gZGVhbCB3aXRoLlxuICogQGZpbmFsXG4gKi9cbmNsYXNzIFBheW1lbnRzQXN5bmNDbGllbnQge1xuICAvKipcbiAgICogQHBhcmFtIHshUGF5bWVudE9wdGlvbnN9IHBheW1lbnRPcHRpb25zXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIVByb21pc2U8IVBheW1lbnREYXRhPil9IG9uUGF5bWVudFJlc3BvbnNlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHVzZUlmcmFtZVxuICAgKiBAcGFyYW0geyFBY3Rpdml0eVBvcnRzPX0gYWN0aXZpdGllcyBDYW4gYmUgdXNlZCB0byBwcm92aWRlIGEgc2hhcmVkXG4gICAqICAgYWN0aXZpdGllcyBtYW5hZ2VyLiBCeSBkZWZhdWx0LCB0aGUgbmV3IG1hbmFnZXIgaXMgY3JlYXRlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBheW1lbnRPcHRpb25zLCBvblBheW1lbnRSZXNwb25zZSwgdXNlSWZyYW1lLCBhY3Rpdml0aWVzKSB7XG4gICAgdGhpcy5vblBheW1lbnRSZXNwb25zZV8gPSBvblBheW1lbnRSZXNwb25zZTtcblxuICAgIHZhbGlkYXRlUGF5bWVudE9wdGlvbnMocGF5bWVudE9wdGlvbnMpO1xuXG4gICAgLyoqIEBwcml2YXRlIHs/bnVtYmVyfSAqL1xuICAgIHRoaXMubG9hZFBheW1lbnREYXRhQXBpU3RhcnRUaW1lTXNfID0gbnVsbDtcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge3N0cmluZ30gKi9cbiAgICB0aGlzLmVudmlyb25tZW50XyA9XG4gICAgICBwYXltZW50T3B0aW9ucy5lbnZpcm9ubWVudCB8fCBDb25zdGFudHMuRW52aXJvbm1lbnQuVEVTVDtcbiAgICBpZiAoIVBheW1lbnRzQXN5bmNDbGllbnQuZ29vZ2xlVHJhbnNhY3Rpb25JZF8pIHtcbiAgICAgIFBheW1lbnRzQXN5bmNDbGllbnQuZ29vZ2xlVHJhbnNhY3Rpb25JZF8gPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMuaXNJblRydXN0ZWREb21haW5fKCkgJiZcbiAgICAgIHBheW1lbnRPcHRpb25zWydpJ10gJiZcbiAgICAgIHBheW1lbnRPcHRpb25zWydpJ11bJ2dvb2dsZVRyYW5zYWN0aW9uSWQnXVxuICAgICAgICA/IHBheW1lbnRPcHRpb25zWydpJ11bJ2dvb2dsZVRyYW5zYWN0aW9uSWQnXVxuICAgICAgICA6IGNyZWF0ZUdvb2dsZVRyYW5zYWN0aW9uSWQodGhpcy5lbnZpcm9ubWVudF8pKTtcbiAgICB9XG5cbiAgICAvKiogQHByaXZhdGUgQGNvbnN0IHshUGF5bWVudE9wdGlvbnN9ICovXG4gICAgdGhpcy5wYXltZW50T3B0aW9uc18gPSBwYXltZW50T3B0aW9ucztcblxuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3QgeyFQYXltZW50c0NsaWVudERlbGVnYXRlSW50ZXJmYWNlfSAqL1xuICAgIHRoaXMud2ViQWN0aXZpdHlEZWxlZ2F0ZV8gPSBuZXcgUGF5bWVudHNXZWJBY3Rpdml0eURlbGVnYXRlKFxuICAgICAgdGhpcy5lbnZpcm9ubWVudF8sXG4gICAgICBQYXltZW50c0FzeW5jQ2xpZW50Lmdvb2dsZVRyYW5zYWN0aW9uSWRfLFxuICAgICAgdXNlSWZyYW1lLFxuICAgICAgYWN0aXZpdGllcyxcbiAgICAgIHBheW1lbnRPcHRpb25zWydpJ10gJiYgcGF5bWVudE9wdGlvbnNbJ2knXVsncmVkaXJlY3RLZXknXVxuICAgICk7XG5cbiAgICAvKiogQHByaXZhdGUge251bWJlcn0gKi9cbiAgICB0aGlzLmJ1eUZsb3dNb2RlXyA9IEJ1eUZsb3dNb2RlLlBBWV9XSVRIX0dPT0dMRTtcblxuICAgIGNvbnN0IHBheW1lbnRSZXF1ZXN0U3VwcG9ydGVkID0gY2hyb21lU3VwcG9ydHNQYXltZW50UmVxdWVzdCgpO1xuICAgIC8vIFRPRE86IFJlbW92ZSB0aGUgdGVtcG9yYXJ5IGhhY2sgdGhhdCBkaXNhYmxlIHBheW1lbnRzXG4gICAgLy8gcmVxdWVzdCBmb3IgaW5saW5lIGZsb3cuXG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7P1BheW1lbnRzQ2xpZW50RGVsZWdhdGVJbnRlcmZhY2V9ICovXG4gICAgdGhpcy5kZWxlZ2F0ZV8gPVxuICAgICAgcGF5bWVudFJlcXVlc3RTdXBwb3J0ZWQgJiYgIXVzZUlmcmFtZVxuICAgICAgICA/IG5ldyBQYXltZW50c1JlcXVlc3REZWxlZ2F0ZSh0aGlzLmVudmlyb25tZW50XylcbiAgICAgICAgOiB0aGlzLndlYkFjdGl2aXR5RGVsZWdhdGVfO1xuXG4gICAgdGhpcy51cGlIYW5kbGVyXyA9IG5ldyBVcGlIYW5kbGVyKCk7XG5cbiAgICB0aGlzLndlYkFjdGl2aXR5RGVsZWdhdGVfLm9uUmVzdWx0KHRoaXMub25SZXN1bHRfLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZGVsZWdhdGVfLm9uUmVzdWx0KHRoaXMub25SZXN1bHRfLmJpbmQodGhpcykpO1xuXG4gICAgLy8gTG9hZCBQYXlGcmFtZUhlbHBlciB1cG9uIGNsaWVudCBjb25zdHJ1Y3Rpb24uXG4gICAgUGF5RnJhbWVIZWxwZXIubG9hZCgpO1xuXG4gICAgLy8gSWYgd2ViIGRlbGVnYXRlIGlzIHVzZWQgYW55d2F5IHRoZW4gdGhpcyBpcyBvdmVycmlkZGVuIGluIHRoZSB3ZWJcbiAgICAvLyBhY3Rpdml0eSBkZWxlZ2F0ZSB3aGVuIGxvYWQgcGF5bWVudCBkYXRhIGlzIGNhbGxlZC5cbiAgICBpZiAoY2hyb21lU3VwcG9ydHNQYXltZW50SGFuZGxlcigpKSB7XG4gICAgICBQYXlGcmFtZUhlbHBlci5zZXRCdXlGbG93QWN0aXZpdHlNb2RlKFxuICAgICAgICBCdXlGbG93QWN0aXZpdHlNb2RlLlBBWU1FTlRfSEFORExFUlxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBheW1lbnRSZXF1ZXN0U3VwcG9ydGVkKSB7XG4gICAgICBQYXlGcmFtZUhlbHBlci5zZXRCdXlGbG93QWN0aXZpdHlNb2RlKEJ1eUZsb3dBY3Rpdml0eU1vZGUuQU5EUk9JRF9OQVRJVkUpO1xuICAgIH1cblxuICAgIFBheUZyYW1lSGVscGVyLnNldEdvb2dsZVRyYW5zYWN0aW9uSWQoXG4gICAgICBQYXltZW50c0FzeW5jQ2xpZW50Lmdvb2dsZVRyYW5zYWN0aW9uSWRfXG4gICAgKTtcbiAgICBQYXlGcmFtZUhlbHBlci5wb3N0TWVzc2FnZSh7XG4gICAgICAnZXZlbnRUeXBlJzogUG9zdE1lc3NhZ2VFdmVudFR5cGUuTE9HX0lOSVRJQUxJWkVfUEFZTUVOVFNfQ0xJRU5ULFxuICAgICAgJ2NsaWVudExhdGVuY3lTdGFydE1zJzogRGF0ZS5ub3coKSxcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PlxuICAgICAgdGhpcy5oYW5kbGVNZXNzYWdlRXZlbnRfKGV2ZW50KVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgdXNlciBjYW4gbWFrZSBwYXltZW50cyB1c2luZyB0aGUgUGF5bWVudCBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAgICogQHJldHVybiB7IVByb21pc2V9IFRoZSBwcm9taXNlIHdpbGwgY29udGFpbiB0aGUgYm9vbGVhbiByZXN1bHQgYW5kIGVycm9yXG4gICAqICAgICBtZXNzYWdlIHdoZW4gcG9zc2libGUuXG4gICAqL1xuICBpc1JlYWR5VG9QYXkoaXNSZWFkeVRvUGF5UmVxdWVzdCkge1xuICAgIC8vIE1lcmdlIHdpdGggcGF5bWVudE9wdGlvbnMsIHByZWZlcnJpbmcgdmFsdWVzIGZyb20gaXNSZWFkeVRvUGF5UmVxdWVzdFxuICAgIGlmIChpc1JlYWR5VG9QYXlSZXF1ZXN0KSB7XG4gICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0ID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnNfLFxuICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzdGFydFRpbWVNcyA9IERhdGUubm93KCk7XG4gICAgLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICB2YWxpZGF0ZVNlY3VyZUNvbnRleHQoKSB8fFxuICAgICAgdmFsaWRhdGVJc1JlYWR5VG9QYXlSZXF1ZXN0KGlzUmVhZHlUb1BheVJlcXVlc3QpO1xuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIFBheW1lbnRzQXN5bmNDbGllbnQubG9nRGV2RXJyb3JUb0NvbnNvbGVfKCdpc1JlYWR5VG9QYXknLCBlcnJvck1lc3NhZ2UpO1xuICAgICAgICBQYXlGcmFtZUhlbHBlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgJ2V2ZW50VHlwZSc6IFBvc3RNZXNzYWdlRXZlbnRUeXBlLkxPR19JU19SRUFEWV9UT19QQVlfQVBJLFxuICAgICAgICAgICdlcnJvcic6IFB1YmxpY0Vycm9yQ29kZS5ERVZFTE9QRVJfRVJST1IsXG4gICAgICAgIH0pO1xuICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICdzdGF0dXNDb2RlJzogQ29uc3RhbnRzLlJlc3BvbnNlU3RhdHVzLkRFVkVMT1BFUl9FUlJPUixcbiAgICAgICAgICAnc3RhdHVzTWVzc2FnZSc6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1JlYWR5VG9QYXlQcm9taXNlID0gdGhpcy5pc1JlYWR5VG9QYXlfKGlzUmVhZHlUb1BheVJlcXVlc3QpO1xuXG4gICAgaXNSZWFkeVRvUGF5UHJvbWlzZS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgUGF5RnJhbWVIZWxwZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAnZXZlbnRUeXBlJzogUG9zdE1lc3NhZ2VFdmVudFR5cGUuTE9HX0lTX1JFQURZX1RPX1BBWV9BUEksXG4gICAgICAgICdjbGllbnRMYXRlbmN5U3RhcnRNcyc6IHN0YXJ0VGltZU1zLFxuICAgICAgICAnaXNSZWFkeVRvUGF5QXBpUmVzcG9uc2UnOiByZXNwb25zZSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0pO1xuICAgIHJldHVybiBpc1JlYWR5VG9QYXlQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjdHVhbCBpbXBsZW1lbnRhdGlvbiBvZiBpc1JlYWR5VG9QYXkgaW4gYSBwcml2YXRlIG1ldGhvZCBzbyB0aGF0XG4gICAqIHdlIGNhbiBhZGQgY2FsbGJhY2tzIHRvIHRoZSBwcm9taXNlIHRvIG1lYXN1cmUgbGF0ZW5jaWVzLlxuICAgKlxuICAgKiBAcGFyYW0geyFJc1JlYWR5VG9QYXlSZXF1ZXN0fSBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gICAqIEByZXR1cm4geyFQcm9taXNlfSBUaGUgcHJvbWlzZSB3aWxsIGNvbnRhaW4gdGhlIGJvb2xlYW4gcmVzdWx0IGFuZCBlcnJvclxuICAgKiAgICAgbWVzc2FnZSB3aGVuIHBvc3NpYmxlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaXNSZWFkeVRvUGF5Xyhpc1JlYWR5VG9QYXlSZXF1ZXN0KSB7XG4gICAgaWYgKHRoaXMudXBpSGFuZGxlcl8uaXNVcGlSZXF1ZXN0KGlzUmVhZHlUb1BheVJlcXVlc3QpKSB7XG4gICAgICByZXR1cm4gdGhpcy51cGlIYW5kbGVyXy5pc1JlYWR5VG9QYXkoaXNSZWFkeVRvUGF5UmVxdWVzdCk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGNocm9tZVN1cHBvcnRzUGF5bWVudFJlcXVlc3QoKSAmJlxuICAgICAgIWlzTmF0aXZlRGlzYWJsZWRJblJlcXVlc3QoaXNSZWFkeVRvUGF5UmVxdWVzdClcbiAgICApIHtcbiAgICAgIGlmIChpc1JlYWR5VG9QYXlSZXF1ZXN0LmFwaVZlcnNpb24gPj0gMikge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1JlYWR5VG9QYXlBcGlWMkZvckNocm9tZVBheW1lbnRSZXF1ZXN0XyhcbiAgICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBhcGlWZXJzaW9uIDEgYnJhbmNoLlxuICAgICAgICAvLyBJZiB0aGUgbWVyY2hhbnQgc3VwcG9ydHMgb25seSBUb2tlbml6ZWQgY2FyZHMgdGhlbiBqdXN0IHJlbHkgb25cbiAgICAgICAgLy8gZGVsZWdhdGUgdG8gZ2l2ZSB1cyB0aGUgcmVzdWx0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgbmVlZCB0byBjaGFuZ2Ugb25jZSBiLzc4NTE5MTg4IGlzIGZpeGVkLlxuICAgICAgICBjb25zdCB3ZWJQcm9taXNlID0gdGhpcy53ZWJBY3Rpdml0eURlbGVnYXRlXy5pc1JlYWR5VG9QYXkoXG4gICAgICAgICAgaXNSZWFkeVRvUGF5UmVxdWVzdFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBuYXRpdmVQcm9taXNlID0gdGhpcy5kZWxlZ2F0ZV8uaXNSZWFkeVRvUGF5KGlzUmVhZHlUb1BheVJlcXVlc3QpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZG9lc01lcmNoYW50U3VwcG9ydE9ubHlUb2tlbml6ZWRDYXJkcyhpc1JlYWR5VG9QYXlSZXF1ZXN0KSAmJlxuICAgICAgICAgICFjaHJvbWVTdXBwb3J0c1BheW1lbnRIYW5kbGVyKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIHdlYklzUmVhZHlUb1BheSBvbmx5IGlmIGRlbGVnYXRlSXNSZWFkeVRvUGF5IGhhcyBiZWVuXG4gICAgICAgIC8vIGV4ZWN1dGVkLlxuICAgICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZS50aGVuKCgpID0+IHdlYlByb21pc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB3ZWJQcm9taXNlID0gdGhpcy53ZWJBY3Rpdml0eURlbGVnYXRlXy5pc1JlYWR5VG9QYXkoXG4gICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gICAgKTtcbiAgICByZXR1cm4gd2ViUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgaXMgcmVhZHkgdG8gcGF5IGZvciBhcGkgdjIuXG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAgICogQHJldHVybiB7IVByb21pc2V9IFRoZSBwcm9taXNlIHdpbGwgY29udGFpbiB0aGUgYm9vbGVhbiByZXN1bHQgYW5kIGVycm9yXG4gICAqICAgICBtZXNzYWdlIHdoZW4gcG9zc2libGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc1JlYWR5VG9QYXlBcGlWMkZvckNocm9tZVBheW1lbnRSZXF1ZXN0Xyhpc1JlYWR5VG9QYXlSZXF1ZXN0KSB7XG4gICAgbGV0IGRlZmF1bHRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHsncmVzdWx0JzogZmFsc2V9KTtcbiAgICBpZiAoaXNSZWFkeVRvUGF5UmVxdWVzdC5leGlzdGluZ1BheW1lbnRNZXRob2RSZXF1aXJlZCkge1xuICAgICAgZGVmYXVsdFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAncmVzdWx0JzogZmFsc2UsXG4gICAgICAgICdwYXltZW50TWV0aG9kUHJlc2VudCc6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IG5hdGl2ZVByb21pc2UgPSBkZWZhdWx0UHJvbWlzZTtcbiAgICBpZiAoXG4gICAgICBhcGlWMkRvZXNNZXJjaGFudFN1cHBvcnRTcGVjaWZpZWRDYXJkVHlwZShcbiAgICAgICAgaXNSZWFkeVRvUGF5UmVxdWVzdCxcbiAgICAgICAgQ29uc3RhbnRzLkF1dGhNZXRob2QuQ1JZUFRPR1JBTV8zRFNcbiAgICAgIClcbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBtZXJjaGFudCBzdXBwb3J0cyB0b2tlbml6ZWQgY2FyZHMuXG4gICAgICAvLyBNYWtlIGEgc2VwYXJhdGUgY2FsbCB0byBnbXMgY29yZSB0byBjaGVjayBpZiB0aGUgdXNlciBpc1JlYWR5VG9QYXlcbiAgICAgIC8vIHdpdGgganVzdCB0b2tlbml6ZWQgY2FyZHMuIFdlIGNhbid0IHBhc3MgaW4gUEFOX09OTFkgaGVyZVxuICAgICAgLy8gYmVjYXVzZSBnbXMgY29yZSBhbHdheXMgcmV0dXJucyB0cnVlIGZvciBQQU5fT05MWS5cbiAgICAgIC8vIExlYXZlIG90aGVyIHBheW1lbnQgbWV0aG9kcyBhcyBpcy5cbiAgICAgIGNvbnN0IG5hdGl2ZVJ0cFJlcXVlc3QgLyoqIEB0eXBlIHshSXNSZWFkeVRvUGF5UmVxdWVzdH0gKi8gPSBKU09OLnBhcnNlKFxuICAgICAgICBKU09OLnN0cmluZ2lmeShpc1JlYWR5VG9QYXlSZXF1ZXN0KVxuICAgICAgKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmF0aXZlUnRwUmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG5hdGl2ZVJ0cFJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzW2ldLnR5cGUgPT1cbiAgICAgICAgICBDb25zdGFudHMuUGF5bWVudE1ldGhvZC5DQVJEXG4gICAgICAgICkge1xuICAgICAgICAgIG5hdGl2ZVJ0cFJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzW2ldLnBhcmFtZXRlcnNbXG4gICAgICAgICAgICAnYWxsb3dlZEF1dGhNZXRob2RzJ1xuICAgICAgICAgIF0gPSBbQ29uc3RhbnRzLkF1dGhNZXRob2QuQ1JZUFRPR1JBTV8zRFNdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG5hdGl2ZVByb21pc2UgPSB0aGlzLmRlbGVnYXRlXy5pc1JlYWR5VG9QYXkobmF0aXZlUnRwUmVxdWVzdCk7XG4gICAgfVxuXG4gICAgbGV0IHdlYlByb21pc2UgPSBkZWZhdWx0UHJvbWlzZTtcbiAgICBpZiAoXG4gICAgICBhcGlWMkRvZXNNZXJjaGFudFN1cHBvcnRTcGVjaWZpZWRDYXJkVHlwZShcbiAgICAgICAgaXNSZWFkeVRvUGF5UmVxdWVzdCxcbiAgICAgICAgQ29uc3RhbnRzLkF1dGhNZXRob2QuUEFOX09OTFlcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHdlYlByb21pc2UgPSB0aGlzLndlYkFjdGl2aXR5RGVsZWdhdGVfLmlzUmVhZHlUb1BheShpc1JlYWR5VG9QYXlSZXF1ZXN0KTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc2Vzc2lvbiBzdG9yYWdlIHdpdGggcGF5bWVudCBoYW5kbGVyIGNhbk1ha2VQYXltZW50IHJlc3VsdCBidXRcbiAgICAvLyByZWx5IG9uIHdlYiBkZWxlZ2F0ZSBmb3IgYWN0dWFsIHJlc3BvbnNlXG4gICAgaWYgKGNocm9tZVN1cHBvcnRzUGF5bWVudEhhbmRsZXIoKSkge1xuICAgICAgcmV0dXJuIG5hdGl2ZVByb21pc2UudGhlbigoKSA9PiB3ZWJQcm9taXNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmF0aXZlUHJvbWlzZS50aGVuKChuYXRpdmVSZXN1bHQpID0+IHtcbiAgICAgIGlmICgobmF0aXZlUmVzdWx0ICYmIG5hdGl2ZVJlc3VsdFsncmVzdWx0J10pID09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3ZWJQcm9taXNlO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZWZldGNoIHBheW1lbnREYXRhIHRvIHNwZWVkIHVwIGxvYWRQYXltZW50RGF0YSBjYWxsLiBOb3RlIHRoZSBwcm92aWRlZFxuICAgKiBwYXltZW50RGF0YVJlcXVlc3Qgc2hvdWxkIGV4YWN0bHkgYmUgdGhlIHNhbWUgYXMgcHJvdmlkZWQgaW5cbiAgICogbG9hZFBheW1lbnREYXRhIHRvIG1ha2UgdGhlIGxvYWRQYXltZW50RGF0YSBjYWxsIGZhc3Qgc2luY2UgY3VycmVudFxuICAgKiB3ZWIgZmxvdyBwcmVmZXRjaGluZyBpcyBiYXNlZCBvbiB0aGUgZnVsbCByZXF1ZXN0IHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudERhdGFSZXF1ZXN0IFByb3ZpZGVzIG5lY2Vzc2FyeVxuICAgKiAgICAgaW5mb3JtYXRpb24gdG8gc3VwcG9ydCBhIHBheW1lbnQuXG4gICAqL1xuICBwcmVmZXRjaFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIC8qKiBAdHlwZSB7P3N0cmluZ30gKi9cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgdmFsaWRhdGVTZWN1cmVDb250ZXh0KCkgfHwgdmFsaWRhdGVQYXltZW50RGF0YVJlcXVlc3QocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICBQYXltZW50c0FzeW5jQ2xpZW50LmxvZ0RldkVycm9yVG9Db25zb2xlXyhcbiAgICAgICAgJ3ByZWZldGNoUGF5bWVudERhdGEnLFxuICAgICAgICBlcnJvck1lc3NhZ2VcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYXNzaWduSW50ZXJuYWxQYXJhbXNfKHBheW1lbnREYXRhUmVxdWVzdCk7XG4gICAgaWYgKFxuICAgICAgY2hyb21lU3VwcG9ydHNQYXltZW50UmVxdWVzdCgpICYmXG4gICAgICAhaXNOYXRpdmVEaXNhYmxlZEluUmVxdWVzdChwYXltZW50RGF0YVJlcXVlc3QpXG4gICAgKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlXy5wcmVmZXRjaFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZvciBub24gY2hyb21lIHN1cHBvcnRzIGFsd2F5cyB1c2UgdGhlIGhvc3RpbmcgcGFnZS5cbiAgICAgIHRoaXMud2ViQWN0aXZpdHlEZWxlZ2F0ZV8ucHJlZmV0Y2hQYXltZW50RGF0YShwYXltZW50RGF0YVJlcXVlc3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IFBheW1lbnREYXRhLCB3aGljaCBjb250YWlucyBuZWNlc3NhcnkgaW5mb21hcnRpb24gdG8gY29tcGxldGUgYVxuICAgKiBwYXltZW50LlxuICAgKlxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdCBQcm92aWRlcyBuZWNlc3NhcnlcbiAgICogICAgIGluZm9ybWF0aW9uIHRvIHN1cHBvcnQgYSBwYXltZW50LlxuICAgKi9cbiAgbG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIFBheUZyYW1lSGVscGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICdldmVudFR5cGUnOiBQb3N0TWVzc2FnZUV2ZW50VHlwZS5MT0dfQlVUVE9OX0NMSUNLLFxuICAgIH0pO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICB2YWxpZGF0ZVNlY3VyZUNvbnRleHQoKSB8fCB2YWxpZGF0ZVBheW1lbnREYXRhUmVxdWVzdChwYXltZW50RGF0YVJlcXVlc3QpO1xuICAgIHRoaXMuYnV5Rmxvd01vZGVfID1cbiAgICAgIHBheW1lbnREYXRhUmVxdWVzdCAmJiBwYXltZW50RGF0YVJlcXVlc3Quc3dnXG4gICAgICAgID8gQnV5Rmxvd01vZGUuU1VCU0NSSUJFX1dJVEhfR09PR0xFXG4gICAgICAgIDogQnV5Rmxvd01vZGUuUEFZX1dJVEhfR09PR0xFO1xuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgIHRoaXMub25QYXltZW50UmVzcG9uc2VfKFxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgUGF5RnJhbWVIZWxwZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgJ2V2ZW50VHlwZSc6IFBvc3RNZXNzYWdlRXZlbnRUeXBlLkxPR19MT0FEX1BBWU1FTlRfREFUQV9BUEksXG4gICAgICAgICAgICAnZXJyb3InOiBQdWJsaWNFcnJvckNvZGUuREVWRUxPUEVSX0VSUk9SLFxuICAgICAgICAgICAgJ2J1eUZsb3dNb2RlJzogdGhpcy5idXlGbG93TW9kZV8sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgUGF5bWVudHNBc3luY0NsaWVudC5sb2dEZXZFcnJvclRvQ29uc29sZV8oXG4gICAgICAgICAgICAnbG9hZFBheW1lbnREYXRhJyxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICdzdGF0dXNDb2RlJzogQ29uc3RhbnRzLlJlc3BvbnNlU3RhdHVzLkRFVkVMT1BFUl9FUlJPUixcbiAgICAgICAgICAgICdzdGF0dXNNZXNzYWdlJzogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGVyIGZvciBVUEkgUGF5bWVudE1ldGhvZFxuICAgIC8vIEN1cnJlbnRseSB3ZSBkb24ndCBzdXBwb3J0IFVQSSBhbG9uZyB3aXRoIG90aGVyIHBheW1lbnQgbWV0aG9kcywgaWZcbiAgICAvLyBVUEkgaXMgaW4gcGF5bWVudCBtZXRob2RzIHRoZW4gd2UgYXNzdW1lIGl0IGlzIFVQSSBvbmx5LlxuICAgIGNvbnN0IHVwaVBheW1lbnRNZXRob2QgPSBnZXRVcGlQYXltZW50TWV0aG9kKHBheW1lbnREYXRhUmVxdWVzdCk7XG4gICAgaWYgKHVwaVBheW1lbnRNZXRob2QpIHtcbiAgICAgIHRoaXMudXBpSGFuZGxlcl8ubG9hZFBheW1lbnREYXRhKFxuICAgICAgICBwYXltZW50RGF0YVJlcXVlc3QsXG4gICAgICAgIHVwaVBheW1lbnRNZXRob2QsXG4gICAgICAgIHRoaXMub25SZXN1bHRfLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2FkUGF5bWVudERhdGFBcGlTdGFydFRpbWVNc18gPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuYXNzaWduSW50ZXJuYWxQYXJhbXNfKHBheW1lbnREYXRhUmVxdWVzdCk7XG4gICAgLy8gV2Ugd2FudCB0byBmYWxsIGJhY2sgdG8gdGhlIHdlYiBkZWxlZ2F0ZSBpZiBwYXltZW50IGhhbmRsZXIgaXMgc3VwcG9ydGVkXG4gICAgLy8gYW5kIGlzUmVhZHlUb1BheSBiaXQgaXMgbm90IGV4cGxpY2l0bHkgc2V0IHRvIHRydWUgKGZhbGxiYWNrIHRvIHdlYiBpZlxuICAgIC8vIGlzUmVhZHlUb1BheSB3YXNuJ3QgY2FsbGVkIGZvciBQSClcbiAgICBpZiAoXG4gICAgICBjaHJvbWVTdXBwb3J0c1BheW1lbnRIYW5kbGVyKCkgfHxcbiAgICAgIGlzTmF0aXZlRGlzYWJsZWRJblJlcXVlc3QocGF5bWVudERhdGFSZXF1ZXN0KVxuICAgICkge1xuICAgICAgdGhpcy53ZWJBY3Rpdml0eURlbGVnYXRlXy5sb2FkUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZWxlZ2F0ZV8ubG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvZyBkZXZlbG9wZXIgZXJyb3IgdG8gY29uc29sZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFwaU5hbWVcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBlcnJvck1lc3NhZ2VcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN0YXRpYyBsb2dEZXZFcnJvclRvQ29uc29sZV8oYXBpTmFtZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc29sZS5lcnJvcignREVWRUxPUEVSX0VSUk9SIGluICcgKyBhcGlOYW1lICsgJyA6ICcgKyBlcnJvck1lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIDxkaXY+IGVsZW1lbnQgY29udGFpbmluZyBhIEdvb2dsZSBQYXkgcGF5bWVudCBidXR0b24uXG4gICAqXG4gICAqIEBwYXJhbSB7IUJ1dHRvbk9wdGlvbnM9fSBvcHRpb25zXG4gICAqIEByZXR1cm4geyFFbGVtZW50fVxuICAgKi9cbiAgY3JlYXRlQnV0dG9uKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IG51bGw7XG4gICAgLy8gT25seSBsb2cgaWYgYnV0dG9uIHdhcyBjcmVhdGVkIHN1Y2Nlc3NmdWxseVxuICAgIGNvbnN0IHN0YXJ0VGltZU1zID0gRGF0ZS5ub3coKTtcbiAgICBQYXlGcmFtZUhlbHBlci5wb3N0TWVzc2FnZSh7XG4gICAgICAnZXZlbnRUeXBlJzogUG9zdE1lc3NhZ2VFdmVudFR5cGUuTE9HX1JFTkRFUl9CVVRUT04sXG4gICAgICAnY2xpZW50TGF0ZW5jeVN0YXJ0TXMnOiBzdGFydFRpbWVNcyxcbiAgICB9KTtcbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUV2ZW50fSBlIHBvc3RNZXNzYWdlIGV2ZW50IGZyb20gdGhlIEFNUCBwYWdlLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGFuZGxlTWVzc2FnZUV2ZW50XyhlKSB7XG4gICAgaWYgKHRoaXMuaXNJblRydXN0ZWREb21haW5fKCkpIHtcbiAgICAgIC8vIE9ubHkgaGFuZGxlcyB0aGUgZXZlbnQgcmlnaHQgbm93IGlmIGxvYWRlZCBpbiB0cnVzdGVkIGRvbWFpbi5cbiAgICAgIGlmIChlLmRhdGFbJ25hbWUnXSA9PT0gJ2xvZ1BheW1lbnREYXRhJykge1xuICAgICAgICBQYXlGcmFtZUhlbHBlci5wb3N0TWVzc2FnZShlLmRhdGFbJ2RhdGEnXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBpc0luVHJ1c3RlZERvbWFpbl8oKSB7XG4gICAgcmV0dXJuIFRSVVNURURfRE9NQUlOUy5pbmRleE9mKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkgIT0gLTE7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gbG9hZCBwYXltZW50IGRhdGEgcmVzdWx0IGlzIHJldHVybmVkLiBUaGlzIHRyaWdnZXJzIHRoZSBwYXltZW50XG4gICAqIHJlc3BvbnNlIGNhbGxiYWNrIHBhc3NlZCB0byB0aGUgY2xpZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25SZXN1bHRfKHJlc3BvbnNlKSB7XG4gICAgcmVzcG9uc2VcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgUGF5RnJhbWVIZWxwZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICdldmVudFR5cGUnOiBQb3N0TWVzc2FnZUV2ZW50VHlwZS5MT0dfTE9BRF9QQVlNRU5UX0RBVEFfQVBJLFxuICAgICAgICAgICdjbGllbnRMYXRlbmN5U3RhcnRNcyc6IHRoaXMubG9hZFBheW1lbnREYXRhQXBpU3RhcnRUaW1lTXNfLFxuICAgICAgICAgICdidXlGbG93TW9kZSc6IHRoaXMuYnV5Rmxvd01vZGVfLFxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0WydlcnJvckNvZGUnXSkge1xuICAgICAgICAgIFBheUZyYW1lSGVscGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICdldmVudFR5cGUnOiBQb3N0TWVzc2FnZUV2ZW50VHlwZS5MT0dfTE9BRF9QQVlNRU5UX0RBVEFfQVBJLFxuICAgICAgICAgICAgJ2Vycm9yJzogLyoqIEB0eXBlIHshUHVibGljRXJyb3JDb2RlfSAqLyAocmVzdWx0WydlcnJvckNvZGUnXSksXG4gICAgICAgICAgICAnYnV5Rmxvd01vZGUnOiB0aGlzLmJ1eUZsb3dNb2RlXyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJZiB1c2VyIGNsb3NlcyB3aW5kb3cgd2UgZG9uJ3QgZ2V0IGEgZXJyb3IgY29kZVxuICAgICAgICAgIFBheUZyYW1lSGVscGVyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICdldmVudFR5cGUnOiBQb3N0TWVzc2FnZUV2ZW50VHlwZS5MT0dfTE9BRF9QQVlNRU5UX0RBVEFfQVBJLFxuICAgICAgICAgICAgJ2Vycm9yJzogUHVibGljRXJyb3JDb2RlLkJVWUVSX0NBTkNFTCxcbiAgICAgICAgICAgICdidXlGbG93TW9kZSc6IHRoaXMuYnV5Rmxvd01vZGVfLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB0aGlzLm9uUGF5bWVudFJlc3BvbnNlXyhyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshUGF5bWVudERhdGFSZXF1ZXN0fSBwYXltZW50RGF0YVJlcXVlc3RcbiAgICogQHJldHVybiB7IVBheW1lbnREYXRhUmVxdWVzdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGFzc2lnbkludGVybmFsUGFyYW1zXyhwYXltZW50RGF0YVJlcXVlc3QpIHtcbiAgICBjb25zdCBpbnRlcm5hbFBhcmFtID0ge1xuICAgICAgJ3N0YXJ0VGltZU1zJzogRGF0ZS5ub3coKSxcbiAgICAgICdnb29nbGVUcmFuc2FjdGlvbklkJzogUGF5bWVudHNBc3luY0NsaWVudC5nb29nbGVUcmFuc2FjdGlvbklkXyxcbiAgICB9O1xuICAgIHBheW1lbnREYXRhUmVxdWVzdFsnaSddID0gcGF5bWVudERhdGFSZXF1ZXN0WydpJ11cbiAgICAgID8gT2JqZWN0LmFzc2lnbihpbnRlcm5hbFBhcmFtLCBwYXltZW50RGF0YVJlcXVlc3RbJ2knXSlcbiAgICAgIDogaW50ZXJuYWxQYXJhbTtcbiAgICByZXR1cm4gcGF5bWVudERhdGFSZXF1ZXN0O1xuICB9XG59XG5cbi8qKiBAdHlwZSB7P3N0cmluZ30gKi9cblBheW1lbnRzQXN5bmNDbGllbnQuZ29vZ2xlVHJhbnNhY3Rpb25JZF87XG5cbi8qKlxuICogV2hldGhlciB0aGUgcmVxdWVzdCBzcGVjaWZpZXMgdGhhdCB0aGUgbmF0aXZlIHN1cHBvcnQgaGFzIHRvIGJlIGRpc2FibGVkLlxuICpcbiAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R8IVBheW1lbnREYXRhUmVxdWVzdH0gcmVxdWVzdFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOYXRpdmVEaXNhYmxlZEluUmVxdWVzdChyZXF1ZXN0KSB7XG4gIHJldHVybiAocmVxdWVzdFsnaSddICYmIHJlcXVlc3RbJ2knXVsnZGlzYWJsZU5hdGl2ZSddKSA9PT0gdHJ1ZTtcbn1cblxuZXhwb3J0IHtQYXltZW50c0FzeW5jQ2xpZW50fTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEFuIGludGVyZmFjZSB3aGljaCBjYXB0dXJlcyB3aGF0IHdlIG5lZWQgdG8gc3RhcnQgdXAgYnV5ZmxvdyBhY3Jvc3Mgc3VyZmFjZXMuXG4gKiBAaW50ZXJmYWNlXG4gKi9cbmNsYXNzIFBheW1lbnRzQ2xpZW50RGVsZWdhdGVJbnRlcmZhY2Uge1xuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciB0aGUgdXNlciBjYW4gbWFrZSBwYXltZW50cyB1c2luZyB0aGUgUGF5bWVudCBBUEkuXG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAgICogQHJldHVybiB7IVByb21pc2V9IFRoZSBwcm9taXNlIHdpbGwgY29udGFpbiB0aGUgYm9vbGVhbiByZXN1bHQgYW5kIGVycm9yXG4gICAqICAgICBtZXNzYWdlIHdoZW4gcG9zc2libGUuXG4gICAqL1xuICBpc1JlYWR5VG9QYXkoaXNSZWFkeVRvUGF5UmVxdWVzdCkge31cblxuICAvKipcbiAgICogUHJlZmV0Y2ggcGF5bWVudERhdGEgdG8gc3BlZWQgdXAgbG9hZFBheW1lbnREYXRhIGNhbGwuIE5vdGUgdGhlIHByb3ZpZGVkXG4gICAqIHBheW1lbnREYXRhUmVxdWVzdCBzaG91bGQgZXhhY3RseSBiZSB0aGUgc2FtZSBhcyBwcm92aWRlZCBpblxuICAgKiBsb2FkUGF5bWVudERhdGEgdG8gbWFrZSB0aGUgbG9hZFBheW1lbnREYXRhIGNhbGwgZmFzdC5cbiAgICpcbiAgICogQHBhcmFtIHshUGF5bWVudERhdGFSZXF1ZXN0fSBwYXltZW50RGF0YVJlcXVlc3QgUHJvdmlkZXMgbmVjZXNzYXJ5XG4gICAqICAgICBpbmZvcm1hdGlvbiB0byBzdXBwb3J0IGEgcGF5bWVudC5cbiAgICovXG4gIHByZWZldGNoUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0KSB7fVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IFBheW1lbnREYXRhLCB3aGljaCBjb250YWlucyBuZWNlc3NhcnkgaW5mb21hcnRpb24gdG8gY29tcGxldGUgYVxuICAgKiBwYXltZW50LlxuICAgKlxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdCBQcm92aWRlcyBuZWNlc3NhcnlcbiAgICogICAgIGluZm9ybWF0aW9uIHRvIHN1cHBvcnQgYSBwYXltZW50LlxuICAgKi9cbiAgbG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkge31cblxuICAvKipcbiAgICogQHBhcmFtIHtmdW5jdGlvbighUHJvbWlzZTwhUGF5bWVudERhdGE+KX0gY2FsbGJhY2tcbiAgICovXG4gIG9uUmVzdWx0KGNhbGxiYWNrKSB7fVxufVxuXG5leHBvcnQge1BheW1lbnRzQ2xpZW50RGVsZWdhdGVJbnRlcmZhY2V9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBEZXNjcmlwdGlvbiBvZiB0aGlzIGZpbGUuXG4gKi9cbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge1BheW1lbnRzQ2xpZW50RGVsZWdhdGVJbnRlcmZhY2V9IGZyb20gJy4vcGF5bWVudHNfY2xpZW50X2RlbGVnYXRlX2ludGVyZmFjZS5qcyc7XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgUGF5bWVudHNDbGllbnREZWxlZ2F0ZUludGVyZmFjZSB0aGF0IGxldmVyYWdlcyBwYXltZW50XG4gKiByZXF1ZXN0LlxuICogQGltcGxlbWVudHMge1BheW1lbnRzQ2xpZW50RGVsZWdhdGVJbnRlcmZhY2V9XG4gKi9cbmNsYXNzIFBheW1lbnRzUmVxdWVzdERlbGVnYXRlIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbnZpcm9ubWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoZW52aXJvbm1lbnQpIHtcbiAgICB0aGlzLmVudmlyb25tZW50XyA9IGVudmlyb25tZW50O1xuXG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oIVByb21pc2U8IVBheW1lbnREYXRhPil9ICovXG4gICAgdGhpcy5jYWxsYmFja18gPSBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBvblJlc3VsdChjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGlzUmVhZHlUb1BheShpc1JlYWR5VG9QYXlSZXF1ZXN0KSB7XG4gICAgLyoqIEB0eXBleyFQYXltZW50UmVxdWVzdH0gKi9cbiAgICBjb25zdCBwYXltZW50UmVxdWVzdCA9IHRoaXMuY3JlYXRlUGF5bWVudFJlcXVlc3RfKGlzUmVhZHlUb1BheVJlcXVlc3QpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBwYXltZW50UmVxdWVzdC5jYW5NYWtlUGF5bWVudCgpXG4gICAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgICAgICAgIENvbnN0YW50cy5JU19SRUFEWV9UT19QQVlfUkVTVUxUX0tFWSwgcmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7J3Jlc3VsdCc6IHJlc3VsdH07XG4gICAgICAgICAgICBpZiAoaXNSZWFkeVRvUGF5UmVxdWVzdC5hcGlWZXJzaW9uID49IDIgJiZcbiAgICAgICAgICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LmV4aXN0aW5nUGF5bWVudE1ldGhvZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgIC8vIEZvciBhcGlWZXJzaW9uIDIsIHdlIGFsd2F5cyB1c2UgbmF0aXZlIHRvIG9ubHkgY2hlY2sgZm9yXG4gICAgICAgICAgICAgIC8vIHRva2VuaXplZCBjYXJkcy5cbiAgICAgICAgICAgICAgLy8gRm9yIHRva2VuaXplZCBjYXJkcyBuYXRpdmUgYWx3YXlzIGRvZXMgYSBwcmVzZW5jZSBjaGVjayBzb1xuICAgICAgICAgICAgICAvLyB3ZSBjYW4gc2F5IHRoYXQgaWYgY2FuTWFrZVBheW1lbnQgaXMgdHJ1ZSBmb3IgbmF0aXZlIGZvclxuICAgICAgICAgICAgICAvLyB0b2tlbml6ZWRDYXJkcyB0aGVuIHRoZSB1c2VyIGhhcyBhIHBheW1lbnQgbWV0aG9kIHdoaWNoIGlzXG4gICAgICAgICAgICAgIC8vIHByZXNlbnQuXG4gICAgICAgICAgICAgIHJlc3BvbnNlWydwYXltZW50TWV0aG9kUHJlc2VudCddID0gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5JU19SRUFEWV9UT19QQVlfUkVTVUxUX0tFWSkpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgJ3Jlc3VsdCc6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzLklTX1JFQURZX1RPX1BBWV9SRVNVTFRfS0VZKSA9PSAndHJ1ZSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKHsncmVzdWx0JzogZmFsc2V9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcHJlZmV0Y2hQYXltZW50RGF0YShwYXltZW50RGF0YVJlcXVlc3QpIHtcbiAgICAvLyBDcmVhdGluZyBQYXltZW50UmVxdWVzdCBpbnN0YW5jZSB3aWxsIGNhbGxcbiAgICAvLyBHY29yZSBpc1JlYWR5VG9QYXkgaW50ZXJuYWxseSB3aGljaCB3aWxsIHByZWZldGNoIHRlbXBhbHRlcy5cbiAgICB0aGlzLmNyZWF0ZVBheW1lbnRSZXF1ZXN0XyhcbiAgICAgICAgcGF5bWVudERhdGFSZXF1ZXN0LCB0aGlzLmVudmlyb25tZW50XyxcbiAgICAgICAgcGF5bWVudERhdGFSZXF1ZXN0LnRyYW5zYWN0aW9uSW5mby5jdXJyZW5jeUNvZGUsXG4gICAgICAgIHBheW1lbnREYXRhUmVxdWVzdC50cmFuc2FjdGlvbkluZm8udG90YWxQcmljZSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGxvYWRQYXltZW50RGF0YShwYXltZW50RGF0YVJlcXVlc3QpIHtcbiAgICB0aGlzLmxvYWRQYXltZW50RGF0YVRocm91Z2hQYXltZW50UmVxdWVzdF8ocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgUGF5bWVudFJlcXVlc3QgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R8IVBheW1lbnREYXRhUmVxdWVzdH0gcmVxdWVzdCBUaGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIHRvIGNoZWNrIGlmIHVzZXIgaXNcbiAgICogICAgIHJlYWR5IHRvIHBheSBvciB0byBzdXBwb3J0IGEgcGF5bWVudCBmcm9tIG1lcmNoYW50cy5cbiAgICogQHBhcmFtIHs/c3RyaW5nPX0gZW52aXJvbm1lbnQgKG9wdGlvbmFsKVxuICAgKiBAcGFyYW0gez9zdHJpbmc9fSBjdXJyZW5jeUNvZGUgKG9wdGlvbmFsKVxuICAgKiBAcGFyYW0gez9zdHJpbmc9fSB0b3RhbFByaWNlIChvcHRpb25hbClcbiAgICogQHJldHVybiB7IVBheW1lbnRSZXF1ZXN0fSBQYXltZW50UmVxdWVzdCBpbnN0YW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZVBheW1lbnRSZXF1ZXN0XyhyZXF1ZXN0LCBlbnZpcm9ubWVudCwgY3VycmVuY3lDb2RlLCB0b3RhbFByaWNlKSB7XG4gICAgbGV0IGRhdGEgPSB7fTtcbiAgICBpZiAocmVxdWVzdCkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkpO1xuICAgIH1cblxuICAgIC8vIE9ubHkgc2V0IHRoZSBhcGlWZXJzaW9uIGlmIHRoZSBtZXJjaGFudCBkb2Vzbid0IHNldCBpdC5cbiAgICBpZiAoIWRhdGFbJ2FwaVZlcnNpb24nXSkge1xuICAgICAgZGF0YVsnYXBpVmVyc2lvbiddID0gMTtcbiAgICB9XG5cbiAgICAvLyBBZGQgYWxsb3dlZFBheW1lbnRNZXRob2RzIGZvciBzd2cgdG8gZ2V0IHRocm91Z2ggZ21zIGNvcmUgdmFsaWRhdGlvbi5cbiAgICBpZiAoZGF0YVsnc3dnJ10pIHtcbiAgICAgIGRhdGFbJ2FsbG93ZWRQYXltZW50TWV0aG9kcyddID0gW0NvbnN0YW50cy5QYXltZW50TWV0aG9kLkNBUkRdO1xuICAgIH1cblxuICAgIGlmIChlbnZpcm9ubWVudCAmJiBlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuVEVTVCkge1xuICAgICAgZGF0YVsnZW52aXJvbm1lbnQnXSA9IGVudmlyb25tZW50O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cHBvcnRlZEluc3RydW1lbnRzID0gW3tcbiAgICAgICdzdXBwb3J0ZWRNZXRob2RzJzogWydodHRwczovL2dvb2dsZS5jb20vcGF5J10sXG4gICAgICAnZGF0YSc6IGRhdGEsXG4gICAgfV07XG5cbiAgICBjb25zdCBkZXRhaWxzID0ge1xuICAgICAgJ3RvdGFsJzoge1xuICAgICAgICAnbGFiZWwnOiAnRXN0aW1hdGVkIFRvdGFsIFByaWNlJyxcbiAgICAgICAgJ2Ftb3VudCc6IHtcbiAgICAgICAgICAvLyBjdXJyZW5jeSBhbmQgdmFsdWUgYXJlIHJlcXVpcmVkIGZpZWxkcyBpbiBQYXltZW50UmVxdWVzdCwgYnV0IHRoZXNlXG4gICAgICAgICAgLy8gZmllbGRzIHdpbGwgbmV2ZXIgYmUgdXNlZCBzaW5jZSBQYXltZW50UmVxdWVzdCBVSSBpcyBza2lwcGVkIHdoZW5cbiAgICAgICAgICAvLyB3ZSdyZSB0aGUgb25seSBwYXltZW50IG1ldGhvZCwgc28gZGVmYXVsdCB0byBzb21lIHZhbHVlIHRvIGJ5IHBhc3NcbiAgICAgICAgICAvLyB0aGlzIHJlcXVpcmVtZW50LlxuICAgICAgICAgICdjdXJyZW5jeSc6IGN1cnJlbmN5Q29kZSB8fCAnVVNEJyxcbiAgICAgICAgICAndmFsdWUnOiB0b3RhbFByaWNlIHx8ICcwJyxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IFBheW1lbnRSZXF1ZXN0KHN1cHBvcnRlZEluc3RydW1lbnRzLCBkZXRhaWxzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdCBQcm92aWRlcyBuZWNlc3NhcnlcbiAgICogICAgIGluZm9ybWF0aW9uIHRvIHN1cHBvcnQgYSBwYXltZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZFBheW1lbnREYXRhVGhyb3VnaFBheW1lbnRSZXF1ZXN0XyhwYXltZW50RGF0YVJlcXVlc3QpIHtcbiAgICBjb25zdCBjdXJyZW5jeUNvZGUgPSAocGF5bWVudERhdGFSZXF1ZXN0LnRyYW5zYWN0aW9uSW5mbyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50RGF0YVJlcXVlc3QudHJhbnNhY3Rpb25JbmZvLmN1cnJlbmN5Q29kZSkgfHxcbiAgICAgICAgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHRvdGFsUHJpY2UgPSAocGF5bWVudERhdGFSZXF1ZXN0LnRyYW5zYWN0aW9uSW5mbyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bWVudERhdGFSZXF1ZXN0LnRyYW5zYWN0aW9uSW5mby50b3RhbFByaWNlKSB8fFxuICAgICAgICB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGF5bWVudFJlcXVlc3QgPSB0aGlzLmNyZWF0ZVBheW1lbnRSZXF1ZXN0XyhcbiAgICAgICAgcGF5bWVudERhdGFSZXF1ZXN0LCB0aGlzLmVudmlyb25tZW50XywgY3VycmVuY3lDb2RlLCB0b3RhbFByaWNlKTtcbiAgICB0aGlzLmNhbGxiYWNrXyhcbiAgICAgICAgLyoqIEB0eXBleyFQcm9taXNlPCFQYXltZW50RGF0YT59ICovXG4gICAgICAgIChwYXltZW50UmVxdWVzdC5zaG93KClcbiAgICAgICAgICAgICAudGhlbihcbiAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7IVBheW1lbnRSZXNwb25zZX0gcGF5bWVudFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAqIEByZXR1cm4geyFQYXltZW50RGF0YX1cbiAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgIChwYXltZW50UmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAvLyBTaG91bGQgYmUgY2FsbGVkIHRvIGRpc21pc3MgYW55IHJlbWFpbmluZyBVSVxuICAgICAgICAgICAgICAgICAgIHBheW1lbnRSZXNwb25zZS5jb21wbGV0ZSgnc3VjY2VzcycpO1xuICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXltZW50UmVzcG9uc2UuZGV0YWlscztcbiAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICBlcnJbJ3N0YXR1c0NvZGUnXSA9IENvbnN0YW50cy5SZXNwb25zZVN0YXR1cy5DQU5DRUxFRDtcbiAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICB9KSkpO1xuICB9XG59XG5cbmV4cG9ydCB7UGF5bWVudHNSZXF1ZXN0RGVsZWdhdGV9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gIEJ1eUZsb3dBY3Rpdml0eU1vZGUsXG4gIFBheUZyYW1lSGVscGVyLFxuICBQb3N0TWVzc2FnZUV2ZW50VHlwZSxcbn0gZnJvbSAnLi9wYXlfZnJhbWVfaGVscGVyLmpzJztcbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQge0dyYXlwYW5lfSBmcm9tICcuL2dyYXlwYW5lLmpzJztcbmltcG9ydCB7UGF5bWVudHNDbGllbnREZWxlZ2F0ZUludGVyZmFjZX0gZnJvbSAnLi9wYXltZW50c19jbGllbnRfZGVsZWdhdGVfaW50ZXJmYWNlLmpzJztcbmltcG9ydCB7ZG9lc01lcmNoYW50U3VwcG9ydE9ubHlUb2tlbml6ZWRDYXJkc30gZnJvbSAnLi92YWxpZGF0b3IuanMnO1xuaW1wb3J0IHtpbmplY3RJZnJhbWUsIGluamVjdFN0eWxlU2hlZXR9IGZyb20gJy4vZWxlbWVudF9pbmplY3Rvci5qcyc7XG5cbmNvbnN0IHtcbiAgQWN0aXZpdHlQb3J0LFxuICBBY3Rpdml0eVBvcnRzLFxuICBBY3Rpdml0eUlmcmFtZVBvcnQsXG59ID0gcmVxdWlyZSgnd2ViLWFjdGl2aXRpZXMvYWN0aXZpdHktcG9ydHMnKTtcblxuY29uc3QgR1BBWV9BQ1RJVklUWV9SRVFVRVNUID0gJ0dQQVknO1xuY29uc3QgSUZSQU1FX0NMT1NFX0RVUkFUSU9OX0lOX01TID0gMjUwO1xuY29uc3QgSUZSQU1FX1NIT1dfVVBfRFVSQVRJT05fSU5fTVMgPSAyNTA7XG5jb25zdCBJRlJBTUVfU01PT1RIX0hFSUdIVF9UUkFOU0lUSU9OID0gYGhlaWdodCAke0lGUkFNRV9TSE9XX1VQX0RVUkFUSU9OX0lOX01TfW1zYDtcbmNvbnN0IEVSUk9SX1BSRUZJWCA9ICdFcnJvcjogJztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgYnJvd3NlciB1c2VyIGFnZW50IGtleXMuXG4gKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuY29uc3QgQnJvd3NlclVzZXJBZ2VudCA9IHtcbiAgQ0hST01FOiAnQ2hyb21lJyxcbiAgRklSRUZPWDogJ0ZpcmVmb3gnLFxuICBTQUZBUkk6ICdTYWZhcmknLFxufTtcblxuLyoqXG4gKiBSZXNpemluZyBwYXlsb2FkIGluY2x1ZGluZyByZXNpemUgaGVpZ2h0IGFuZCB0cmFuc2l0aW9uIHN0eWxlLlxuICpcbiAqIEB0eXBlZGVmIHt7XG4gKiAgIGhlaWdodDogc3RyaW5nLFxuICogICB0cmFuc2l0aW9uOiBzdHJpbmcsXG4gKiB9fVxuICovXG5sZXQgUmVzaXplUGF5bG9hZDtcblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBQYXltZW50c0NsaWVudERlbGVnYXRlSW50ZXJmYWNlIHRoYXQgdXNlcyB0aGUgY3VzdG9tXG4gKiBob3N0aW5nIHBhZ2UgYWxvbmcgd2l0aCB3ZWIgYWN0aXZpdGllcyB0byBhY3R1YWxseSBnZXQgdG8gdGhlIGhvc3RpbmcgcGFnZS5cbiAqIEBpbXBsZW1lbnRzIHtQYXltZW50c0NsaWVudERlbGVnYXRlSW50ZXJmYWNlfVxuICovXG5jbGFzcyBQYXltZW50c1dlYkFjdGl2aXR5RGVsZWdhdGUge1xuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVudmlyb25tZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBnb29nbGVUcmFuc2FjdGlvbklkXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHVzZUlmcmFtZVxuICAgKiBAcGFyYW0geyFBY3Rpdml0eVBvcnRzPX0gYWN0aXZpdGllcyBDYW4gYmUgdXNlZCB0byBwcm92aWRlIGEgc2hhcmVkXG4gICAqICAgYWN0aXZpdGllcyBtYW5hZ2VyLiBCeSBkZWZhdWx0LCB0aGUgbmV3IG1hbmFnZXIgaXMgY3JlYXRlZC5cbiAgICogQHBhcmFtIHs/c3RyaW5nPX0gcmVkaXJlY3RLZXkgVGhlIHJlZGlyZWN0IGtleSB1c2VkIGZvciByZWRpcmVjdCBtb2RlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgZW52aXJvbm1lbnQsXG4gICAgZ29vZ2xlVHJhbnNhY3Rpb25JZCxcbiAgICB1c2VJZnJhbWUsXG4gICAgYWN0aXZpdGllcyxcbiAgICByZWRpcmVjdEtleVxuICApIHtcbiAgICB0aGlzLmVudmlyb25tZW50XyA9IGVudmlyb25tZW50O1xuICAgIC8qKiBAcHJpdmF0ZSBAY29uc3Qge2Jvb2xlYW59ICovXG5cbiAgICAvKiogQGNvbnN0IHshQWN0aXZpdHlQb3J0c30gKi9cbiAgICB0aGlzLmFjdGl2aXRpZXMgPSBhY3Rpdml0aWVzIHx8IG5ldyBBY3Rpdml0eVBvcnRzKHdpbmRvdyk7XG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7IUdyYXlwYW5lfSAqL1xuICAgIHRoaXMuZ3JheXBhbmVfID0gbmV3IEdyYXlwYW5lKHdpbmRvdy5kb2N1bWVudCk7XG4gICAgLyoqIEBwcml2YXRlIHs/ZnVuY3Rpb24oIVByb21pc2U8IVBheW1lbnREYXRhPil9ICovXG4gICAgdGhpcy5jYWxsYmFja18gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlIHs/e1xuICAgICAqICAgICAgICAgICAgIGNvbnRhaW5lcjogIUVsZW1lbnQsXG4gICAgICogICAgICAgICAgICAgaWZyYW1lOiFIVE1MSUZyYW1lRWxlbWVudCxcbiAgICAgKiAgICAgICAgICAgICByZXF1ZXN0OiFQYXltZW50RGF0YVJlcXVlc3QsXG4gICAgICogICAgICAgICAgICAgZGF0YVByb21pc2U6P1Byb21pc2U8IVBheW1lbnREYXRhPn19XG4gICAgICovXG4gICAgdGhpcy5wcmVmZXRjaGVkT2JqZWN0c18gPSBudWxsO1xuICAgIC8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbiAgICB0aGlzLnNob3VsZEhhbmRsZVJlc2l6aW5nXyA9IGZhbHNlO1xuICAgIC8qKiBAcHJpdmF0ZSB7P0FjdGl2aXR5SWZyYW1lUG9ydH0gKi9cbiAgICB0aGlzLnBvcnRfID0gbnVsbDtcbiAgICAvKiogQHByaXZhdGUgez9mdW5jdGlvbighUHJvbWlzZTx2b2lkPil9ICovXG4gICAgdGhpcy5kaXNtaXNzUHJvbWlzZVJlc29sdmVyXyA9IG51bGw7XG4gICAgLyoqIEBjb25zdCBAcHJpdmF0ZSB7c3RyaW5nfSAqL1xuICAgIHRoaXMuZ29vZ2xlVHJhbnNhY3Rpb25JZF8gPSBnb29nbGVUcmFuc2FjdGlvbklkO1xuICAgIC8qKiBAY29uc3QgQHByaXZhdGUgez9zdHJpbmd9ICovXG4gICAgdGhpcy5yZWRpcmVjdEtleV8gPSByZWRpcmVjdEtleSB8fCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgez9SZXNpemVQYXlsb2FkfVxuICAgICAqL1xuICAgIHRoaXMuc2F2ZWRSZXNpemVQYXlsb2FkXyA9IG51bGw7XG5cbiAgICAvLyBPbmx5IGluc3RhbGwgZGlhbG9nIHN0eWxlcyB3aGVuIGlmcmFtaW5nIGlzIGFsbG93ZWQuXG4gICAgaWYgKG51bGwpIHtcbiAgICAgIGluamVjdFN0eWxlU2hlZXQoQ29uc3RhbnRzLklGUkFNRV9TVFlMRSk7XG4gICAgICBpZiAobnVsbCkge1xuICAgICAgICBpbmplY3RTdHlsZVNoZWV0KENvbnN0YW50cy5JRlJBTUVfU1RZTEVfQ0VOVEVSKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG9uUmVzdWx0KGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuY2FsbGJhY2tfKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2FsbGJhY2tfID0gY2FsbGJhY2s7XG4gICAgdGhpcy5hY3Rpdml0aWVzLm9uUmVzdWx0KFxuICAgICAgR1BBWV9BQ1RJVklUWV9SRVFVRVNULFxuICAgICAgdGhpcy5vbkFjdGl2aXR5UmVzdWx0Xy5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBY3Rpdml0eVBvcnR9IHBvcnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG9uQWN0aXZpdHlSZXN1bHRfKHBvcnQpIHtcbiAgICAvLyBIaWRlIHRoZSBncmF5cGFuZS5cbiAgICB0aGlzLmdyYXlwYW5lXy5oaWRlKCk7XG4gICAgLy8gT25seSB2ZXJpZmllZCBvcmlnaW5zIGFyZSBhbGxvd2VkLlxuICAgIHRoaXMuY2FsbGJhY2tfKFxuICAgICAgcG9ydC5hY2NlcHRSZXN1bHQoKS50aGVuKFxuICAgICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgLy8gT3JpZ2luIG11c3QgYWx3YXlzIG1hdGNoOiBwb3B1cCwgaWZyYW1lIG9yIHJlZGlyZWN0LlxuICAgICAgICAgIGlmIChyZXN1bHQub3JpZ2luICE9IHRoaXMuZ2V0T3JpZ2luXygpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NoYW5uZWwgbWlzbWF0Y2gnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZGF0YSA9IC8qKiBAdHlwZSB7IVBheW1lbnREYXRhfSAqLyAocmVzdWx0LmRhdGEpO1xuICAgICAgICAgIGlmIChkYXRhWydyZWRpcmVjdEVuY3J5cHRlZENhbGxiYWNrRGF0YSddKSB7XG4gICAgICAgICAgICBQYXlGcmFtZUhlbHBlci5zZXRCdXlGbG93QWN0aXZpdHlNb2RlKEJ1eUZsb3dBY3Rpdml0eU1vZGUuUkVESVJFQ1QpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hSZWRpcmVjdFJlc3BvbnNlXyhcbiAgICAgICAgICAgICAgZGF0YVsncmVkaXJlY3RFbmNyeXB0ZWRDYWxsYmFja0RhdGEnXVxuICAgICAgICAgICAgKS50aGVuKChkZWNyeXBlZEpzb24pID0+IHtcbiAgICAgICAgICAgICAgLy8gTWVyZ2Ugb3RoZXIgbm9uLWVuY3J5cHRlZCBmaWVsZHMgaW50byB0aGUgZmluYWwgcmVzcG9uc2UuXG4gICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjbG9uZVsncmVkaXJlY3RFbmNyeXB0ZWRDYWxsYmFja0RhdGEnXTtcbiAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oY2xvbmUsIGRlY3J5cGVkSnNvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gVW5lbmNyeXB0ZWQgZGF0YSBzdXBwbGllZDogbXVzdCBiZSBhIHZlcmlmaWVkIGFuZCBzZWN1cmUgY2hhbm5lbC5cbiAgICAgICAgICBpZiAoIXJlc3VsdC5vcmlnaW5WZXJpZmllZCB8fCAhcmVzdWx0LnNlY3VyZUNoYW5uZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBtaXNtYXRjaCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgLy8gVE9ETzogTG9nIHRoZSBvcmlnaW5hbCBhbmQgdGhlIGluZmVycmVkIGVycm9yIHRvIGV5ZTMuXG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IGVycm9yWydtZXNzYWdlJ107XG4gICAgICAgICAgbGV0IGluZmVycmVkRXJyb3IgPSBlcnJvclsnbWVzc2FnZSddO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcGFyc2UgdGhlIGVycm9yIG1lc3NhZ2UgdG8gYSBzdHJ1Y3R1cmVkIGVycm9yLCBpZiBpdCdzXG4gICAgICAgICAgICAvLyBub3QgcG9zc2libGUsIGZhbGxiYWNrIHRvIHVzZSB0aGUgZXJyb3IgbWVzc2FnZSBzdHJpbmcuXG4gICAgICAgICAgICBpbmZlcnJlZEVycm9yID0gSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvci5zdWJzdHJpbmcoRVJST1JfUFJFRklYLmxlbmd0aClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpbmZlcnJlZEVycm9yWydzdGF0dXNDb2RlJ10gJiZcbiAgICAgICAgICAgIFsnREVWRUxPUEVSX0VSUk9SJywgJ01FUkNIQU5UX0FDQ09VTlRfRVJST1InXS5pbmRleE9mKFxuICAgICAgICAgICAgICBpbmZlcnJlZEVycm9yWydzdGF0dXNDb2RlJ11cbiAgICAgICAgICAgICkgPT0gLTFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGluZmVycmVkRXJyb3IgPSB7XG4gICAgICAgICAgICAgICdzdGF0dXNDb2RlJzogJ0NBTkNFTEVEJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmZlcnJlZEVycm9yID09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgaW5mZXJyZWRFcnJvciA9IHtcbiAgICAgICAgICAgICAgJ3N0YXR1c0NvZGUnOiAnQ0FOQ0VMRUQnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGluZmVycmVkRXJyb3IpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVkaXJlY3RFbmNyeXB0ZWRDYWxsYmFja0RhdGFcbiAgICogQHJldHVybiB7IVBheW1lbnREYXRhfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZmV0Y2hSZWRpcmVjdFJlc3BvbnNlXyhyZWRpcmVjdEVuY3J5cHRlZENhbGxiYWNrRGF0YSkge1xuICAgIC8vIFRoaXMgbWV0aG9kIGhhcyB0byByZWx5IG9uIHRoZSBsZWdhY3kgWEhSIEFQSSBiZWNhdXNlIHRoZSByZWRpcmVjdFxuICAgIC8vIGZ1bmN0aW9uYWxpdHkgaXMsIGluIHBhcnQsIGFpbWVkIGF0IG9sZGVyIGJyb3dzZXJzLlxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1cmwgPSB0aGlzLmdldERlY3J5cHRpb25VcmxfKCk7XG4gICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgICAgIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpIHtcbiAgICAgICAgLy8gSXQncyBmaW5lIHRvIHByb2NlZWQgaW4gYSBub24tcmVkaXJlY3QgbW9kZSBiZWNhdXNlIHJlZGlyZWN0VmVyaWZpZXJcbiAgICAgICAgLy8gcGxheXMgdGhlIHBhcnQgb2YgQ09SUyBwcm9wYWdhdGlvbi5cbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA8IC8qIFNUQVRVU19SRUNFSVZFRCAqLyAyKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4aHIuc3RhdHVzIDwgMTAwIHx8IHhoci5zdGF0dXMgPiA1OTkpIHtcbiAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKGBVbmtub3duIEhUVFAgc3RhdHVzICR7eGhyLnN0YXR1c31gKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSAvKiBDT01QTEVURSAqLyA0KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSlNPTiBwYXJzaW5nIGVycm9yIGlzIGV4cGVjdGVkIGhlcmUuXG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05ldHdvcmsgZmFpbHVyZScpKTtcbiAgICAgIH07XG4gICAgICB4aHIub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCBhYm9ydGVkJykpO1xuICAgICAgfTtcblxuICAgICAgLy8gU2VuZCBQT1NULlxuICAgICAgeGhyLnNlbmQocmVkaXJlY3RFbmNyeXB0ZWRDYWxsYmFja0RhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBpc1JlYWR5VG9QYXkoaXNSZWFkeVRvUGF5UmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAoZG9lc01lcmNoYW50U3VwcG9ydE9ubHlUb2tlbml6ZWRDYXJkcyhpc1JlYWR5VG9QYXlSZXF1ZXN0KSkge1xuICAgICAgICByZXNvbHZlKHsncmVzdWx0JzogZmFsc2V9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdXNlckFnZW50ID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICBjb25zdCBpc0lvc0dzYSA9XG4gICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKCdHU0EvJykgPiAwICYmXG4gICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKEJyb3dzZXJVc2VyQWdlbnQuU0FGQVJJKSA+IDA7XG4gICAgICAvLyBwb3AgdXAgaW4gSUdTQSBkb2Vzbid0IHdvcmsuXG4gICAgICBpZiAoaXNJb3NHc2EgJiYgIW51bGwpIHtcbiAgICAgICAgcmVzb2x2ZSh7J3Jlc3VsdCc6IGZhbHNlfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzRmlyZWZveElvcyA9IHVzZXJBZ2VudC5pbmRleE9mKCdGeGlPUycpID4gMDtcbiAgICAgIGlmIChpc0ZpcmVmb3hJb3MpIHtcbiAgICAgICAgcmVzb2x2ZSh7J3Jlc3VsdCc6IGZhbHNlfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID1cbiAgICAgICAgdXNlckFnZW50LmluZGV4T2YoQnJvd3NlclVzZXJBZ2VudC5DSFJPTUUpID4gMCB8fFxuICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZihCcm93c2VyVXNlckFnZW50LkZJUkVGT1gpID4gMCB8fFxuICAgICAgICB1c2VyQWdlbnQuaW5kZXhPZihCcm93c2VyVXNlckFnZW50LlNBRkFSSSkgPiAwO1xuICAgICAgaWYgKFxuICAgICAgICBpc1N1cHBvcnRlZCAmJlxuICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LmFwaVZlcnNpb24gPj0gMiAmJlxuICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LmV4aXN0aW5nUGF5bWVudE1ldGhvZFJlcXVpcmVkXG4gICAgICApIHtcbiAgICAgICAgaXNSZWFkeVRvUGF5UmVxdWVzdC5lbnZpcm9ubWVudCA9IHRoaXMuZW52aXJvbm1lbnRfO1xuICAgICAgICBQYXlGcmFtZUhlbHBlci5zZW5kQW5kV2FpdEZvclJlc3BvbnNlKFxuICAgICAgICAgIGlzUmVhZHlUb1BheVJlcXVlc3QsXG4gICAgICAgICAgUG9zdE1lc3NhZ2VFdmVudFR5cGUuSVNfUkVBRFlfVE9fUEFZLFxuICAgICAgICAgICdpc1JlYWR5VG9QYXlSZXNwb25zZScsXG4gICAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgJ3Jlc3VsdCc6IGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChpc1JlYWR5VG9QYXlSZXF1ZXN0LmV4aXN0aW5nUGF5bWVudE1ldGhvZFJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlWydwYXltZW50TWV0aG9kUHJlc2VudCddID1cbiAgICAgICAgICAgICAgICBldmVudC5kYXRhWydpc1JlYWR5VG9QYXlSZXNwb25zZSddID09ICdSRUFEWV9UT19QQVknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSh7J3Jlc3VsdCc6IGlzU3VwcG9ydGVkfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHByZWZldGNoUGF5bWVudERhdGEocGF5bWVudERhdGFSZXF1ZXN0KSB7XG4gICAgLy8gT25seSBoYW5kbGVzIHByZWZldGNoIGZvciBpZnJhbWUgZm9yIG5vdy5cbiAgICBpZiAoIW51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyQW5kRnJhbWUgPSB0aGlzLmluamVjdElmcmFtZV8ocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAgICBjb25zdCBwYXltZW50RGF0YVByb21pc2UgPSB0aGlzLm9wZW5JZnJhbWVfKFxuICAgICAgY29udGFpbmVyQW5kRnJhbWVbJ2NvbnRhaW5lciddLFxuICAgICAgY29udGFpbmVyQW5kRnJhbWVbJ2lmcmFtZSddLFxuICAgICAgcGF5bWVudERhdGFSZXF1ZXN0XG4gICAgKTtcbiAgICB0aGlzLnByZWZldGNoZWRPYmplY3RzXyA9IHtcbiAgICAgICdjb250YWluZXInOiBjb250YWluZXJBbmRGcmFtZVsnY29udGFpbmVyJ10sXG4gICAgICAnaWZyYW1lJzogY29udGFpbmVyQW5kRnJhbWVbJ2lmcmFtZSddLFxuICAgICAgJ3JlcXVlc3QnOiBwYXltZW50RGF0YVJlcXVlc3QsXG4gICAgICAnZGF0YVByb21pc2UnOiBwYXltZW50RGF0YVByb21pc2UsXG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIGlmICghcGF5bWVudERhdGFSZXF1ZXN0LnN3Zykge1xuICAgICAgLy8gT25seSBzZXQgdGhlIGFwaVZlcnNpb24gaWYgdGhlIG1lcmNoYW50IGlzIG5vdCBzZXR0aW5nIGl0LlxuICAgICAgaWYgKCFwYXltZW50RGF0YVJlcXVlc3QuYXBpVmVyc2lvbikge1xuICAgICAgICBwYXltZW50RGF0YVJlcXVlc3QuYXBpVmVyc2lvbiA9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHBheW1lbnREYXRhUmVxdWVzdC5lbnZpcm9ubWVudCA9IHRoaXMuZW52aXJvbm1lbnRfO1xuICAgIGlmIChudWxsKSB7XG4gICAgICBQYXlGcmFtZUhlbHBlci5zZXRCdXlGbG93QWN0aXZpdHlNb2RlKEJ1eUZsb3dBY3Rpdml0eU1vZGUuSUZSQU1FKTtcbiAgICAgIC8vIFRPRE86IENvbXBhcmUgdGhlIHJlcXVlc3Qgd2l0aCBwcmVmZXRjaGVkIHJlcXVlc3QuXG4gICAgICBsZXQgY29udGFpbmVyQW5kRnJhbWU7XG4gICAgICBsZXQgcGF5bWVudERhdGFQcm9taXNlO1xuICAgICAgaWYgKHRoaXMucHJlZmV0Y2hlZE9iamVjdHNfKSB7XG4gICAgICAgIC8vIFJlbmRlcmluZyBwcmVmZXRjaGVkIGZyYW1lIGFuZCBjb250YWluZXIuXG4gICAgICAgIGNvbnRhaW5lckFuZEZyYW1lID0gdGhpcy5wcmVmZXRjaGVkT2JqZWN0c187XG4gICAgICAgIHBheW1lbnREYXRhUHJvbWlzZSA9IHRoaXMucHJlZmV0Y2hlZE9iamVjdHNfWydkYXRhUHJvbWlzZSddO1xuICAgICAgICB0aGlzLnByZWZldGNoZWRPYmplY3RzXyA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJBbmRGcmFtZSA9IHRoaXMuaW5qZWN0SWZyYW1lXyhwYXltZW50RGF0YVJlcXVlc3QpO1xuICAgICAgICBwYXltZW50RGF0YVByb21pc2UgPSB0aGlzLm9wZW5JZnJhbWVfKFxuICAgICAgICAgIGNvbnRhaW5lckFuZEZyYW1lWydjb250YWluZXInXSxcbiAgICAgICAgICBjb250YWluZXJBbmRGcmFtZVsnaWZyYW1lJ10sXG4gICAgICAgICAgcGF5bWVudERhdGFSZXF1ZXN0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnNob3dDb250YWluZXJBbmRJZnJhbWVXaXRoQW5pbWF0aW9uXyhcbiAgICAgICAgY29udGFpbmVyQW5kRnJhbWVbJ2NvbnRhaW5lciddLFxuICAgICAgICBjb250YWluZXJBbmRGcmFtZVsnaWZyYW1lJ10sXG4gICAgICAgIHBheW1lbnREYXRhUmVxdWVzdFxuICAgICAgKTtcbiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgJycpO1xuICAgICAgY29uc3Qgb25Qb3BTdGF0ZSA9IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5iYWNrQnV0dG9uSGFuZGxlcl8oY29udGFpbmVyQW5kRnJhbWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBvblBvcFN0YXRlKTtcbiAgICAgIH07XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBvblBvcFN0YXRlKTtcbiAgICAgIGNvbnN0IGRpc21pc3NQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgdGhpcy5kaXNtaXNzUHJvbWlzZVJlc29sdmVyXyA9IHJlc29sdmU7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuY2FsbGJhY2tfKFByb21pc2UucmFjZShbcGF5bWVudERhdGFQcm9taXNlLCBkaXNtaXNzUHJvbWlzZV0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUGF5RnJhbWVIZWxwZXIuc2V0QnV5Rmxvd0FjdGl2aXR5TW9kZShcbiAgICAgIHBheW1lbnREYXRhUmVxdWVzdFsnZm9yY2VSZWRpcmVjdCddXG4gICAgICAgID8gQnV5Rmxvd0FjdGl2aXR5TW9kZS5SRURJUkVDVFxuICAgICAgICA6IEJ1eUZsb3dBY3Rpdml0eU1vZGUuUE9QVVBcbiAgICApO1xuICAgIGNvbnN0IG9wZW5lciA9IHRoaXMuYWN0aXZpdGllcy5vcGVuKFxuICAgICAgR1BBWV9BQ1RJVklUWV9SRVFVRVNULFxuICAgICAgdGhpcy5nZXRIb3N0aW5nUGFnZVVybF8oKSxcbiAgICAgIHRoaXMuZ2V0UmVuZGVyTW9kZV8ocGF5bWVudERhdGFSZXF1ZXN0KSxcbiAgICAgIHBheW1lbnREYXRhUmVxdWVzdCxcbiAgICAgIHsnd2lkdGgnOiA2MDAsICdoZWlnaHQnOiA2MDB9XG4gICAgKTtcbiAgICB0aGlzLmdyYXlwYW5lXy5zaG93KG9wZW5lciAmJiBvcGVuZXIudGFyZ2V0V2luKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZW5kZXIgbW9kZSB3aGV0aGVyIG5lZWQgdG8gZm9yY2UgcmVkaXJlY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudERhdGFSZXF1ZXN0XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldFJlbmRlck1vZGVfKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIHJldHVybiBwYXltZW50RGF0YVJlcXVlc3RbJ2ZvcmNlUmVkaXJlY3QnXSA/ICdfdG9wJyA6ICdncC1qcy1wb3B1cCc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc2VydmVyIG9yaWdpbiBiYXNlZCBvbiB0aGUgZW52aXJvbm1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldE9yaWdpbl8oKSB7XG4gICAgaWYgKHRoaXMuZW52aXJvbm1lbnRfID09IENvbnN0YW50cy5FbnZpcm9ubWVudC5MT0NBTCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGxldCBiYXNlRG9tYWluO1xuICAgIGlmICh0aGlzLmVudmlyb25tZW50XyA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUFJFUFJPRCkge1xuICAgICAgYmFzZURvbWFpbiA9ICdwYXktcHJlcHJvZC5zYW5kYm94JztcbiAgICB9IGVsc2UgaWYgKHRoaXMuZW52aXJvbm1lbnRfID09IENvbnN0YW50cy5FbnZpcm9ubWVudC5TQU5EQk9YKSB7XG4gICAgICBiYXNlRG9tYWluID0gJ3BheS5zYW5kYm94JztcbiAgICB9IGVsc2Uge1xuICAgICAgYmFzZURvbWFpbiA9ICdwYXknO1xuICAgIH1cbiAgICByZXR1cm4gJ2h0dHBzOi8vJyArIGJhc2VEb21haW4gKyAnLmdvb2dsZS5jb20nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGJhc2UgcGF0aCBiYXNlZCBvbiB0aGUgZW52aXJvbm1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGJhc2UgcGF0aFxuICAgKi9cbiAgZ2V0QmFzZVBhdGhfKCkge1xuICAgIHJldHVybiB0aGlzLmdldE9yaWdpbl8oKSArICcvZ3AvcCc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVjcnlwdGlvbiB1cmwgdG8gYmUgdXNlZCB0byBkZWNyeXB0IHRoZSBlbmNyeXB0ZWQgcGF5bG9hZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZGVjcnlwdGlvbiB1cmxcbiAgICovXG4gIGdldERlY3J5cHRpb25VcmxfKCkge1xuICAgIGxldCB1cmwgPSB0aGlzLmdldEJhc2VQYXRoXygpICsgJy9hcGlzL2J1eWZsb3cvcHJvY2Vzcyc7XG4gICAgaWYgKHRoaXMucmVkaXJlY3RLZXlfKSB7XG4gICAgICB1cmwgKz0gJz9yaz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucmVkaXJlY3RLZXlfKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBob3N0aW5nIHBhZ2UgdXJsLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBob3N0aW5nIHBhZ2UgdXJsXG4gICAqL1xuICBnZXRIb3N0aW5nUGFnZVVybF8oKSB7XG4gICAgLy8gSW4gVGluIHRlc3RzLCB0aGUgaG9zdGluZyBwYWdlIGlzIHJlcXVlc3RlZCBmcm9tXG4gICAgLy8gL3Rlc3RpbmcvYnV5Zmxvdy9tZXJjaGFudGRlbW8uaHRtbCBhbmQgaXMgYWNjZXNzZWQgcmVsYXRpdmVseSBzaW5jZSB0aGVcbiAgICAvLyBiYXNlIHBhdGggaXMgdW5rbm93biBhaGVhZCBvZiB0aW1lLlxuICAgIGlmICh0aGlzLmVudmlyb25tZW50XyA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuVElOKSB7XG4gICAgICAvLyBUaGVyZSBpcyBubyAvZ3AvcCBwcmVmaXggc2luY2UgbXVsdGlsb2dpbiBwcmVmaXhlcyBpcyBicm9rZW4gaW4gVGluOlxuICAgICAgLy8gaHR0cDovL3lhcXMvNDkxMjMyMjk0MTU1MDU5MlxuICAgICAgcmV0dXJuICcvdWkvcGF5JztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0QmFzZVBhdGhfKCkgKyAnL3VpL3BheSc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaWZyYW1lIHB3ZyB1cmwgdG8gYmUgdXNlZCB0byBiZSB1c2VkIGZvciBhbXAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbnZpcm9ubWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGlmcmFtZSB1cmxcbiAgICovXG4gIGdldElmcmFtZVVybChlbnZpcm9ubWVudCwgb3JpZ2luKSB7XG4gICAgLy8gVE9ETzogVGhlc2Ugc2hvdWxkIGJlIGNvbXBpbGUgdGltZSBjb25zdGFudHMgYW5kIG5vdCBkZXBlbmRlbnRcbiAgICAvLyBvbiB0aGUgZW52aXJvbm1lbnQuXG4gICAgbGV0IGlmcmFtZVVybCA9IGBodHRwczovL3BheS5nb29nbGUuY29tL2dwL3AvdWkvcGF5P29yaWdpbj0ke29yaWdpbn1gO1xuICAgIGlmIChcbiAgICAgIGVudmlyb25tZW50ID09IENvbnN0YW50cy5FbnZpcm9ubWVudC5TQU5EQk9YIHx8XG4gICAgICBlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUFJFUFJPRFxuICAgICkge1xuICAgICAgaWZyYW1lVXJsID0gYGh0dHBzOi8vcGF5JysgIChlbnZpcm9ubWVudCA9PSBDb25zdGFudHMuRW52aXJvbm1lbnQuUFJFUFJPRCA/ICctcHJlcHJvZCcgOiAnJykrICAnLnNhbmRib3guZ29vZ2xlLmNvbS9ncC9wL3VpL3BheT9vcmlnaW49JHtvcmlnaW59YDtcbiAgICB9XG4gICAgcmV0dXJuIGlmcmFtZVVybDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSBpZnJhbWUgd2l0aCBhbmltYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGNvbnRhaW5lclxuICAgKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICByZW1vdmVJZnJhbWVBbmRDb250YWluZXJfKGNvbnRhaW5lciwgaWZyYW1lKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvblN0eWxlID0gJ2FsbCAnICsgSUZSQU1FX0NMT1NFX0RVUkFUSU9OX0lOX01TICsgJ21zIGVhc2UgMHMnO1xuICAgIHRoaXMuc2V0VHJhbnNpdGlvbl8oaWZyYW1lLCB0cmFuc2l0aW9uU3R5bGUpO1xuICAgIGlmcmFtZS5oZWlnaHQgPSAnMHB4JztcbiAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBiZSByZXBsYWNlZCBieSBsaXN0ZW5pbmcgdG8gVHJhbnNpdGlvbkVuZCBldmVudFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lci5wYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfSwgSUZSQU1FX0NMT1NFX0RVUkFUSU9OX0lOX01TKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdFxuICAgKiBAcmV0dXJuIHt7Y29udGFpbmVyOiAhRWxlbWVudCwgaWZyYW1lOiFIVE1MSUZyYW1lRWxlbWVudH19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbmplY3RJZnJhbWVfKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIGNvbnN0IGNvbnRhaW5lckFuZEZyYW1lID0gaW5qZWN0SWZyYW1lKFxuICAgICAgdGhpcy5pc1ZlcnRpY2FsQ2VudGVyRXhwZXJpbWVudEVuYWJsZWRfKHBheW1lbnREYXRhUmVxdWVzdClcbiAgICAgICAgPyBDb25zdGFudHMuSUZSQU1FX1NUWUxFX0NFTlRFUl9DTEFTU1xuICAgICAgICA6IENvbnN0YW50cy5JRlJBTUVfU1RZTEVfQ0xBU1NcbiAgICApO1xuICAgIGNvbnN0IGlmcmFtZSA9IGNvbnRhaW5lckFuZEZyYW1lWydpZnJhbWUnXTtcbiAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJBbmRGcmFtZVsnY29udGFpbmVyJ107XG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnY2xpY2snLFxuICAgICAgdGhpcy5jbG9zZUFjdGlvbkhhbmRsZXJfLmJpbmQodGhpcywgY29udGFpbmVyQW5kRnJhbWUpXG4gICAgKTtcbiAgICAvLyBIaWRlIGlmcmFtZSBhbmQgZGlzYWJsZSByZXNpemUgYXQgaW5pdGlhbGl6ZS5cbiAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBpZnJhbWUuaGVpZ2h0ID0gJzBweCc7XG4gICAgY29uc3QgdHJhbnNpdGlvblN0eWxlID1cbiAgICAgICdhbGwgJyArIElGUkFNRV9TSE9XX1VQX0RVUkFUSU9OX0lOX01TICsgJ21zIGVhc2UgMHMnO1xuICAgIHRoaXMuc2V0VHJhbnNpdGlvbl8oaWZyYW1lLCB0cmFuc2l0aW9uU3R5bGUpO1xuICAgIHRoaXMuc2hvdWxkSGFuZGxlUmVzaXppbmdfID0gZmFsc2U7XG4gICAgcmV0dXJuIGNvbnRhaW5lckFuZEZyYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgd2hlbiBiYWNrIGJ1dHRvbiBpcyB0cmlnZ2VyZWQsIHNob3VsZCBkaXNtaXNzIGlmcmFtZSBpZiBwcmVzZW50LlxuICAgKiBAcGFyYW0ge3tjb250YWluZXI6ICFFbGVtZW50LCBpZnJhbWU6IUhUTUxJRnJhbWVFbGVtZW50fX0gY29udGFpbmVyQW5kRnJhbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGJhY2tCdXR0b25IYW5kbGVyXyhjb250YWluZXJBbmRGcmFtZSkge1xuICAgIHRoaXMuZGlzbWlzc0lmcmFtZV8oY29udGFpbmVyQW5kRnJhbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgd2hlbiBjbG9zZSBhY3Rpb24gaXMgdHJpZ2dlcmVkLCB3aWxsIHBvcCBoaXN0b3J5IHN0YXRlIHRvIGNsb3NlXG4gICAqIHRoZSBpZnJhbWUuXG4gICAqIEBwYXJhbSB7e2NvbnRhaW5lcjogIUVsZW1lbnQsIGlmcmFtZTohSFRNTElGcmFtZUVsZW1lbnR9fSBjb250YWluZXJBbmRGcmFtZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY2xvc2VBY3Rpb25IYW5kbGVyXyhjb250YWluZXJBbmRGcmFtZSkge1xuICAgIGlmIChjb250YWluZXJBbmRGcmFtZVsnY29udGFpbmVyJ10ucGFyZW50Tm9kZSkge1xuICAgICAgLy8gQ2xvc2UgYWN0aW9uIG9ubHkgd2hlbiBjb250YWluZXIgaXMgc3RpbGwgYXR0YWNoZWQgdG8gdGhlIHBhZ2UuXG4gICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHt7Y29udGFpbmVyOiAhRWxlbWVudCwgaWZyYW1lOiFIVE1MSUZyYW1lRWxlbWVudH19IGNvbnRhaW5lckFuZEZyYW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkaXNtaXNzSWZyYW1lXyhjb250YWluZXJBbmRGcmFtZSkge1xuICAgIC8vIERpc21pc3MgaWZyYW1lIG9ubHkgd2hlbiBjb250YWluZXIgaXMgc3RpbGwgYXR0YWNoZWQgaW4gdGhlIHBhZ2UuXG4gICAgaWYgKGNvbnRhaW5lckFuZEZyYW1lWydjb250YWluZXInXS5wYXJlbnROb2RlKSB7XG4gICAgICAvLyBUT0RPOiBUaGluayBhYm91dCB3aGV0aGVyIHRoaXMgY291bGQgYmUganVzdCBoaWRlIGluc3RlYWQgb2ZcbiAgICAgIC8vIGRpc2Nvbm5lY3QgYW5kIHJlbW92ZSwgdGhlIHRyaWNreSBwYXJ0IGlzIGhvdyB0byBoYW5kbGUgdGhlIGNhc2Ugd2hlcmVcbiAgICAgIC8vIHBheW1lbnQgZGF0YSByZXF1ZXN0IGlzIG5vdCB0aGUgc2FtZS5cbiAgICAgIHRoaXMuZGlzbWlzc1Byb21pc2VSZXNvbHZlcl8oUHJvbWlzZS5yZWplY3QoeydlcnJvckNvZGUnOiAnQ0FOQ0VMRUQnfSkpO1xuICAgICAgdGhpcy5yZW1vdmVJZnJhbWVBbmRDb250YWluZXJfKFxuICAgICAgICBjb250YWluZXJBbmRGcmFtZVsnY29udGFpbmVyJ10sXG4gICAgICAgIGNvbnRhaW5lckFuZEZyYW1lWydpZnJhbWUnXVxuICAgICAgKTtcbiAgICAgIHRoaXMucG9ydF8gJiYgdGhpcy5wb3J0Xy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudERhdGFSZXF1ZXN0XG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpc1ZlcnRpY2FsQ2VudGVyRXhwZXJpbWVudEVuYWJsZWRfKHBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIHJldHVybiAoXG4gICAgICBudWxsICYmXG4gICAgICBwYXltZW50RGF0YVJlcXVlc3RbJ2knXSAmJlxuICAgICAgcGF5bWVudERhdGFSZXF1ZXN0WydpJ10ucmVuZGVyQ29udGFpbmVyQ2VudGVyXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBjb250YWluZXJcbiAgICogQHBhcmFtIHshSFRNTElGcmFtZUVsZW1lbnR9IGlmcmFtZVxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2hvd0NvbnRhaW5lckFuZElmcmFtZVdpdGhBbmltYXRpb25fKGNvbnRhaW5lciwgaWZyYW1lLCBwYXltZW50RGF0YVJlcXVlc3QpIHtcbiAgICBjb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gSGFyZCBjb2RlIHRoZSBhcHByeCBoZWlnaHQgaGVyZSwgaXQgd2lsbCBiZSByZXNpemUgdG8gZXhwZWN0ZWQgaGVpZ2h0XG4gICAgICAvLyBsYXRlci5cbiAgICAgIGlmcmFtZS5oZWlnaHQgPSAnMjgwcHgnO1xuICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbENlbnRlckV4cGVyaW1lbnRFbmFibGVkXyhwYXltZW50RGF0YVJlcXVlc3QpKSB7XG4gICAgICAgIGlmcmFtZS5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5JRlJBTUVfQUNUSVZFX0NPTlRBSU5FUl9DTEFTUyk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBiZSBoYW5kbGVzIHByb3Blcmx5IGJ5IGxpc3RlbmluZyB0b1xuICAgICAgLy8gVHJhbnNpdGlvbkVuZCBldmVudC5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNob3VsZEhhbmRsZVJlc2l6aW5nXyA9IHRydWU7XG4gICAgICAgIC8vIFRPRE86IEFkZCBicm93c2VyIHRlc3QgdGhhdCBjYXRjaGVzIHRoaXMuXG4gICAgICAgIGlmICh0aGlzLnNhdmVkUmVzaXplUGF5bG9hZF8pIHtcbiAgICAgICAgICB0aGlzLnNldFRyYW5zaXRpb25fKGlmcmFtZSwgdGhpcy5zYXZlZFJlc2l6ZVBheWxvYWRfWyd0cmFuc2l0aW9uJ10pO1xuICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSB0aGlzLnNhdmVkUmVzaXplUGF5bG9hZF9bJ2hlaWdodCddO1xuICAgICAgICAgIHRoaXMuc2F2ZWRSZXNpemVQYXlsb2FkXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sIElGUkFNRV9TSE9XX1VQX0RVUkFUSU9OX0lOX01TKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2l0aW9uU3R5bGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldFRyYW5zaXRpb25fKGlmcmFtZSwgdHJhbnNpdGlvblN0eWxlKSB7XG4gICAgaWZyYW1lLnN0eWxlLnNldFByb3BlcnR5KCd0cmFuc2l0aW9uJywgdHJhbnNpdGlvblN0eWxlKTtcbiAgICAvLyBGb3Igc2FmYXJpLlxuICAgIGlmcmFtZS5zdHlsZS5zZXRQcm9wZXJ0eSgnLXdlYmtpdC10cmFuc2l0aW9uJywgdHJhbnNpdGlvblN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2UgV2ViQWN0aXZpdGl5IHRvIG9wZW4gaWZyYW1lIHRoYXQncyBpbiBnaXZlbiBjb250YWluZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGNvbnRhaW5lclxuICAgKiBAcGFyYW0geyFIVE1MSUZyYW1lRWxlbWVudH0gaWZyYW1lXG4gICAqIEBwYXJhbSB7IVBheW1lbnREYXRhUmVxdWVzdH0gcGF5bWVudERhdGFSZXF1ZXN0XG4gICAqIEByZXR1cm4geyFQcm9taXNlPCFQYXltZW50RGF0YT59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBvcGVuSWZyYW1lXyhjb250YWluZXIsIGlmcmFtZSwgcGF5bWVudERhdGFSZXF1ZXN0KSB7XG4gICAgaWYgKCFwYXltZW50RGF0YVJlcXVlc3Quc3dnKSB7XG4gICAgICBpZiAoIXBheW1lbnREYXRhUmVxdWVzdC5hcGlWZXJzaW9uKSB7XG4gICAgICAgIHBheW1lbnREYXRhUmVxdWVzdC5hcGlWZXJzaW9uID0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGF5bWVudERhdGFSZXF1ZXN0LmVudmlyb25tZW50ID0gdGhpcy5lbnZpcm9ubWVudF87XG4gICAgbGV0IGlmcmFtZUxvYWRTdGFydFRpbWU7XG4gICAgY29uc3QgdHJ1c3RlZFVybCA9IHRoaXMuZ2V0SWZyYW1lVXJsKFxuICAgICAgdGhpcy5lbnZpcm9ubWVudF8sXG4gICAgICB3aW5kb3cubG9jYXRpb24ub3JpZ2luXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5hY3Rpdml0aWVzXG4gICAgICAub3BlbklmcmFtZShpZnJhbWUsIHRydXN0ZWRVcmwsIHBheW1lbnREYXRhUmVxdWVzdClcbiAgICAgIC50aGVuKChwb3J0KSA9PiB7XG4gICAgICAgIC8vIEhhbmRsZSBjdXN0b20gcmVzaXplIG1lc3NhZ2UuXG4gICAgICAgIHRoaXMucG9ydF8gPSBwb3J0O1xuICAgICAgICBwb3J0Lm9uTWVzc2FnZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgIGlmIChwYXlsb2FkWyd0eXBlJ10gIT09ICdyZXNpemUnIHx8ICF0aGlzLnNob3VsZEhhbmRsZVJlc2l6aW5nXykge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgcmVzaXplIGV2ZW50IGxhdGVyIGFmdGVyIGluaXRpYWwgYW5pbWF0aW9uIGlzIGZpbmlzaGVkXG4gICAgICAgICAgICB0aGlzLnNhdmVkUmVzaXplUGF5bG9hZF8gPSB7XG4gICAgICAgICAgICAgICdoZWlnaHQnOiBwYXlsb2FkWydoZWlnaHQnXSxcbiAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiBwYXlsb2FkWyd0cmFuc2l0aW9uJ10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBiLzExMTMxMDg5OTogU21vb3RoIG91dCBpbml0aWFsIGlGcmFtZSBsb2FkaW5nXG4gICAgICAgICAgaWYgKCFpZnJhbWVMb2FkU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICBpZnJhbWVMb2FkU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgRGF0ZS5ub3coKSA8XG4gICAgICAgICAgICBpZnJhbWVMb2FkU3RhcnRUaW1lICsgSUZSQU1FX1NIT1dfVVBfRFVSQVRJT05fSU5fTVNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbl8oXG4gICAgICAgICAgICAgIGlmcmFtZSxcbiAgICAgICAgICAgICAgcGF5bG9hZFsndHJhbnNpdGlvbiddICsgJywgJyArIElGUkFNRV9TTU9PVEhfSEVJR0hUX1RSQU5TSVRJT05cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNpdGlvbl8oaWZyYW1lLCBwYXlsb2FkWyd0cmFuc2l0aW9uJ10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZnJhbWUuaGVpZ2h0ID0gcGF5bG9hZFsnaGVpZ2h0J107XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gLyoqIEB0eXBlIHshUHJvbWlzZTwhT2JqZWN0Pn0gKi8gKHBvcnQuYWNjZXB0UmVzdWx0KCkpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKFxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHshT2JqZWN0fSByZXN1bHRcbiAgICAgICAgICogQHJldHVybiB7IVBheW1lbnREYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlSWZyYW1lQW5kQ29udGFpbmVyXyhjb250YWluZXIsIGlmcmFtZSk7XG4gICAgICAgICAgLy8gVGhpcyBpcyBvbmx5IGZvciBwb3BwaW5nIHRoZSBzdGF0ZSB3ZSBwdXNoZWQgZWFybGllci5cbiAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICBjb25zdCBkYXRhID0gLyoqIEB0eXBlIHshUGF5bWVudERhdGF9ICovIChyZXN1bHRbJ2RhdGEnXSk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlSWZyYW1lQW5kQ29udGFpbmVyXyhjb250YWluZXIsIGlmcmFtZSk7XG4gICAgICAgICAgLy8gVGhpcyBpcyBvbmx5IGZvciBwb3BwaW5nIHRoZSBzdGF0ZSB3ZSBwdXNoZWQgZWFybGllci5cbiAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCB7UGF5bWVudHNXZWJBY3Rpdml0eURlbGVnYXRlfTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUy1JU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFNlcnZpY2Ugd3JhcHBpbmcgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZS4gVGhpcyBlbmFibGVzXG4gKiB3aW5kb3cucG9zdE1lc3NhZ2UgdG8gYmUgc3dhcHBlZCBvdXQgaW4gdW5pdCB0ZXN0cy5cbiAqL1xuY2xhc3MgUG9zdE1lc3NhZ2VTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3Iod2luZG93KSB7XG4gICAgLyoqIEBwcml2YXRlIEBjb25zdCB7IVdpbmRvd30gKi9cbiAgICB0aGlzLndpbmRvd18gPSB3aW5kb3c7XG4gIH1cblxuICAvKipcbiAgICogUGFzc3Rocm91Z2ggdG8gV2luZG93I3Bvc3RNZXNzYWdlLiBTZWUgV2luZG93I3Bvc3RNZXNzYWdlIERPTSBBUElcbiAgICogZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBhcmd1bWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gbWVzc2FnZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0T3JpZ2luXG4gICAqL1xuICBwb3N0TWVzc2FnZShtZXNzYWdlLCB0YXJnZXRPcmlnaW4pIHtcbiAgICB0aGlzLndpbmRvd18ucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGFyZ2V0T3JpZ2luKTtcbiAgfVxufVxuXG5leHBvcnQge1Bvc3RNZXNzYWdlU2VydmljZX07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtDb25zdGFudHN9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7UHVibGljRXJyb3JDb2RlfSBmcm9tICcuL3BheV9mcmFtZV9oZWxwZXIuanMnO1xuaW1wb3J0IHtnZXRVcGlQYXltZW50TWV0aG9kfSBmcm9tICcuL3ZhbGlkYXRvci5qcyc7XG5cbmNsYXNzIFVwaUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdXBpIHBheW1lbnQgbWV0aG9kIG9iamVjdCBpZiBpdCBleGlzdHMgaW4gYWxsb3dlZCBwYXltZW50IG1ldGhvZHNcbiAgICogb3IgbnVsbCBpZiBpdCBkb2Vzbid0XG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R8IVBheW1lbnREYXRhUmVxdWVzdH0gcmVxdWVzdFxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgaXNVcGlSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgICByZXR1cm4gISFnZXRVcGlQYXltZW50TWV0aG9kKHJlcXVlc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdXBpIHBheW1lbnQgbWV0aG9kIG9iamVjdCBpZiBpdCBleGlzdHMgaW4gYWxsb3dlZCBwYXltZW50IG1ldGhvZHNcbiAgICogb3IgbnVsbCBpZiBpdCBkb2Vzbid0XG4gICAqXG4gICAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R8IVBheW1lbnREYXRhUmVxdWVzdH0gcmVxdWVzdFxuICAgKiBAcmV0dXJuIHshUHJvbWlzZX0gVGhlIHByb21pc2Ugd2lsbCBjb250YWluIHRoZSBib29sZWFuIHJlc3VsdCBhbmQgZXJyb3JcbiAgICogICAgIG1lc3NhZ2Ugd2hlbiBwb3NzaWJsZS5cbiAgICovXG4gIGlzUmVhZHlUb1BheShyZXF1ZXN0KSB7XG4gICAgLy8gQWx3YXlzIHJldHVybiB0cnVlIGZvciBVUEkgaWYgYXBpIHZlcnNpb24gaXMgMiBhbmQgY2hyb21lIHN1cHBvcnRzXG4gICAgLy8gcGF5bWVudCByZXF1ZXN0XG4gICAgaWYgKGdldFVwaVBheW1lbnRNZXRob2QocmVxdWVzdCkpIHtcbiAgICAgIGlmIChyZXF1ZXN0LmV4aXN0aW5nUGF5bWVudE1ldGhvZFJlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeydyZXN1bHQnOiB0cnVlLCAncGF5bWVudE1ldGhvZFByZXNlbnQnOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsncmVzdWx0JzogdHJ1ZX0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIFVwaSBwYXltZW50IG1ldGhvZCBmb3VuZCBpbiBoYW5kbGVyJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBwYXltZW50IGRhdGEgd2hlbiBwYXltZW50IG1ldGhvZCBpcyBVUElcbiAgICpcbiAgICogQHBhcmFtIHshUGF5bWVudERhdGFSZXF1ZXN0fSBwYXltZW50RGF0YVJlcXVlc3QgUHJvdmlkZXMgbmVjZXNzYXJ5XG4gICAqICAgICBpbmZvcm1hdGlvbiB0byBzdXBwb3J0IGEgcGF5bWVudC5cbiAgICogQHBhcmFtIHshT2JqZWN0fSB1cGlQYXltZW50TWV0aG9kIFVQSSBwYXltZW50bWV0aG9kIGluXG4gICAqICAgICBhbGxvd2VkUGF5bWVudE1ldGhvZHMgYXJyYXkuXG4gICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBvblJlc3VsdENhbGxiYWNrIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBldmVyeXRoaW5nIGlzXG4gICAqICAgICBkb25lLlxuICAgKi9cbiAgbG9hZFBheW1lbnREYXRhKHBheW1lbnREYXRhUmVxdWVzdCwgdXBpUGF5bWVudE1ldGhvZCwgb25SZXN1bHRDYWxsYmFjaykge1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSB1cGlQYXltZW50TWV0aG9kWydwYXJhbWV0ZXJzJ107XG4gICAgY29uc3QgdHJhbnNhY3Rpb25JbmZvID0gcGF5bWVudERhdGFSZXF1ZXN0Wyd0cmFuc2FjdGlvbkluZm8nXTtcbiAgICBjb25zdCBzdXBwb3J0ZWRJbnN0cnVtZW50cyA9IG51bGwgP1xuICAgICAgICBbe1xuICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHVybCBmb3IgVGV6IHRlYW1mb29kIHJlbGVhc2UuXG4gICAgICAgICAgJ3N1cHBvcnRlZE1ldGhvZHMnOiBbJ2h0dHBzOi8vcHdwLXNlcnZlci5hcHBzcG90LmNvbS9wYXktdGVhbWZvb2QnXSxcbiAgICAgICAgICAnZGF0YSc6IHtcbiAgICAgICAgICAgICdwYSc6ICdyZWRidXNAYXhpc2JhbmsnLFxuICAgICAgICAgICAgJ3BuJzogcGFyYW1ldGVyc1sncGF5ZWVOYW1lJ10sXG4gICAgICAgICAgICAndHInOiBwYXJhbWV0ZXJzWyd0cmFuc2FjdGlvblJlZmVyZW5jZUlkJ10sXG4gICAgICAgICAgICAndXJsJzogcGFyYW1ldGVyc1sncmVmZXJlbmNlVXJsJ10sXG4gICAgICAgICAgICAnbWMnOiAnNDEzMScsXG4gICAgICAgICAgICAndG4nOiAnUHVyY2hhc2UgaW4gTWVyY2hhbnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1dIDpcbiAgICAgICAgW3tcbiAgICAgICAgICAnc3VwcG9ydGVkTWV0aG9kcyc6IFsnaHR0cHM6Ly90ZXouZ29vZ2xlLmNvbS9wYXknXSxcbiAgICAgICAgICAnZGF0YSc6IHtcbiAgICAgICAgICAgICdwYSc6IHBhcmFtZXRlcnNbJ3BheWVlVnBhJ10sXG4gICAgICAgICAgICAncG4nOiBwYXJhbWV0ZXJzWydwYXllZU5hbWUnXSxcbiAgICAgICAgICAgICd0cic6IHBhcmFtZXRlcnNbJ3RyYW5zYWN0aW9uUmVmZXJlbmNlSWQnXSxcbiAgICAgICAgICAgICd1cmwnOiBwYXJhbWV0ZXJzWydyZWZlcmVuY2VVcmwnXSxcbiAgICAgICAgICAgICdtYyc6IHBhcmFtZXRlcnNbJ21jYyddLFxuICAgICAgICAgICAgJ3RuJzogdHJhbnNhY3Rpb25JbmZvWyd0cmFuc2FjdGlvbk5vdGUnXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9XTtcblxuICAgIGlmIChwYXJhbWV0ZXJzWyd0cmFuc2FjdGlvbklkJ10pIHtcbiAgICAgIHN1cHBvcnRlZEluc3RydW1lbnRzWzBdWydkYXRhJ11bJ3RpZCddID0gcGFyYW1ldGVyc1sndHJhbnNhY3Rpb25JZCddO1xuICAgIH1cblxuICAgIGNvbnN0IGRldGFpbHMgPSB7XG4gICAgICAndG90YWwnOiB7XG4gICAgICAgICdsYWJlbCc6ICdUb3RhbCcsXG4gICAgICAgICdhbW91bnQnOiB7XG4gICAgICAgICAgJ2N1cnJlbmN5JzogdHJhbnNhY3Rpb25JbmZvWydjdXJyZW5jeUNvZGUnXSxcbiAgICAgICAgICAndmFsdWUnOiB0cmFuc2FjdGlvbkluZm9bJ3RvdGFsUHJpY2UnXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAnZGlzcGxheUl0ZW1zJzogW3tcbiAgICAgICAgJ2xhYmVsJzogJ09yaWdpbmFsIEFtb3VudCcsXG4gICAgICAgICdhbW91bnQnOiB7XG4gICAgICAgICAgJ2N1cnJlbmN5JzogdHJhbnNhY3Rpb25JbmZvWydjdXJyZW5jeUNvZGUnXSxcbiAgICAgICAgICAndmFsdWUnOiB0cmFuc2FjdGlvbkluZm9bJ3RvdGFsUHJpY2UnXSxcbiAgICAgICAgfSxcbiAgICAgIH1dLFxuICAgIH07XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBQYXltZW50UmVxdWVzdChzdXBwb3J0ZWRJbnN0cnVtZW50cywgZGV0YWlscyk7XG5cbiAgICBvblJlc3VsdENhbGxiYWNrKFxuICAgICAgICB0aGlzLmNoZWNrQ2FuTWFrZVBheW1lbnRfKHJlcXVlc3QpXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1VpXyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWRpcmVjdFRvR29vZ2xlUGxheV8oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHBheW1lbnREYXRhID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0RhdGFfKFxuICAgICAgICAgICAgICAgICAgcGF5bWVudERhdGEsIHBheW1lbnREYXRhUmVxdWVzdCwgdXBpUGF5bWVudE1ldGhvZCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgZXJyb3JbJ3N0YXR1c0NvZGUnXSA9IENvbnN0YW50cy5SZXNwb25zZVN0YXR1cy5DQU5DRUxFRDtcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBUZXogcGF5bWVudCByZXF1ZXN0IFVJLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyFQYXltZW50UmVxdWVzdH0gcmVxdWVzdCBUaGUgcGF5bWVudCByZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybiB7IVByb21pc2U8IVBheW1lbnREYXRhPn0gQSBwcm9taXNlIGNvbnRhaW5pbmcgcGF5bWVudCByZXNwb25zZS5cbiAgICovXG4gIHNob3dVaV8ocmVxdWVzdCkge1xuICAgIHJldHVybiByZXF1ZXN0LnNob3coKS50aGVuKHBheW1lbnRSZXNwb25zZSA9PiB7XG4gICAgICBwYXltZW50UmVzcG9uc2UuY29tcGxldGUoJ3N1Y2Nlc3MnKTtcbiAgICAgIHJldHVybiBwYXltZW50UmVzcG9uc2UuZGV0YWlscztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBjYW4gbWFrZSBhIHBheW1lbnQgd2l0aCBUZXogb24gdGhpcyBkZXZpY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7IVBheW1lbnRSZXF1ZXN0fSByZXF1ZXN0IFRoZSBwYXltZW50IHJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHshUHJvbWlzZTxib29sZWFuPn0gYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIHJlc3VsdCBvZiB3aGV0aGVyIGNhblxuICAgKiAgICAgbWFrZSBwYXltZW50LlxuICAgKi9cbiAgY2hlY2tDYW5NYWtlUGF5bWVudF8ocmVxdWVzdCkge1xuICAgIC8vIENoZWNrcyBjYW5NYWtlUGF5bWVudCBjYWNoZSwgYW5kIHVzZSB0aGUgY2FjaGUgcmVzdWx0IGlmIGl0IGV4aXN0cy5cbiAgICBjb25zdCBjYWNoZVJlc3VsdCA9XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKENvbnN0YW50cy5VUElfQ0FOX01BS0VfUEFZTUVOVF9DQUNIRV9LRVkpO1xuICAgIGlmIChjYWNoZVJlc3VsdCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYWNoZVJlc3VsdCA9PT0gJ3RydWUnKTtcbiAgICB9XG5cbiAgICAvLyBGZWF0dXJlIGRldGVjdCBjYW5NYWtlUGF5bWVudCgpLlxuICAgIGlmICghcmVxdWVzdC5jYW5NYWtlUGF5bWVudCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICB9XG5cbiAgICBsZXQgY2FuTWFrZVBheW1lbnRQcm9taXNlID0gcmVxdWVzdC5jYW5NYWtlUGF5bWVudCgpO1xuXG4gICAgcmV0dXJuIGNhbk1ha2VQYXltZW50UHJvbWlzZS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAvLyBTdG9yZSB0aGUgcmVzdWx0IGluIGNhY2hlIGlmIHRoZSByZXN1bHQgaXMgdHJ1ZSB0byBhdm9pZCBxdW90YSBlcnJvclxuICAgICAgLy8gY2F1c2VkIGJ5IHF1ZXJ5aW5nIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IGRhdGEuXG4gICAgICAvLyBEb2Vzbid0IHN0b3JlIGZhbHNlIGJlY2F1c2UgaWYgd2UgZG8gc28sIHVzZXIgd2lsbCBiZSByZWRpcmVjdGVkIHRvXG4gICAgICAvLyBHb29nbGUgUGxheSBhZ2FpbiBhZnRlciBpbnN0YWxsaW5nIEdvb2dsZSBQYXkgaWYgQ2hyb21lIGlzIG5vdCBjbG9zZWQuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgICAgQ29uc3RhbnRzLlVQSV9DQU5fTUFLRV9QQVlNRU5UX0NBQ0hFX0tFWSwgcmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRpcmVjdCB1c2VyIHRvIEdvb2dsZSBQYXkgYXBwIGluIEdvb2dsZSBQbGF5IHN0b3JlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHshUHJvbWlzZTwhT2JqZWN0Pn0gUmVqZWN0ZWQgcHJvbWlzZSB3aXRoIGVycm9yIG1lc3NhZ2VcbiAgICovXG4gIHJlZGlyZWN0VG9Hb29nbGVQbGF5XygpIHtcbiAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShcbiAgICAgICAgbnVsbCA/XG4gICAgICAgICAgICAnaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWNvbS5nb29nbGUuYW5kcm9pZC5hcHBzLm5idS5wYWlzYS51c2VyLnRlYW1mb29kICcgOiAgLy8gTk9MSU5UXG4gICAgICAgICAgICAnaHR0cHM6Ly9wbGF5Lmdvb2dsZS5jb20vc3RvcmUvYXBwcy9kZXRhaWxzP2lkPWNvbS5nb29nbGUuYW5kcm9pZC5hcHBzLm5idS5wYWlzYS51c2VyJyk7ICAvLyBOT0xJTlRcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIHsnZXJyb3JNZXNzYWdlJzogJ0Nhbm5vdCByZWRpcmVjdCB0byBUZXogcGFnZSBpbiBHb29nbGUgUGxheS4nfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBUZXogcGF5bWVudCBkYXRhIHRvIEdQYXkgcGF5bWVudCBkYXRhIGlmIHBheW1lbnQgc3VjY2VlZGVkLCBvclxuICAgKiByZWplY3QgaWYgcGF5bWVudCBmYWlsZWRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHshUGF5bWVudERhdGF9IHRlelBheW1lbnREYXRhIFRoZSBwYXltZW50IGRhdGEgb2JqZWN0IGZyb20gVGV6LlxuICAgKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdCBUaGUgcGF5bWVudCBkYXRhIHJlcXVlc3QuXG4gICAqIEBwYXJhbSB7IU9iamVjdH0gdXBpUGF5bWVudE1ldGhvZCBVUEkgcGF5bWVudG1ldGhvZCBpblxuICAgKiBhbGxvd2VkUGF5bWVudE1ldGhvZHMgYXJyYXlcbiAgICogQHJldHVybnMgeyFQcm9taXNlPFBheW1lbnREYXRhPn0gQSBwcm9taXNlIGNvbnRhaW5pbmcgcGF5bWVudCBkYXRhIG9yXG4gICAqICAgICBlcnJvciBtZXNzYWdlLlxuICAgKi9cbiAgcHJvY2Vzc0RhdGFfKHRlelBheW1lbnREYXRhLCBwYXltZW50RGF0YVJlcXVlc3QsIHVwaVBheW1lbnRNZXRob2QpIHtcbiAgICBjb25zdCB0ZXpSZXNwb25zZSA9IEpTT04ucGFyc2UodGV6UGF5bWVudERhdGFbJ3RlelJlc3BvbnNlJ10pO1xuICAgIGlmICh0ZXpSZXNwb25zZVsnU3RhdHVzJ10gPT09ICdGQUlMVVJFJykge1xuICAgICAgbGV0IGVycm9yO1xuICAgICAgc3dpdGNoICh0ZXpSZXNwb25zZVsncmVzcG9uc2VDb2RlJ10pIHtcbiAgICAgICAgY2FzZSAnWk0nOlxuICAgICAgICAgIC8vIHBheW1lbnQgZmFpbHVyZSBkdWUgdG8gaW52YWxpZCBNUElOXG4gICAgICAgICAgZXJyb3IgPSB7XG4gICAgICAgICAgICAnZXJyb3JDb2RlJzogUHVibGljRXJyb3JDb2RlLkJVWUVSX0FDQ09VTlRfRVJST1IsXG4gICAgICAgICAgICAnZXJyb3JNZXNzYWdlJzogJ1BheW1lbnQgZmFpbHVyZSBkdWUgdG8gaW52YWxpZCBNUElOLidcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdaOSc6XG4gICAgICAgICAgLy8gcGF5bWVudCBmYWlsdXJlIGR1ZSB0byBpbnN1ZmZpY2llbnQgZnVuZHNcbiAgICAgICAgICBlcnJvciA9IHtcbiAgICAgICAgICAgICdlcnJvckNvZGUnOiBQdWJsaWNFcnJvckNvZGUuQlVZRVJfQUNDT1VOVF9FUlJPUixcbiAgICAgICAgICAgICdlcnJvck1lc3NhZ2UnOiAnUGF5bWVudCBmYWlsdXJlIGR1ZSB0byBpbnN1ZmZpY2llbnQgZnVuZHMuJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJzkxJzpcbiAgICAgICAgICAvLyBwYXltZW50IGZhaWx1cmUgZHVlIHRvIHRyYW5zYWN0aW9uIHRpbWVvdXQgb3IgY29ubmVjdGlvbiBpc3N1ZVxuICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgJ2Vycm9yQ29kZSc6IFB1YmxpY0Vycm9yQ29kZS5JTlRFUk5BTF9FUlJPUixcbiAgICAgICAgICAgICdlcnJvck1lc3NhZ2UnOlxuICAgICAgICAgICAgICAgICdQYXltZW50IGZhaWx1cmUgZHVlIHRvIHRyYW5zYWN0aW9uIHRpbWVvdXQgb3IgY29ubmVjdGlvbicgK1xuICAgICAgICAgICAgICAgICcgaXNzdWUuJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gcGF5bWVudCBmYWlsdXJlIGR1ZSB0byB1c2VyIGNhbmNlbCBvciBvdGhlciBpc3N1ZXNcbiAgICAgICAgICBlcnJvciA9IHsnZXJyb3JNZXNzYWdlJzogJ1BheW1lbnQgY2FuY2VsbGVkLid9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBjb25zdCBzaWduZWRNZXNzYWdlID0ge1xuICAgICAgJ3BheW1lbnRNZXRob2RUeXBlJzogJ1VQSScsXG4gICAgICAncGF5ZWVWcGEnOiB1cGlQYXltZW50TWV0aG9kWydwYXJhbWV0ZXJzJ11bJ3BheWVlVnBhJ10sXG4gICAgICAnc3RhdHVzJzogdGV6UmVzcG9uc2VbJ1N0YXR1cyddLFxuICAgICAgJ3RyYW5zYWN0aW9uUmVmZXJlbmNlSWQnOlxuICAgICAgICAgIHVwaVBheW1lbnRNZXRob2RbJ3BhcmFtZXRlcnMnXVsndHJhbnNhY3Rpb25SZWZlcmVuY2VJZCddLFxuICAgICAgJ3RyYW5zYWN0aW9uSWQnOiB1cGlQYXltZW50TWV0aG9kWydwYXJhbWV0ZXJzJ11bJ3RyYW5zYWN0aW9uSWQnXSA/XG4gICAgICAgICAgdXBpUGF5bWVudE1ldGhvZFsncGFyYW1ldGVycyddWyd0cmFuc2FjdGlvbklkJ10gOlxuICAgICAgICAgIHRlelJlc3BvbnNlWyd0eG5JZCddLFxuICAgICAgJ3RyYW5zYWN0aW9uSW5mbyc6IHBheW1lbnREYXRhUmVxdWVzdFsndHJhbnNhY3Rpb25JbmZvJ10sXG4gICAgfTtcblxuICAgIGxldCBwYXltZW50RGF0YSA9IHtcbiAgICAgICdhcGlWZXJzaW9uJzogcGF5bWVudERhdGFSZXF1ZXN0WydhcGlWZXJzaW9uJ10sXG4gICAgICAnYXBpVmVyc2lvbk1pbm9yJzogcGF5bWVudERhdGFSZXF1ZXN0WydhcGlWZXJzaW9uTWlub3InXSxcbiAgICAgICdwYXltZW50TWV0aG9kRGF0YSc6IHtcbiAgICAgICAgJ3R5cGUnOiB1cGlQYXltZW50TWV0aG9kWyd0eXBlJ10sXG4gICAgICAgICd0b2tlbml6YXRpb25EYXRhJzoge1xuICAgICAgICAgICd0eXBlJzogJ0RJUkVDVCcsXG4gICAgICAgICAgJ3Rva2VuJzoge1xuICAgICAgICAgICAgJ3Byb3RvY29sVmVyc2lvbic6ICdFQ3YxJyxcbiAgICAgICAgICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IHJlc3BvbnNlIGNvbWVzIGZyb20gdGV6IGFuZFxuICAgICAgICAgICAgLy8gYWRkIHNpZ25hdHVyZSBhbmQgZW5jcnlwdCBzaWduZWQgbWVzc2FnZSBoZXJlXG4gICAgICAgICAgICAnc2lnbmF0dXJlJzogJycsXG4gICAgICAgICAgICAnc2lnbmVkTWVzc2FnZSc6IHNpZ25lZE1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGF5bWVudERhdGEpO1xuICB9XG59XG5cbmV4cG9ydCB7VXBpSGFuZGxlcn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMtSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHV1aWQgZnJvbSAnLi4vdGhpcmRfcGFydHkvcmFuZG9tX3V1aWQvUmFuZG9tLnV1aWQuanMnO1xuXG4vKipcbiAqIFJldHVybnMgYSBnb29nbGUgdHJhbnNhY3Rpb24gaWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGVudmlyb25tZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUdvb2dsZVRyYW5zYWN0aW9uSWQoZW52aXJvbm1lbnQpIHtcbiAgcmV0dXJuIHV1aWQudXVpZEZhc3QoKSArICcuJyArIGVudmlyb25tZW50O1xufVxuXG5leHBvcnQge2NyZWF0ZUdvb2dsZVRyYW5zYWN0aW9uSWR9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTLUlTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHZlcnNpb24gb2YgQ2hyb21lIHN1cHBvcnRzIFBheW1lbnRIYW5kbGVyLlxuICovXG5mdW5jdGlvbiBjaHJvbWVTdXBwb3J0c1BheW1lbnRIYW5kbGVyKCkge1xuICAvLyBDaGVjayBpZiBmZWF0dXJlIGlzIGVuYWJsZWQgZm9yIHVzZXJcbiAgaWYgKHR5cGVvZiBnb29nbGUgPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICFudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gUGF5bWVudCBoYW5kbGVyIGlzbid0IHN1cHBvcnRlZCBvbiBtb2JpbGVcbiAgY29uc3QgbW9iaWxlUGxhdGZvcm0gPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcbiAgICAgIC9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZS9pKTtcbiAgaWYgKG1vYmlsZVBsYXRmb3JtICE9IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBjaHJvbWVWZXJzaW9uID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhbMC05XSspXFwuL2kpO1xuICByZXR1cm4gJ1BheW1lbnRSZXF1ZXN0JyBpbiB3aW5kb3cgJiYgY2hyb21lVmVyc2lvbiAhPSBudWxsICYmXG4gICAgICBOdW1iZXIoY2hyb21lVmVyc2lvblsxXSkgPj0gNjggJiZcbiAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudmVuZG9yID09ICdHb29nbGUgSW5jLic7XG59XG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGlzIHZlcnNpb24gb2YgQ2hyb21lIHN1cHBvcnRzIFBheW1lbnRSZXF1ZXN0LlxuICovXG5mdW5jdGlvbiBjaHJvbWVTdXBwb3J0c1BheW1lbnRSZXF1ZXN0KCkge1xuICAvLyBPcGVyYSB1c2VzIGNocm9tZSBhcyByZW5kZXJpbmcgZW5naW5lIGFuZCBzZW5kcyBhbG1vc3QgdGhlIGV4YWN0IHNhbWVcbiAgLy8gdXNlciBhZ2VudCBhcyBjaHJvbWUgdGhlcmVieSBmb29saW5nIHVzIG9uIGFuZHJvaWQuXG4gIGNvbnN0IGlzT3BlcmEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdPUFIvJykgIT0gLTE7XG4gIGlmIChpc09wZXJhKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChjaHJvbWVTdXBwb3J0c1BheW1lbnRIYW5kbGVyKCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGFuZHJvaWRQbGF0Zm9ybSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpO1xuICBjb25zdCBjaHJvbWVWZXJzaW9uID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhbMC05XSspXFwuL2kpO1xuICByZXR1cm4gYW5kcm9pZFBsYXRmb3JtICE9IG51bGwgJiYgJ1BheW1lbnRSZXF1ZXN0JyBpbiB3aW5kb3cgJiZcbiAgICAgIC8vIE1ha2Ugc3VyZSBza2lwcGluZyBQYXltZW50UmVxdWVzdCBVSSB3aGVuIG9ubHkgb25lIFBheW1lbnRNZXRob2QgaXNcbiAgICAgIC8vIHN1cHBvcnRlZCAoc3RhcnRzIG9uIEdvb2dsZSBDaHJvbWUgNTkpLlxuICAgICAgd2luZG93Lm5hdmlnYXRvci52ZW5kb3IgPT0gJ0dvb2dsZSBJbmMuJyAmJiBjaHJvbWVWZXJzaW9uICE9IG51bGwgJiZcbiAgICAgIE51bWJlcihjaHJvbWVWZXJzaW9uWzFdKSA+PSA1OTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFJc1JlYWR5VG9QYXlSZXF1ZXN0fSBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgbWVyY2hhbnQgb25seSBzdXBwb3J0cyB0b2tlbml6ZWQgY2FyZHMuXG4gKi9cbmZ1bmN0aW9uIGRvZXNNZXJjaGFudFN1cHBvcnRPbmx5VG9rZW5pemVkQ2FyZHMoaXNSZWFkeVRvUGF5UmVxdWVzdCkge1xuICBpZiAoaXNSZWFkeVRvUGF5UmVxdWVzdC5hcGlWZXJzaW9uID49IDIpIHtcbiAgICBjb25zdCBhbGxvd2VkQXV0aE1ldGhvZHMgPVxuICAgICAgICBleHRyYWN0QWxsb3dlZEF1dGhNZXRob2RzRm9yQ2FyZHNfKGlzUmVhZHlUb1BheVJlcXVlc3QpO1xuICAgIGlmIChhbGxvd2VkQXV0aE1ldGhvZHMgJiYgYWxsb3dlZEF1dGhNZXRob2RzLmxlbmd0aCA9PSAxICYmXG4gICAgICAgIGFsbG93ZWRBdXRoTWV0aG9kc1swXSA9PSBDb25zdGFudHMuQXV0aE1ldGhvZC5DUllQVE9HUkFNXzNEUykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBpc1JlYWR5VG9QYXlSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcy5sZW5ndGggPT0gMSAmJlxuICAgICAgaXNSZWFkeVRvUGF5UmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHNbMF0gPT1cbiAgICAgIENvbnN0YW50cy5QYXltZW50TWV0aG9kLlRPS0VOSVpFRF9DQVJEO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAqIEBwYXJhbSB7Q29uc3RhbnRzLkF1dGhNZXRob2R9IGFwaVYyQXV0aE1ldGhvZFxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIG1lcmNoYW50IHN1cHBvcnRzIHBhbiBjYXJkcy5cbiAqL1xuZnVuY3Rpb24gYXBpVjJEb2VzTWVyY2hhbnRTdXBwb3J0U3BlY2lmaWVkQ2FyZFR5cGUoXG4gICAgaXNSZWFkeVRvUGF5UmVxdWVzdCwgYXBpVjJBdXRoTWV0aG9kKSB7XG4gIGlmIChpc1JlYWR5VG9QYXlSZXF1ZXN0LmFwaVZlcnNpb24gPj0gMikge1xuICAgIGNvbnN0IGFsbG93ZWRBdXRoTWV0aG9kcyA9XG4gICAgICAgIGV4dHJhY3RBbGxvd2VkQXV0aE1ldGhvZHNGb3JDYXJkc18oaXNSZWFkeVRvUGF5UmVxdWVzdCk7XG4gICAgaWYgKGFsbG93ZWRBdXRoTWV0aG9kcyAmJiBhbGxvd2VkQXV0aE1ldGhvZHMuaW5jbHVkZXMoYXBpVjJBdXRoTWV0aG9kKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgaWYgaXMgc2VjdXJlIGNvbnRleHQuIFJldHVybnMgbnVsbCBpZiBjb250ZXh0IGlzIHNlY3VyZSwgb3RoZXJ3aXNlXG4gKiByZXR1cm4gZXJyb3IgbWVzc2FnZS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU2VjdXJpdHkvU2VjdXJlX0NvbnRleHRzXG4gKlxuICogQHJldHVybiB7P3N0cmluZ30gbnVsbCBpZiBjdXJyZW50IGNvbnRleHQgaXMgc2VjdXJlLCBvdGhlcndpc2UgcmV0dXJuIGVycm9yXG4gKiBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVNlY3VyZUNvbnRleHQoKSB7XG4gIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoQ29uc3RhbnRzLlRSVVNURURfRE9NQUlOKSkge1xuICAgIC8vIFRoaXMgaXMgZm9yIGxvY2FsIGRldmVsb3BtZW50LlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICh3aW5kb3cuaXNTZWN1cmVDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBCcm93c2VyIG5vdCBzdXBwb3J0IGlzU2VjdXJlQ29udGV4dCwgZmlndXJlIG91dCBhIHdheSB0byB2YWxpZGF0ZSB0aGlzXG4gICAgLy8gZm9yIHRoZSB1bnN1cHBvcnRlZCBicm93c2VyLlxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB3aW5kb3cuaXNTZWN1cmVDb250ZXh0ID9cbiAgICAgIG51bGwgOlxuICAgICAgJ0dvb2dsZSBQYXkgQVBJcyBzaG91bGQgYmUgY2FsbGVkIGluIHNlY3VyZSBjb250ZXh0ISc7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgUGF5bWVudE9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHshUGF5bWVudE9wdGlvbnN9IHBheW1lbnRPcHRpb25zXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUGF5bWVudE9wdGlvbnMocGF5bWVudE9wdGlvbnMpIHtcbiAgaWYgKHBheW1lbnRPcHRpb25zLmVudmlyb25tZW50ICYmXG4gICAgICAhT2JqZWN0LnZhbHVlcyhDb25zdGFudHMuRW52aXJvbm1lbnQpXG4gICAgICAgICAgIC5pbmNsdWRlcyhwYXltZW50T3B0aW9ucy5lbnZpcm9ubWVudCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdQYXJhbWV0ZXIgZW52aXJvbm1lbnQgaW4gUGF5bWVudE9wdGlvbnMgY2FuIG9wdGlvbmFsbHkgYmUgc2V0IHRvICcgK1xuICAgICAgICAnUFJPRFVDVElPTiwgb3RoZXJ3aXNlIGl0IGRlZmF1bHRzIHRvIFRFU1QuICcgKyBwYXltZW50T3B0aW9ucy5lbnZpcm9ubWVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBJc1JlYWR5VG9QYXlSZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAqIEByZXR1cm4gez9zdHJpbmd9IGVycm9yTWVzc2FnZSBpZiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUlzUmVhZHlUb1BheVJlcXVlc3QoaXNSZWFkeVRvUGF5UmVxdWVzdCkge1xuICBpZiAoIWlzUmVhZHlUb1BheVJlcXVlc3QpIHtcbiAgICByZXR1cm4gJ2lzUmVhZHlUb1BheVJlcXVlc3QgbXVzdCBiZSBzZXQhJztcbiAgfSBlbHNlIGlmIChpc1JlYWR5VG9QYXlSZXF1ZXN0LmFwaVZlcnNpb24gPj0gMikge1xuICAgIGlmICghKCdhcGlWZXJzaW9uTWlub3InIGluIGlzUmVhZHlUb1BheVJlcXVlc3QpKSB7XG4gICAgICByZXR1cm4gJ2FwaVZlcnNpb25NaW5vciBtdXN0IGJlIHNldCEnO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZHlUb1BheVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzIHx8XG4gICAgICAgICFBcnJheS5pc0FycmF5KGlzUmVhZHlUb1BheVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzKSB8fFxuICAgICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuICdmb3IgdjIgYWxsb3dlZFBheW1lbnRNZXRob2RzIG11c3QgYmUgc2V0IHRvIGFuIGFycmF5IGNvbnRhaW5pbmcgYSBsaXN0IG9mIGFjY2VwdGVkIHBheW1lbnQgbWV0aG9kcyc7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXNSZWFkeVRvUGF5UmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhbGxvd2VkUGF5bWVudE1ldGhvZCA9IGlzUmVhZHlUb1BheVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzW2ldO1xuICAgICAgaWYgKGFsbG93ZWRQYXltZW50TWV0aG9kWyd0eXBlJ10gPT0gQ29uc3RhbnRzLlBheW1lbnRNZXRob2QuQ0FSRCkge1xuICAgICAgICBpZiAoIWFsbG93ZWRQYXltZW50TWV0aG9kWydwYXJhbWV0ZXJzJ10pIHtcbiAgICAgICAgICByZXR1cm4gJ0ZpZWxkIHBhcmFtZXRlcnMgbXVzdCBiZSBzZXR1cCBpbiBlYWNoIGFsbG93ZWRQYXltZW50TWV0aG9kJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxsb3dlZENhcmROZXR3b3JrcyA9XG4gICAgICAgICAgICBhbGxvd2VkUGF5bWVudE1ldGhvZFsncGFyYW1ldGVycyddWydhbGxvd2VkQ2FyZE5ldHdvcmtzJ107XG4gICAgICAgIGlmICghYWxsb3dlZENhcmROZXR3b3JrcyB8fCAhQXJyYXkuaXNBcnJheShhbGxvd2VkQ2FyZE5ldHdvcmtzKSB8fFxuICAgICAgICAgICAgYWxsb3dlZENhcmROZXR3b3Jrcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIHJldHVybiAnYWxsb3dlZENhcmROZXR3b3JrcyBtdXN0IGJlIHNldHVwIGluIHBhcmFtZXRlcnMgZm9yIHR5cGUgQ0FSRCc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFsbG93ZWRBdXRoTWV0aG9kcyA9XG4gICAgICAgICAgICBhbGxvd2VkUGF5bWVudE1ldGhvZFsncGFyYW1ldGVycyddWydhbGxvd2VkQXV0aE1ldGhvZHMnXTtcbiAgICAgICAgaWYgKCFhbGxvd2VkQXV0aE1ldGhvZHMgfHwgIUFycmF5LmlzQXJyYXkoYWxsb3dlZEF1dGhNZXRob2RzKSB8fFxuICAgICAgICAgICAgYWxsb3dlZEF1dGhNZXRob2RzLmxlbmd0aCA9PSAwIHx8XG4gICAgICAgICAgICAhYWxsb3dlZEF1dGhNZXRob2RzLmV2ZXJ5KGlzQXV0aE1ldGhvZFZhbGlkKSkge1xuICAgICAgICAgIHJldHVybiAnYWxsb3dlZEF1dGhNZXRob2RzIG11c3QgYmUgc2V0dXAgaW4gcGFyYW1ldGVycyBmb3IgdHlwZSBcXCdDQVJEXFwnICcgK1xuICAgICAgICAgICAgICAnIGFuZCBtdXN0IGNvbnRhaW4gXFwnQ1JZUFRPR1JBTV8zRFNcXCcgYW5kL29yIFxcJ1BBTl9PTkxZXFwnJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChcbiAgICAgICFpc1JlYWR5VG9QYXlSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcyB8fFxuICAgICAgIUFycmF5LmlzQXJyYXkoaXNSZWFkeVRvUGF5UmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHMpIHx8XG4gICAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcy5sZW5ndGggPT0gMCB8fFxuICAgICAgIWlzUmVhZHlUb1BheVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzLmV2ZXJ5KGlzUGF5bWVudE1ldGhvZFZhbGlkKSkge1xuICAgIHJldHVybiAnYWxsb3dlZFBheW1lbnRNZXRob2RzIG11c3QgYmUgc2V0IHRvIGFuIGFycmF5IGNvbnRhaW5pbmcgXFwnQ0FSRFxcJyAnICtcbiAgICAgICAgJ2FuZC9vciBcXCdUT0tFTklaRURfQ0FSRFxcJyEnO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSBwYXltZW50IG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF5bWVudE1ldGhvZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgdGhlIGN1cnJlbnQgcGF5bWVudCBtZXRob2QgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGlzUGF5bWVudE1ldGhvZFZhbGlkKHBheW1lbnRNZXRob2QpIHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoQ29uc3RhbnRzLlBheW1lbnRNZXRob2QpLmluY2x1ZGVzKHBheW1lbnRNZXRob2QpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIHRoZSBhdXRoIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXV0aE1ldGhvZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgdGhlIGN1cnJlbnQgYXV0aCBtZXRob2QgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGlzQXV0aE1ldGhvZFZhbGlkKGF1dGhNZXRob2QpIHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoQ29uc3RhbnRzLkF1dGhNZXRob2QpLmluY2x1ZGVzKGF1dGhNZXRob2QpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIFBheW1lbnREYXRhUmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0geyFQYXltZW50RGF0YVJlcXVlc3R9IHBheW1lbnREYXRhUmVxdWVzdFxuICogQHJldHVybiB7P3N0cmluZ30gZXJyb3JNZXNzYWdlIGlmIHRoZSByZXF1ZXN0IGlzIGludmFsaWQuXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUGF5bWVudERhdGFSZXF1ZXN0KHBheW1lbnREYXRhUmVxdWVzdCkge1xuICBpZiAoIXBheW1lbnREYXRhUmVxdWVzdCkge1xuICAgIHJldHVybiAncGF5bWVudERhdGFSZXF1ZXN0IG11c3QgYmUgc2V0ISc7XG4gIH1cbiAgaWYgKHBheW1lbnREYXRhUmVxdWVzdC5zd2cpIHtcbiAgICByZXR1cm4gdmFsaWRhdGVQYXltZW50RGF0YVJlcXVlc3RGb3JTd2cocGF5bWVudERhdGFSZXF1ZXN0LnN3Zyk7XG4gIH0gZWxzZSBpZiAoIXBheW1lbnREYXRhUmVxdWVzdC50cmFuc2FjdGlvbkluZm8pIHtcbiAgICByZXR1cm4gJ3RyYW5zYWN0aW9uSW5mbyBtdXN0IGJlIHNldCEnO1xuICB9IGVsc2UgaWYgKCFwYXltZW50RGF0YVJlcXVlc3QudHJhbnNhY3Rpb25JbmZvLmN1cnJlbmN5Q29kZSkge1xuICAgIHJldHVybiAnY3VycmVuY3lDb2RlIGluIHRyYW5zYWN0aW9uSW5mbyBtdXN0IGJlIHNldCEnO1xuICB9IGVsc2UgaWYgKFxuICAgICAgIXBheW1lbnREYXRhUmVxdWVzdC50cmFuc2FjdGlvbkluZm8udG90YWxQcmljZVN0YXR1cyB8fFxuICAgICAgIU9iamVjdC52YWx1ZXMoQ29uc3RhbnRzLlRvdGFsUHJpY2VTdGF0dXMpXG4gICAgICAgICAgIC5pbmNsdWRlcyhwYXltZW50RGF0YVJlcXVlc3QudHJhbnNhY3Rpb25JbmZvLnRvdGFsUHJpY2VTdGF0dXMpKSB7XG4gICAgcmV0dXJuICd0b3RhbFByaWNlU3RhdHVzIGluIHRyYW5zYWN0aW9uSW5mbyBtdXN0IGJlIHNldCB0byBvbmUgb2YnICtcbiAgICAgICAgJyBOT1RfQ1VSUkVOVExZX0tOT1dOLCBFU1RJTUFURUQgb3IgRklOQUwhJztcbiAgfSBlbHNlIGlmIChcbiAgICAgIHBheW1lbnREYXRhUmVxdWVzdC50cmFuc2FjdGlvbkluZm8udG90YWxQcmljZVN0YXR1cyAhPT1cbiAgICAgICAgICAnTk9UX0NVUlJFTlRMWV9LTk9XTicgJiZcbiAgICAgICFwYXltZW50RGF0YVJlcXVlc3QudHJhbnNhY3Rpb25JbmZvLnRvdGFsUHJpY2UpIHtcbiAgICByZXR1cm4gJ3RvdGFsUHJpY2UgaW4gdHJhbnNhY3Rpb25JbmZvIG11c3QgYmUgc2V0IHdoZW4nICtcbiAgICAgICAgJyB0b3RhbFByaWNlU3RhdHVzIGlzIEVTVElNQVRFRCBvciBGSU5BTCEnO1xuICB9XG5cbiAgLy8gVmFsaWRhdGUgcGF5bWVudCBkYXRhIHJlcXVlc3QgZm9yIFVQSSBwYXltZW50IG1ldGhvZFxuICBjb25zdCBhbGxvd2VkUGF5bWVudE1ldGhvZCA9IGdldFVwaVBheW1lbnRNZXRob2QocGF5bWVudERhdGFSZXF1ZXN0KTtcbiAgaWYgKGFsbG93ZWRQYXltZW50TWV0aG9kKSB7XG4gICAgaWYgKCFhbGxvd2VkUGF5bWVudE1ldGhvZFsncGFyYW1ldGVycyddKSB7XG4gICAgICByZXR1cm4gJ3BhcmFtZXRlcnMgbXVzdCBiZSBzZXQgaW4gYWxsb3dlZFBheW1lbnRNZXRob2QhJztcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1ldGVycyA9IGFsbG93ZWRQYXltZW50TWV0aG9kWydwYXJhbWV0ZXJzJ107XG4gICAgaWYgKCFwYXJhbWV0ZXJzWydwYXllZVZwYSddKSB7XG4gICAgICByZXR1cm4gJ3BheWVlVnBhIGluIGFsbG93ZWRQYXltZW50TWV0aG9kIHBhcmFtZXRlcnMgbXVzdCBiZSBzZXQhJztcbiAgICB9IGVsc2UgaWYgKCFwYXJhbWV0ZXJzWydwYXllZU5hbWUnXSkge1xuICAgICAgcmV0dXJuICdwYXllZU5hbWUgaW4gYWxsb3dlZFBheW1lbnRNZXRob2QgcGFyYW1ldGVycyBtdXN0IGJlIHNldCEnO1xuICAgIH0gZWxzZSBpZiAoIXBhcmFtZXRlcnNbJ3JlZmVyZW5jZVVybCddKSB7XG4gICAgICByZXR1cm4gJ3JlZmVyZW5jZVVybCBpbiBhbGxvd2VkUGF5bWVudE1ldGhvZCBwYXJhbWV0ZXJzIG11c3QgYmUgc2V0ISc7XG4gICAgfSBlbHNlIGlmICghcGFyYW1ldGVyc1snbWNjJ10pIHtcbiAgICAgIHJldHVybiAnbWNjIGluIGFsbG93ZWRQYXltZW50TWV0aG9kIHBhcmFtZXRlcnMgbXVzdCBiZSBzZXQhJztcbiAgICB9IGVsc2UgaWYgKCFwYXJhbWV0ZXJzWyd0cmFuc2FjdGlvblJlZmVyZW5jZUlkJ10pIHtcbiAgICAgIHJldHVybiAndHJhbnNhY3Rpb25SZWZlcmVuY2VJZCBpbiBhbGxvd2VkUGF5bWVudE1ldGhvZCBwYXJhbWV0ZXJzJyArXG4gICAgICAgICAgJyBtdXN0IGJlIHNldCEnO1xuICAgIH1cblxuICAgIGlmIChwYXltZW50RGF0YVJlcXVlc3RbJ3RyYW5zYWN0aW9uSW5mbyddWydjdXJyZW5jeUNvZGUnXSAhPT0gJ0lOUicpIHtcbiAgICAgIHJldHVybiAnY3VycmVuY3lDb2RlIGluIHRyYW5zYWN0aW9uSW5mbyBtdXN0IGJlIHNldCB0byBJTlIhJztcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgICBwYXltZW50RGF0YVJlcXVlc3RbJ3RyYW5zYWN0aW9uSW5mbyddWyd0b3RhbFByaWNlU3RhdHVzJ10gIT09ICdGSU5BTCcpIHtcbiAgICAgIHJldHVybiAndG90YWxQcmljZVN0YXR1cyBpbiB0cmFuc2FjdGlvbkluZm8gbXVzdCBiZSBzZXQgdG8gRklOQUwhJztcbiAgICB9IGVsc2UgaWYgKCFwYXltZW50RGF0YVJlcXVlc3RbJ3RyYW5zYWN0aW9uSW5mbyddWyd0cmFuc2FjdGlvbk5vdGUnXSkge1xuICAgICAgcmV0dXJuICd0cmFuc2FjdGlvbk5vdGUgaW4gdHJhbnNhY3Rpb25JbmZvIG11c3QgYmUgc2V0ISc7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgdXBpIHBheW1lbnQgbWV0aG9kIG9iamVjdCBpZiBpdCBleGlzdHMgaW4gYWxsb3dlZCBwYXltZW50IG1ldGhvZHNcbiAqIG9yIG51bGwgaWYgaXQgZG9lc24ndFxuICpcbiAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R8IVBheW1lbnREYXRhUmVxdWVzdH0gcmVxdWVzdFxuICogQHJldHVybiB7P09iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0VXBpUGF5bWVudE1ldGhvZChyZXF1ZXN0KSB7XG4gIGlmICghY2hyb21lU3VwcG9ydHNQYXltZW50UmVxdWVzdCgpIHx8IHJlcXVlc3QuYXBpVmVyc2lvbiA8IDIgfHxcbiAgICAgICFyZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBnZXRBbGxvd2VkUGF5bWVudE1ldGhvZEZvclR5cGVfKHJlcXVlc3QsIENvbnN0YW50cy5QYXltZW50TWV0aG9kLlVQSSk7XG59XG5cbi8qKlxuICogVmFsaWRhdGUgcGFyYW1ldGVycyBmb3Igc3dnLlxuICpcbiAqIEBwYXJhbSB7P1N3Z1BhcmFtZXRlcnN9IHN3Z1BhcmFtZXRlcnNcbiAqIEByZXR1cm4gez9zdHJpbmd9IGVycm9yTWVzc2FnZSBpZiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVBheW1lbnREYXRhUmVxdWVzdEZvclN3Zyhzd2dQYXJhbWV0ZXJzKSB7XG4gIGlmICghc3dnUGFyYW1ldGVycykge1xuICAgIHJldHVybiAnU3dnIHBhcmFtZXRlcnMgbXVzdCBiZSBwcm92aWRlZCc7XG4gIH1cbiAgaWYgKCFzd2dQYXJhbWV0ZXJzLnNrdUlkIHx8ICFzd2dQYXJhbWV0ZXJzLnB1YmxpY2F0aW9uSWQpIHtcbiAgICByZXR1cm4gJ0JvdGggc2t1SWQgYW5kIHB1YmxpY2F0aW9uSWQgbXVzdCBiZSBwcm92aWRlZCc7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWxsb3dlZEF1dGhNZXRob2RzIGZvciBhIGNhcmQgZnJvbSB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0geyFJc1JlYWR5VG9QYXlSZXF1ZXN0fSBpc1JlYWR5VG9QYXlSZXF1ZXN0XG4gKiBAcmV0dXJuIHs/QXJyYXk8c3RyaW5nPn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RBbGxvd2VkQXV0aE1ldGhvZHNGb3JDYXJkc18oaXNSZWFkeVRvUGF5UmVxdWVzdCkge1xuICBpZiAoaXNSZWFkeVRvUGF5UmVxdWVzdC5hbGxvd2VkUGF5bWVudE1ldGhvZHMpIHtcbiAgICBjb25zdCBhbGxvd2VkUGF5bWVudE1ldGhvZCA9IGdldEFsbG93ZWRQYXltZW50TWV0aG9kRm9yVHlwZV8oXG4gICAgICAgIGlzUmVhZHlUb1BheVJlcXVlc3QsIENvbnN0YW50cy5QYXltZW50TWV0aG9kLkNBUkQpO1xuICAgIGlmIChhbGxvd2VkUGF5bWVudE1ldGhvZCAmJiBhbGxvd2VkUGF5bWVudE1ldGhvZC5wYXJhbWV0ZXJzKSB7XG4gICAgICByZXR1cm4gYWxsb3dlZFBheW1lbnRNZXRob2QucGFyYW1ldGVyc1snYWxsb3dlZEF1dGhNZXRob2RzJ107XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUlzUmVhZHlUb1BheVJlcXVlc3R9IGlzUmVhZHlUb1BheVJlcXVlc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXltZW50TWV0aG9kVHlwZVxuICogQHJldHVybiB7P1BheW1lbnRNZXRob2R9IFJldHVybiBmaXJzdCBwYXltZW50IG1ldGhvZCBmb3IgdGhlIGdpdmVuIHR5cGUsXG4gKiAgICAgcmV0dXJuIG51bGwgaWYgbm90IGZvdW5kLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0QWxsb3dlZFBheW1lbnRNZXRob2RGb3JUeXBlXyhcbiAgICBpc1JlYWR5VG9QYXlSZXF1ZXN0LCBwYXltZW50TWV0aG9kVHlwZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGlzUmVhZHlUb1BheVJlcXVlc3QuYWxsb3dlZFBheW1lbnRNZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYWxsb3dlZFBheW1lbnRNZXRob2QgPSBpc1JlYWR5VG9QYXlSZXF1ZXN0LmFsbG93ZWRQYXltZW50TWV0aG9kc1tpXTtcbiAgICBpZiAoYWxsb3dlZFBheW1lbnRNZXRob2QudHlwZSA9PSBwYXltZW50TWV0aG9kVHlwZSkge1xuICAgICAgcmV0dXJuIGFsbG93ZWRQYXltZW50TWV0aG9kO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IHtcbiAgYXBpVjJEb2VzTWVyY2hhbnRTdXBwb3J0U3BlY2lmaWVkQ2FyZFR5cGUsXG4gIGNocm9tZVN1cHBvcnRzUGF5bWVudEhhbmRsZXIsXG4gIGNocm9tZVN1cHBvcnRzUGF5bWVudFJlcXVlc3QsXG4gIGRvZXNNZXJjaGFudFN1cHBvcnRPbmx5VG9rZW5pemVkQ2FyZHMsXG4gIGdldFVwaVBheW1lbnRNZXRob2QsXG4gIGlzUGF5bWVudE1ldGhvZFZhbGlkLFxuICB2YWxpZGF0ZUlzUmVhZHlUb1BheVJlcXVlc3QsXG4gIHZhbGlkYXRlUGF5bWVudE9wdGlvbnMsXG4gIHZhbGlkYXRlUGF5bWVudERhdGFSZXF1ZXN0LFxuICB2YWxpZGF0ZVNlY3VyZUNvbnRleHRcbn07XG4iLCIvKiogQGxpY2Vuc2Vcbk1hdGgudXVpZC5qcyAodjEuNClcbmh0dHA6Ly93d3cuYnJvb2ZhLmNvbVxubWFpbHRvOnJvYmVydEBicm9vZmEuY29tXG5Db3B5cmlnaHQgKGMpIDIwMTAgUm9iZXJ0IEtpZWZmZXJcbkR1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxuKi9cblxuLypcbiAqIEdlbmVyYXRlIGEgcmFuZG9tIHV1aWQuXG4gKlxuICogVVNBR0U6IE1hdGgudXVpZChsZW5ndGgsIHJhZGl4KVxuICogICBsZW5ndGggLSB0aGUgZGVzaXJlZCBudW1iZXIgb2YgY2hhcmFjdGVyc1xuICogICByYWRpeCAgLSB0aGUgbnVtYmVyIG9mIGFsbG93YWJsZSB2YWx1ZXMgZm9yIGVhY2ggY2hhcmFjdGVyLlxuICpcbiAqIEVYQU1QTEVTOlxuICogICAvLyBObyBhcmd1bWVudHMgIC0gcmV0dXJucyBSRkM0MTIyLCB2ZXJzaW9uIDQgSURcbiAqICAgPj4+IE1hdGgudXVpZCgpXG4gKiAgIFwiOTIzMjlEMzktNkY1Qy00NTIwLUFCRkMtQUFCNjQ1NDRFMTcyXCJcbiAqXG4gKiAgIC8vIE9uZSBhcmd1bWVudCAtIHJldHVybnMgSUQgb2YgdGhlIHNwZWNpZmllZCBsZW5ndGhcbiAqICAgPj4+IE1hdGgudXVpZCgxNSkgICAgIC8vIDE1IGNoYXJhY3RlciBJRCAoZGVmYXVsdCBiYXNlPTYyKVxuICogICBcIlZjeWR4Z2x0eHJWWlNUVlwiXG4gKlxuICogICAvLyBUd28gYXJndW1lbnRzIC0gcmV0dXJucyBJRCBvZiB0aGUgc3BlY2lmaWVkIGxlbmd0aCwgYW5kIHJhZGl4LiAoUmFkaXggbXVzdCBiZSA8PSA2MilcbiAqICAgPj4+IE1hdGgudXVpZCg4LCAyKSAgLy8gOCBjaGFyYWN0ZXIgSUQgKGJhc2U9MilcbiAqICAgXCIwMTAwMTAxMFwiXG4gKiAgID4+PiBNYXRoLnV1aWQoOCwgMTApIC8vIDggY2hhcmFjdGVyIElEIChiYXNlPTEwKVxuICogICBcIjQ3NDczMDQ2XCJcbiAqICAgPj4+IE1hdGgudXVpZCg4LCAxNikgLy8gOCBjaGFyYWN0ZXIgSUQgKGJhc2U9MTYpXG4gKiAgIFwiMDk4RjREMzVcIlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbmRvbV91dWlkIHt9O1xuICAvLyBQcml2YXRlIGFycmF5IG9mIGNoYXJzIHRvIHVzZVxuICB2YXIgQ0hBUlMgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLnNwbGl0KCcnKTtcblxuICBSYW5kb21fdXVpZC51dWlkID0gZnVuY3Rpb24gKGxlbiwgcmFkaXgpIHtcbiAgICB2YXIgY2hhcnMgPSBDSEFSUywgdXVpZCA9IFtdLCBpO1xuICAgIHJhZGl4ID0gcmFkaXggfHwgY2hhcnMubGVuZ3RoO1xuXG4gICAgaWYgKGxlbikge1xuICAgICAgLy8gQ29tcGFjdCBmb3JtXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHV1aWRbaV0gPSBjaGFyc1swIHwgTWF0aC5yYW5kb20oKSpyYWRpeF07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHJmYzQxMjIsIHZlcnNpb24gNCBmb3JtXG4gICAgICB2YXIgcjtcblxuICAgICAgLy8gcmZjNDEyMiByZXF1aXJlcyB0aGVzZSBjaGFyYWN0ZXJzXG4gICAgICB1dWlkWzhdID0gdXVpZFsxM10gPSB1dWlkWzE4XSA9IHV1aWRbMjNdID0gJy0nO1xuICAgICAgdXVpZFsxNF0gPSAnNCc7XG5cbiAgICAgIC8vIEZpbGwgaW4gcmFuZG9tIGRhdGEuICBBdCBpPT0xOSBzZXQgdGhlIGhpZ2ggYml0cyBvZiBjbG9jayBzZXF1ZW5jZSBhc1xuICAgICAgLy8gcGVyIHJmYzQxMjIsIHNlYy4gNC4xLjVcbiAgICAgIGZvciAoaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgICAgIGlmICghdXVpZFtpXSkge1xuICAgICAgICAgIHIgPSAwIHwgTWF0aC5yYW5kb20oKSoxNjtcbiAgICAgICAgICB1dWlkW2ldID0gY2hhcnNbKGkgPT0gMTkpID8gKHIgJiAweDMpIHwgMHg4IDogcl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXVpZC5qb2luKCcnKTtcbiAgfTtcblxuICAvLyBBIG1vcmUgcGVyZm9ybWFudCwgYnV0IHNsaWdodGx5IGJ1bGtpZXIsIFJGQzQxMjJ2NCBzb2x1dGlvbi4gIFdlIGJvb3N0IHBlcmZvcm1hbmNlXG4gIC8vIGJ5IG1pbmltaXppbmcgY2FsbHMgdG8gcmFuZG9tKClcbiAgUmFuZG9tX3V1aWQudXVpZEZhc3QgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2hhcnMgPSBDSEFSUywgdXVpZCA9IG5ldyBBcnJheSgzNiksIHJuZD0wLCByO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgaWYgKGk9PTggfHwgaT09MTMgfHwgIGk9PTE4IHx8IGk9PTIzKSB7XG4gICAgICAgIHV1aWRbaV0gPSAnLSc7XG4gICAgICB9IGVsc2UgaWYgKGk9PTE0KSB7XG4gICAgICAgIHV1aWRbaV0gPSAnNCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocm5kIDw9IDB4MDIpIHJuZCA9IDB4MjAwMDAwMCArIChNYXRoLnJhbmRvbSgpKjB4MTAwMDAwMCl8MDtcbiAgICAgICAgciA9IHJuZCAmIDB4ZjtcbiAgICAgICAgcm5kID0gcm5kID4+IDQ7XG4gICAgICAgIHV1aWRbaV0gPSBjaGFyc1soaSA9PSAxOSkgPyAociAmIDB4MykgfCAweDggOiByXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHV1aWQuam9pbignJyk7XG4gIH07XG5cbiAgLy8gQSBtb3JlIGNvbXBhY3QsIGJ1dCBsZXNzIHBlcmZvcm1hbnQsIFJGQzQxMjJ2NCBzb2x1dGlvbjpcbiAgUmFuZG9tX3V1aWQudXVpZENvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbihjKSB7XG4gICAgICB2YXIgciA9IE1hdGgucmFuZG9tKCkqMTZ8MCwgdiA9IGMgPT0gJ3gnID8gciA6IChyJjB4M3wweDgpO1xuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICB9O1xuIl19"}